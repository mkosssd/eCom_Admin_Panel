(self.webpackChunkeCom=self.webpackChunkeCom||[]).push([[179],{6304:(pn,st,W)=>{"use strict";W.d(st,{Dh:()=>Pe,GT:()=>Ce,cc:()=>Xe,hO:()=>Tt,on:()=>Y,pX:()=>K,xv:()=>Me});var u=W(5879),ie=W(120),z=W(2793);pn=W.hmd(pn);const Te=["ngOnDestroy"],K=(Ye,rn,on,Ne={})=>new Proxy(Ye,{get:(yt,He)=>on.runOutsideAngular(()=>{var it;if(Ye[He])return!(null===(it=Ne?.spy)||void 0===it)&&it.get&&Ne.spy.get(He,Ye[He]),Ye[He];if(Te.indexOf(He)>-1)return()=>{};const At=rn.toPromise().then(de=>{const ht=de&&de[He];return"function"==typeof ht?ht.bind(de):ht&&ht.then?ht.then(Ht=>on.run(()=>Ht)):on.run(()=>ht)});return new Proxy(()=>{},{get:(de,ht)=>At[ht],apply:(de,ht,Ht)=>At.then(hn=>{var sr;const er=hn&&hn(...Ht);return!(null===(sr=Ne?.spy)||void 0===sr)&&sr.apply&&Ne.spy.apply(He,Ht,er),er})})})}),Ce=(Ye,rn)=>{rn.forEach(on=>{Object.getOwnPropertyNames(on.prototype||on).forEach(Ne=>{Object.defineProperty(Ye.prototype,Ne,Object.getOwnPropertyDescriptor(on.prototype||on,Ne))})})};class Ae{constructor(rn){return rn}}const Pe=new u.OlP("angularfire2.app.options"),Me=new u.OlP("angularfire2.app.name");function Y(Ye,rn,on){const yt="object"==typeof on&&on||{};yt.name=yt.name||"string"==typeof on&&on||"[DEFAULT]";const it=ie.Z.apps.filter(At=>At&&At.name===yt.name)[0]||rn.runOutsideAngular(()=>ie.Z.initializeApp(Ye,yt));try{JSON.stringify(Ye)!==JSON.stringify(it.options)&&re("error",`${it.name} Firebase App already initialized with different options${pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ae(it)}const re=(Ye,...rn)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ye](...rn)},Ee={provide:Ae,useFactory:Y,deps:[Pe,u.R0b,[new u.FiY,Me]]};let Tt=(()=>{class Ye{constructor(on){ie.Z.registerVersion("angularfire",z.q4.full,"core"),ie.Z.registerVersion("angularfire",z.q4.full,"app-compat"),ie.Z.registerVersion("angular",u.q4F.full,on.toString())}static initializeApp(on,Ne){return{ngModule:Ye,providers:[{provide:Pe,useValue:on},{provide:Me,useValue:Ne}]}}}return Ye.\u0275fac=function(on){return new(on||Ye)(u.LFG(u.Lbi))},Ye.\u0275mod=u.oAB({type:Ye}),Ye.\u0275inj=u.cJS({providers:[Ee]}),Ye})();function Xe(Ye,rn,on,Ne,yt){const[,He,it]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===Ye)||[];if(He)return function bt(Ye,rn){try{return Ye.toString()===rn.toString()}catch{return Ye===rn}}(yt,it)||(qt("error",`${rn} was already initialized on the ${on} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),qt("warn",{is:yt,was:it})),He;{const At=Ne();return globalThis.\u0275AngularfireInstanceCache.push([Ye,At,yt]),At}}const _t=!!pn.hot,qt=(Ye,...rn)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ye](...rn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(pn,st,W)=>{"use strict";W.d(st,{q4:()=>Ti,iC:()=>qd,fc:()=>cp,HU:()=>po,vb:()=>Yh,JM:()=>od,u3:()=>gs});var u=W(5879),ie=W(4097),z=W(5861),Te=W(4303),K=W(9058),Ce=W(4537),Ae=W(7879);const Pe=(C,k)=>k.some(V=>C instanceof V);let Me,Y;const Tt=new WeakMap,Xe=new WeakMap,bt=new WeakMap,_t=new WeakMap,qt=new WeakMap;let on={get(C,k,V){if(C instanceof IDBTransaction){if("done"===k)return Xe.get(C);if("objectStoreNames"===k)return C.objectStoreNames||bt.get(C);if("store"===k)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return it(C[k])},set:(C,k,V)=>(C[k]=V,!0),has:(C,k)=>C instanceof IDBTransaction&&("done"===k||"store"===k)||k in C};function He(C){return"function"==typeof C?function yt(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...k){return C.apply(At(this),k),it(Tt.get(this))}:function(...k){return it(C.apply(At(this),k))}:function(k,...V){const se=C.call(At(this),k,...V);return bt.set(se,k.sort?k.sort():[k]),it(se)}}(C):(C instanceof IDBTransaction&&function rn(C){if(Xe.has(C))return;const k=new Promise((V,se)=>{const Se=()=>{C.removeEventListener("complete",Be),C.removeEventListener("error",wt),C.removeEventListener("abort",wt)},Be=()=>{V(),Se()},wt=()=>{se(C.error||new DOMException("AbortError","AbortError")),Se()};C.addEventListener("complete",Be),C.addEventListener("error",wt),C.addEventListener("abort",wt)});Xe.set(C,k)}(C),Pe(C,function re(){return Me||(Me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,on):C)}function it(C){if(C instanceof IDBRequest)return function Ye(C){const k=new Promise((V,se)=>{const Se=()=>{C.removeEventListener("success",Be),C.removeEventListener("error",wt)},Be=()=>{V(it(C.result)),Se()},wt=()=>{se(C.error),Se()};C.addEventListener("success",Be),C.addEventListener("error",wt)});return k.then(V=>{V instanceof IDBCursor&&Tt.set(V,C)}).catch(()=>{}),qt.set(k,C),k}(C);if(_t.has(C))return _t.get(C);const k=He(C);return k!==C&&(_t.set(C,k),qt.set(k,C)),k}const At=C=>qt.get(C),Ht=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],sr=new Map;function er(C,k){if(!(C instanceof IDBDatabase)||k in C||"string"!=typeof k)return;if(sr.get(k))return sr.get(k);const V=k.replace(/FromIndex$/,""),se=k!==V,Se=hn.includes(V);if(!(V in(se?IDBIndex:IDBObjectStore).prototype)||!Se&&!Ht.includes(V))return;const Be=function(){var wt=(0,z.Z)(function*(gn,...dn){const Zn=this.transaction(gn,Se?"readwrite":"readonly");let br=Zn.store;return se&&(br=br.index(dn.shift())),(yield Promise.all([br[V](...dn),Se&&Zn.done]))[0]});return function(dn){return wt.apply(this,arguments)}}();return sr.set(k,Be),Be}!function Ne(C){on=C(on)}(C=>({...C,get:(k,V,se)=>er(k,V)||C.get(k,V,se),has:(k,V)=>!!er(k,V)||C.has(k,V)}));const mr="@firebase/installations",zn="0.6.4",Cr=1e4,yr=`w:${zn}`,je="FIS_v2",qe="https://firebaseinstallations.googleapis.com/v1",et=36e5,jt=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(C){return C instanceof K.ZR&&C.code.includes("request-failed")}function wr({projectId:C}){return`${qe}/projects/${C}/installations`}function me(C){return{token:C.token,requestStatus:2,expiresIn:En(C.expiresIn),creationTime:Date.now()}}function be(C,k){return xe.apply(this,arguments)}function xe(){return(xe=(0,z.Z)(function*(C,k){const se=(yield k.json()).error;return jt.create("request-failed",{requestName:C,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function mt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ct(C){return ot.apply(this,arguments)}function ot(){return(ot=(0,z.Z)(function*(C){const k=yield C();return k.status>=500&&k.status<600?C():k})).apply(this,arguments)}function En(C){return Number(C.replace("s","000"))}function kn(){return(kn=(0,z.Z)(function*({appConfig:C,heartbeatServiceProvider:k},{fid:V}){const se=wr(C),Se=mt(C),Be=k.getImmediate({optional:!0});if(Be){const Zn=yield Be.getHeartbeatsHeader();Zn&&Se.append("x-firebase-client",Zn)}const gn={method:"POST",headers:Se,body:JSON.stringify({fid:V,authVersion:je,appId:C.appId,sdkVersion:yr})},dn=yield ct(()=>fetch(se,gn));if(dn.ok){const Zn=yield dn.json();return{fid:Zn.fid||V,registrationStatus:2,refreshToken:Zn.refreshToken,authToken:me(Zn.authToken)}}throw yield be("Create Installation",dn)})).apply(this,arguments)}function Je(C){return new Promise(k=>{setTimeout(k,C)})}const Dn=/^[cdef][\w-]{21}$/,Rt="";function Xt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const V=function Wn(C){return function hr(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Dn.test(V)?V:Rt}catch{return Rt}}function Tn(C){return`${C.appName}!${C.appId}`}const ar=new Map;function Ar(C,k){const V=Tn(C);gi(V,k),function sn(C,k){const V=function Nn(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=C=>{gi(C.data.key,C.data.fid)}),ii}();V&&V.postMessage({key:C,fid:k}),function gr(){0===ar.size&&ii&&(ii.close(),ii=null)}()}(V,k)}function gi(C,k){const V=ar.get(C);if(V)for(const se of V)se(k)}let ii=null;const bi="firebase-installations-database",Ir=1,Mr="firebase-installations-store";let ei=null;function nt(){return ei||(ei=function de(C,k,{blocked:V,upgrade:se,blocking:Se,terminated:Be}={}){const wt=indexedDB.open(C,k),gn=it(wt);return se&&wt.addEventListener("upgradeneeded",dn=>{se(it(wt.result),dn.oldVersion,dn.newVersion,it(wt.transaction))}),V&&wt.addEventListener("blocked",()=>V()),gn.then(dn=>{Be&&dn.addEventListener("close",()=>Be()),Se&&dn.addEventListener("versionchange",()=>Se())}).catch(()=>{}),gn}(bi,Ir,{upgrade:(C,k)=>{0===k&&C.createObjectStore(Mr)}})),ei}function ge(C,k){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,z.Z)(function*(C,k){const V=Tn(C),Se=(yield nt()).transaction(Mr,"readwrite"),Be=Se.objectStore(Mr),wt=yield Be.get(V);return yield Be.put(k,V),yield Se.done,(!wt||wt.fid!==k.fid)&&Ar(C,k.fid),k})).apply(this,arguments)}function Bt(C){return cn.apply(this,arguments)}function cn(){return(cn=(0,z.Z)(function*(C){const k=Tn(C),se=(yield nt()).transaction(Mr,"readwrite");yield se.objectStore(Mr).delete(k),yield se.done})).apply(this,arguments)}function Cn(C,k){return lr.apply(this,arguments)}function lr(){return(lr=(0,z.Z)(function*(C,k){const V=Tn(C),Se=(yield nt()).transaction(Mr,"readwrite"),Be=Se.objectStore(Mr),wt=yield Be.get(V),gn=k(wt);return void 0===gn?yield Be.delete(V):yield Be.put(gn,V),yield Se.done,gn&&(!wt||wt.fid!==gn.fid)&&Ar(C,gn.fid),gn})).apply(this,arguments)}function _e(C){return le.apply(this,arguments)}function le(){return le=(0,z.Z)(function*(C){let k;const V=yield Cn(C.appConfig,se=>{const Se=function J(C){return ce(C||{fid:Xt(),registrationStatus:0})}(se),Be=function te(C,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(jt.create("app-offline"))};const V={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},se=function q(C,k){return ke.apply(this,arguments)}(C,V);return{installationEntry:V,registrationPromise:se}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:St(C)}:{installationEntry:k}}(C,Se);return k=Be.registrationPromise,Be.installationEntry});return V.fid===Rt?{installationEntry:yield k}:{installationEntry:V,registrationPromise:k}}),le.apply(this,arguments)}function ke(){return ke=(0,z.Z)(function*(C,k){try{const V=yield function Kn(C,k){return kn.apply(this,arguments)}(C,k);return ge(C.appConfig,V)}catch(V){throw Ot(V)&&409===V.customData.serverCode?yield Bt(C.appConfig):yield ge(C.appConfig,{fid:k.fid,registrationStatus:0}),V}}),ke.apply(this,arguments)}function St(C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,z.Z)(function*(C){let k=yield ne(C.appConfig);for(;1===k.registrationStatus;)yield Je(100),k=yield ne(C.appConfig);if(0===k.registrationStatus){const{installationEntry:V,registrationPromise:se}=yield _e(C);return se||V}return k})).apply(this,arguments)}function ne(C){return Cn(C,k=>{if(!k)throw jt.create("installation-not-found");return ce(k)})}function ce(C){return function De(C){return 1===C.registrationStatus&&C.registrationTime+Cr<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Vt(){return(Vt=(0,z.Z)(function*({appConfig:C,heartbeatServiceProvider:k},V){const se=function Zt(C,{fid:k}){return`${wr(C)}/${k}/authTokens:generate`}(C,V),Se=function Ft(C,{refreshToken:k}){const V=mt(C);return V.append("Authorization",function $n(C){return`${je} ${C}`}(k)),V}(C,V),Be=k.getImmediate({optional:!0});if(Be){const Zn=yield Be.getHeartbeatsHeader();Zn&&Se.append("x-firebase-client",Zn)}const gn={method:"POST",headers:Se,body:JSON.stringify({installation:{sdkVersion:yr,appId:C.appId}})},dn=yield ct(()=>fetch(se,gn));if(dn.ok)return me(yield dn.json());throw yield be("Generate Auth Token",dn)})).apply(this,arguments)}function Er(C){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,z.Z)(function*(C,k=!1){let V;const se=yield Cn(C.appConfig,Be=>{if(!Ni(Be))throw jt.create("not-registered");const wt=Be.authToken;if(!k&&function da(C){return 2===C.requestStatus&&!function Jo(C){const k=Date.now();return k<C.creationTime||C.creationTime+C.expiresIn<k+et}(C)}(wt))return Be;if(1===wt.requestStatus)return V=function ti(C,k){return ni.apply(this,arguments)}(C,k),Be;{if(!navigator.onLine)throw jt.create("app-offline");const gn=function rc(C){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:k})}(Be);return V=function si(C,k){return Vn.apply(this,arguments)}(C,gn),gn}});return V?yield V:se.authToken}),Ur.apply(this,arguments)}function ni(){return(ni=(0,z.Z)(function*(C,k){let V=yield Ai(C.appConfig);for(;1===V.authToken.requestStatus;)yield Je(100),V=yield Ai(C.appConfig);const se=V.authToken;return 0===se.requestStatus?Er(C,k):se})).apply(this,arguments)}function Ai(C){return Cn(C,k=>{if(!Ni(k))throw jt.create("not-registered");return function ds(C){return 1===C.requestStatus&&C.requestTime+Cr<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function Vn(){return Vn=(0,z.Z)(function*(C,k){try{const V=yield function Qe(C,k){return Vt.apply(this,arguments)}(C,k),se=Object.assign(Object.assign({},k),{authToken:V});return yield ge(C.appConfig,se),V}catch(V){if(!Ot(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const se=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield ge(C.appConfig,se)}else yield Bt(C.appConfig);throw V}}),Vn.apply(this,arguments)}function Ni(C){return void 0!==C&&2===C.registrationStatus}function hs(){return(hs=(0,z.Z)(function*(C){const k=C,{installationEntry:V,registrationPromise:se}=yield _e(k);return se?se.catch(console.error):Er(k).catch(console.error),V.fid})).apply(this,arguments)}function ha(){return ha=(0,z.Z)(function*(C,k=!1){const V=C;return yield function fs(C){return Ts.apply(this,arguments)}(V),(yield Er(V,k)).token}),ha.apply(this,arguments)}function Ts(){return(Ts=(0,z.Z)(function*(C){const{registrationPromise:k}=yield _e(C);k&&(yield k)})).apply(this,arguments)}function fa(C){return jt.create("missing-app-config-values",{valueName:C})}const ue="installations",X=C=>{const k=C.getProvider("app").getImmediate(),V=function ao(C){if(!C||!C.options)throw fa("App Configuration");if(!C.name)throw fa("App Name");const k=["projectId","apiKey","appId"];for(const V of k)if(!C.options[V])throw fa(V);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(k);return{app:k,appConfig:V,heartbeatServiceProvider:(0,Te._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},G=C=>{const k=C.getProvider("app").getImmediate(),V=(0,Te._getProvider)(k,ue).getImmediate();return{getId:()=>function Gs(C){return hs.apply(this,arguments)}(V),getToken:Se=>function Mc(C){return ha.apply(this,arguments)}(V,Se)}};(function Fe(){(0,Te._registerComponent)(new Ce.wA(ue,X,"PUBLIC")),(0,Te._registerComponent)(new Ce.wA("installations-internal",G,"PRIVATE"))})(),(0,Te.registerVersion)(mr,zn),(0,Te.registerVersion)(mr,zn,"esm2017");const Ie="@firebase/remote-config",lt=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Un{constructor(k,V,se,Se){this.client=k,this.storage=V,this.storageCache=se,this.logger=Se}isCachedDataFresh(k,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const se=Date.now()-V,Se=se<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${se}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Se}.`),Se}fetch(k){var V=this;return(0,z.Z)(function*(){const[se,Se]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(Se&&V.isCachedDataFresh(k.cacheMaxAgeMillis,se))return Se;k.eTag=Se&&Se.eTag;const Be=yield V.client.fetch(k),wt=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Be.status&&wt.push(V.storage.setLastSuccessfulFetchResponse(Be)),yield Promise.all(wt),Be})()}}function _r(C=navigator){return C.languages&&C.languages[0]||C.language}class Di{constructor(k,V,se,Se,Be,wt){this.firebaseInstallations=k,this.sdkVersion=V,this.namespace=se,this.projectId=Se,this.apiKey=Be,this.appId=wt}fetch(k){var V=this;return(0,z.Z)(function*(){const[se,Se]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,gn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},dn={sdk_version:V.sdkVersion,app_instance_id:se,app_instance_id_token:Se,app_id:V.appId,language_code:_r()},Zn={method:"POST",headers:gn,body:JSON.stringify(dn)},br=fetch(wt,Zn),or=new Promise(($a,no)=>{k.signal.addEventListener(()=>{const wu=new Error("The operation was aborted.");wu.name="AbortError",no(wu)})});let Qs;try{yield Promise.race([br,or]),Qs=yield br}catch($a){let no="fetch-client-network";throw"AbortError"===$a?.name&&(no="fetch-timeout"),lt.create(no,{originalErrorMessage:$a?.message})}let mo=Qs.status;const Li=Qs.headers.get("ETag")||void 0;let Xh,_c;if(200===Qs.status){let $a;try{$a=yield Qs.json()}catch(no){throw lt.create("fetch-client-parse",{originalErrorMessage:no?.message})}Xh=$a.entries,_c=$a.state}if("INSTANCE_STATE_UNSPECIFIED"===_c?mo=500:"NO_CHANGE"===_c?mo=304:("NO_TEMPLATE"===_c||"EMPTY_CONFIG"===_c)&&(Xh={}),304!==mo&&200!==mo)throw lt.create("fetch-status",{httpStatus:mo});return{status:mo,eTag:Li,config:Xh}})()}}class es{constructor(k,V){this.client=k,this.storage=V}fetch(k){var V=this;return(0,z.Z)(function*(){const se=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(k,se)})()}attemptFetch(k,{throttleEndTimeMillis:V,backoffCount:se}){var Se=this;return(0,z.Z)(function*(){yield function ko(C,k){return new Promise((V,se)=>{const Se=Math.max(k-Date.now(),0),Be=setTimeout(V,Se);C.addEventListener(()=>{clearTimeout(Be),se(lt.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,V);try{const Be=yield Se.client.fetch(k);return yield Se.storage.deleteThrottleMetadata(),Be}catch(Be){if(!function Vi(C){if(!(C instanceof K.ZR&&C.customData))return!1;const k=Number(C.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Be))throw Be;const wt={throttleEndTimeMillis:Date.now()+(0,K.$s)(se),backoffCount:se+1};return yield Se.storage.setThrottleMetadata(wt),Se.attemptFetch(k,wt)}})()}}class No{constructor(k,V,se,Se,Be){this.app=k,this._client=V,this._storageCache=se,this._storage=Se,this._logger=Be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jn(C,k){const V=C.target.error||void 0;return lt.create(k,{originalErrorMessage:V&&V?.message})}const Ei="app_namespace_store";class oc{constructor(k,V,se,Se=function pi(){return new Promise((C,k)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=se=>{k(jn(se,"storage-open"))},V.onsuccess=se=>{C(se.target.result)},V.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(Ei,{keyPath:"compositeKey"})}}catch(V){k(lt.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=k,this.appName=V,this.namespace=se,this.openDbPromise=Se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var V=this;return(0,z.Z)(function*(){const se=yield V.openDbPromise;return new Promise((Se,Be)=>{const gn=se.transaction([Ei],"readonly").objectStore(Ei),dn=V.createCompositeKey(k);try{const Zn=gn.get(dn);Zn.onerror=br=>{Be(jn(br,"storage-get"))},Zn.onsuccess=br=>{const or=br.target.result;Se(or?or.value:void 0)}}catch(Zn){Be(lt.create("storage-get",{originalErrorMessage:Zn?.message}))}})})()}set(k,V){var se=this;return(0,z.Z)(function*(){const Se=yield se.openDbPromise;return new Promise((Be,wt)=>{const dn=Se.transaction([Ei],"readwrite").objectStore(Ei),Zn=se.createCompositeKey(k);try{const br=dn.put({compositeKey:Zn,value:V});br.onerror=or=>{wt(jn(or,"storage-set"))},br.onsuccess=()=>{Be()}}catch(br){wt(lt.create("storage-set",{originalErrorMessage:br?.message}))}})})()}delete(k){var V=this;return(0,z.Z)(function*(){const se=yield V.openDbPromise;return new Promise((Se,Be)=>{const gn=se.transaction([Ei],"readwrite").objectStore(Ei),dn=V.createCompositeKey(k);try{const Zn=gn.delete(dn);Zn.onerror=br=>{Be(jn(br,"storage-delete"))},Zn.onsuccess=()=>{Se()}}catch(Zn){Be(lt.create("storage-delete",{originalErrorMessage:Zn?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class $o{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,z.Z)(function*(){const V=k.storage.getLastFetchStatus(),se=k.storage.getLastSuccessfulFetchTimestampMillis(),Se=k.storage.getActiveConfig(),Be=yield V;Be&&(k.lastFetchStatus=Be);const wt=yield se;wt&&(k.lastSuccessfulFetchTimestampMillis=wt);const gn=yield Se;gn&&(k.activeConfig=gn)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function ma(){return ns.apply(this,arguments)}function ns(){return(ns=(0,z.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}!function lo(){(0,Te._registerComponent)(new Ce.wA("remote-config",function C(k,{instanceIdentifier:V}){const se=k.getProvider("app").getImmediate(),Se=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw lt.create("registration-window");if(!(0,K.hl)())throw lt.create("indexed-db-unavailable");const{projectId:Be,apiKey:wt,appId:gn}=se.options;if(!Be)throw lt.create("registration-project-id");if(!wt)throw lt.create("registration-api-key");if(!gn)throw lt.create("registration-app-id");const dn=new oc(gn,se.name,V=V||"firebase"),Zn=new $o(dn),br=new Ae.Yd(Ie);br.logLevel=Ae.in.ERROR;const or=new Di(Se,Te.SDK_VERSION,V,Be,wt,gn),Qs=new es(or,dn),mo=new Un(Qs,dn,Zn,br),Li=new No(se,mo,Zn,dn,br);return function Xr(C){const k=(0,K.m9)(C);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Li),Li},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(Ie,"0.4.4"),(0,Te.registerVersion)(Ie,"0.4.4","esm2017")}();const rl=(C,k)=>k.some(V=>C instanceof V);let Wo,vr;const $s=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Ws=new WeakMap,_a=new WeakMap;let uo={get(C,k,V){if(C instanceof IDBTransaction){if("done"===k)return Xi.get(C);if("objectStoreNames"===k)return C.objectStoreNames||Ji.get(C);if("store"===k)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return rs(C[k])},set:(C,k,V)=>(C[k]=V,!0),has:(C,k)=>C instanceof IDBTransaction&&("done"===k||"store"===k)||k in C};function ya(C){return"function"==typeof C?function Ss(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ga(){return vr||(vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...k){return C.apply(Oo(this),k),rs($s.get(this))}:function(...k){return rs(C.apply(Oo(this),k))}:function(k,...V){const se=C.call(Oo(this),k,...V);return Ji.set(se,k.sort?k.sort():[k]),rs(se)}}(C):(C instanceof IDBTransaction&&function ru(C){if(Xi.has(C))return;const k=new Promise((V,se)=>{const Se=()=>{C.removeEventListener("complete",Be),C.removeEventListener("error",wt),C.removeEventListener("abort",wt)},Be=()=>{V(),Se()},wt=()=>{se(C.error||new DOMException("AbortError","AbortError")),Se()};C.addEventListener("complete",Be),C.addEventListener("error",wt),C.addEventListener("abort",wt)});Xi.set(C,k)}(C),rl(C,function bl(){return Wo||(Wo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,uo):C)}function rs(C){if(C instanceof IDBRequest)return function Fi(C){const k=new Promise((V,se)=>{const Se=()=>{C.removeEventListener("success",Be),C.removeEventListener("error",wt)},Be=()=>{V(rs(C.result)),Se()},wt=()=>{se(C.error),Se()};C.addEventListener("success",Be),C.addEventListener("error",wt)});return k.then(V=>{V instanceof IDBCursor&&$s.set(V,C)}).catch(()=>{}),_a.set(k,C),k}(C);if(Ws.has(C))return Ws.get(C);const k=ya(C);return k!==C&&(Ws.set(C,k),_a.set(k,C)),k}const Oo=C=>_a.get(C);function Oa(C,k,{blocked:V,upgrade:se,blocking:Se,terminated:Be}={}){const wt=indexedDB.open(C,k),gn=rs(wt);return se&&wt.addEventListener("upgradeneeded",dn=>{se(rs(wt.result),dn.oldVersion,dn.newVersion,rs(wt.transaction))}),V&&wt.addEventListener("blocked",()=>V()),gn.then(dn=>{Be&&dn.addEventListener("close",()=>Be()),Se&&dn.addEventListener("versionchange",()=>Se())}).catch(()=>{}),gn}function va(C,{blocked:k}={}){const V=indexedDB.deleteDatabase(C);return k&&V.addEventListener("blocked",()=>k()),rs(V).then(()=>{})}const Il=["get","getKey","getAll","getAllKeys","count"],Pc=["put","add","delete","clear"],El=new Map;function kc(C,k){if(!(C instanceof IDBDatabase)||k in C||"string"!=typeof k)return;if(El.get(k))return El.get(k);const V=k.replace(/FromIndex$/,""),se=k!==V,Se=Pc.includes(V);if(!(V in(se?IDBIndex:IDBObjectStore).prototype)||!Se&&!Il.includes(V))return;const Be=function(){var wt=(0,z.Z)(function*(gn,...dn){const Zn=this.transaction(gn,Se?"readwrite":"readonly");let br=Zn.store;return se&&(br=br.index(dn.shift())),(yield Promise.all([br[V](...dn),Se&&Zn.done]))[0]});return function(dn){return wt.apply(this,arguments)}}();return El.set(k,Be),Be}!function Ui(C){uo=C(uo)}(C=>({...C,get:(k,V,se)=>kc(k,V)||C.get(k,V,se),has:(k,V)=>!!kc(k,V)||C.has(k,V)}));const ac="/firebase-messaging-sw.js",Fa="/firebase-cloud-messaging-push-scope",Dd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iu="https://fcmregistrations.googleapis.com/v1",Yr="google.c.a.c_id",Wu="google.c.a.c_l",Md="google.c.a.ts";var lc=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(lc||{});function is(C){const k=new Uint8Array(C);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ou(C){const V=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(V),Se=new Uint8Array(se.length);for(let Be=0;Be<se.length;++Be)Se[Be]=se.charCodeAt(Be);return Se}const uc="fcm_token_details_db",dc=5,Rd="fcm_token_object_Store";function Cl(){return Cl=(0,z.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Be=>Be.name).includes(uc))return null;let k=null;return(yield Oa(uc,dc,{upgrade:(se=(0,z.Z)(function*(Se,Be,wt,gn){var dn;if(Be<2||!Se.objectStoreNames.contains(Rd))return;const Zn=gn.objectStore(Rd),br=yield Zn.index("fcmSenderId").get(C);if(yield Zn.clear(),br)if(2===Be){const or=br;if(!or.auth||!or.p256dh||!or.endpoint)return;k={token:or.fcmToken,createTime:null!==(dn=or.createTime)&&void 0!==dn?dn:Date.now(),subscriptionOptions:{auth:or.auth,p256dh:or.p256dh,endpoint:or.endpoint,swScope:or.swScope,vapidKey:"string"==typeof or.vapidKey?or.vapidKey:is(or.vapidKey)}}}else if(3===Be){const or=br;k={token:or.fcmToken,createTime:or.createTime,subscriptionOptions:{auth:is(or.auth),p256dh:is(or.p256dh),endpoint:or.endpoint,swScope:or.swScope,vapidKey:is(or.vapidKey)}}}else if(4===Be){const or=br;k={token:or.fcmToken,createTime:or.createTime,subscriptionOptions:{auth:is(or.auth),p256dh:is(or.p256dh),endpoint:or.endpoint,swScope:or.swScope,vapidKey:is(or.vapidKey)}}}}),function(Be,wt,gn,dn){return se.apply(this,arguments)})})).close(),yield va(uc),yield va("fcm_vapid_details_db"),yield va("undefined"),function xs(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:k}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var se}),Cl.apply(this,arguments)}const wa="firebase-messaging-database",il=1,os="firebase-messaging-store";let S=null;function R(){return S||(S=Oa(wa,il,{upgrade:(C,k)=>{0===k&&C.createObjectStore(os)}})),S}function N(C){return L.apply(this,arguments)}function L(){return L=(0,z.Z)(function*(C){const k=$e(C),se=yield(yield R()).transaction(os).objectStore(os).get(k);if(se)return se;{const Se=yield function Tl(C){return Cl.apply(this,arguments)}(C.appConfig.senderId);if(Se)return yield ee(C,Se),Se}}),L.apply(this,arguments)}function ee(C,k){return ye.apply(this,arguments)}function ye(){return(ye=(0,z.Z)(function*(C,k){const V=$e(C),Se=(yield R()).transaction(os,"readwrite");return yield Se.objectStore(os).put(k,V),yield Se.done,k})).apply(this,arguments)}function rt(){return(rt=(0,z.Z)(function*(C){const k=$e(C),se=(yield R()).transaction(os,"readwrite");yield se.objectStore(os).delete(k),yield se.done})).apply(this,arguments)}function $e({appConfig:C}){return C.appId}const mn=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ai(C,k){return ci.apply(this,arguments)}function ci(){return(ci=(0,z.Z)(function*(C,k){const V=yield su(C),se=qu(k),Se={method:"POST",headers:V,body:JSON.stringify(se)};let Be;try{Be=yield(yield fetch(Al(C.appConfig),Se)).json()}catch(wt){throw mn.create("token-subscribe-failed",{errorInfo:wt?.toString()})}if(Be.error)throw mn.create("token-subscribe-failed",{errorInfo:Be.error.message});if(!Be.token)throw mn.create("token-subscribe-no-token");return Be.token})).apply(this,arguments)}function ji(){return(ji=(0,z.Z)(function*(C,k){const V=yield su(C),se=qu(k.subscriptionOptions),Se={method:"PATCH",headers:V,body:JSON.stringify(se)};let Be;try{Be=yield(yield fetch(`${Al(C.appConfig)}/${k.token}`,Se)).json()}catch(wt){throw mn.create("token-update-failed",{errorInfo:wt?.toString()})}if(Be.error)throw mn.create("token-update-failed",{errorInfo:Be.error.message});if(!Be.token)throw mn.create("token-update-no-token");return Be.token})).apply(this,arguments)}function Ms(C,k){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,z.Z)(function*(C,k){const se={method:"DELETE",headers:yield su(C)};try{const Be=yield(yield fetch(`${Al(C.appConfig)}/${k}`,se)).json();if(Be.error)throw mn.create("token-unsubscribe-failed",{errorInfo:Be.error.message})}catch(Se){throw mn.create("token-unsubscribe-failed",{errorInfo:Se?.toString()})}})).apply(this,arguments)}function Al({projectId:C}){return`${iu}/projects/${C}/registrations`}function su(C){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,z.Z)(function*({appConfig:C,installations:k}){const V=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function qu({p256dh:C,auth:k,endpoint:V,vapidKey:se}){const Se={web:{endpoint:V,auth:k,p256dh:C}};return se!==Dd&&(Se.web.applicationPubKey=se),Se}const Jf=6048e5;function zh(){return zh=(0,z.Z)(function*(C){const k=yield function cu(C,k){return Zu.apply(this,arguments)}(C.swRegistration,C.vapidKey),V={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:k.endpoint,auth:is(k.getKey("auth")),p256dh:is(k.getKey("p256dh"))},se=yield N(C.firebaseDependencies);if(se){if(function Ld(C,k){return k.vapidKey===C.vapidKey&&k.endpoint===C.endpoint&&k.auth===C.auth&&k.p256dh===C.p256dh}(se.subscriptionOptions,V))return Date.now()>=se.createTime+Jf?function Od(C,k){return au.apply(this,arguments)}(C,{token:se.token,createTime:Date.now(),subscriptionOptions:V}):se.token;try{yield Ms(C.firebaseDependencies,se.token)}catch(Se){console.warn(Se)}return xl(C.firebaseDependencies,V)}return xl(C.firebaseDependencies,V)}),zh.apply(this,arguments)}function Sl(){return Sl=(0,z.Z)(function*(C){const k=yield N(C.firebaseDependencies);k&&(yield Ms(C.firebaseDependencies,k.token),yield function We(C){return rt.apply(this,arguments)}(C.firebaseDependencies));const V=yield C.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()}),Sl.apply(this,arguments)}function au(){return au=(0,z.Z)(function*(C,k){try{const V=yield function Ds(C,k){return ji.apply(this,arguments)}(C.firebaseDependencies,k),se=Object.assign(Object.assign({},k),{token:V,createTime:Date.now()});return yield ee(C.firebaseDependencies,se),V}catch(V){throw yield function Nd(C){return Sl.apply(this,arguments)}(C),V}}),au.apply(this,arguments)}function xl(C,k){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,z.Z)(function*(C,k){const se={token:yield ai(C,k),createTime:Date.now(),subscriptionOptions:k};return yield ee(C,se),se.token})).apply(this,arguments)}function Zu(){return(Zu=(0,z.Z)(function*(C,k){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ou(k)})})).apply(this,arguments)}function lu(C){const k={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Nc(C,k){if(!k.notification)return;C.notification={};const V=k.notification.title;V&&(C.notification.title=V);const se=k.notification.body;se&&(C.notification.body=se);const Se=k.notification.image;Se&&(C.notification.image=Se);const Be=k.notification.icon;Be&&(C.notification.icon=Be)}(k,C),function ep(C,k){k.data&&(C.data=k.data)}(k,C),function uu(C,k){var V,se,Se,Be,wt;if(!(k.fcmOptions||null!==(V=k.notification)&&void 0!==V&&V.click_action))return;C.fcmOptions={};const gn=null!==(Se=null===(se=k.fcmOptions)||void 0===se?void 0:se.link)&&void 0!==Se?Se:null===(Be=k.notification)||void 0===Be?void 0:Be.click_action;gn&&(C.fcmOptions.link=gn);const dn=null===(wt=k.fcmOptions)||void 0===wt?void 0:wt.analytics_label;dn&&(C.fcmOptions.analyticsLabel=dn)}(k,C),k}function Yu(C,k){const V=[];for(let se=0;se<C.length;se++)V.push(C.charAt(se)),se<k.length&&V.push(k.charAt(se));return V.join("")}function Qu(C){return mn.create("missing-app-config-values",{valueName:C})}Yu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hh{constructor(k,V,se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Se=function tp(C){if(!C||!C.options)throw Qu("App Configuration Object");if(!C.name)throw Qu("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:V}=C;for(const se of k)if(!V[se])throw Qu(se);return{appName:C.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Se,installations:V,analyticsProvider:se}}_delete(){return Promise.resolve()}}function Ml(){return(Ml=(0,z.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ac,{scope:Fa}),C.swRegistration.update().catch(()=>{})}catch(k){throw mn.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function Rs(){return(Rs=(0,z.Z)(function*(C,k){if(!k&&!C.swRegistration&&(yield function Dl(C){return Ml.apply(this,arguments)}(C)),k||!C.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");C.swRegistration=k}})).apply(this,arguments)}function Rl(){return(Rl=(0,z.Z)(function*(C,k){k?C.vapidKey=k:C.vapidKey||(C.vapidKey=Dd)})).apply(this,arguments)}function sl(){return sl=(0,z.Z)(function*(C,k){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield function ol(C,k){return Rl.apply(this,arguments)}(C,k?.vapidKey),yield function du(C,k){return Rs.apply(this,arguments)}(C,k?.serviceWorkerRegistration),function kd(C){return zh.apply(this,arguments)}(C)}),sl.apply(this,arguments)}function Ps(){return(Ps=(0,z.Z)(function*(C,k,V){const se=function Ud(C){switch(C){case lc.NOTIFICATION_CLICKED:return"notification_open";case lc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(se,{message_id:V[Yr],message_name:V[Wu],message_time:V[Md],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qr(){return Qr=(0,z.Z)(function*(C,k){const V=k.data;if(!V.isFirebaseMessaging)return;C.onMessageHandler&&V.messageType===lc.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(lu(V)):C.onMessageHandler.next(lu(V)));const se=V.data;(function Ku(C){return"object"==typeof C&&!!C&&Yr in C})(se)&&"1"===se["google.c.a.e"]&&(yield function np(C,k,V){return Ps.apply(this,arguments)}(C,V.messageType,se))}),Qr.apply(this,arguments)}const hc="@firebase/messaging",qo=C=>{const k=new Hh(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function Pl(C,k){return Qr.apply(this,arguments)}(k,V)),k},rp=C=>{const k=C.getProvider("messaging").getImmediate();return{getToken:se=>function Vd(C,k){return sl.apply(this,arguments)}(k,se)}};function Oc(){return Io.apply(this,arguments)}function Io(){return(Io=(0,z.Z)(function*(){try{yield(0,K.eu)()}catch{return!1}return typeof window<"u"&&(0,K.hl)()&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kl(){(0,Te._registerComponent)(new Ce.wA("messaging",qo,"PUBLIC")),(0,Te._registerComponent)(new Ce.wA("messaging-internal",rp,"PRIVATE")),(0,Te.registerVersion)(hc,"0.12.4"),(0,Te.registerVersion)(hc,"0.12.4","esm2017")}();const al="analytics",Bd="firebase_id",cr="origin",fu=6e4,ip="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pu="https://www.googletagmanager.com/gtag/js",qi=new Ae.Yd("@firebase/analytics"),Zi=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Va(C){if(!C.startsWith(pu)){const k=Zi.create("invalid-gtag-resource",{gtagURL:C});return qi.warn(k.message),""}return C}function cl(C){return Promise.all(C.map(k=>k.catch(V=>V)))}function kt(){return(kt=(0,z.Z)(function*(C,k,V,se,Se,Be){const wt=se[Se];try{if(wt)yield k[wt];else{const dn=(yield cl(V)).find(Zn=>Zn.measurementId===Se);dn&&(yield k[dn.appId])}}catch(gn){qi.error(gn)}C("config",Se,Be)})).apply(this,arguments)}function ps(){return(ps=(0,z.Z)(function*(C,k,V,se,Se){try{let Be=[];if(Se&&Se.send_to){let wt=Se.send_to;Array.isArray(wt)||(wt=[wt]);const gn=yield cl(V);for(const dn of wt){const Zn=gn.find(or=>or.measurementId===dn),br=Zn&&k[Zn.appId];if(!br){Be=[];break}Be.push(br)}}0===Be.length&&(Be=Object.values(k)),yield Promise.all(Be),C("event",se,Se||{})}catch(Be){qi.error(Be)}})).apply(this,arguments)}const Fl=30,ed=new class Ju{constructor(k={},V=1e3){this.throttleMetadata=k,this.intervalMillis=V}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,V){this.throttleMetadata[k]=V}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Zh(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function td(){return(td=(0,z.Z)(function*(C){var k;const{appId:V,apiKey:se}=C,Se={method:"GET",headers:Zh(se)},Be=ip.replace("{app-id}",V),wt=yield fetch(Be,Se);if(200!==wt.status&&304!==wt.status){let gn="";try{const dn=yield wt.json();null!==(k=dn.error)&&void 0!==k&&k.message&&(gn=dn.error.message)}catch{}throw Zi.create("config-fetch-failed",{httpStatus:wt.status,responseMessage:gn})}return wt.json()})).apply(this,arguments)}function Ea(){return(Ea=(0,z.Z)(function*(C,k=ed,V){const{appId:se,apiKey:Se,measurementId:Be}=C.options;if(!se)throw Zi.create("no-app-id");if(!Se){if(Be)return{measurementId:Be,appId:se};throw Zi.create("no-api-key")}const wt=k.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gn=new $d;return setTimeout((0,z.Z)(function*(){gn.abort()}),void 0!==V?V:fu),Gd({appId:se,apiKey:Se,measurementId:Be},wt,gn,k)})).apply(this,arguments)}function Gd(C,k,V){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,z.Z)(function*(C,{throttleEndTimeMillis:k,backoffCount:V},se,Se=ed){var Be;const{appId:wt,measurementId:gn}=C;try{yield function qs(C,k){return new Promise((V,se)=>{const Se=Math.max(k-Date.now(),0),Be=setTimeout(V,Se);C.addEventListener(()=>{clearTimeout(Be),se(Zi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(se,k)}catch(dn){if(gn)return qi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${dn?.message}]`),{appId:wt,measurementId:gn};throw dn}try{const dn=yield function Kh(C){return td.apply(this,arguments)}(C);return Se.deleteThrottleMetadata(wt),dn}catch(dn){const Zn=dn;if(!function op(C){if(!(C instanceof K.ZR&&C.customData))return!1;const k=Number(C.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Zn)){if(Se.deleteThrottleMetadata(wt),gn)return qi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${Zn?.message}]`),{appId:wt,measurementId:gn};throw dn}const br=503===Number(null===(Be=Zn?.customData)||void 0===Be?void 0:Be.httpStatus)?(0,K.$s)(V,Se.intervalMillis,Fl):(0,K.$s)(V,Se.intervalMillis),or={throttleEndTimeMillis:Date.now()+br,backoffCount:V+1};return Se.setThrottleMetadata(wt,or),qi.debug(`Calling attemptFetch again in ${br} millis`),Gd(C,or,se,Se)}}),Ua.apply(this,arguments)}class $d{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let gu,T;function _u(){return(_u=(0,z.Z)(function*(C,k,V,se,Se){if(Se&&Se.global)C("event",V,se);else{const Be=yield k;C("event",V,Object.assign(Object.assign({},se),{send_to:Be}))}})).apply(this,arguments)}function pe(){return(pe=(0,z.Z)(function*(){if(!(0,K.hl)())return qi.warn(Zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(C){return qi.warn(Zi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ue(){return Ue=(0,z.Z)(function*(C,k,V,se,Se,Be,wt){var gn;const dn=function ho(C){return Ea.apply(this,arguments)}(C);dn.then(mo=>{V[mo.measurementId]=mo.appId,C.options.measurementId&&mo.measurementId!==C.options.measurementId&&qi.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${mo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mo=>qi.error(mo)),k.push(dn);const Zn=function fe(){return pe.apply(this,arguments)}().then(mo=>{if(mo)return se.getId()}),[br,or]=yield Promise.all([dn,Zn]);(function mu(C){const k=window.document.getElementsByTagName("script");for(const V of Object.values(k))if(V.src&&V.src.includes(pu)&&V.src.includes(C))return V;return null})(Be)||function qh(C,k){const V=function Xu(C,k){let V;return window.trustedTypes&&(V=window.trustedTypes.createPolicy(C,k)),V}("firebase-js-sdk-policy",{createScriptURL:Va}),se=document.createElement("script"),Se=`${pu}?l=${C}&id=${k}`;se.src=V?V?.createScriptURL(Se):Se,se.async=!0,document.head.appendChild(se)}(Be,br.measurementId),T&&(Se("consent","default",T),function U(C){T=C}(void 0)),Se("js",new Date);const Qs=null!==(gn=wt?.config)&&void 0!==gn?gn:{};return Qs[cr]="firebase",Qs.update=!0,null!=or&&(Qs[Bd]=or),Se("config",br.measurementId,Qs),gu&&(Se("set",gu),function oe(C){gu=C}(void 0)),br.measurementId}),Ue.apply(this,arguments)}class Pt{constructor(k){this.app=k}_delete(){return delete Ut[this.app.options.appId],Promise.resolve()}}let Ut={},un=[];const qn={};let Qn,Bn,_n="dataLayer",ur=!1;function mi(C,k,V){!function On(){const C=[];if((0,K.ru)()&&C.push("This is a browser extension environment."),(0,K.zI)()||C.push("Cookies are not available."),C.length>0){const k=C.map((se,Se)=>`(${Se+1}) ${se}`).join(" "),V=Zi.create("invalid-analytics-context",{errorInfo:k});qi.warn(V.message)}}();const se=C.options.appId;if(!se)throw Zi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Zi.create("no-api-key");qi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ut[se])throw Zi.create("already-exists",{id:se});if(!ur){!function zd(C){let k=[];Array.isArray(window[C])?k=window[C]:window[C]=k}(_n);const{wrappedGtag:Be,gtagCore:wt}=function Eo(C,k,V,se,Se){let Be=function(...wt){window[se].push(arguments)};return window[Se]&&"function"==typeof window[Se]&&(Be=window[Se]),window[Se]=function Ol(C,k,V,se){function Be(){return Be=(0,z.Z)(function*(wt,...gn){try{if("event"===wt){const[dn,Zn]=gn;yield function jr(C,k,V,se,Se){return ps.apply(this,arguments)}(C,k,V,dn,Zn)}else if("config"===wt){const[dn,Zn]=gn;yield function Hd(C,k,V,se,Se,Be){return kt.apply(this,arguments)}(C,k,V,se,dn,Zn)}else if("consent"===wt){const[dn]=gn;C("consent","update",dn)}else if("get"===wt){const[dn,Zn,br]=gn;C("get",dn,Zn,br)}else if("set"===wt){const[dn]=gn;C("set",dn)}else C(wt,...gn)}catch(dn){qi.error(dn)}}),Be.apply(this,arguments)}return function Se(wt){return Be.apply(this,arguments)}}(Be,C,k,V),{gtagCore:Be,wrappedGtag:window[Se]}}(Ut,un,qn,_n,"gtag");Bn=Be,Qn=wt,ur=!0}return Ut[se]=function Oe(C,k,V,se,Se,Be,wt){return Ue.apply(this,arguments)}(C,un,qn,k,Qn,_n,V),new Pt(C)}function Zs(){return to.apply(this,arguments)}function to(){return(to=(0,z.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}const pc="@firebase/analytics";!function Vc(){(0,Te._registerComponent)(new Ce.wA(al,(k,{options:V})=>mi(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,Te._registerComponent)(new Ce.wA("analytics-internal",function C(k){try{const V=k.getProvider(al).getImmediate();return{logEvent:(se,Se,Be)=>function Bl(C,k,V,se){C=(0,K.m9)(C),function sp(C,k,V,se,Se){return _u.apply(this,arguments)}(Bn,Ut[C.app.options.appId],k,V,se).catch(Se=>qi.error(Se))}(V,se,Se,Be)}}catch(V){throw Zi.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,Te.registerVersion)(pc,"0.10.0"),(0,Te.registerVersion)(pc,"0.10.0","esm2017")}();var mc=W(1954),Uc=W(2631);const Ca=new class zl extends Uc.v{}(class Ta extends mc.o{constructor(k,V){super(k,V),this.scheduler=k,this.work=V}schedule(k,V=0){return V>0?super.schedule(k,V):(this.delay=V,this.state=k,this.scheduler.flush(this),this)}execute(k,V){return V>0||this.closed?super.execute(k,V):this._execute(k,V)}requestAsyncId(k,V,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(k,V,se):(k.flush(this),0)}});var Ks=W(6321),Yi=W(5592),gc=W(9397),Fr=W(3093),Gr=W(5137);const Ti=new u.GfV("7.6.1"),yi="__angularfire_symbol__analyticsIsSupportedValue",Mi="__angularfire_symbol__analyticsIsSupported",Ri="__angularfire_symbol__remoteConfigIsSupportedValue",ks="__angularfire_symbol__remoteConfigIsSupported",Ys="__angularfire_symbol__messagingIsSupportedValue",Co="__angularfire_symbol__messagingIsSupported";function od(C,k,V){if(k){if(1===k.length)return k[0];const Be=k.filter(wt=>wt.app===V);if(1===Be.length)return Be[0]}return V.container.getProvider(C).getImmediate({optional:!0})}globalThis[Mi]||(globalThis[Mi]=Zs().then(C=>globalThis[yi]=C).catch(()=>globalThis[yi]=!1)),globalThis[Co]||(globalThis[Co]=Oc().then(C=>globalThis[Ys]=C).catch(()=>globalThis[Ys]=!1)),globalThis[ks]||(globalThis[ks]=ma().then(C=>globalThis[Ri]=C).catch(()=>globalThis[Ri]=!1));const Yh=(C,k)=>{const V=k?[k]:(0,ie.C6)(),se=[];return V.forEach(Se=>{Se.container.getProvider(C).instances.forEach(wt=>{se.includes(wt)||se.push(wt)})}),se};function Hl(){}class Gl{constructor(k,V=Ca){this.zone=k,this.delegate=V}now(){return this.delegate.now()}schedule(k,V,se){const Se=this.zone;return this.delegate.schedule(function(wt){Se.runGuarded(()=>{k.apply(this,[wt])})},V,se)}}class ap{constructor(k){this.zone=k,this.task=null}call(k,V){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hl,{},Hl,Hl)),V.pipe((0,gc.b)({next:se,complete:se,error:se})).subscribe(k).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let po=(()=>{class C{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new Gl(Zone.current)),this.insideAngular=V.run(()=>new Gl(Zone.current,Ks.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(V){return new(V||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function $l(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function jc(C){return $l().ngZone.run(()=>C())}function cp(C){return C.pipe((0,Fr.Q)($l().outsideAngular))}function qd(C){return $l(),function vu(C){return function(V){return(V=V.lift(new ap(C.ngZone))).pipe((0,Gr.R)(C.outsideAngular),(0,Fr.Q)(C.insideAngular))}}($l())(C)}const sd=(C,k)=>function(){const se=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),jc(()=>C.apply(void 0,se))},gs=(C,k)=>function(){let V;const se=arguments;for(let Be=0;Be<arguments.length;Be++)"function"==typeof se[Be]&&(k&&(V||(V=jc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hl,{},Hl,Hl)))),se[Be]=sd(se[Be],V));const Se=function Qh(C){return $l().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,se));if(!k){if(Se instanceof Yi.y){const Be=$l();return Se.pipe((0,Gr.R)(Be.outsideAngular),(0,Fr.Q)(Be.insideAngular))}return jc(()=>Se)}return Se instanceof Yi.y?Se.pipe(qd):Se instanceof Promise?jc(()=>new Promise((Be,wt)=>Se.then(gn=>jc(()=>Be(gn)),gn=>jc(()=>wt(gn))))):"function"==typeof Se&&V?function(){return setTimeout(()=>{V&&"scheduled"===V.state&&V.invoke()},10),Se.apply(this,arguments)}:jc(()=>Se)}},6710:(pn,st,W)=>{"use strict";W.d(st,{$:()=>ac,A:()=>re,D:()=>Xe,I:()=>Rc,J:()=>X,L:()=>Jt,N:()=>Cn,P:()=>Oe,Q:()=>oc,R:()=>Vl,U:()=>sc,V:()=>ma,W:()=>ns,X:()=>pa,Y:()=>bl,Z:()=>ga,_:()=>_a,a:()=>hu,a0:()=>Dd,a1:()=>Yr,a2:()=>La,a3:()=>Rd,a4:()=>Cl,a5:()=>wa,a6:()=>os,a7:()=>R,a8:()=>L,a9:()=>ye,aA:()=>de,aB:()=>Mi,aC:()=>Bt,aD:()=>lr,aE:()=>gc,aF:()=>za,aG:()=>jl,aH:()=>_i,aL:()=>Fc,aO:()=>Wo,aa:()=>We,ab:()=>$e,ac:()=>Rn,ad:()=>Ds,ae:()=>Ms,af:()=>Al,ai:()=>Jf,aj:()=>zh,ak:()=>Nd,an:()=>Ss,ao:()=>Nc,aq:()=>Rl,ar:()=>hc,as:()=>Ht,at:()=>ce,au:()=>St,av:()=>Ne,aw:()=>or,ax:()=>Co,ay:()=>De,az:()=>yt,b:()=>Nl,c:()=>Bn,d:()=>mi,e:()=>nr,f:()=>pc,g:()=>zl,h:()=>mc,i:()=>Ia,j:()=>Ks,k:()=>_c,l:()=>To,m:()=>wu,p:()=>Pe,r:()=>M,s:()=>Pn,u:()=>fe});var u=W(5861),ie=W(9058),z=W(7592),Te=W(7582),K=W(7879),Ce=W(4537);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Xe=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},bt=function Tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new K.Yd("@firebase/auth");function on(E,...g){Ye.logLevel<=K.in.ERROR&&Ye.error(`Auth (${z.SDK_VERSION}): ${E}`,...g)}function Ne(E,...g){throw At(E,...g)}function yt(E,...g){return At(E,...g)}function He(E,g,y){const x=Object.assign(Object.assign({},bt()),{[g]:y});return new ie.LL("auth","Firebase",x).create(g,{appName:E.name})}function it(E,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ne(E,"argument-error"),He(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function At(E,...g){if("string"!=typeof E){const y=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=E.name),E._errorFactory.create(y,...x)}return _t.create(E,...g)}function de(E,g,...y){if(!E)throw At(g,...y)}function ht(E){const g="INTERNAL ASSERTION FAILED: "+E;throw on(g),new Error(g)}function Ht(E,g){E||ht(g)}function hn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function sr(){return"http:"===er()||"https:"===er()}function er(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Cr{constructor(g,y){this.shortDelay=g,this.longDelay=y,Ht(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,ie.uI)()||(0,ie.b$)()}get(){return function mr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(sr()||(0,ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yr(E,g){Ht(E.emulator,"Emulator should always be set here");const{url:y}=E.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class je{static initialize(g,y,x){this.fetchImpl=g,y&&(this.headersImpl=y),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},et=new Cr(3e4,6e4);function Ge(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function vt(E,g,y,x){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(E,g,y,x,j={}){return jt(E,j,(0,u.Z)(function*(){let Q={},Ve={};x&&("GET"===g?Ve=x:Q={body:JSON.stringify(x)});const at=(0,ie.xO)(Object.assign({key:E.config.apiKey},Ve)).slice(1),ut=yield E._getAdditionalHeaders();return ut["Content-Type"]="application/json",E.languageCode&&(ut["X-Firebase-Locale"]=E.languageCode),je.fetch()(be(E,E.config.apiHost,y,at),Object.assign({method:g,headers:ut,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function jt(E,g,y){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(E,g,y){E._canInitEmulator=!1;const x=Object.assign(Object.assign({},qe),g);try{const j=new xe(E),Q=yield Promise.race([y(),j.promise]);j.clearNetworkTimeout();const Ve=yield Q.json();if("needConfirmation"in Ve)throw mt(E,"account-exists-with-different-credential",Ve);if(Q.ok&&!("errorMessage"in Ve))return Ve;{const at=Q.ok?Ve.errorMessage:Ve.error.message,[ut,ln]=at.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw mt(E,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===ut)throw mt(E,"email-already-in-use",Ve);if("USER_DISABLED"===ut)throw mt(E,"user-disabled",Ve);const an=x[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(ln)throw He(E,an,ln);Ne(E,an)}}catch(j){if(j instanceof ie.ZR)throw j;Ne(E,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function wr(E,g,y,x){return me.apply(this,arguments)}function me(){return(me=(0,u.Z)(function*(E,g,y,x,j={}){const Q=yield vt(E,g,y,x,j);return"mfaPendingCredential"in Q&&Ne(E,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function be(E,g,y,x){const j=`${g}${y}?${x}`;return E.config.emulator?yr(E.config,j):`${E.config.apiScheme}://${j}`}class xe{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,x)=>{this.timer=setTimeout(()=>x(yt(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mt(E,g,y){const x={appName:E.name};y.email&&(x.email=y.email),y.phoneNumber&&(x.phoneNumber=y.phoneNumber);const j=yt(E,g,x);return j.customData._tokenResponse=y,j}function ct(){return(ct=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function kn(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Dn(){return(Dn=(0,u.Z)(function*(E,g=!1){const y=(0,ie.m9)(E),x=yield y.getIdToken(g),j=Xt(x);de(j&&j.exp&&j.auth_time&&j.iat,y.auth,"internal-error");const Q="object"==typeof j.firebase?j.firebase:void 0,Ve=Q?.sign_in_provider;return{claims:j,token:x,authTime:kn(Rt(j.auth_time)),issuedAtTime:kn(Rt(j.iat)),expirationTime:kn(Rt(j.exp)),signInProvider:Ve||null,signInSecondFactor:Q?.sign_in_second_factor||null}})).apply(this,arguments)}function Rt(E){return 1e3*Number(E)}function Xt(E){const[g,y,x]=E.split(".");if(void 0===g||void 0===y||void 0===x)return on("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,ie.tV)(y);return j?JSON.parse(j):(on("Failed to decode base64 JWT payload"),null)}catch(j){return on("Caught error parsing JWT payload as JSON",j?.toString()),null}}function Tn(E,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(E,g,y=!1){if(y)return g;try{return yield g}catch(x){throw x instanceof ie.ZR&&function Ar({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(x)&&E.auth.currentUser===E&&(yield E.auth.signOut()),x}})).apply(this,arguments)}class Ln{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const j=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),x)}iteration(){var g=this;return(0,u.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class tr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(E){return sn.apply(this,arguments)}function sn(){return sn=(0,u.Z)(function*(E){var g;const y=E.auth,x=yield E.getIdToken(),j=yield Tn(E,function $n(E,g){return Kn.apply(this,arguments)}(y,{idToken:x}));de(j?.users.length,y,"internal-error");const Q=j.users[0];E._notifyReloadListener(Q);const Ve=null!==(g=Q.providerUserInfo)&&void 0!==g&&g.length?function bi(E){return E.map(g=>{var{providerId:y}=g,x=(0,Te._T)(g,["providerId"]);return{providerId:y,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(Q.providerUserInfo):[],at=function gr(E,g){return[...E.filter(x=>!g.some(j=>j.providerId===x.providerId)),...g]}(E.providerData,Ve),an=!!E.isAnonymous&&!(E.email&&Q.passwordHash||at?.length),pr={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:at,metadata:new tr(Q.createdAt,Q.lastLoginAt),isAnonymous:an};Object.assign(E,pr)}),sn.apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(E){const g=(0,ie.m9)(E);yield gi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(E,g){const y=yield jt(E,{},(0,u.Z)(function*(){const x=(0,ie.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:j,apiKey:Q}=E.config,Ve=be(E,j,"/v1/token",`key=${Q}`),at=yield E._getAdditionalHeaders();return at["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(Ve,{method:"POST",headers:at,body:x})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){de(g.idToken,"internal-error"),de(typeof g.idToken<"u","internal-error"),de(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Wn(E){const g=Xt(E);return de(g,"internal-error"),de(typeof g.exp<"u","internal-error"),de(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var x=this;return(0,u.Z)(function*(){return de(!x.accessToken||x.refreshToken,g,"user-token-expired"),y||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var x=this;return(0,u.Z)(function*(){const{accessToken:j,refreshToken:Q,expiresIn:Ve}=yield function Ir(E,g){return Mr.apply(this,arguments)}(g,y);x.updateTokensAndExpiration(j,Q,Number(Ve))})()}updateTokensAndExpiration(g,y,x){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,y){const{refreshToken:x,accessToken:j,expirationTime:Q}=y,Ve=new ei;return x&&(de("string"==typeof x,"internal-error",{appName:g}),Ve.refreshToken=x),j&&(de("string"==typeof j,"internal-error",{appName:g}),Ve.accessToken=j),Q&&(de("number"==typeof Q,"internal-error",{appName:g}),Ve.expirationTime=Q),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ei,this.toJSON())}_performRefresh(){return ht("not implemented")}}function nt(E,g){de("string"==typeof E||typeof E>"u","internal-error",{appName:g})}class ge{constructor(g){var{uid:y,auth:x,stsTokenManager:j}=g,Q=(0,Te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=x,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new tr(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,u.Z)(function*(){const x=yield Tn(y,y.stsTokenManager.getToken(y.auth,g));return de(x,y.auth,"internal-error"),y.accessToken!==x&&(y.accessToken=x,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),x})()}getIdTokenResult(g){return function hr(E){return Dn.apply(this,arguments)}(this,g)}reload(){return function ii(E){return Nn.apply(this,arguments)}(this)}_assign(g){this!==g&&(de(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new ge(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var x=this;return(0,u.Z)(function*(){let j=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),j=!0),y&&(yield gi(x)),yield x.auth._persistUserIfCurrent(x),j&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,u.Z)(function*(){const y=yield g.getIdToken();return yield Tn(g,function Ft(E,g){return ct.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var x,j,Q,Ve,at,ut,ln,an;const pr=null!==(x=y.displayName)&&void 0!==x?x:void 0,Ns=null!==(j=y.email)&&void 0!==j?j:void 0,zc=null!==(Q=y.phoneNumber)&&void 0!==Q?Q:void 0,Kd=null!==(Ve=y.photoURL)&&void 0!==Ve?Ve:void 0,Ly=null!==(at=y.tenantId)&&void 0!==at?at:void 0,up=null!==(ut=y._redirectEventId)&&void 0!==ut?ut:void 0,cd=null!==(ln=y.createdAt)&&void 0!==ln?ln:void 0,ld=null!==(an=y.lastLoginAt)&&void 0!==an?an:void 0,{uid:rg,emailVerified:Hb,isAnonymous:ig,providerData:og,stsTokenManager:Et}=y;de(rg&&Et,g,"internal-error");const Vy=ei.fromJSON(this.name,Et);de("string"==typeof rg,g,"internal-error"),nt(pr,g.name),nt(Ns,g.name),de("boolean"==typeof Hb,g,"internal-error"),de("boolean"==typeof ig,g,"internal-error"),nt(zc,g.name),nt(Kd,g.name),nt(Ly,g.name),nt(up,g.name),nt(cd,g.name),nt(ld,g.name);const dp=new ge({uid:rg,auth:g,email:Ns,emailVerified:Hb,displayName:pr,isAnonymous:ig,photoURL:Kd,phoneNumber:zc,tenantId:Ly,stsTokenManager:Vy,createdAt:cd,lastLoginAt:ld});return og&&Array.isArray(og)&&(dp.providerData=og.map(Gb=>Object.assign({},Gb))),up&&(dp._redirectEventId=up),dp}static _fromIdTokenResponse(g,y,x=!1){return(0,u.Z)(function*(){const j=new ei;j.updateFromServerResponse(y);const Q=new ge({uid:y.localId,auth:g,stsTokenManager:j,isAnonymous:x});return yield gi(Q),Q})()}}const Ze=new Map;function Bt(E){Ht(E instanceof Function,"Expected a class definition");let g=Ze.get(E);return g?(Ht(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,Ze.set(E,g),g)}const Cn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,x){var j=this;return(0,u.Z)(function*(){j.storage[y]=x})()}_get(y){var x=this;return(0,u.Z)(function*(){const j=x.storage[y];return void 0===j?null:j})()}_remove(y){var x=this;return(0,u.Z)(function*(){delete x.storage[y]})()}_addListener(y,x){}_removeListener(y,x){}}return E.type="NONE",E})();function lr(E,g,y){return`firebase:${E}:${g}:${y}`}class _e{constructor(g,y,x){this.persistence=g,this.auth=y,this.userKey=x;const{config:j,name:Q}=this.auth;this.fullUserKey=lr(this.userKey,j.apiKey,Q),this.fullPersistenceKey=lr("persistence",j.apiKey,Q),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?ge._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,u.Z)(function*(){if(y.persistence===g)return;const x=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,x?y.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,x="authUser"){return(0,u.Z)(function*(){if(!y.length)return new _e(Bt(Cn),g,x);const j=(yield Promise.all(y.map(function(){var ln=(0,u.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let Q=j[0]||Bt(Cn);const Ve=lr(x,g.config.apiKey,g.name);let at=null;for(const ln of y)try{const an=yield ln._get(Ve);if(an){const pr=ge._fromJSON(g,an);ln!==Q&&(at=pr),Q=ln;break}}catch{}const ut=j.filter(ln=>ln._shouldAllowMigration);return Q._shouldAllowMigration&&ut.length?(Q=ut[0],at&&(yield Q._set(Ve,at.toJSON())),yield Promise.all(y.map(function(){var ln=(0,u.Z)(function*(an){if(an!==Q)try{yield an._remove(Ve)}catch{}});return function(an){return ln.apply(this,arguments)}}())),new _e(Q,g,x)):new _e(Q,g,x)})()}}function le(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ke(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(J(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Qt(g))return"Blackberry";if(ne(g))return"Webos";if(te(g))return"Safari";if((g.includes("chrome/")||q(g))&&!g.includes("edge/"))return"Chrome";if(St(g))return"Android";{const x=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function J(E=(0,ie.z$)()){return/firefox\//i.test(E)}function te(E=(0,ie.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function q(E=(0,ie.z$)()){return/crios\//i.test(E)}function ke(E=(0,ie.z$)()){return/iemobile/i.test(E)}function St(E=(0,ie.z$)()){return/android/i.test(E)}function Qt(E=(0,ie.z$)()){return/blackberry/i.test(E)}function ne(E=(0,ie.z$)()){return/webos/i.test(E)}function ce(E=(0,ie.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function De(E=(0,ie.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Zt(E=(0,ie.z$)()){return ce(E)||St(E)||ne(E)||Qt(E)||/windows phone/i.test(E)||ke(E)}function Ur(E,g=[]){let y;switch(E){case"Browser":y=le((0,ie.z$)());break;case"Worker":y=`${le((0,ie.z$)())}-${E}`;break;default:y=E}const x=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${z.SDK_VERSION}/${x}`}function ni(){return(ni=(0,u.Z)(function*(E){return(yield vt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ai(E,g){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(E,g){return vt(E,"GET","/v2/recaptchaConfig",Ge(E,g))})).apply(this,arguments)}function Vn(E){return void 0!==E&&void 0!==E.getResponse}function Ni(E){return void 0!==E&&void 0!==E.enterprise}class da{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function rc(E){return new Promise((g,y)=>{const x=document.createElement("script");x.setAttribute("src",E),x.onload=g,x.onerror=j=>{const Q=yt("internal-error");Q.customData=j,y(Q)},x.type="text/javascript",x.charset="UTF-8",function Jo(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(x)})}function ds(E){return`__${E}${Math.floor(1e6*Math.random())}`}class ha{constructor(g){this.type="recaptcha-enterprise",this.auth=_i(g)}verify(g="verify",y=!1){var x=this;return(0,u.Z)(function*(){function Q(){return Q=(0,u.Z)(function*(at){if(!y){if(null==at.tenantId&&null!=at._agentRecaptchaConfig)return at._agentRecaptchaConfig.siteKey;if(null!=at.tenantId&&void 0!==at._tenantRecaptchaConfigs[at.tenantId])return at._tenantRecaptchaConfigs[at.tenantId].siteKey}return new Promise(function(){var ut=(0,u.Z)(function*(ln,an){Ai(at,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pr=>{if(void 0!==pr.recaptchaKey){const Ns=new da(pr);return null==at.tenantId?at._agentRecaptchaConfig=Ns:at._tenantRecaptchaConfigs[at.tenantId]=Ns,ln(Ns.siteKey)}an(new Error("recaptcha Enterprise site key undefined"))}).catch(pr=>{an(pr)})});return function(ln,an){return ut.apply(this,arguments)}}())}),Q.apply(this,arguments)}function Ve(at,ut,ln){const an=window.grecaptcha;Ni(an)?an.enterprise.ready(()=>{an.enterprise.execute(at,{action:g}).then(pr=>{ut(pr)}).catch(()=>{ut("NO_RECAPTCHA")})}):ln(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((at,ut)=>{(function j(at){return Q.apply(this,arguments)})(x.auth).then(ln=>{if(!y&&Ni(window.grecaptcha))Ve(ln,at,ut);else{if(typeof window>"u")return void ut(new Error("RecaptchaVerifier is only supported in browser"));rc("https://www.google.com/recaptcha/enterprise.js?render="+ln).then(()=>{Ve(ln,at,ut)}).catch(an=>{ut(an)})}}).catch(ln=>{ut(ln)})})})()}}function fs(E,g,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(E,g,y,x=!1){const j=new ha(E);let Q;try{Q=yield j.verify(y)}catch{Q=yield j.verify(y,!0)}const Ve=Object.assign({},g);return Object.assign(Ve,x?{captchaResp:Q}:{captchaResponse:Q}),Object.assign(Ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ve})).apply(this,arguments)}class Cs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const x=Q=>new Promise((Ve,at)=>{try{Ve(g(Q))}catch(ut){at(ut)}});x.onAbort=y,this.queue.push(x);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,u.Z)(function*(){if(y.auth.currentUser===g)return;const x=[];try{for(const j of y.queue)yield j(g),j.onAbort&&x.push(j.onAbort)}catch(j){x.reverse();for(const Q of x)try{Q()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class As{constructor(g,y,x,j){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=x,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nu(this),this.idTokenSubscription=new nu(this),this.beforeStateQueue=new Cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(g,y){var x=this;return y&&(this._popupRedirectResolver=Bt(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var j,Q;if(!x._deleted&&(x.persistenceManager=yield _e.create(x,g),!x._deleted)){if(null!==(j=x._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(y),x.lastNotifiedUid=(null===(Q=x.currentUser)||void 0===Q?void 0:Q.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,u.Z)(function*(){var x;const j=yield y.assertedPersistence.getCurrentUser();let Q=j,Ve=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const at=null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId,ut=Q?._redirectEventId,ln=yield y.tryRedirectSignIn(g);(!at||at===ut)&&ln?.user&&(Q=ln.user,Ve=!0)}if(!Q)return y.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Ve)try{yield y.beforeStateQueue.runMiddleware(Q)}catch(at){Q=j,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(at))}return Q?y.reloadAndSetCurrentUserOrClear(Q):y.directlySetCurrentUser(null)}return de(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===Q._redirectEventId?y.directlySetCurrentUser(Q):y.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(g){var y=this;return(0,u.Z)(function*(){let x=null;try{x=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,u.Z)(function*(){try{yield gi(g)}catch(x){if("auth/network-request-failed"!==x?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function zn(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,u.Z)(function*(){const x=g?(0,ie.m9)(g):null;return x&&de(x.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(x&&x._clone(y))})()}_updateCurrentUser(g,y=!1){var x=this;return(0,u.Z)(function*(){if(!x._deleted)return g&&de(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),y||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,u.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(Bt(g))}))}initializeRecaptchaConfig(){var g=this;return(0,u.Z)(function*(){const y=yield Ai(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new da(y);null==g.tenantId?g._agentRecaptchaConfig=x:g._tenantRecaptchaConfigs[g.tenantId]=x,x.emailPasswordEnabled&&new ha(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ie.LL("auth","Firebase",g())}onAuthStateChanged(g,y,x){return this.registerStateListener(this.authStateSubscription,g,y,x)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,x){return this.registerStateListener(this.idTokenSubscription,g,y,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var x=this;return(0,u.Z)(function*(){const j=yield x.getOrInitRedirectPersistenceManager(y);return null===g?j.removeCurrentUser():j.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const x=g&&Bt(g)||y._popupRedirectResolver;de(x,y,"argument-error"),y.redirectPersistenceManager=yield _e.create(y,[Bt(x._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,u.Z)(function*(){var x,j;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(x=y._currentUser)||void 0===x?void 0:x._redirectEventId)===g?y._currentUser:(null===(j=y.redirectUser)||void 0===j?void 0:j._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,u.Z)(function*(){if(g===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,x,j){if(this._deleted)return()=>{};const Q="function"==typeof y?y:y.next.bind(y),Ve=this._isInitialized?Promise.resolve():this._initializationPromise;return de(Ve,this,"internal-error"),Ve.then(()=>Q(this.currentUser)),"function"==typeof y?g.addObserver(y,x,j):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var y;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const j=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();j&&(x["X-Firebase-Client"]=j);const Q=yield g._getAppCheckToken();return Q&&(x["X-Firebase-AppCheck"]=Q),x})()}_getAppCheckToken(){var g=this;return(0,u.Z)(function*(){var y;const x=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return x?.error&&function rn(E,...g){Ye.logLevel<=K.in.WARN&&Ye.warn(`Auth (${z.SDK_VERSION}): ${E}`,...g)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function _i(E){return(0,ie.m9)(E)}class nu{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ie.ne)(y=>this.observer=y)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rc(E,g,y){const x=_i(E);de(x._canInitEmulator,x,"emulator-config-failed"),de(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const j=!!y?.disableWarnings,Q=ao(g),{host:Ve,port:at}=function fa(E){const g=ao(E),y=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!y)return{host:"",port:null};const x=y[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(x);if(j){const Q=j[1];return{host:Q,port:ue(x.substr(Q.length+1))}}{const[Q,Ve]=x.split(":");return{host:Q,port:ue(Ve)}}}(g);x.config.emulator={url:`${Q}//${Ve}${null===at?"":`:${at}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Ve,port:at,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function B(){function E(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function ao(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function ue(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class X{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return ht("not implemented")}_getIdTokenResponse(g){return ht("not implemented")}_linkToIdToken(g,y){return ht("not implemented")}_getReauthenticationResolver(g){return ht("not implemented")}}function G(E,g){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:resetPassword",Ge(E,g))})).apply(this,arguments)}function Ie(E,g){return Le.apply(this,arguments)}function Le(){return(Le=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:update",Ge(E,g))})).apply(this,arguments)}function Nt(E,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signInWithPassword",Ge(E,g))})).apply(this,arguments)}function Ct(E,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:sendOobCode",Ge(E,g))})).apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(E,g){return Ct(E,g)})).apply(this,arguments)}function Zr(E,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(E,g){return Ct(E,g)})).apply(this,arguments)}function xr(E,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(E,g){return Ct(E,g)})).apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(E,g){return Ct(E,g)})).apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signInWithEmailLink",Ge(E,g))})).apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signInWithEmailLink",Ge(E,g))})).apply(this,arguments)}class Oi extends X{constructor(g,y,x,j=null){super("password",x),this._email=g,this._password=y,this._tenantId=j}static _fromEmailAndPassword(g,y){return new Oi(g,y,"password")}static _fromEmailAndCode(g,y,x=null){return new Oi(g,y,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,u.Z)(function*(){var x;switch(y.signInMethod){case"password":const j={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=g._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Q=yield fs(g,j,"signInWithPassword");return Nt(g,Q)}return Nt(g,j).catch(function(){var Q=(0,u.Z)(function*(Ve){if("auth/missing-recaptcha-token"===Ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const at=yield fs(g,j,"signInWithPassword");return Nt(g,at)}return Promise.reject(Ve)});return function(Ve){return Q.apply(this,arguments)}}());case"emailLink":return function fi(E,g){return $t.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ne(g,"internal-error")}})()}_linkToIdToken(g,y){var x=this;return(0,u.Z)(function*(){switch(x.signInMethod){case"password":return Ie(g,{idToken:y,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Kr(E,g){return Ii.apply(this,arguments)}(g,{idToken:y,email:x._email,oobCode:x._password});default:Ne(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Wi(E,g){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signInWithIdp",Ge(E,g))})).apply(this,arguments)}class Jt extends X{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Jt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ne("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:j}=y,Q=(0,Te._T)(y,["providerId","signInMethod"]);if(!x||!j)return null;const Ve=new Jt(x,j);return Ve.idToken=Q.idToken||void 0,Ve.accessToken=Q.accessToken||void 0,Ve.secret=Q.secret,Ve.nonce=Q.nonce,Ve.pendingToken=Q.pendingToken||null,Ve}_getIdTokenResponse(g){return Wi(g,this.buildRequest())}_linkToIdToken(g,y){const x=this.buildRequest();return x.idToken=y,Wi(g,x)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Wi(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,ie.xO)(y)}return g}}function _r(){return(_r=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:sendVerificationCode",Ge(E,g))})).apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signInWithPhoneNumber",Ge(E,g))})).apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(E,g){const y=yield wr(E,"POST","/v1/accounts:signInWithPhoneNumber",Ge(E,g));if(y.temporaryProof)throw mt(E,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Jr={USER_NOT_FOUND:"user-not-found"};function No(){return(No=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signInWithPhoneNumber",Ge(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Jr)})).apply(this,arguments)}class jn extends X{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new jn({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new jn({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Di(E,g){return ko.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Vi(E,g){return es.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function bo(E,g){return No.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:x,verificationCode:j}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:x,code:j}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:x,phoneNumber:j,temporaryProof:Q}=g;return x||y||j||Q?new jn({verificationId:y,verificationCode:x,phoneNumber:j,temporaryProof:Q}):null}}class ts{constructor(g){var y,x,j,Q,Ve,at;const ut=(0,ie.zd)((0,ie.pd)(g)),ln=null!==(y=ut.apiKey)&&void 0!==y?y:null,an=null!==(x=ut.oobCode)&&void 0!==x?x:null,pr=function Ei(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=ut.mode)&&void 0!==j?j:null);de(ln&&an&&pr,"argument-error"),this.apiKey=ln,this.operation=pr,this.code=an,this.continueUrl=null!==(Q=ut.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Ve=ut.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(at=ut.tenantId)&&void 0!==at?at:null}static parseLink(g){const y=function wl(E){const g=(0,ie.zd)((0,ie.pd)(E)).link,y=g?(0,ie.zd)((0,ie.pd)(g)).deep_link_id:null,x=(0,ie.zd)((0,ie.pd)(E)).deep_link_id;return(x?(0,ie.zd)((0,ie.pd)(x)).link:null)||x||y||g||E}(g);try{return new ts(y)}catch{return null}}}let oc=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(y,x){return Oi._fromEmailAndPassword(y,x)}static credentialWithLink(y,x){const j=ts.parseLink(x);return de(j,"argument-error"),Oi._fromEmailAndCode(y,j.code,j.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class $o{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class lo extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class pa extends lo{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return de("providerId"in y&&"signInMethod"in y,"argument-error"),Jt._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return de(g.idToken||g.accessToken,"argument-error"),Jt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return pa.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return pa.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:x,oauthTokenSecret:j,pendingToken:Q,nonce:Ve,providerId:at}=g;if(!x&&!j&&!y&&!Q||!at)return null;try{return new pa(at)._credential({idToken:y,accessToken:x,nonce:Ve,pendingToken:Q})}catch{return null}}}let sc=(()=>{class E extends lo{constructor(){super("facebook.com")}static credential(y){return Jt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ma=(()=>{class E extends lo{constructor(){super("google.com"),this.addScope("profile")}static credential(y,x){return Jt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:x})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:x,oauthAccessToken:j}=y;if(!x&&!j)return null;try{return E.credential(x,j)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ns=(()=>{class E extends lo{constructor(){super("github.com")}static credential(y){return Jt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Wo extends X{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Wi(g,this.buildRequest())}_linkToIdToken(g,y){const x=this.buildRequest();return x.idToken=y,Wi(g,x)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Wi(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:j,pendingToken:Q}=y;return x&&j&&Q&&x===j?new Wo(x,Q):null}static _create(g,y){return new Wo(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bl extends $o{constructor(g){de(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return bl.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return bl.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Wo.fromJSON(g);return de(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:x}=g;if(!y||!x)return null;try{return Wo._create(x,y)}catch{return null}}}let ga=(()=>{class E extends lo{constructor(){super("twitter.com")}static credential(y,x){return Jt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:x})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:x,oauthTokenSecret:j}=y;if(!x||!j)return null;try{return E.credential(x,j)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function $s(E,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signUp",Ge(E,g))})).apply(this,arguments)}class Ji{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,x,j=!1){return(0,u.Z)(function*(){const Q=yield ge._fromIdTokenResponse(g,x,j),Ve=Ws(x);return new Ji({user:Q,providerId:Ve,_tokenResponse:x,operationType:y})})()}static _forOperation(g,y,x){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const j=Ws(x);return new Ji({user:g,providerId:j,_tokenResponse:x,operationType:y})})()}}function Ws(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function _a(E){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(E){var g;const y=_i(E);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Ji({user:y.currentUser,providerId:null,operationType:"signIn"});const x=yield $s(y,{returnSecureToken:!0}),j=yield Ji._fromIdTokenResponse(y,"signIn",x,!0);return yield y._updateCurrentUser(j.user),j})).apply(this,arguments)}class ru extends ie.ZR{constructor(g,y,x,j){var Q;super(y.code,y.message),this.operationType=x,this.user=j,Object.setPrototypeOf(this,ru.prototype),this.customData={appName:g.name,tenantId:null!==(Q=g.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:y.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,y,x,j){return new ru(g,y,x,j)}}function uo(E,g,y,x){return("reauthenticate"===g?y._getReauthenticationResolver(E):y._getIdTokenResponse(E)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?ru._fromErrorAndOperation(E,Q,g,x):Q})}function Ui(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function Ss(E,g){return ya.apply(this,arguments)}function ya(){return ya=(0,u.Z)(function*(E,g){const y=(0,ie.m9)(E);yield Oa(!0,y,g);const{providerUserInfo:x}=yield function ot(E,g){return En.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),j=Ui(x||[]);return y.providerData=y.providerData.filter(Q=>j.has(Q.providerId)),j.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),ya.apply(this,arguments)}function rs(E,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(E,g,y=!1){const x=yield Tn(E,g._linkToIdToken(E.auth,yield E.getIdToken()),y);return Ji._forOperation(E,"link",x)})).apply(this,arguments)}function Oa(E,g,y){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(E,g,y){yield gi(g);const j=!1===E?"provider-already-linked":"no-such-provider";de(Ui(g.providerData).has(y)===E,g.auth,j)})).apply(this,arguments)}function Il(E,g){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(E,g,y=!1){const{auth:x}=E,j="reauthenticate";try{const Q=yield Tn(E,uo(x,j,g,E),y);de(Q.idToken,x,"internal-error");const Ve=Xt(Q.idToken);de(Ve,x,"internal-error");const{sub:at}=Ve;return de(E.uid===at,x,"user-mismatch"),Ji._forOperation(E,j,Q)}catch(Q){throw"auth/user-not-found"===Q?.code&&Ne(x,"user-mismatch"),Q}})).apply(this,arguments)}function El(E,g){return kc.apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(E,g,y=!1){const x="signIn",j=yield uo(E,x,g),Q=yield Ji._fromIdTokenResponse(E,x,j);return y||(yield E._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function ac(E,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(E,g){return El(_i(E),g)})).apply(this,arguments)}function Dd(E,g){return iu.apply(this,arguments)}function iu(){return(iu=(0,u.Z)(function*(E,g){const y=(0,ie.m9)(E);return yield Oa(!1,y,g.providerId),rs(y,g)})).apply(this,arguments)}function Yr(E,g){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,u.Z)(function*(E,g){return Il((0,ie.m9)(E),g)})).apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(E,g){return wr(E,"POST","/v1/accounts:signInWithCustomToken",Ge(E,g))})).apply(this,arguments)}function La(E,g){return lc.apply(this,arguments)}function lc(){return lc=(0,u.Z)(function*(E,g){const y=_i(E),x=yield function Md(E,g){return cc.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),j=yield Ji._fromIdTokenResponse(y,"signIn",x);return yield y._updateCurrentUser(j.user),j}),lc.apply(this,arguments)}class is{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?ou._fromServerResponse(g,y):"totpInfo"in y?uc._fromServerResponse(g,y):Ne(g,"internal-error")}}class ou extends is{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new ou(y)}}class uc extends is{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new uc(y)}}function dc(E,g,y){var x;de((null===(x=y.url)||void 0===x?void 0:x.length)>0,E,"invalid-continue-uri"),de(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(de(y.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(de(y.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Rd(E,g,y){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,u.Z)(function*(E,g,y){var x;const j=_i(E),Q={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=j._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Ve=yield fs(j,Q,"getOobCode",!0);y&&dc(j,Ve,y),yield Zr(j,Ve)}else y&&dc(j,Q,y),yield Zr(j,Q).catch(function(){var Ve=(0,u.Z)(function*(at){if("auth/missing-recaptcha-token"!==at.code)return Promise.reject(at);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ut=yield fs(j,Q,"getOobCode",!0);y&&dc(j,ut,y),yield Zr(j,ut)}});return function(at){return Ve.apply(this,arguments)}}())}),Tl.apply(this,arguments)}function Cl(E,g,y){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(E,g,y){yield G((0,ie.m9)(E),{oobCode:g,newPassword:y})})).apply(this,arguments)}function wa(E,g){return il.apply(this,arguments)}function il(){return il=(0,u.Z)(function*(E,g){yield function It(E,g){return Lt.apply(this,arguments)}((0,ie.m9)(E),{oobCode:g})}),il.apply(this,arguments)}function os(E,g){return S.apply(this,arguments)}function S(){return(S=(0,u.Z)(function*(E,g){const y=(0,ie.m9)(E),x=yield G(y,{oobCode:g}),j=x.requestType;switch(de(j,y,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(x.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(x.mfaInfo,y,"internal-error");default:de(x.email,y,"internal-error")}let Q=null;return x.mfaInfo&&(Q=is._fromServerResponse(_i(y),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:Q},operation:j}})).apply(this,arguments)}function R(E,g){return N.apply(this,arguments)}function N(){return(N=(0,u.Z)(function*(E,g){const{data:y}=yield os((0,ie.m9)(E),g);return y.email})).apply(this,arguments)}function L(E,g,y){return ee.apply(this,arguments)}function ee(){return ee=(0,u.Z)(function*(E,g,y){var x;const j=_i(E),Q={returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"};let Ve;if(null!==(x=j._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const ln=yield fs(j,Q,"signUpPassword");Ve=$s(j,ln)}else Ve=$s(j,Q).catch(function(){var ln=(0,u.Z)(function*(an){if("auth/missing-recaptcha-token"===an.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const pr=yield fs(j,Q,"signUpPassword");return $s(j,pr)}return Promise.reject(an)});return function(an){return ln.apply(this,arguments)}}());const at=yield Ve.catch(ln=>Promise.reject(ln)),ut=yield Ji._fromIdTokenResponse(j,"signIn",at);return yield j._updateCurrentUser(ut.user),ut}),ee.apply(this,arguments)}function ye(E,g,y){return ac((0,ie.m9)(E),oc.credential(g,y))}function We(E,g,y){return rt.apply(this,arguments)}function rt(){return rt=(0,u.Z)(function*(E,g,y){var x;const j=_i(E),Q={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function Ve(at,ut){de(ut.handleCodeInApp,j,"argument-error"),ut&&dc(j,at,ut)}if(null!==(x=j._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const at=yield fs(j,Q,"getOobCode",!0);Ve(at,y),yield xr(j,at)}else Ve(Q,y),yield xr(j,Q).catch(function(){var at=(0,u.Z)(function*(ut){if("auth/missing-recaptcha-token"!==ut.code)return Promise.reject(ut);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ln=yield fs(j,Q,"getOobCode",!0);Ve(ln,y),yield xr(j,ln)}});return function(ut){return at.apply(this,arguments)}}())}),rt.apply(this,arguments)}function $e(E,g){const y=ts.parseLink(g);return"EMAIL_SIGNIN"===y?.operation}function Rn(E,g,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E),j=oc.credentialWithLink(g,y||hn());return de(j._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),ac(x,j)})).apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:createAuthUri",Ge(E,g))})).apply(this,arguments)}function Ds(E,g){return ji.apply(this,arguments)}function ji(){return ji=(0,u.Z)(function*(E,g){const x={identifier:g,continueUri:sr()?hn():"http://localhost"},{signinMethods:j}=yield function ai(E,g){return ci.apply(this,arguments)}((0,ie.m9)(E),x);return j||[]}),ji.apply(this,arguments)}function Ms(E,g){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,u.Z)(function*(E,g){const y=(0,ie.m9)(E),j={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&dc(y.auth,j,g);const{email:Q}=yield function Sr(E,g){return fr.apply(this,arguments)}(y.auth,j);Q!==E.email&&(yield E.reload())}),Fo.apply(this,arguments)}function Al(E,g,y){return su.apply(this,arguments)}function su(){return su=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};y&&dc(x.auth,Q,y);const{email:Ve}=yield function dr(E,g){return Xr.apply(this,arguments)}(x.auth,Q);Ve!==E.email&&(yield E.reload())}),su.apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(E,g){return vt(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jf(E,g){return kd.apply(this,arguments)}function kd(){return kd=(0,u.Z)(function*(E,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const x=(0,ie.m9)(E),Q={idToken:yield x.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},Ve=yield Tn(x,function Pd(E,g){return qu.apply(this,arguments)}(x.auth,Q));x.displayName=Ve.displayName||null,x.photoURL=Ve.photoUrl||null;const at=x.providerData.find(({providerId:ut})=>"password"===ut);at&&(at.displayName=x.displayName,at.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Ve)}),kd.apply(this,arguments)}function zh(E,g){return Sl((0,ie.m9)(E),g,null)}function Nd(E,g){return Sl((0,ie.m9)(E),null,g)}function Sl(E,g,y){return Od.apply(this,arguments)}function Od(){return(Od=(0,u.Z)(function*(E,g,y){const{auth:x}=E,Q={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(Q.email=g),y&&(Q.password=y);const Ve=yield Tn(E,Ie(x,Q));yield E._updateTokensIfNecessary(Ve,!0)})).apply(this,arguments)}class xl{constructor(g,y,x={}){this.isNewUser=g,this.providerId=y,this.profile=x}}class Fd extends xl{constructor(g,y,x,j){super(g,y,x),this.username=j}}class cu extends xl{constructor(g,y){super(g,"facebook.com",y)}}class Zu extends Fd{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Ld extends xl{constructor(g,y){super(g,"google.com",y)}}class lu extends Fd{constructor(g,y,x){super(g,"twitter.com",y,x)}}function Nc(E){const{user:g,_tokenResponse:y}=E;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function au(E){var g,y;if(!E)return null;const{providerId:x}=E,j=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},Q=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!x&&E?.idToken){const Ve=null===(y=null===(g=Xt(E.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ve)return new xl(Q,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!x)return null;switch(x){case"facebook.com":return new cu(Q,j);case"github.com":return new Zu(Q,j);case"google.com":return new Ld(Q,j);case"twitter.com":return new lu(Q,j,E.screenName||null);case"custom":case"anonymous":return new xl(Q,null);default:return new xl(Q,x,j)}}(y)}class Rs{constructor(g,y,x){this.type=g,this.credential=y,this.auth=x}static _fromIdtoken(g,y){return new Rs("enroll",g,y)}static _fromMfaPendingCredential(g){return new Rs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,x;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Rs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return Rs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ol{constructor(g,y,x){this.session=g,this.hints=y,this.signInResolver=x}static _fromError(g,y){const x=_i(g),j=y.customData._serverResponse,Q=(j.mfaInfo||[]).map(at=>is._fromServerResponse(x,at));de(j.mfaPendingCredential,x,"internal-error");const Ve=Rs._fromMfaPendingCredential(j.mfaPendingCredential);return new ol(Ve,Q,function(){var at=(0,u.Z)(function*(ut){const ln=yield ut._process(x,Ve);delete j.mfaInfo,delete j.mfaPendingCredential;const an=Object.assign(Object.assign({},j),{idToken:ln.idToken,refreshToken:ln.refreshToken});switch(y.operationType){case"signIn":const pr=yield Ji._fromIdTokenResponse(x,y.operationType,an);return yield x._updateCurrentUser(pr.user),pr;case"reauthenticate":return de(y.user,x,"internal-error"),Ji._forOperation(y.user,y.operationType,an);default:Ne(x,"internal-error")}});return function(ut){return at.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,u.Z)(function*(){return y.signInResolver(g)})()}}function Rl(E,g){var y;const x=(0,ie.m9)(E),j=g;return de(g.customData.operationType,x,"argument-error"),de(null===(y=j.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,x,"argument-error"),ol._fromError(x,j)}class Pl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(x=>is._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new Pl(g)}getSession(){var g=this;return(0,u.Z)(function*(){return Rs._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var x=this;return(0,u.Z)(function*(){const j=g,Q=yield x.getSession(),Ve=yield Tn(x.user,j._process(x.user.auth,Q,y));return yield x.user._updateTokensIfNecessary(Ve),x.user.reload()})()}unenroll(g){var y=this;return(0,u.Z)(function*(){const x="string"==typeof g?g:g.uid,j=yield y.user.getIdToken();try{const Q=yield Tn(y.user,function Ud(E,g){return vt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(E,g))}(y.user.auth,{idToken:j,mfaEnrollmentId:x}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ve})=>Ve!==x),yield y.user._updateTokensIfNecessary(Q),yield y.user.reload()}catch(Q){throw Q}})()}}const Qr=new WeakMap;function hc(E){const g=(0,ie.m9)(E);return Qr.has(g)||Qr.set(g,Pl._fromUser(g)),Qr.get(g)}const ba="__sak";class qo{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nl=(()=>{class E extends qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,x)=>this.onStorageEvent(y,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rp(){const E=(0,ie.z$)();return te(E)||ce(E)}()&&function Er(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const x of Object.keys(this.listeners)){const j=this.storage.getItem(x),Q=this.localCache[x];j!==Q&&y(x,Q,j)}}onStorageEvent(y,x=!1){if(!y.key)return void this.forAllChangedKeys((at,ut,ln)=>{this.notifyListeners(at,ln)});const j=y.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(j);if(y.newValue!==at)null!==y.newValue?this.storage.setItem(j,y.newValue):this.storage.removeItem(j);else if(this.localCache[j]===y.newValue&&!x)return}const Q=()=>{const at=this.storage.getItem(j);!x&&this.localCache[j]===at||this.notifyListeners(j,at)},Ve=this.storage.getItem(j);!function Vt(){return(0,ie.w1)()&&10===document.documentMode}()||Ve===y.newValue||y.newValue===y.oldValue?Q():setTimeout(Q,10)}notifyListeners(y,x){this.localCache[y]=x;const j=this.listeners[y];if(j)for(const Q of Array.from(j))Q(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,x,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:x,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(x)}_removeListener(y,x){this.listeners[y]&&(this.listeners[y].delete(x),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,x){var j=()=>super._set,Q=this;return(0,u.Z)(function*(){yield j().call(Q,y,x),Q.localCache[y]=JSON.stringify(x)})()}_get(y){var x=()=>super._get,j=this;return(0,u.Z)(function*(){const Q=yield x().call(j,y);return j.localCache[y]=JSON.stringify(Q),Q})()}_remove(y){var x=()=>super._remove,j=this;return(0,u.Z)(function*(){yield x().call(j,y),delete j.localCache[y]})()}}return E.type="LOCAL",E})(),hu=(()=>{class E extends qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,x){}_removeListener(y,x){}}return E.type="SESSION",E})();let Gh=(()=>{class E{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const x=this.receivers.find(Q=>Q.isListeningto(y));if(x)return x;const j=new E(y);return this.receivers.push(j),j}isListeningto(y){return this.eventTarget===y}handleEvent(y){var x=this;return(0,u.Z)(function*(){const j=y,{eventId:Q,eventType:Ve,data:at}=j.data,ut=x.handlersMap[Ve];if(!ut?.size)return;j.ports[0].postMessage({status:"ack",eventId:Q,eventType:Ve});const ln=Array.from(ut).map(function(){var pr=(0,u.Z)(function*(Ns){return Ns(j.origin,at)});return function(Ns){return pr.apply(this,arguments)}}()),an=yield function fc(E){return Promise.all(E.map(function(){var g=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(x){return{fulfilled:!1,reason:x}}});return function(y){return g.apply(this,arguments)}}()))}(ln);j.ports[0].postMessage({status:"done",eventId:Q,eventType:Ve,response:an})})()}_subscribe(y,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(x)}_unsubscribe(y,x){this.handlersMap[y]&&x&&this.handlersMap[y].delete(x),(!x||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Fc(E="",g=10){let y="";for(let x=0;x<g;x++)y+=Math.floor(10*Math.random());return E+y}class $h{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,x=50){var j=this;return(0,u.Z)(function*(){const Q=typeof MessageChannel<"u"?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Ve,at;return new Promise((ut,ln)=>{const an=Fc("",20);Q.port1.start();const pr=setTimeout(()=>{ln(new Error("unsupported_event"))},x);at={messageChannel:Q,onMessage(Ns){const zc=Ns;if(zc.data.eventId===an)switch(zc.data.status){case"ack":clearTimeout(pr),Ve=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),ut(zc.data.response);break;default:clearTimeout(pr),clearTimeout(Ve),ln(new Error("invalid_response"))}}},j.handlers.add(at),Q.port1.addEventListener("message",at.onMessage),j.target.postMessage({eventType:g,eventId:an,data:y},[Q.port2])}).finally(()=>{at&&j.removeMessageHandler(at)})})()}}function eo(){return window}function Bd(){return typeof eo().WorkerGlobalScope<"u"&&"function"==typeof eo().importScripts}function fu(){return(fu=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qi="firebaseLocalStorageDb",Zi="firebaseLocalStorage",Va="fbase_key";class cl{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Xu(E,g){return E.transaction([Zi],g?"readwrite":"readonly").objectStore(Zi)}function zd(){const E=indexedDB.open(qi,1);return new Promise((g,y)=>{E.addEventListener("error",()=>{y(E.error)}),E.addEventListener("upgradeneeded",()=>{const x=E.result;try{x.createObjectStore(Zi,{keyPath:Va})}catch(j){y(j)}}),E.addEventListener("success",(0,u.Z)(function*(){const x=E.result;x.objectStoreNames.contains(Zi)?g(x):(x.close(),yield function qh(){const E=indexedDB.deleteDatabase(qi);return new cl(E).toPromise()}(),g(yield zd()))}))})}function Hd(E,g,y){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(E,g,y){const x=Xu(E,!0).put({[Va]:g,value:y});return new cl(x).toPromise()})).apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(E,g){const y=Xu(E,!1).get(g),x=yield new cl(y).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Ol(E,g){const y=Xu(E,!0).delete(g);return new cl(y).toPromise()}const Ia=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield zd()),y.db})()}_withRetries(y){var x=this;return(0,u.Z)(function*(){let j=0;for(;;)try{const Q=yield x._openDb();return yield y(Q)}catch(Q){if(j++>3)throw Q;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return Bd()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=Gh._getInstance(function pu(){return Bd()?self:null}()),y.receiver._subscribe("keyChanged",function(){var x=(0,u.Z)(function*(j,Q){return{keyProcessed:(yield y._poll()).includes(Q.key)}});return function(j,Q){return x.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var x=(0,u.Z)(function*(j,Q){return["keyChanged"]});return function(j,Q){return x.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var x,j;if(y.activeServiceWorker=yield function cr(){return fu.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new $h(y.activeServiceWorker);const Q=yield y.sender._send("ping",{},800);Q&&null!==(x=Q[0])&&void 0!==x&&x.fulfilled&&null!==(j=Q[0])&&void 0!==j&&j.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var x=this;return(0,u.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function ip(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:y},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield zd();return yield Hd(y,ba,"1"),yield Ol(y,ba),!0}catch{}return!1})()}_withPendingWrite(y){var x=this;return(0,u.Z)(function*(){x.pendingWrites++;try{yield y()}finally{x.pendingWrites--}})()}_set(y,x){var j=this;return(0,u.Z)(function*(){return j._withPendingWrite((0,u.Z)(function*(){return yield j._withRetries(Q=>Hd(Q,y,x)),j.localCache[y]=x,j.notifyServiceWorker(y)}))})()}_get(y){var x=this;return(0,u.Z)(function*(){const j=yield x._withRetries(Q=>function jr(E,g){return ps.apply(this,arguments)}(Q,y));return x.localCache[y]=j,j})()}_remove(y){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(j=>Ol(j,y)),delete x.localCache[y],x.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const x=yield y._withRetries(Ve=>{const at=Xu(Ve,!1).getAll();return new cl(at).toPromise()});if(!x)return[];if(0!==y.pendingWrites)return[];const j=[],Q=new Set;for(const{fbase_key:Ve,value:at}of x)Q.add(Ve),JSON.stringify(y.localCache[Ve])!==JSON.stringify(at)&&(y.notifyListeners(Ve,at),j.push(Ve));for(const Ve of Object.keys(y.localCache))y.localCache[Ve]&&!Q.has(Ve)&&(y.notifyListeners(Ve,null),j.push(Ve));return j})()}notifyListeners(y,x){this.localCache[y]=x;const j=this.listeners[y];if(j)for(const Q of Array.from(j))Q(x)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(x)}_removeListener(y,x){this.listeners[y]&&(this.listeners[y].delete(x),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),ho=1e12;class Ea{constructor(g){this.auth=g,this.counter=ho,this._widgets=new Map}render(g,y){const x=this.counter;return this._widgets.set(x,new Gd(g,this.auth.name,y||{})),this.counter++,x}reset(g){var y;const x=g||ho;null===(y=this._widgets.get(x))||void 0===y||y.delete(),this._widgets.delete(x)}getResponse(g){var y;return(null===(y=this._widgets.get(g||ho))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,u.Z)(function*(){var x;return null===(x=y._widgets.get(g||ho))||void 0===x||x.execute(),""})()}}class Gd{constructor(g,y,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof g?document.getElementById(g):g;de(j,"argument-error",{appName:y}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ua(E){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<E;x++)g.push(y.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qs=ds("rcb"),op=new Cr(3e4,6e4);class gu{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=eo().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return de(function sp(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&Vn(eo().grecaptcha)?Promise.resolve(eo().grecaptcha):new Promise((x,j)=>{const Q=eo().setTimeout(()=>{j(yt(g,"network-request-failed"))},op.get());eo()[qs]=()=>{eo().clearTimeout(Q),delete eo()[qs];const at=eo().grecaptcha;if(!at||!Vn(at))return void j(yt(g,"internal-error"));const ut=at.render;at.render=(ln,an)=>{const pr=ut(ln,an);return this.counter++,pr},this.hostLanguage=y,x(at)},rc(`https://www.google.com/recaptcha/api.js??${(0,ie.xO)({onload:qs,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(Q),j(yt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=eo().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _u{load(g){return(0,u.Z)(function*(){return new Ea(g)})()}clearedOneInstance(){}}const nd="recaptcha",Ll={theme:"light",type:"image"};class Vl{constructor(g,y=Object.assign({},Ll),x){this.parameters=y,this.type=nd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_i(x),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof g?document.getElementById(g):g;de(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _u:new gu,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(y)||new Promise(Q=>{const Ve=at=>{at&&(g.tokenChangeListeners.delete(Ve),Q(at))};g.tokenChangeListeners.add(Ve),g.isInvisible&&x.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(x=>x(y)),"function"==typeof g)g(y);else if("string"==typeof g){const x=eo()[g];"function"==typeof x&&x(y)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const x=document.createElement("div");y.appendChild(x),y=x}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){de(sr()&&!Bd(),g.auth,"internal-error"),yield function rd(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function ti(E){return ni.apply(this,arguments)}(g.auth);de(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class id{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=jn._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Pn(E,g,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(E,g,y){const x=_i(E),j=yield U(x,g,(0,ie.m9)(y));return new id(j,Q=>ac(x,Q))})).apply(this,arguments)}function To(E,g,y){return b.apply(this,arguments)}function b(){return(b=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E);yield Oa(!1,x,"phone");const j=yield U(x.auth,g,(0,ie.m9)(y));return new id(j,Q=>Dd(x,Q))})).apply(this,arguments)}function M(E,g,y){return T.apply(this,arguments)}function T(){return(T=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E),j=yield U(x.auth,g,(0,ie.m9)(y));return new id(j,Q=>Yr(x,Q))})).apply(this,arguments)}function U(E,g,y){return oe.apply(this,arguments)}function oe(){return oe=(0,u.Z)(function*(E,g,y){var x;const j=yield y.verify();try{let Q;if(de("string"==typeof j,E,"argument-error"),de(y.type===nd,E,"argument-error"),Q="string"==typeof g?{phoneNumber:g}:g,"session"in Q){const Ve=Q.session;if("phoneNumber"in Q)return de("enroll"===Ve.type,E,"internal-error"),(yield function Vd(E,g){return vt(E,"POST","/v2/accounts/mfaEnrollment:start",Ge(E,g))}(E,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{de("signin"===Ve.type,E,"internal-error");const at=(null===(x=Q.multiFactorHint)||void 0===x?void 0:x.uid)||Q.multiFactorUid;return de(at,E,"missing-multi-factor-info"),(yield function Ju(E,g){return vt(E,"POST","/v2/accounts/mfaSignIn:start",Ge(E,g))}(E,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:at,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield function Un(E,g){return _r.apply(this,arguments)}(E,{phoneNumber:Q.phoneNumber,recaptchaToken:j});return Ve}}finally{y._reset()}}),oe.apply(this,arguments)}function fe(E,g){return pe.apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(E,g){yield rs((0,ie.m9)(E),g)})).apply(this,arguments)}let Oe=(()=>{class E{constructor(y){this.providerId=E.PROVIDER_ID,this.auth=_i(y)}verifyPhoneNumber(y,x){return U(this.auth,y,(0,ie.m9)(x))}static credential(y,x){return jn._fromVerification(y,x)}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:x,temporaryProof:j}=y;return x&&j?jn._fromTokenResponse(x,j):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ue(E,g){return g?Bt(g):(de(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Pt extends X{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Wi(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Wi(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Wi(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Ut(E){return El(E.auth,new Pt(E),E.bypassAuthState)}function un(E){const{auth:g,user:y}=E;return de(y,g,"internal-error"),Il(y,new Pt(E),E.bypassAuthState)}function qn(E){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(E){const{auth:g,user:y}=E;return de(y,g,"internal-error"),rs(y,new Pt(E),E.bypassAuthState)})).apply(this,arguments)}class An{constructor(g,y,x,j,Q=!1){this.auth=g,this.resolver=x,this.user=j,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,u.Z)(function*(x,j){g.pendingPromise={resolve:x,reject:j};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(Q){g.reject(Q)}});return function(x,j){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,u.Z)(function*(){const{urlResponse:x,sessionId:j,postBody:Q,tenantId:Ve,error:at,type:ut}=g;if(at)return void y.reject(at);const ln={auth:y.auth,requestUri:x,sessionId:j,tenantId:Ve||void 0,postBody:Q||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ut)(ln))}catch(an){y.reject(an)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ut;case"linkViaPopup":case"linkViaRedirect":return qn;case"reauthViaPopup":case"reauthViaRedirect":return un;default:Ne(this.auth,"internal-error")}}resolve(g){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qn=new Cr(2e3,1e4);function Bn(E,g,y){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(E,g,y){const x=_i(E);it(E,g,$o);const j=Ue(x,y);return new Lo(x,"signInViaPopup",g,j).executeNotNull()})).apply(this,arguments)}function nr(E,g,y){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E);it(x.auth,g,$o);const j=Ue(x.auth,y);return new Lo(x.auth,"reauthViaPopup",g,j,x).executeNotNull()})).apply(this,arguments)}function mi(E,g,y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E);it(x.auth,g,$o);const j=Ue(x.auth,y);return new Lo(x.auth,"linkViaPopup",g,j,x).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class E extends An{constructor(y,x,j,Q,Ve){super(y,x,Q,Ve),this.provider=j,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const x=yield y.execute();return de(x,y.auth,"internal-error"),x})()}onExecution(){var y=this;return(0,u.Z)(function*(){Ht(1===y.filter.length,"Popup operations only handle one event");const x=Fc();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],x),y.authWindow.associatedEvent=x,y.resolver._originValidation(y.auth).catch(j=>{y.reject(j)}),y.resolver._isIframeWebStorageSupported(y.auth,j=>{j||y.reject(yt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const y=()=>{var x,j;this.pollId=null!==(j=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(yt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Qn.get())};y()}}return E.currentPopupAction=null,E})();const Zs="pendingRedirect",to=new Map;class ja extends An{constructor(g,y,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,u.Z)(function*(){let x=to.get(y.auth._key());if(!x){try{const Q=(yield function Ul(E,g){return Vo.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;x=()=>Promise.resolve(Q)}catch(j){x=()=>Promise.reject(j)}to.set(y.auth._key(),x)}return y.bypassAuthState||to.set(y.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,x=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(x,g);if("unknown"!==g.type){if(g.eventId){const j=yield x.auth._redirectUserForId(g.eventId);if(j)return x.user=j,y().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Vo(){return(Vo=(0,u.Z)(function*(E,g){const y=yu(g),x=Bl(E);if(!(yield x._isAvailable()))return!1;const j="true"===(yield x._get(y));return yield x._remove(y),j})).apply(this,arguments)}function fo(E,g){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(E,g){return Bl(E)._set(yu(g),"true")})).apply(this,arguments)}function jl(){to.clear()}function za(E,g){to.set(E._key(),g)}function Bl(E){return Bt(E._redirectPersistence)}function yu(E){return lr(Zs,E.config.apiKey,E.name)}function pc(E,g,y){return function Lc(E,g,y){return Vc.apply(this,arguments)}(E,g,y)}function Vc(){return(Vc=(0,u.Z)(function*(E,g,y){const x=_i(E);it(E,g,$o),yield x._initializationPromise;const j=Ue(x,y);return yield fo(j,x),j._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function mc(E,g,y){return function Ta(E,g,y){return Uc.apply(this,arguments)}(E,g,y)}function Uc(){return(Uc=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E);it(x.auth,g,$o),yield x.auth._initializationPromise;const j=Ue(x.auth,y);yield fo(j,x.auth);const Q=yield Gr(x);return j._openRedirect(x.auth,g,"reauthViaRedirect",Q)})).apply(this,arguments)}function zl(E,g,y){return function Ca(E,g,y){return li.apply(this,arguments)}(E,g,y)}function li(){return(li=(0,u.Z)(function*(E,g,y){const x=(0,ie.m9)(E);it(x.auth,g,$o),yield x.auth._initializationPromise;const j=Ue(x.auth,y);yield Oa(!1,x,g.providerId),yield fo(j,x.auth);const Q=yield Gr(x);return j._openRedirect(x.auth,g,"linkViaRedirect",Q)})).apply(this,arguments)}function Ks(E,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(E,g){return yield _i(E)._initializationPromise,gc(E,g,!1)})).apply(this,arguments)}function gc(E,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(E,g,y=!1){const x=_i(E),j=Ue(x,g),Ve=yield new ja(x,j,y).execute();return Ve&&!y&&(delete Ve.user._redirectEventId,yield x._persistUserIfCurrent(Ve.user),yield x._setRedirectUser(null,g)),Ve})).apply(this,arguments)}function Gr(E){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(E){const g=Fc(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class Mi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(y=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ys(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ks(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var x;if(g.error&&!ks(g)){const j=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";y.onError(yt(this.auth,j))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const x=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ri(g))}saveEventToCache(g){this.cachedEventUids.add(Ri(g)),this.lastProcessedEventTime=Date.now()}}function Ri(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function ks({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===g?.code}function Co(E){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(E,g={}){return vt(E,"GET","/v1/projects",g)})).apply(this,arguments)}const Wd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ha=/^https?/;function od(){return(od=(0,u.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield Co(E);for(const y of g)try{if(Yh(y))return}catch{}Ne(E,"unauthorized-domain")})).apply(this,arguments)}function Yh(E){const g=hn(),{protocol:y,hostname:x}=new URL(g);if(E.startsWith("chrome-extension://")){const Ve=new URL(E);return""===Ve.hostname&&""===x?"chrome-extension:"===y&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&Ve.hostname===x}if(!Ha.test(y))return!1;if(Wd.test(E))return x===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(x)}const Hl=new Cr(3e4,6e4);function Gl(){const E=eo().___jsl;if(E?.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let y=0;y<E.CP.length;y++)E.CP[y]=null}let po=null;const Qh=new Cr(5e3,15e3),jc="__/auth/iframe",cp="emulator/auth/iframe",lp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vu(E){const g=E.config;de(g.authDomain,E,"auth-domain-config-required");const y=g.emulator?yr(g,cp):`https://${E.config.authDomain}/${jc}`,x={apiKey:g.apiKey,appName:E.name,v:z.SDK_VERSION},j=qd.get(E.config.apiHost);j&&(x.eid=j);const Q=E._getFrameworks();return Q.length&&(x.fw=Q.join(",")),`${y}?${(0,ie.xO)(x).slice(1)}`}function gs(){return gs=(0,u.Z)(function*(E){const g=yield function $l(E){return po=po||function ap(E){return new Promise((g,y)=>{var x,j,Q;function Ve(){Gl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Gl(),y(yt(E,"network-request-failed"))},timeout:Hl.get()})}if(null!==(j=null===(x=eo().gapi)||void 0===x?void 0:x.iframes)&&void 0!==j&&j.Iframe)g(gapi.iframes.getContext());else{if(null===(Q=eo().gapi)||void 0===Q||!Q.load){const at=ds("iframefcb");return eo()[at]=()=>{gapi.load?Ve():y(yt(E,"network-request-failed"))},rc(`https://apis.google.com/js/api.js?onload=${at}`).catch(ut=>y(ut))}Ve()}}).catch(g=>{throw po=null,g})}(E),po}(E),y=eo().gapi;return de(y,E,"internal-error"),g.open({where:document.body,url:vu(E),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lp,dontclear:!0},x=>new Promise(function(){var j=(0,u.Z)(function*(Q,Ve){yield x.restyle({setHideOnLeave:!1});const at=yt(E,"network-request-failed"),ut=eo().setTimeout(()=>{Ve(at)},Qh.get());function ln(){eo().clearTimeout(ut),Q(x)}x.ping(ln).then(ln,()=>{Ve(at)})});return function(Q,Ve){return j.apply(this,arguments)}}()))}),gs.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Be{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dn="__/auth/handler",Zn="emulator/auth/handler",br=encodeURIComponent("fac");function or(E,g,y,x,j,Q){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(E,g,y,x,j,Q){de(E.config.authDomain,E,"auth-domain-config-required"),de(E.config.apiKey,E,"invalid-api-key");const Ve={apiKey:E.config.apiKey,appName:E.name,authType:y,redirectUrl:x,v:z.SDK_VERSION,eventId:j};if(g instanceof $o){g.setDefaultLanguage(E.languageCode),Ve.providerId=g.providerId||"",(0,ie.xb)(g.getCustomParameters())||(Ve.customParameters=JSON.stringify(g.getCustomParameters()));for(const[an,pr]of Object.entries(Q||{}))Ve[an]=pr}if(g instanceof lo){const an=g.getScopes().filter(pr=>""!==pr);an.length>0&&(Ve.scopes=an.join(","))}E.tenantId&&(Ve.tid=E.tenantId);const at=Ve;for(const an of Object.keys(at))void 0===at[an]&&delete at[an];const ut=yield E._getAppCheckToken(),ln=ut?`#${br}=${encodeURIComponent(ut)}`:"";return`${function mo({config:E}){return E.emulator?yr(E,Zn):`https://${E.authDomain}/${dn}`}(E)}?${(0,ie.xO)(at).slice(1)}${ln}`})).apply(this,arguments)}const Li="webStorageSupport",_c=class Xh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hu,this._completeRedirectFn=gc,this._overrideRedirectResult=za}_openPopup(g,y,x,j){var Q=this;return(0,u.Z)(function*(){var Ve;Ht(null===(Ve=Q.eventManagers[g._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const at=yield or(g,y,x,hn(),j);return function wt(E,g,y,x=500,j=600){const Q=Math.max((window.screen.availHeight-j)/2,0).toString(),Ve=Math.max((window.screen.availWidth-x)/2,0).toString();let at="";const ut=Object.assign(Object.assign({},C),{width:x.toString(),height:j.toString(),top:Q,left:Ve}),ln=(0,ie.z$)().toLowerCase();y&&(at=q(ln)?"_blank":y),J(ln)&&(g=g||"http://localhost",ut.scrollbars="yes");const an=Object.entries(ut).reduce((Ns,[zc,Kd])=>`${Ns}${zc}=${Kd},`,"");if(function Qe(E=(0,ie.z$)()){var g;return ce(E)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ln)&&"_self"!==at)return function gn(E,g){const y=document.createElement("a");y.href=E,y.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(x)}(g||"",at),new Be(null);const pr=window.open(g||"",at,an);de(pr,E,"popup-blocked");try{pr.focus()}catch{}return new Be(pr)}(g,at,Fc())})()}_openRedirect(g,y,x,j){var Q=this;return(0,u.Z)(function*(){return yield Q._originValidation(g),function al(E){eo().location.href=E}(yield or(g,y,x,hn(),j)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:j,promise:Q}=this.eventManagers[y];return j?Promise.resolve(j):(Ht(Q,"If manager is not set, promise should be"),Q)}const x=this.initAndGetManager(g);return this.eventManagers[y]={promise:x},x.catch(()=>{delete this.eventManagers[y]}),x}initAndGetManager(g){var y=this;return(0,u.Z)(function*(){const x=yield function sd(E){return gs.apply(this,arguments)}(g),j=new Mi(g);return x.register("authEvent",Q=>(de(Q?.authEvent,g,"invalid-auth-event"),{status:j.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:j},y.iframes[g._key()]=x,j})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Li,{type:Li},j=>{var Q;const Ve=null===(Q=j?.[0])||void 0===Q?void 0:Q[Li];void 0!==Ve&&y(!!Ve),Ne(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ga(E){return od.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Zt()||te()||ce()}};class $a{constructor(g){this.factorId=g}_process(g,y,x){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,x);case"signin":return this._finalizeSignIn(g,y.credential);default:return ht("unexpected MultiFactorSessionType")}}}class no extends $a{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new no(g)}_finalizeEnroll(g,y,x){return function sl(E,g){return vt(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(E,g))}(g,{idToken:y,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function ed(E,g){return vt(E,"POST","/v2/accounts/mfaSignIn:finalize",Ge(E,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wu=(()=>{class E{constructor(){}static assertion(y){return no._fromCredential(y)}}return E.FACTOR_ID="phone",E})();var BA="@firebase/auth";class Fy{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(x=>{g(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ie.Pz)("authIdTokenMaxAge"),function tg(E){(0,z._registerComponent)(new Ce.wA("auth",(g,{options:y})=>{const x=g.getProvider("app").getImmediate(),j=g.getProvider("heartbeat"),Q=g.getProvider("app-check-internal"),{apiKey:Ve,authDomain:at}=x.options;de(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:x.name});const ut={apiKey:Ve,authDomain:at,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(E)},ln=new As(x,j,Q,ut);return function ic(E,g){const y=g?.persistence||[],x=(Array.isArray(y)?y:[y]).map(Bt);g?.errorMap&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(x,g?.popupRedirectResolver)}(ln,y),ln},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,x)=>{g.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new Ce.wA("auth-internal",g=>{const y=_i(g.getProvider("auth").getImmediate());return new Fy(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(BA,"0.23.2",function Wa(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,z.registerVersion)(BA,"0.23.2","esm2017")}("Browser")},9347:pn=>{!function(){"use strict";var st={d:function(S,R){for(var N in R)st.o(R,N)&&!st.o(S,N)&&Object.defineProperty(S,N,{enumerable:!0,get:R[N]})},o:function(S,R){return Object.prototype.hasOwnProperty.call(S,R)},r:function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},W={};function u(S){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Ce(){}function Pe(S,R,N){if(!S.s){if(N instanceof Me){if(!N.s)return void(N.o=Pe.bind(null,S,R));1&R&&(R=N.s),N=N.v}if(N&&N.then)return void N.then(Pe.bind(null,S,R),Pe.bind(null,S,2));S.s=R,S.v=N;var L=S.o;L&&L(S)}}st.r(W),st.d(W,{AuthManager:function(){return os},BaseAPI:function(){return Ft},BinaryResult:function(){return Je},BytescaleApiClientConfigUtils:function(){return mt},BytescaleApiError:function(){return ot},CancelledError:function(){return ct},CommonTypesNoOp:function(){return _i},FileApi:function(){return gr},FolderApi:function(){return te},JSONApiResponse:function(){return Kn},JobApi:function(){return Ai},UploadApi:function(){return As},UploadManager:function(){return Il},UrlBuilder:function(){return Kt},UrlBuilderTypesNoOp:function(){return Sr},VoidApiResponse:function(){return kn},querystring:function(){return En}});var Me=function(){function S(){}return S.prototype.then=function(R,N){var L=new S,ee=this.s;if(ee){var ye=1&ee?R:N;if(ye){try{Pe(L,1,ye(this.v))}catch(We){Pe(L,2,We)}return L}return this}return this.o=function(We){try{var rt=We.v;1&We.s?Pe(L,1,R?R(rt):rt):N?Pe(L,1,N(rt)):Pe(L,2,rt)}catch($e){Pe(L,2,$e)}},L},S}();function Y(S){return S instanceof Me&&1&S.s}function Xe(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,_t(L.key),L)}}function _t(S){var R=function qt(S,R){if("object"!==u(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==u(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===u(R)?R:String(R)}var Ye=function(){function S(){(function Tt(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),this.mutex=void 0,this.resolver=void 0}return function bt(S,R,N){R&&Xe(S.prototype,R),N&&Xe(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,[{key:"safe",value:function(N){try{var L=this;return function K(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}(L.acquire(),function(){return function Te(S,R){try{var N=S()}catch(L){return R(!0,L)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(N,function(ee,ye){return L.release(),function z(S,R){if(S)throw R;return R}(ee,ye)})})}catch(ee){return Promise.reject(ee)}}},{key:"acquire",value:function(){try{var N=this;return function Ee(S,R){return S&&S.then?S.then(R):R(S)}(function re(S,R,N){for(var L;;){var ee=S();if(Y(ee)&&(ee=ee.v),!ee)return ye;if(ee.then){L=0;break}var ye=N();if(ye&&ye.then){if(!Y(ye)){L=1;break}ye=ye.s}if(R){var We=R();if(We&&We.then&&!Y(We)){L=2;break}}}var rt=new Me,$e=Pe.bind(null,rt,2);return(0===L?ee.then(mn):1===L?ye.then(Rn):We.then(ai)).then(void 0,$e),rt;function Rn(ci){ye=ci;do{if(R&&(We=R())&&We.then&&!Y(We))return void We.then(ai).then(void 0,$e);if(!(ee=S())||Y(ee)&&!ee.v)return void Pe(rt,1,ye);if(ee.then)return void ee.then(mn).then(void 0,$e);Y(ye=N())&&(ye=ye.v)}while(!ye||!ye.then);ye.then(Rn).then(void 0,$e)}function mn(ci){ci?(ye=N())&&ye.then?ye.then(Rn).then(void 0,$e):Rn(ye):Pe(rt,1,ye)}function ai(){(ee=S())?ee.then?ee.then(mn).then(void 0,$e):mn(ee):Pe(rt,1,ye)}}(function(){return void 0!==N.mutex},void 0,function(){return function Ae(S,R){if(!R)return S&&S.then?S.then(Ce):Promise.resolve()}(N.mutex)}),function(){N.mutex=new Promise(function(L){N.resolver=L})})}catch(L){return Promise.reject(L)}}},{key:"release",value:function(){if(void 0===this.resolver)throw new Error("Unable to release mutex: already released.");this.resolver(),this.resolver=void 0,this.mutex=void 0}}]),S}();function rn(S){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Ne(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,He(L.key),L)}}function He(S){var R=function it(S,R){if("object"!==rn(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==rn(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===rn(R)?R:String(R)}var At=function(){function S(){!function on(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,S)}return function yt(S,R,N){R&&Ne(S.prototype,R),N&&Ne(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,null,[{key:"getMutex",value:function(){var N=S.mutexKey,L=window[N];return void 0===L&&(L=new Ye,window[N]=L),L}},{key:"setSession",value:function(N){window[S.stateKey]=N}},{key:"getSession",value:function(){if(!(typeof window>"u"))return window[S.stateKey]}}]),S}();function de(S){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function ht(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&yr(S,R)}function Ht(S){var R=zn();return function(){var ee,L=je(S);if(R){var ye=je(this).constructor;ee=Reflect.construct(L,arguments,ye)}else ee=L.apply(this,arguments);return function hn(S,R){if(R&&("object"===de(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function sr(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,ee)}}function er(S){var R="function"==typeof Map?new Map:void 0;return er=function(L){if(null===L||!function Cr(S){return-1!==Function.toString.call(S).indexOf("[native code]")}(L))return L;if("function"!=typeof L)throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(L))return R.get(L);R.set(L,ee)}function ee(){return mr(L,arguments,je(this).constructor)}return ee.prototype=Object.create(L.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),yr(ee,L)},er(S)}function mr(S,R,N){return(mr=zn()?Reflect.construct.bind():function(ee,ye,We){var rt=[null];rt.push.apply(rt,ye);var Rn=new(Function.bind.apply(ee,rt));return We&&yr(Rn,We.prototype),Rn}).apply(null,arguments)}function zn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yr(S,R){return(yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,ee){return L.__proto__=ee,L})(S,R)}function je(S){return(je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}function qe(S,R){try{var N=S()}catch(L){return R(L)}return N&&N.then?N.then(void 0,R):N}function et(){}function Ge(S,R){return S&&S.then?S.then(R):R(S)}function jt(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function Ot(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function wr(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,be(L.key),L)}}function me(S,R,N){return R&&wr(S.prototype,R),N&&wr(S,N),Object.defineProperty(S,"prototype",{writable:!1}),S}function be(S){var R=function xe(S,R){if("object"!==de(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==de(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===de(R)?R:String(R)}At.stateKey="BytescaleSessionState",At.mutexKey="BytescaleSessionStateMutex";var mt=function(){function S(){Ot(this,S)}return me(S,null,[{key:"getApiUrl",value:function(N){var L;return null!==(L=N.apiUrl)&&void 0!==L?L:S.defaultApiUrl}},{key:"getCdnUrl",value:function(N){var L;return null!==(L=N.cdnUrl)&&void 0!==L?L:S.defaultCdnUrl}},{key:"getFetchApi",value:function(N){var L;return null!==(L=N.fetchApi)&&void 0!==L?L:fetch}},{key:"getAccountId",value:function(N){var L,ee,ye;if(S.specialApiKeys.includes(N.apiKey))ye=S.specialApiKeyAccountId;else if((ye=null!==(ee=null===(L=N.apiKey.split("_")[1])||void 0===L?void 0:L.substr(0,S.accountIdLength))&&void 0!==ee?ee:"").length!==S.accountIdLength)throw new Error("Invalid Bytescale API key.");return ye}},{key:"validate",value:function(N){var L;if(void 0===(N??void 0))throw new Error("Config parameter required.");if(void 0===(null!==(L=N.apiKey)&&void 0!==L?L:void 0))throw new Error("Please provide an API key via the 'apiKey' config parameter.");if(N.apiKey.trim()!==N.apiKey)throw new Error("API key needs trimming (whitespace detected).");S.getAccountId(N)}}]),S}();mt.defaultApiUrl="https://api.bytescale.com",mt.defaultCdnUrl="https://upcdn.io",mt.specialApiKeys=["free","demo"],mt.specialApiKeyAccountId="W142hJk",mt.accountIdLength=7;var Ft=function(){function S(R){Ot(this,S),this.config=R,mt.validate(R)}return me(S,[{key:"request",value:function(N,L,ee){try{var We,ye=this;N.headers.Authorization="Bearer ".concat(ye.config.apiKey);var $e=At.getSession();void 0!==$e?.accessToken&&(N.headers["Authorization-Token"]=$e.accessToken);var Rn=function Mt(S,R,N){return(R=be(R))in S?Object.defineProperty(S,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[R]=N,S}({},mt.defaultCdnUrl,mt.getCdnUrl(ye.config));return jt(ye.createFetchParams(N,L,void 0===ee?void 0:null!==(We=Rn[ee])&&void 0!==We?We:ee),function(mn){return S.fetch(mn.url,mn.init,Object.assign(Object.assign({},ye.config),{isBytescaleApi:!0}))})}catch(mn){return Promise.reject(mn)}}},{key:"encodeParam",value:function(N,L){if("filePath"===N){if(!L.startsWith("/"))throw new Error("The 'filePath' parameter must begin with a '/' character.");return L}return encodeURIComponent(L)}},{key:"createFetchParams",value:function(N,L,ee){try{var We=(ee??mt.getApiUrl(this.config))+N.path;void 0!==N.query&&0!==Object.keys(N.query).length&&(We+="?"+En(N.query));var rt=this.config.headers,$e=Object.assign({},N.headers);return jt(void 0===rt?{}:"function"==typeof rt?rt():rt,function(Rn){var mn=Object.assign($e,Rn);Object.keys(mn).forEach(function(ji){return void 0===mn[ji]?delete mn[ji]:{}});var ai="function"==typeof L?L:function(){return jt(L)},ci={method:N.method,headers:mn,body:N.body},Ds=Object.assign({},ci);return jt(ai({init:ci,context:N}),function(ji){var Ms=Object.assign(Ds,ji),Fo=Object.assign(Object.assign({},Ms),{body:JSON.stringify(Ms.body)});return{url:We,init:Fo}})},void 0===rt||"function"!=typeof rt)}catch(Rn){return Promise.reject(Rn)}}}],[{key:"fetch",value:function(N,L,ee){try{var We,rt,$e;return Ge(qe(function(){return jt(mt.getFetchApi(ee)(N,Object.assign(Object.assign({},L),{cache:"no-store"})),function(Rn){$e=Rn})},function(Rn){throw new Error(ee.isBytescaleApi?"Unable to resolve the Bytescale API: ".concat(Rn.message," If the problem persists, and your network connection is OK, then please contact support@bytescale.com and provide: (a) time of failed request in UTC (b) screenshot of failed network response header + body (c) screenshot of failed network request header + body (d) browser and OS version."):"Unable to resolve URL (".concat(N,"): ").concat(Rn.message))}),function(Rn){return $e.status>=200&&$e.status<300?$e:function vt(S,R){var N=S();return N&&N.then?N.then(R):R(N)}(function(){if(ee.isBytescaleApi){var ai=void 0;return Ge(qe(function(){return jt($e.json(),function(ci){ai=ci})},et),function(){throw"string"==typeof(null===(We=ai?.error)||void 0===We?void 0:We.code)?new ot(ai):new Error("Unable to connect to the Bytescale API (".concat($e.status,"): please try again."))})}},function(ai){throw new Error("Failure status code (".concat($e.status,") received for request: ").concat(null!==(rt=L.method)&&void 0!==rt?rt:"GET"," ").concat(N))})})}catch(Rn){return Promise.reject(Rn)}}}]),S}(),ct=function(S){ht(N,S);var R=Ht(N);function N(){var L;return Ot(this,N),(L=R.call(this,"Operation cancelled by caller.")).name="CancelledError",L}return me(N)}(er(Error)),ot=function(S){ht(N,S);var R=Ht(N);function N(L){var ee;return Ot(this,N),(ee=R.call(this,L.error.message)).name="BytescaleApiError",ee.errorCode=L.error.code,ee.details=L.error.details,ee}return me(N)}(er(Error));function En(S){return Object.keys(S).map(function(R){return function $n(S,R){return R instanceof Object?En(R):"".concat(encodeURIComponent(S),"=").concat(encodeURIComponent(String(R)))}(R,S[R])}).filter(function(R){return R.length>0}).join("&")}var Kn=function(){function S(R){Ot(this,S),this.raw=R}return me(S,[{key:"value",value:function(){try{return jt(this.raw.json())}catch(L){return Promise.reject(L)}}}]),S}(),kn=function(){function S(R){Ot(this,S),this.raw=R}return me(S,[{key:"value",value:function(){return jt(void 0)}}]),S}(),Je=function(){function S(R){Ot(this,S),this.raw=R}return me(S,[{key:"stream",value:function(){if(this.raw.bodyUsed)throw new Error("Response body has already been consumed.");if(null===this.raw.body)throw new Error("Response body does not exist.");return this.raw.body}},{key:"text",value:function(){try{return jt(this.raw.text())}catch(L){return Promise.reject(L)}}},{key:"blob",value:function(){try{return jt(this.raw.blob())}catch(L){return Promise.reject(L)}}},{key:"json",value:function(){try{return jt(this.raw.json())}catch(L){return Promise.reject(L)}}}]),S}();function hr(S){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Dn(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function Xt(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,Tn(L.key),L)}}function Tn(S){var R=function ar(S,R){if("object"!==hr(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==hr(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===hr(R)?R:String(R)}function Ln(S,R){return(Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,ee){return L.__proto__=ee,L})(S,R)}function Nn(S){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var gr=function(S){!function Ar(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&Ln(S,R)}(N,S);var R=function tr(S){var R=function ii(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,L=Nn(S);if(R){var ye=Nn(this).constructor;ee=Reflect.construct(L,arguments,ye)}else ee=L.apply(this,arguments);return function gi(S,R){if(R&&("object"===hr(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function sn(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,ee)}}(N);function N(){return function Rt(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function Wn(S,R,N){R&&Xt(S.prototype,R),N&&Xt(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"copyFile",value:function(ee){try{return Dn(this.request({path:"/v2/accounts/{accountId}/files/copy".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ee.copyFileRequest},void 0,[][0]),function($e){return Dn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"copyFileBatch",value:function(ee){try{return Dn(this.request({path:"/v2/accounts/{accountId}/files/copy/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ee.copyFileBatchRequest},void 0,[][0]),function($e){return Dn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"deleteFile",value:function(ee){try{var We={};return void 0!==ee.filePath&&(We.filePath=ee.filePath),Dn(this.request({path:"/v2/accounts/{accountId}/files".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"DELETE",headers:{},query:We},void 0,[][0]),function($e){return Dn(new kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"deleteFileBatch",value:function(ee){try{return Dn(this.request({path:"/v2/accounts/{accountId}/files/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"DELETE",headers:{"Content-Type":"application/json"},query:{},body:ee.deleteFileBatchRequest},void 0,[][0]),function($e){return Dn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"downloadFile",value:function(ee){try{var We={};return void 0!==ee.cache&&(We.cache=ee.cache),void 0!==ee.cacheTtl&&(We.cache_ttl=ee.cacheTtl),void 0!==ee.version&&(We.version=ee.version),Dn(this.request({path:"/{accountId}/raw{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",ee.filePath)),method:"GET",headers:{},query:We},void 0,"https://upcdn.io"),function($e){return new Je($e)})}catch($e){return Promise.reject($e)}}},{key:"getFileDetails",value:function(ee){try{var We={};return void 0!==ee.filePath&&(We.filePath=ee.filePath),Dn(this.request({path:"/v2/accounts/{accountId}/files/details".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"GET",headers:{},query:We},void 0,[][0]),function($e){return Dn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"processFile",value:function(ee){try{var We={};return void 0!==ee.artifact&&(We.artifact=ee.artifact),void 0!==ee.cache&&(We.cache=ee.cache),void 0!==ee.cachePerm&&(We.cache_perm=ee.cachePerm),void 0!==ee.cacheTtl&&(We.cache_ttl=ee.cacheTtl),void 0!==ee.transformationParams&&(We.transformationParams=ee.transformationParams),void 0!==ee.version&&(We.version=ee.version),Dn(this.request({path:"/{accountId}/{transformation}{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",ee.filePath)).replace("{".concat("transformation","}"),this.encodeParam("transformation",ee.transformation)),method:"GET",headers:{},query:We},void 0,"https://upcdn.io"),function($e){return new Je($e)})}catch($e){return Promise.reject($e)}}},{key:"processFileAndSave",value:function(ee){try{var We={};void 0!==ee.transformationParams&&(We.transformationParams=ee.transformationParams);return Dn(this.request({path:"/{accountId}/save/{transformation}{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",ee.filePath)).replace("{".concat("transformation","}"),this.encodeParam("transformation",ee.transformation)),method:"POST",headers:{"Content-Type":"application/json"},query:We,body:ee.processFileAndSaveRequest},void 0,"https://upcdn.io"),function($e){return Dn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}}]),N}(Ft);function bi(S){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Ir(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function ei(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,ge(L.key),L)}}function ge(S){var R=function Ze(S,R){if("object"!==bi(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==bi(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===bi(R)?R:String(R)}function cn(S,R){return(cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,ee){return L.__proto__=ee,L})(S,R)}function J(S){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var te=function(S){!function Bt(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&cn(S,R)}(N,S);var R=function Cn(S){var R=function le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,L=J(S);if(R){var ye=J(this).constructor;ee=Reflect.construct(L,arguments,ye)}else ee=L.apply(this,arguments);return function lr(S,R){if(R&&("object"===bi(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function _e(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,ee)}}(N);function N(){return function Mr(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function nt(S,R,N){R&&ei(S.prototype,R),N&&ei(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"copyFolder",value:function(ee){try{return Ir(this.request({path:"/v2/accounts/{accountId}/folders/copy".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ee.copyFolderRequest},void 0,[][0]),function($e){return Ir(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"copyFolderBatch",value:function(ee){try{return Ir(this.request({path:"/v2/accounts/{accountId}/folders/copy/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ee.copyFolderBatchRequest},void 0,[][0]),function($e){return Ir(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"deleteFolder",value:function(ee){try{return Ir(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"DELETE",headers:{"Content-Type":"application/json"},query:{},body:ee.deleteFolderRequest},void 0,[][0]),function($e){return Ir(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"deleteFolderBatch",value:function(ee){try{return Ir(this.request({path:"/v2/accounts/{accountId}/folders/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"DELETE",headers:{"Content-Type":"application/json"},query:{},body:ee.deleteFolderBatchRequest},void 0,[][0]),function($e){return Ir(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"getFolderDetails",value:function(ee){try{var We={};return void 0!==ee.folderPath&&(We.folderPath=ee.folderPath),Ir(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"GET",headers:{},query:We},void 0,[][0]),function($e){return Ir(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"listFolder",value:function(ee){try{var We={};return void 0!==ee.cursor&&(We.cursor=ee.cursor),void 0!==ee.dryRun&&(We.dryRun=ee.dryRun),void 0!==ee.folderPath&&(We.folderPath=ee.folderPath),void 0!==ee.includeFiles&&(We.includeFiles=ee.includeFiles),void 0!==ee.includeOverriddenStorage&&(We.includeOverriddenStorage=ee.includeOverriddenStorage),void 0!==ee.includePhysicalFolders&&(We.includePhysicalFolders=ee.includePhysicalFolders),void 0!==ee.includeVirtualFolders&&(We.includeVirtualFolders=ee.includeVirtualFolders),void 0!==ee.limit&&(We.limit=ee.limit),void 0!==ee.recursive&&(We.recursive=ee.recursive),Ir(this.request({path:"/v2/accounts/{accountId}/folders/list".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"GET",headers:{},query:We},void 0,[][0]),function($e){return Ir(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"putFolder",value:function(ee){try{return Ir(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"PUT",headers:{"Content-Type":"application/json"},query:{},body:ee.putFolderRequest},void 0,[][0]),function($e){return Ir(new Kn($e).value())})}catch($e){return Promise.reject($e)}}}]),N}(Ft);function q(S){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function ke(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function Qt(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,ce(L.key),L)}}function ce(S){var R=function De(S,R){if("object"!==q(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==q(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===q(R)?R:String(R)}function Vt(S,R){return(Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,ee){return L.__proto__=ee,L})(S,R)}function ni(S){return(ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var Ai=function(S){!function Qe(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&Vt(S,R)}(N,S);var R=function Zt(S){var R=function ti(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,L=ni(S);if(R){var ye=ni(this).constructor;ee=Reflect.construct(L,arguments,ye)}else ee=L.apply(this,arguments);return function Er(S,R){if(R&&("object"===q(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function Ur(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,ee)}}(N);function N(){return function St(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function ne(S,R,N){R&&Qt(S.prototype,R),N&&Qt(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"cancelJob",value:function(ee){try{return ke(this.request({path:"/v2/accounts/{accountId}/jobs/{jobType}/{jobId}".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("jobId","}"),this.encodeParam("jobId",ee.jobId)).replace("{".concat("jobType","}"),this.encodeParam("jobType",ee.jobType)),method:"DELETE",headers:{},query:{}},void 0,[][0]),function($e){return ke(new kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"getJob",value:function(ee){try{return ke(this.request({path:"/v2/accounts/{accountId}/jobs/{jobType}/{jobId}".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("jobId","}"),this.encodeParam("jobId",ee.jobId)).replace("{".concat("jobType","}"),this.encodeParam("jobType",ee.jobType)),method:"GET",headers:{},query:{}},void 0,[][0]),function($e){return ke(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"listRecentJobs",value:function(ee){try{var We={};return ee.jobType&&(We.jobType=ee.jobType),ke(this.request({path:"/v2/accounts/{accountId}/jobs".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"GET",headers:{},query:We},void 0,[][0]),function($e){return ke(new Kn($e).value())})}catch($e){return Promise.reject($e)}}}]),N}(Ft);function si(S){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Vn(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function da(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,rc(L.key),L)}}function rc(S){var R=function ds(S,R){if("object"!==si(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==si(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===si(R)?R:String(R)}function hs(S,R){return(hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,ee){return L.__proto__=ee,L})(S,R)}function Cs(S){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var As=function(S){!function Gs(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&hs(S,R)}(N,S);var R=function Mc(S){var R=function Ts(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,L=Cs(S);if(R){var ye=Cs(this).constructor;ee=Reflect.construct(L,arguments,ye)}else ee=L.apply(this,arguments);return function ha(S,R){if(R&&("object"===si(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function fs(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,ee)}}(N);function N(){return function Ni(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function Jo(S,R,N){R&&da(S.prototype,R),N&&da(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"beginMultipartUpload",value:function(ee){try{return Vn(this.request({path:"/v2/accounts/{accountId}/uploads".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ee.beginMultipartUploadRequest},void 0,[][0]),function($e){return Vn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"completeUploadPart",value:function(ee){try{return Vn(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts/{uploadPartIndex}".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",ee.uploadId)).replace("{".concat("uploadPartIndex","}"),this.encodeParam("uploadPartIndex",ee.uploadPartIndex)),method:"PUT",headers:{"Content-Type":"application/json"},query:{},body:ee.completeUploadPartRequest},void 0,[][0]),function($e){return Vn(new kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"getUploadPart",value:function(ee){try{return Vn(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts/{uploadPartIndex}".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",ee.uploadId)).replace("{".concat("uploadPartIndex","}"),this.encodeParam("uploadPartIndex",ee.uploadPartIndex)),method:"GET",headers:{},query:{}},void 0,[][0]),function($e){return Vn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"listUploadParts",value:function(ee){try{return Vn(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",ee.uploadId)),method:"GET",headers:{},query:{}},void 0,[][0]),function($e){return Vn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}},{key:"uploadFromUrl",value:function(ee){try{return Vn(this.request({path:"/v2/accounts/{accountId}/uploads/url".replace("{".concat("accountId","}"),this.encodeParam("accountId",ee.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ee.uploadFromUrlRequest},void 0,[][0]),function($e){return Vn(new Kn($e).value())})}catch($e){return Promise.reject($e)}}}]),N}(Ft),_i=!1;function Po(S){return null!=S[1]}function ic(S){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Rc(S,R){return function ue(S){if(Array.isArray(S))return S}(S)||function fa(S,R){var N=null==S?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(null!=N){var L,ee,ye,We,rt=[],$e=!0,Rn=!1;try{if(ye=(N=N.call(S)).next,0===R){if(Object(N)!==N)return;$e=!1}else for(;!($e=(L=ye.call(N)).done)&&(rt.push(L.value),rt.length!==R);$e=!0);}catch(mn){Rn=!0,ee=mn}finally{try{if(!$e&&null!=N.return&&(We=N.return(),Object(We)!==We))return}finally{if(Rn)throw ee}}return rt}}(S,R)||G(S,R)||function ao(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(S){return function Ie(S){if(Array.isArray(S))return Le(S)}(S)||function Fe(S){if(typeof Symbol<"u"&&null!=S[Symbol.iterator]||null!=S["@@iterator"])return Array.from(S)}(S)||G(S)||function X(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(S,R){if(S){if("string"==typeof S)return Le(S,R);var N=Object.prototype.toString.call(S).slice(8,-1);if("Object"===N&&S.constructor&&(N=S.constructor.name),"Map"===N||"Set"===N)return Array.from(S);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return Le(S,R)}}function Le(S,R){(null==R||R>S.length)&&(R=S.length);for(var N=0,L=new Array(R);N<R;N++)L[N]=S[N];return L}function Lt(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,lt(L.key),L)}}function lt(S){var R=function Ct(S,R){if("object"!==ic(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==ic(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===ic(R)?R:String(R)}var Kt=function(){function S(){!function It(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,S)}return function Nt(S,R,N){R&&Lt(S.prototype,R),N&&Lt(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,null,[{key:"url",value:function(N){var L;return void 0===(null===(L=N.options)||void 0===L?void 0:L.transformation)?this.raw(N):this.transformation(N,N.options)}},{key:"raw",value:function(N){var L,ee=this.getBaseUrl(N,"raw"),ye=this.getCommonQueryParams(null!==(L=N.options)&&void 0!==L?L:{});return this.addQueryParams(ee,ye)}},{key:"transformation",value:function(N,L){var ee,ye=this.getBaseUrl(N,"preset"===L.transformation?L.transformationPreset:L.transformation),We="preset"===L.transformation?[]:this.getTransformationParams(L),rt=this.getCommonQueryParams(null!==(ee=N.options)&&void 0!==ee?ee:{}),$e=this.getCommonTransformationQueryParams(L);return this.addQueryParams(ye,[].concat(B(We),B(rt),B($e)))}},{key:"getBaseUrl",value:function(N,L){return"".concat(mt.defaultCdnUrl,"/").concat(N.accountId,"/").concat(L).concat(N.filePath)}},{key:"getCommonTransformationQueryParams",value:function(N){return this.makeQueryParams(["cachePermanently","artifact"],{cachePermanently:"cache_perm"})(N)}},{key:"getCommonQueryParams",value:function(N){return this.makeQueryParams(["auth","cache","cacheTtl","version","forceDownloadPrompt"],{cacheTtl:"cache_ttl",forceDownloadPrompt:"download"})(N)}},{key:"makeQueryParams",value:function(N,L){return function(ee){var ye=[];return N.forEach(function(We){var rt,$e=ee[We];void 0!==$e&&ye.push([null!==(rt=L[We])&&void 0!==rt?rt:We,$e.toString()])}),ye}}},{key:"getTransformationParams",value:function(N){var L=N.transformationParams;if(void 0===L)return[];var ee=function(We){return Object.entries(We).filter(Po).map(function(rt){var $e=Rc(rt,2);return[$e[0],$e[1].toString()]})};return Array.isArray(L)?L.flatMap(ee):ee(L)}},{key:"addQueryParams",value:function(N,L){return 0===L.length?N:"".concat(N,"?").concat(L.map(function(ee){var ye=Rc(ee,2),rt=ye[1];return"".concat(encodeURIComponent(ye[0]),"=").concat(encodeURIComponent(rt))}).join("&"))}}]),S}(),Sr=!1;function fr(S){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Zr(S){return function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];try{return Promise.resolve(S.apply(this,R))}catch(L){return Promise.reject(L)}}}function xr(S,R,N){if(!S.s){if(N instanceof Hn){if(!N.s)return void(N.o=xr.bind(null,S,R));1&R&&(R=N.s),N=N.v}if(N&&N.then)return void N.then(xr.bind(null,S,R),xr.bind(null,S,2));S.s=R,S.v=N;var L=S.o;L&&L(S)}}var Hn=function(){function S(){}return S.prototype.then=function(R,N){var L=new S,ee=this.s;if(ee){var ye=1&ee?R:N;if(ye){try{xr(L,1,ye(this.v))}catch(We){xr(L,2,We)}return L}return this}return this.o=function(We){try{var rt=We.v;1&We.s?xr(L,1,R?R(rt):rt):N?xr(L,1,N(rt)):xr(L,2,rt)}catch($e){xr(L,2,$e)}},L},S}();function dr(S){return S instanceof Hn&&1&S.s}function $t(S){return function Wi(S){if(Array.isArray(S))return co(S)}(S)||function Oi(S){if(typeof Symbol<"u"&&null!=S[Symbol.iterator]||null!=S["@@iterator"])return Array.from(S)}(S)||function Ii(S,R){if(S){if("string"==typeof S)return co(S,R);var N=Object.prototype.toString.call(S).slice(8,-1);if("Object"===N&&S.constructor&&(N=S.constructor.name),"Map"===N||"Set"===N)return Array.from(S);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return co(S,R)}}(S)||function Kr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(S,R){(null==R||R>S.length)&&(R=S.length);for(var N=0,L=new Array(R);N<R;N++)L[N]=S[N];return L}function Hr(){}function Jt(S,R){if(!R)return S&&S.then?S.then(Hr):Promise.resolve()}function Un(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function es(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,bo(L.key),L)}}function bo(S){var R=function No(S,R){if("object"!==fr(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==fr(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===fr(R)?R:String(R)}function Ei(S){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function pi(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,$o(L.key),L)}}function $o(S){var R=function lo(S,R){if("object"!==Ei(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==Ei(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Ei(R)?R:String(R)}function sc(S,R){return(sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,ee){return L.__proto__=ee,L})(S,R)}function vr(S){return(vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var bl=function(S){!function pa(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&sc(S,R)}(N,S);var R=function ma(S){var R=function Wo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,L=vr(S);if(R){var ye=vr(this).constructor;ee=Reflect.construct(L,arguments,ye)}else ee=L.apply(this,arguments);return function ns(S,R){if(R&&("object"===Ei(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function rl(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,ee)}}(N);function N(){return function ts(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function oc(S,R,N){R&&pi(S.prototype,R),N&&pi(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"processUploadSource",value:function(ee){if("string"==typeof ee)return{type:"Blob",value:new Blob([ee],{type:this.stringMimeType})};if(void 0!==ee.byteLength)return{type:"ArrayBuffer",value:ee};if(void 0!==ee.size)return{type:"Blob",value:ee};throw new Error("Unsupported type for 'data' parameter. Please provide a String, Blob, ArrayBuffer, or File object (from a file input element).")}},{key:"getPreUploadInfoPartial",value:function(ee,ye){switch(ye.type){case"Blob":return this.getBlobInfo(ye);case"ArrayBuffer":return{mime:void 0,size:ye.value.byteLength,originalFileName:void 0,maxConcurrentUploadParts:void 0};default:!function nu(S){throw new Error("Didn't expect to get here: ".concat(JSON.stringify(S)))}(ye)}}},{key:"preUpload",value:function(ee){}},{key:"postUpload",value:function(ee){return function wl(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}()}},{key:"getRequestBody",value:function(ee,ye){return-1===ee.range.inclusiveEnd?new Blob:ye.value.slice(ee.range.inclusiveStart,ee.range.inclusiveEnd+1)}}]),N}(function(){function S(R){(function Vi(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),this.config=R,this.stringMimeType="text/plain",this.defaultMaxConcurrentUploadParts=4,this.intervalMs=500,this.uploadApi=new As(R),this.accountId=mt.getAccountId(R)}return function Jr(S,R,N){R&&es(S.prototype,R),N&&es(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,[{key:"upload",value:function(N){try{var L=this;L.assertNotCancelled(N);var ee=L.processUploadSource(N.data),ye=L.getPreUploadInfo(N,ee),We=ye.size,rt=L.makeOnProgressForPartFactory(N,We),$e=L.preUpload(ee);return void 0!==N.onProgress&&N.onProgress(L.makeProgressEvent(0,We)),Un(L.beginUpload(N,ye),function(Rn){var ai=$t(Array(Rn.uploadParts.count).keys()),ci=L.makeCancellationMethods(),ji=ci.addCancellationHandler,Ms=setInterval(L.onIntervalTick(N,ci.cancel),L.intervalMs);return function ko(S,R){return S&&S.then?S.then(R):R(S)}(function Di(S,R){try{var N=S()}catch(L){return R(!0,L)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(function(){return Un(L.mapAsync(ai,ye.maxConcurrentUploadParts,Zr(function(Fo){return L.uploadPart(N,ee,Fo,Rn,rt(),ji)})),function(){return Jt(L.postUpload($e))})},function(Fo,Al){return clearInterval(Ms),function _r(S,R){if(S)throw R;return R}(Fo,Al)}),function(){return Rn.file})})}catch(Rn){return Promise.reject(Rn)}}},{key:"getBlobInfo",value:function(N){var L=N.value;return{mime:L.type,size:L.size,originalFileName:L.name,maxConcurrentUploadParts:void 0}}},{key:"onIntervalTick",value:function(N,L){var ee=this;return function(){ee.isCancelled(N)&&L()}}},{key:"makeCancellationMethods",value:function(){var N=[];return{cancel:function(){return N.forEach(function(We){return We()})},addCancellationHandler:function(We){N.push(We)}}}},{key:"makeOnProgressForPartFactory",value:function(N,L){var ee=this,ye=N.onProgress;if(void 0===ye)return function(){return function(){}};var We=0;return function(){var rt=0;return function($e){var Rn=$e-rt;rt+=Rn,ye(ee.makeProgressEvent(We+=Rn,L))}}}},{key:"makeProgressEvent",value:function(N,L){return{bytesTotal:L,bytesSent:N,progress:Math.round(N/L*100)}}},{key:"assertNotCancelled",value:function(N){if(this.isCancelled(N))throw new ct}},{key:"isCancelled",value:function(N){var L;return!0===(null===(L=N.cancellationToken)||void 0===L?void 0:L.isCancelled)}},{key:"beginUpload",value:function(N,L){var ee=L.size,ye=L.mime,We=L.originalFileName;try{return Un(this.uploadApi.beginMultipartUpload({accountId:this.accountId,beginMultipartUploadRequest:{metadata:N.metadata,mime:ye,originalFileName:We,path:N.path,protocol:"1.1",size:ee,tags:N.tags}}))}catch($e){return Promise.reject($e)}}},{key:"uploadPart",value:function(N,L,ee,ye,We,rt){try{var $e=this;return $e.assertNotCancelled(N),Un($e.getUploadPart(ee,ye),function(Rn){return $e.assertNotCancelled(N),Un($e.putUploadPart(Rn,L,We,rt),function(mn){return $e.assertNotCancelled(N),Jt($e.uploadApi.completeUploadPart({accountId:$e.accountId,uploadId:ye.uploadId,uploadPartIndex:ee,completeUploadPartRequest:{etag:mn}}))})})}catch(Rn){return Promise.reject(Rn)}}},{key:"putUploadPart",value:function(N,L,ee,ye){try{var rt=N.range.inclusiveEnd+1-N.range.inclusiveStart;return Un(this.doPutUploadPart(N,rt,L,ee,ye),function($e){var Rn=$e.status,mn=$e.etag;if(2!==Math.floor(Rn/100))throw new Error("Failed to upload part (".concat(Rn,")."));if(void 0===mn)throw new Error("No 'etag' response header found in upload part response.");return ee(rt),mn})}catch($e){return Promise.reject($e)}}},{key:"getUploadPart",value:function(N,L){try{return 0===N?L.uploadParts.first:Un(this.uploadApi.getUploadPart({uploadId:L.uploadId,accountId:this.accountId,uploadPartIndex:N}))}catch(ye){return Promise.reject(ye)}}},{key:"getPreUploadInfo",value:function(N,L){var ee,ye,We,rt=this.getPreUploadInfoPartial(N,L);return{maxConcurrentUploadParts:null!==(ee=rt.maxConcurrentUploadParts)&&void 0!==ee?ee:this.defaultMaxConcurrentUploadParts,originalFileName:null!==(ye=N.originalFileName)&&void 0!==ye?ye:rt.originalFileName,mime:null!==(We=N.mime)&&void 0!==We?We:rt.mime,size:rt.size}}},{key:"mapAsync",value:function(N,L,ee){try{var ye=$t(N);return Jt(Promise.all($t(Array(L).keys()).map(Zr(function(){return function fi(S){if(S&&S.then)return S.then(Hr)}(function Xr(S,R,N){for(var L;;){var ee=S();if(dr(ee)&&(ee=ee.v),!ee)return ye;if(ee.then){L=0;break}var ye=N();if(ye&&ye.then){if(!dr(ye)){L=1;break}ye=ye.s}if(R){var We=R();if(We&&We.then&&!dr(We)){L=2;break}}}var rt=new Hn,$e=xr.bind(null,rt,2);return(0===L?ee.then(mn):1===L?ye.then(Rn):We.then(ai)).then(void 0,$e),rt;function Rn(ci){ye=ci;do{if(R&&(We=R())&&We.then&&!dr(We))return void We.then(ai).then(void 0,$e);if(!(ee=S())||dr(ee)&&!ee.v)return void xr(rt,1,ye);if(ee.then)return void ee.then(mn).then(void 0,$e);dr(ye=N())&&(ye=ye.v)}while(!ye||!ye.then);ye.then(Rn).then(void 0,$e)}function mn(ci){ci?(ye=N())&&ye.then?ye.then(Rn).then(void 0,$e):Rn(ye):xr(rt,1,ye)}function ai(){(ee=S())?ee.then?ee.then(mn).then(void 0,$e):mn(ee):xr(rt,1,ye)}}(function(){return ye.length>0},void 0,function(){var We=ye.shift();return function Rr(S){var R=S();if(R&&R.then)return R.then(Hr)}(function(){if(void 0!==We)return Jt(ee(We))})}))}))))}catch(We){return Promise.reject(We)}}}]),S}());function ga(S){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function _a(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,ru(L.key),L)}}function ru(S){var R=function uo(S,R){if("object"!==ga(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==ga(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===ga(R)?R:String(R)}function Ss(S,R){return(Ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,ee){return L.__proto__=ee,L})(S,R)}function va(S){return(va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var Il=function(S){!function Ui(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&Ss(S,R)}(N,S);var R=function ya(S){var R=function Oa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,L=va(S);if(R){var ye=va(this).constructor;ee=Reflect.construct(L,arguments,ye)}else ee=L.apply(this,arguments);return function rs(S,R){if(R&&("object"===ga(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function Oo(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,ee)}}(N);function N(){return function Ws(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function Fi(S,R,N){R&&_a(S.prototype,R),N&&_a(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"doPutUploadPart",value:function(ee,ye,We,rt,$e){try{var Rn=this,mn=new XMLHttpRequest,ai=!0;return $e(function(){ai&&mn.abort()}),function Ji(S,R){try{var N=S()}catch(L){return R(!0,L)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(function(){return function $s(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}(new Promise(function(ci,Ds){mn.upload.addEventListener("progress",function(ji){ji.lengthComputable&&rt(ji.loaded)},!1),mn.addEventListener("load",function(){var ji,Ms=null!==(ji=mn.getResponseHeader("etag"))&&void 0!==ji?ji:void 0;ci({etag:Ms,status:mn.status})}),mn.onabort=function(){return Ds(new ct)},mn.onerror=function(){return Ds(new Error("File upload error."))},mn.ontimeout=function(){return Ds(new Error("File upload timeout."))},mn.open("PUT",ee.uploadUrl),mn.send(Rn.getRequestBody(ee,We))}))},function(ci,Ds){return ai=!1,function Xi(S,R){if(S)throw R;return R}(ci,Ds)})}catch(ci){return Promise.reject(ci)}}}]),N}(bl);function Pc(S){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function kc(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,Fa(L.key),L)}}function Fa(S){var R=function Dd(S,R){if("object"!==Pc(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==Pc(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Pc(R)?R:String(R)}var iu=function(){function S(){!function El(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,S)}return function ac(S,R,N){R&&kc(S.prototype,R),N&&kc(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,null,[{key:"error",value:function(N){console.error(S.prefix(N))}},{key:"warn",value:function(N){console.warn(S.prefix(N))}},{key:"prefix",value:function(N){return"[bytescale-sdk] ".concat(N)}}]),S}();function Yr(S){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Wu(S,R,N){return(R=xs(R))in S?Object.defineProperty(S,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[R]=N,S}function Md(){}function cc(S,R){if(!R)return S&&S.then?S.then(Md):Promise.resolve()}function La(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function lc(S){return function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];try{return Promise.resolve(S.apply(this,R))}catch(L){return Promise.reject(L)}}}function Tl(S,R){for(var N=0;N<R.length;N++){var L=R[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,xs(L.key),L)}}function xs(S){var R=function wa(S,R){if("object"!==Yr(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var L=N.call(S,R||"default");if("object"!==Yr(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Yr(R)?R:String(R)}var os=new(function(){function S(){(function Rd(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),this.contentType="content-type",this.contentTypeJson="application/json",this.contentTypeText="text/plain",this.minJwtTtlSeconds=10,this.maxJwtTtlSeconds=2147483,this.retryAuthAfterErrorSeconds=5,this.refreshBeforeExpirySeconds=20,this.authSessionMutex=At.getMutex()}return function Cl(S,R,N){R&&Tl(S.prototype,R),N&&Tl(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,[{key:"isAuthSessionActive",value:function(){return void 0!==At.getSession()}},{key:"beginAuthSession",value:function(N){try{var L=this,ee={accessToken:void 0,accessTokenRefreshHandle:void 0,params:N,isActive:!0};return La(L.authSessionMutex.safe(lc(function(){if(L.isAuthSessionActive())throw new Error("Auth session already active: see AuthManager.isAuthSessionActive(). Please call 'await endAuthSession()' and then 'await beginAuthSession(...)' if you want to start a new auth session.");return At.setSession(ee),La()})),function(){return cc(L.refreshAccessToken(ee))})}catch(ye){return Promise.reject(ye)}}},{key:"endAuthSession",value:function(){try{var N=this;return cc(N.authSessionMutex.safe(lc(function(){var L=At.getSession();if(void 0!==L)return At.setSession(void 0),L.isActive=!1,void 0!==L.accessTokenRefreshHandle&&clearTimeout(L.accessTokenRefreshHandle),cc(N.deleteAccessToken(L.params))})))}catch(L){return Promise.reject(L)}}},{key:"refreshAccessToken",value:function(N){try{var L=this;return cc(L.authSessionMutex.safe(lc(function(){if(N.isActive){var ee=L.retryAuthAfterErrorSeconds;return function dc(S){if(S&&S.then)return S.then(Md)}(function uc(S,R){try{var N=S()}catch(L){return R(!0,L)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(function(){return function is(S,R){try{var N=S()}catch(L){return R(L)}return N&&N.then?N.then(void 0,R):N}(function(){var ye=L.getAccessToken,We=N.params;return La(N.params.authHeaders(),function(rt){return La(ye.call(L,We,rt),function($e){return La(L.setAccessToken(N.params,$e),function(Rn){var mn=Rn.ttlSeconds-L.refreshBeforeExpirySeconds;mn!==(ee=Math.max(mn,L.minJwtTtlSeconds))&&iu.warn("JWT expiration is too short: waiting for ".concat(ee," seconds before refreshing.")),ee=Math.min(ee,L.maxJwtTtlSeconds),N.accessToken=Rn.accessToken})})})},function(ye){iu.error("Error when refreshing access token: ".concat(ye))})},function(ye,We){return N.accessTokenRefreshHandle=window.setTimeout(function(){L.refreshAccessToken(N).then(function(){},function(rt){return iu.error("Unexpected error when refreshing access token: ".concat(rt))})},1e3*ee),function ou(S,R){if(S)throw R;return R}(ye,We)}))}})))}catch(ee){return Promise.reject(ee)}}},{key:"getAccessTokenUrl",value:function(N){var L,ee=mt.getCdnUrl(null!==(L=N.options)&&void 0!==L?L:{});return"".concat(ee,"/api/v1/access_tokens/").concat(N.accountId)}},{key:"deleteAccessToken",value:function(N){try{var ee;return cc(Ft.fetch(this.getAccessTokenUrl(N),{method:"DELETE",credentials:"include",headers:{}},{isBytescaleApi:!0,fetchApi:null===(ee=N.options)||void 0===ee?void 0:ee.fetchApi}))}catch(ye){return Promise.reject(ye)}}},{key:"setAccessToken",value:function(N,L){try{var ye,We={accessToken:L};return La(Ft.fetch(this.getAccessTokenUrl(N),{method:"PUT",credentials:"include",headers:Wu({},this.contentType,this.contentTypeJson),body:JSON.stringify(We)},{isBytescaleApi:!0,fetchApi:null===(ye=N.options)||void 0===ye?void 0:ye.fetchApi}),function(rt){return La(rt.json())})}catch(rt){return Promise.reject(rt)}}},{key:"getAccessToken",value:function(N,L){try{var ye,We,ee=this,rt="Your auth API endpoint",$e=ee.contentTypeText;return La(Ft.fetch(N.authUrl,{method:"GET",headers:L},{isBytescaleApi:!1,fetchApi:null===(ye=N.options)||void 0===ye?void 0:ye.fetchApi}),function(Rn){var mn=null!==(We=Rn.headers.get(ee.contentType))&&void 0!==We?We:"";if(mn.split(";")[0]!==$e)throw new Error("".concat(rt,' returned "').concat(mn,'" for the ').concat(ee.contentType,' response header, but the Bytescale SDK requires "').concat($e,'".'));return La(Rn.text(),function(ai){if(0===ai.length)throw new Error("".concat(rt," returned an empty string. Please return a valid JWT instead."));if(ai.trim().length!==ai.length)throw new Error("".concat(rt," returned whitespace around the JWT, please remove it."));return ai})})}catch(Rn){return Promise.reject(Rn)}}}]),S}());pn.exports=W}()},8762:(pn,st,W)=>{!function(){"use strict";var u={"./node_modules/@bytescale/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(K){var Ce=[];function Ae(Y){for(var re=-1,Ee=0;Ee<Ce.length;Ee++)if(Ce[Ee].identifier===Y){re=Ee;break}return re}function Pe(Y,re){for(var Ee={},Tt=[],Xe=0;Xe<Y.length;Xe++){var bt=Y[Xe],_t=re.base?bt[0]+re.base:bt[0],qt=Ee[_t]||0,Ye="".concat(_t," ").concat(qt);Ee[_t]=qt+1;var rn=Ae(Ye),on={css:bt[1],media:bt[2],sourceMap:bt[3],supports:bt[4],layer:bt[5]};if(-1!==rn)Ce[rn].references++,Ce[rn].updater(on);else{var Ne=Me(on,re);re.byIndex=Xe,Ce.splice(Xe,0,{identifier:Ye,updater:Ne,references:1})}Tt.push(Ye)}return Tt}function Me(Y,re){var Ee=re.domAPI(re);return Ee.update(Y),function(bt){if(bt){if(bt.css===Y.css&&bt.media===Y.media&&bt.sourceMap===Y.sourceMap&&bt.supports===Y.supports&&bt.layer===Y.layer)return;Ee.update(Y=bt)}else Ee.remove()}}K.exports=function(Y,re){var Ee=Pe(Y=Y||[],re=re||{});return function(Xe){Xe=Xe||[];for(var bt=0;bt<Ee.length;bt++){var qt=Ae(Ee[bt]);Ce[qt].references--}for(var Ye=Pe(Xe,re),rn=0;rn<Ee.length;rn++){var Ne=Ae(Ee[rn]);0===Ce[Ne].references&&(Ce[Ne].updater(),Ce.splice(Ne,1))}Ee=Ye}}},"./node_modules/@bytescale/style-loader/dist/runtime/insertStyleElement.js":function(K){K.exports=function Ce(Ae){if(!(typeof document>"u")){var Pe=document.createElement("style");return Ae.setAttributes(Pe,Ae.attributes),Ae.insert(Pe,Ae.options),Pe}}},"./node_modules/@bytescale/style-loader/dist/runtime/setAttributesWithoutAttributes.js":function(K,Ce,Ae){K.exports=function Pe(Me){var Y=Ae.nc;Y&&Me.setAttribute("nonce",Y)}},"./node_modules/@bytescale/style-loader/dist/runtime/styleDomAPI.js":function(K){K.exports=function Pe(Me){var Y=Me.insertStyleElement(Me);return{update:function(Ee){!function Ce(Me,Y,re){var Ee="";re.supports&&(Ee+="@supports (".concat(re.supports,") {")),re.media&&(Ee+="@media ".concat(re.media," {"));var Tt=typeof re.layer<"u";Tt&&(Ee+="@layer".concat(re.layer.length>0?" ".concat(re.layer):""," {")),Ee+=re.css,Tt&&(Ee+="}"),re.media&&(Ee+="}"),re.supports&&(Ee+="}"),Y.styleTagTransform(Ee,Me,Y.options)}(Y,Me,Ee)},remove:function(){!function Ae(Me){if(null===Me.parentNode)return!1;Me.parentNode.removeChild(Me)}(Y)}}}},"./node_modules/@bytescale/style-loader/dist/runtime/styleTagTransform.js":function(K){K.exports=function Ce(Ae,Pe){if(void 0!==Pe)if(Pe.styleSheet)Pe.styleSheet.cssText=Ae;else{for(;Pe.firstChild;)Pe.removeChild(Pe.firstChild);Pe.appendChild(document.createTextNode(Ae))}}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/modal/Modal.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,'.upload-widget__body{overflow:hidden}.upload-widget--with-modal{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999}.upload-widget__modal{background:var(--shade-900);border-radius:.5em;z-index:100000;position:relative;overflow:auto;top:-5%;height:60%;width:75%;max-width:65.625em;max-height:41.25em}@media (max-height: 700px){.upload-widget__modal{top:-1%;height:80%}}@media (max-width: 750px), (max-height: 420px){.upload-widget__modal{top:0;height:100%;width:100%;max-width:none;max-height:none;border-radius:0}}.upload-widget__modal__close{position:absolute;right:0;top:0;z-index:2}.upload-widget__modal__close a{-webkit-transition:0.1s color linear;-o-transition:0.1s color linear;-moz-transition:0.1s color linear;transition:0.1s color linear;color:var(--shade-500);padding:1.125em 1.0625em .8125em .875em;display:inline-block}.upload-widget__backdrop{content:" ";background:rgba(0,0,0,0.5);position:fixed;left:0;right:0;top:0;bottom:0;z-index:99999}.upload-widget__modal,.upload-widget__backdrop{opacity:0;-webkit-transition:0.15s opacity linear;-o-transition:0.15s opacity linear;-moz-transition:0.15s opacity linear;transition:0.15s opacity linear}.upload-widget__modal.show,.upload-widget__backdrop.show{opacity:1}\n',""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/UploadWidgetContainer.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,".upload-widget{--btn-text-color: var(--shade-200);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-box-sizing:border-box;box-sizing:border-box;color:var(--shade-100);font-family:var(--base-font-family);font-size:var(--base-font-size);line-height:1;text-align:left;position:static}.upload-widget__root{position:absolute;left:0;right:0;top:0;bottom:0}.upload-widget a,.upload-widget p,.upload-widget button{font-size:inherit;margin:0}.upload-widget a{border-bottom:none;padding:0}.upload-widget svg{margin-bottom:0}.upload-widget__controls{text-align:center;padding:.9375em}.upload-widget__controls--space button:not(:last-child){margin-right:0.5em}.upload-widget a{color:var(--primary-color)}.upload-widget a,.upload-widget a:hover,.upload-widget a:active,.upload-widget a:focus{text-decoration:underline}.upload-widget a:hover:not(:disabled):not(.disabled){color:var(--primary-active-color)}.upload-widget .btn{-webkit-transition:0.1s border-color linear, 0.1s background-color linear;-o-transition:0.1s border-color linear, 0.1s background-color linear;-moz-transition:0.1s border-color linear, 0.1s background-color linear;transition:0.1s border-color linear, 0.1s background-color linear;display:inline-block;font-weight:400;color:var(--btn-text-color);text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:rgba(0,0,0,0);border:.0625em solid rgba(0,0,0,0);padding:0 1em;line-height:3;border-radius:0.3125em}.upload-widget .btn,.upload-widget .btn:hover,.upload-widget .btn:active,.upload-widget .btn:focus{text-decoration:none}.upload-widget .btn:not(:disabled):not(.disabled){cursor:pointer}.upload-widget .btn:hover:not(:disabled):not(.disabled){color:var(--shade-300)}.upload-widget .btn--primary{color:var(--shade-900);background-color:var(--primary-color);border-color:var(--primary-color)}.upload-widget .btn--primary:hover:not(:disabled):not(.disabled){background-color:var(--primary-active-color);border-color:var(--primary-active-color);color:var(--shade-900)}.upload-widget .btn--primary-outline{color:var(--primary-color);border-color:var(--primary-color)}.upload-widget .btn.disabled{opacity:0.5;cursor:default}.upload-widget .btn--file{position:relative;overflow:hidden;margin-bottom:0}.upload-widget .btn--file__input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;z-index:-1}.upload-widget .btn--upload{font-size:1.11em;padding:0.2em 1.6em;margin-bottom:1.5em}.upload-widget .text-secondary{color:var(--shade-400)}.upload-widget .vcenter{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.upload-widget .hcenter{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.upload-widget .nudge-up-1{position:relative;top:-1px}.upload-widget .ml-0{margin-left:0}.upload-widget .ml-1{margin-left:.3125em}.upload-widget .ml-2{margin-left:.4375em}.upload-widget .ml-3{margin-left:.5em}.upload-widget .ml-4{margin-left:.625em}.upload-widget .mr-0{margin-right:0}.upload-widget .mr-1{margin-right:.3125em}.upload-widget .mr-2{margin-right:.4375em}.upload-widget .mr-3{margin-right:.5em}.upload-widget .mr-4{margin-right:.625em}.upload-widget .mb-0{margin-bottom:0}.upload-widget .mb-1{margin-bottom:.3125em}.upload-widget .mb-2{margin-bottom:.4375em}.upload-widget .mb-3{margin-bottom:.5em}.upload-widget .mb-4{margin-bottom:.625em}.upload-widget .mt-0{margin-top:0}.upload-widget .mt-1{margin-top:.3125em}.upload-widget .mt-2{margin-top:.4375em}.upload-widget .mt-3{margin-top:.5em}.upload-widget .mt-4{margin-top:.625em}.upload-widget .mt-5{margin-top:1.25em}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageCropper.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,'.upload-widget__image-cropper__overlay{position:absolute;background:rgba(255,255,255,0.5)}.upload-widget__image-cropper__clip{overflow:hidden}.upload-widget__image-cropper__clip img{max-width:unset}.upload-widget__image-cropper__clip:before{content:" ";display:block;background:rgba(255,255,255,0.15);position:absolute;left:-2px;right:-2px;top:-2px;bottom:-2px}.upload-widget__image-cropper__clip--circular,.upload-widget__image-cropper__clip--circular:before{border-radius:100%}\n',""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageEditorLayout.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,".upload-widget__image-editor{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-align-content:space-between;-ms-flex-line-pack:justify;align-content:space-between;height:100%;width:100%}.upload-widget__image-editor img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.upload-widget__image-editor__header{padding:0.825em 0.8em 0.75em 0.8em}.upload-widget__image-editor__header--empty-non-modal{min-height:.9375em}.upload-widget__image-editor__image{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative}.upload-widget__image-editor__image-padding{position:absolute;top:0;bottom:0;left:.9375em;right:.9375em;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.upload-widget__image-editor__image-inner{max-width:100%;max-height:100%}.upload-widget__modal .upload-widget__image-editor__header{padding-top:0;padding-bottom:1.3em;margin-top:-1em}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/Spinner.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,"@-webkit-keyframes spinner{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spinner{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.spinner{display:block !important;border:0.275em solid var(--shade-700);border-right-color:transparent;border-radius:50%;-webkit-animation:spinner 0.75s linear infinite;-moz-animation:spinner 0.75s linear infinite;animation:spinner 0.75s linear infinite}.spinner__container{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100%;width:100%}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/shapes/ResizableSquare.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,".upload-widget__resizable-square{position:absolute;cursor:move}.upload-widget__resizable-square__nw,.upload-widget__resizable-square__ne,.upload-widget__resizable-square__sw,.upload-widget__resizable-square__se{width:1em;height:1em;opacity:0.75;background-color:var(--shade-900);border:.0625em solid var(--primary-color);border-radius:100%;position:absolute;display:block !important}.upload-widget__resizable-square__nw{top:-.5em;left:-.5em;cursor:nw-resize}.upload-widget__resizable-square__ne{top:-.5em;right:-.5em;cursor:ne-resize}.upload-widget__resizable-square__sw{bottom:-.5em;left:-.5em;cursor:sw-resize}.upload-widget__resizable-square__se{bottom:-.5em;right:-.5em;cursor:se-resize}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/fileIcons/ProgressIcon.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,".progress-icon{display:block}.progress-icon__container{display:inline-block;position:relative}.progress-icon__circle{-webkit-transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;-o-transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;-moz-transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;stroke:var(--primary-color)}.progress-icon__circle__bg{-webkit-transition:.3s opacity linear;-o-transition:.3s opacity linear;-moz-transition:.3s opacity linear;transition:.3s opacity linear;fill:var(--shade-700)}.progress-icon__circle--error{stroke:var(--error-color)}.progress-icon__thumbnail{-webkit-transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;-o-transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;-moz-transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;-webkit-transition-delay:.3s;-moz-transition-delay:.3s;-o-transition-delay:.3s;transition-delay:.3s;background-repeat:no-repeat;background-position:center center;background-size:contain;opacity:1;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-transform:scale(1, 1);-moz-transform:scale(1, 1);-ms-transform:scale(1, 1);-o-transform:scale(1, 1);transform:scale(1, 1)}.progress-icon__thumbnail--hidden{opacity:0;-webkit-transform:scale(0.1, 0.1);-moz-transform:scale(0.1, 0.1);-ms-transform:scale(0.1, 0.1);-o-transform:scale(0.1, 0.1);transform:scale(0.1, 0.1)}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/files/SubmittedFileComponent.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,".breakpoint-md .upload-widget__submitted-file{max-width:100%;width:100%}.breakpoint-lg .upload-widget__submitted-file{max-width:50%;width:50%}.breakpoint-xl .upload-widget__submitted-file{max-width:33.333333%;width:33.333333%}.breakpoint-xl .upload-widget__submitted-file--loners{max-width:46%;width:46%}.upload-widget__submitted-file{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin:.3125em 0}.upload-widget__submitted-file__container{margin:0 .3125em;background:var(--shade-800);border-radius:.4375em}.upload-widget__submitted-file__inner{padding:1.3125em 1.4375em;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.upload-widget__submitted-file__text{margin-left:.4375em;margin-right:.5em;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.upload-widget__submitted-file__action{min-width:4.625em;text-align:right;display:inline-block}.upload-widget__submitted-file__action--performed{color:var(--shade-300)}.upload-widget__submitted-file__message{font-size:0.75em;margin-top:0.2em;display:block;line-height:1.1em}.upload-widget__submitted-file__name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;height:1.1em}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/screens/UploaderMainScreen.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,".upload-widget__main-screen{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-align-content:space-between;-ms-flex-line-pack:justify;align-content:space-between;height:100%;width:100%}.upload-widget__main-screen__file-list{margin:auto 0;overflow-y:auto;width:100%}.upload-widget__main-screen__file-list__inner{padding:.9375em;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.upload-widget__main-screen__info{color:var(--btn-text-color);text-align:center;padding:1.15em 0}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/widgetBase/WidgetBase.scss":function(K,Ce,Ae){var Pe=Ae("./node_modules/css-loader/dist/runtime/api.js"),Y=Ae.n(Pe)()(function(re){return re[1]});Y.push([K.id,".upload-widget__widget-base{border-radius:.3125em;position:absolute;top:.9375em;left:.9375em;right:.9375em;bottom:.9375em;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.upload-widget__widget-base__modal-bg{color:var(--shade-600);position:absolute;z-index:1}.upload-widget__widget-base__modal-bg--dragging{color:var(--primary-color)}.upload-widget__widget-base__modal-bg--dragging *{pointer-events:none}.upload-widget__widget-base__children{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;z-index:2;position:absolute;bottom:0;top:0;left:0;right:0}.upload-widget__widget-base__children--is-modal{top:2.5em}.upload-widget__widget-base--draggable{border:.125em dashed var(--shade-600)}.upload-widget__widget-base--dragging{border-color:var(--primary-color)}.upload-widget__widget-base--dragging *{pointer-events:none}\n",""]),Ce.default=Y},"./node_modules/css-loader/dist/runtime/api.js":function(K){K.exports=function(Ce){var Ae=[];return Ae.toString=function(){return this.map(function(Me){var Y=Ce(Me);return Me[2]?"@media ".concat(Me[2]," {").concat(Y,"}"):Y}).join("")},Ae.i=function(Pe,Me,Y){"string"==typeof Pe&&(Pe=[[null,Pe,""]]);var re={};if(Y)for(var Ee=0;Ee<this.length;Ee++){var Tt=this[Ee][0];null!=Tt&&(re[Tt]=!0)}for(var Xe=0;Xe<Pe.length;Xe++){var bt=[].concat(Pe[Xe]);Y&&re[bt[0]]||(Me&&(bt[2]=bt[2]?"".concat(Me," and ").concat(bt[2]):Me),Ae.push(bt))}},Ae}}},ie={};function z(K){if(ie[K])return ie[K].exports;var Ce=ie[K]={id:K,exports:{}};return u[K](Ce,Ce.exports,z),Ce.exports}z.n=function(K){var Ce=K&&K.__esModule?function(){return K.default}:function(){return K};return z.d(Ce,{a:Ce}),Ce},z.d=function(K,Ce){for(var Ae in Ce)z.o(Ce,Ae)&&!z.o(K,Ae)&&Object.defineProperty(K,Ae,{enumerable:!0,get:Ce[Ae]})},z.o=function(K,Ce){return Object.prototype.hasOwnProperty.call(K,Ce)},z.r=function(K){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})};var Te={};(function(){z.r(Te),z.d(Te,{UploadWidget:function(){return Gd},UploadWidgetResult:function(){return bo},UploadWidgetValidationError:function(){return To},UploaderLocaleEnUs:function(){return Ce}});var Ae,Ye,rn,on,Ne,it,K=W(8138),Ce={"error!":"Error!",done:"Done",addAnotherFile:"Add another file...",addAnotherImage:"Add another image...",cancel:"cancel",cancelInPreviewWindow:"Cancel","cancelled!":"cancelled",continue:"Continue",customValidationFailed:"Failed to validate file.",crop:"Crop",finish:"Finished",finishIcon:!0,image:"Image",maxFilesReached:"Maximum number of files:",maxImagesReached:"Maximum number of images:",maxSize:"File size limit:",next:"Next",of:"of",orDragDropFile:"...or drag and drop a file.",orDragDropFiles:"...or drag and drop files.",orDragDropImage:"...or drag and drop an image.",orDragDropImages:"...or drag and drop images.",pleaseWait:"Please wait...","removed!":"removed",remove:"remove",skip:"Skip",unsupportedFileType:"File type not supported.",uploadFile:"Upload a File",uploadFiles:"Upload a File",uploadImage:"Upload an Image",uploadImages:"Upload an Image",processingFile:"Processing file..."};function Pe(b,M){return function Tt(b){if(Array.isArray(b))return b}(b)||function Ee(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Y(b,M){if(b){if("string"==typeof b)return re(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return re(b,M)}}(b,M)||function Me(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}function He(b){return function(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];try{return Promise.resolve(b.apply(this,M))}catch(U){return Promise.reject(U)}}}(Ae||(Ae={})).from=function M(T){var U,oe,fe,pe,Oe,Ue,Pt,Ut,un,qn=null!==(oe=null===(U=T?.images)||void 0===U?void 0:U.cropShape)&&void 0!==oe?oe:"rect",_n=null===(pe=null===(fe=T?.images)||void 0===fe?void 0:fe.crop)||void 0===pe||pe;return{images:{crop:_n,cropFilePath:null!==(Ue=null===(Oe=T?.images)||void 0===Oe?void 0:Oe.cropFilePath)&&void 0!==Ue?Ue:function(An){return"".concat(An.filePath,".crop")},cropRatio:"circ"===qn?1:null===(Pt=T?.images)||void 0===Pt?void 0:Pt.cropRatio,cropShape:qn,preview:null!==(un=null===(Ut=T?.images)||void 0===Ut?void 0:Ut.preview)&&void 0!==un?un:_n}}},(Ye||(Ye={})).from=function M(T){var U,oe,fe,pe,Oe,Ue,Pt,Ut,un,qn,_n,An,nr,Qn="#377dff",ur=null!==(U=T?.primary)&&void 0!==U?U:Qn;try{nr=function qt(b,M){var T=function _t(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(U,oe,fe,pe){return"".concat(oe).concat(oe).concat(fe).concat(fe).concat(pe).concat(pe)});var T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);if(null===T)throw new Error("Invalid color code: ".concat(b));return[parseInt(T[1],16),parseInt(T[2],16),parseInt(T[3],16)]}(b),U=Pe(T,3),Oe=function Xe(b,M,T){var U=Math.max(b,M,T),oe=U-Math.min(b,M,T),fe=oe&&(U===b?(M-T)/oe:U===M?2+(T-b)/oe:4+(b-M)/oe);return[60*(fe<0?fe+6:fe),U&&oe/U,U]}(U[0],U[1],U[2]),Ue=Pe(Oe,3),un=Ue[2],qn=function(On){return Math.min(1,Math.max(0,On))},_n=function bt(b,M,T){var U=function(fe){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(fe+b/60)%6;return T-T*M*Math.max(Math.min(pe,4-pe,1),0)};return[U(5),U(3),U(1)]}(Ue[0],qn(Ue[1]+-1*M),255*qn(un/255+M)).map(Math.round),An=Pe(_n,3),Bn=An[1],ur=An[2];return"rgb(".concat(An[0],", ").concat(Bn,", ").concat(ur,")")}(ur,.1)}catch{console.error("Invalid hex code '".concat(ur,"', using default colours.")),ur=Qn,nr="#528fff"}return{primary:ur,active:null!==(oe=T?.active)&&void 0!==oe?oe:nr,error:null!==(fe=T?.error)&&void 0!==fe?fe:"#d23f4d",shade100:null!==(pe=T?.shade100)&&void 0!==pe?pe:"#333",shade200:null!==(Oe=T?.shade200)&&void 0!==Oe?Oe:"#7a7a7a",shade300:null!==(Ue=T?.shade300)&&void 0!==Ue?Ue:"#999",shade400:null!==(Pt=T?.shade400)&&void 0!==Pt?Pt:"#a5a6a8",shade500:null!==(Ut=T?.shade500)&&void 0!==Ut?Ut:"#d3d3d3",shade600:null!==(un=T?.shade600)&&void 0!==un?un:"#dddddd",shade700:null!==(qn=T?.shade700)&&void 0!==qn?qn:"#f0f0f0",shade800:null!==(_n=T?.shade800)&&void 0!==_n?_n:"#f8f8f8",shade900:null!==(An=T?.shade900)&&void 0!==An?An:"#fff"}},function(b){b.from=function M(T){var U;return{base:null!==(U=T?.base)&&void 0!==U?U:16}}}(rn||(rn={})),function(b){b.from=function M(T){var U;return{base:null!==(U=T?.base)&&void 0!==U?U:"-apple-system, blinkmacsystemfont, Segoe UI, helvetica, arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol"}}}(on||(on={})),function(b){b.from=function M(T){return{colors:Ye.from(T?.colors),fontFamilies:on.from(T?.fontFamilies),fontSizes:rn.from(T?.fontSizes)}}}(Ne||(Ne={})),function(b){b.from=function M(T){var U,oe,fe,pe,Oe,Ue,Pt,Ut,un=null!==(U=T.layout)&&void 0!==U?U:"modal",qn=null!==(oe=T.multi)&&void 0!==oe?oe:void 0!==T.maxFileCount&&T.maxFileCount>1;return{apiKey:T.apiKey,apiUrl:T.apiUrl,cdnUrl:T.cdnUrl,headers:T.headers,container:T.container,editor:Ae.from(T.editor),layout:un,locale:Object.assign(Object.assign({},Ce),T.locale),maxFileCount:T.maxFileCount,maxFileSizeBytes:T.maxFileSizeBytes,metadata:T.metadata,mimeTypes:null===(fe=T.mimeTypes)||void 0===fe?void 0:fe.map(function(_n){return _n.trim().toLowerCase()}),multi:qn,onInit:null!==(pe=T.onInit)&&void 0!==pe?pe:function(){},onUpdate:null!==(Oe=T.onUpdate)&&void 0!==Oe?Oe:function(){},onPreUpload:He(function(_n){var An=T.onPreUpload;return void 0===An?void 0:An(_n)}),path:T.path,showFinishButton:null!==(Ue=T.showFinishButton)&&void 0!==Ue?Ue:!!qn&&"modal"===un,showRemoveButton:null===(Pt=T.showRemoveButton)||void 0===Pt||Pt,styles:Ne.from(T.styles),tags:null!==(Ut=T.tags)&&void 0!==Ut?Ut:[]}}}(it||(it={}));var At=W(4354),de=z("./node_modules/@bytescale/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ht=z.n(de),Ht=z("./node_modules/@bytescale/style-loader/dist/runtime/styleDomAPI.js"),hn=z.n(Ht),sr=z("./node_modules/@bytescale/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),er=z.n(sr),mr=z("./node_modules/@bytescale/style-loader/dist/runtime/insertStyleElement.js"),zn=z.n(mr),Cr=z("./node_modules/@bytescale/style-loader/dist/runtime/styleTagTransform.js"),yr=z.n(Cr),je=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/UploadWidgetContainer.scss"),qe={};qe.styleTagTransform=yr(),qe.setAttributes=er(),qe.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},qe.domAPI=hn(),qe.insertStyleElement=zn(),ht()(je.default,qe);var vt=W(9322),Mt=z.n(vt),jt=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/widgetBase/WidgetBase.scss"),Ot={};Ot.styleTagTransform=yr(),Ot.setAttributes=er(),Ot.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},Ot.domAPI=hn(),Ot.insertStyleElement=zn(),ht()(jt.default,Ot);var Ft=function(M){var U=M.width,oe=M.height,Oe=400-oe,Ue=50-M.notchSize;return(0,K.jsxs)("svg",Object.assign({width:U,height:oe,className:M.className,xmlns:"http://www.w3.org/2000/svg"},{children:[(0,K.jsxs)("defs",{children:[(0,K.jsx)("path",{d:"M76 99h".concat(536-(600-U-Ue),"a7 7 0 0 1 7 7v").concat(36-Ue,"a7 7 0 0 0 7 7h").concat(36-Ue,"a7 7 0 0 1 7 7v").concat(336-(Oe-Ue),"a7 7 0 0 1-7 7H76a7 7 0 0 1-7-7V106a7 7 0 0 1 7-7Z"),id:"rectWithNotch"}),(0,K.jsx)("mask",Object.assign({id:"rectWithNotchMask",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:U,height:oe,fill:"#fff"},{children:(0,K.jsx)("use",{xlinkHref:"#rectWithNotch"})}))]}),(0,K.jsx)("use",{mask:"url(#rectWithNotchMask)",xlinkHref:"#rectWithNotch",transform:"translate(-69 -99)",stroke:"currentColor",strokeWidth:"4",fill:"none",fillRule:"evenodd",strokeDasharray:"4"})]}))},ct=function(M){var T=M.closeButtonSize,U=M.isDragging,oe=M.dimensions;return void 0===oe?(0,K.jsx)(K.Fragment,{}):(0,K.jsx)(Ft,{width:oe.width,height:oe.height,notchSize:T,className:Mt()("upload-widget__widget-base__modal-bg",{"upload-widget__widget-base__modal-bg--dragging":U})})},ot=W(691),$n=function(M){var T=M.children,U=M.className,oe=M.originalHeight,fe=M.originalWidth,pe=M.style,Oe=function(b,M){var T={};for(var U in b)Object.prototype.hasOwnProperty.call(b,U)&&M.indexOf(U)<0&&(T[U]=b[U]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(U=Object.getOwnPropertySymbols(b);oe<U.length;oe++)M.indexOf(U[oe])<0&&Object.prototype.propertyIsEnumerable.call(b,U[oe])&&(T[U[oe]]=b[U[oe]])}return T}(M,["children","className","originalHeight","originalWidth","style"]),Ue=Oe?.width,Pt=Oe?.height;return(0,K.jsx)("svg",Object.assign({viewBox:"0 0 ".concat(fe," ").concat(oe),version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:U,style:Object.assign(Object.assign({},pe),void 0!==Pt?{height:"".concat(Pt,"px"),width:"".concat(Pt*(fe/oe),"px")}:void 0!==Ue?{width:"".concat(Ue,"px"),height:"".concat(Ue*(oe/fe),"px")}:{})},{children:T}))},Kn=function(M){return(0,K.jsx)($n,Object.assign({originalWidth:27,originalHeight:26,width:M.width??27,className:M.className},{children:(0,K.jsxs)("g",Object.assign({transform:"rotate(45 6.547 16.13)",fill:"currentColor",fillRule:"evenodd"},{children:[(0,K.jsx)("rect",{x:"7.75",width:"2.5",height:"18",rx:"1.25"}),(0,K.jsx)("rect",{transform:"rotate(90 9 9)",x:"7.75",width:"2.5",height:"18",rx:"1.25"})]}))}))},kn=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/modal/Modal.scss"),Je={};function Rt(b,M){return function Ar(b){if(Array.isArray(b))return b}(b)||function ar(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Wn(b,M){if(b){if("string"==typeof b)return Tn(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Tn(b,M)}}(b,M)||function Xt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}Je.styleTagTransform=yr(),Je.setAttributes=er(),Je.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},Je.domAPI=hn(),Je.insertStyleElement=zn(),ht()(kn.default,Je);var sn=function(M){var T=M.children,U=M.closeModal,fe=Rt((0,ot.useState)(!1),2),pe=fe[0],Oe=fe[1],Pt=Rt((0,ot.useState)(!1),2),Ut=Pt[0],un=Pt[1],_n=Rt((0,ot.useState)(!1),2),An=_n[0],Qn=_n[1],Bn=Ut&&!pe,ur=function(){Oe(!0)};return(0,ot.useEffect)(function(){Ut||un(!0)},[Ut]),(0,ot.useEffect)(function(){if(pe){var nr=setTimeout(function(){U()},250);return function(){return clearTimeout(nr)}}},[pe]),(0,ot.useLayoutEffect)(function(){var nr=document.documentElement.className,On=document.body.className;return document.documentElement.className="".concat(nr," upload-widget__html"),document.body.className="".concat(On," upload-widget__body"),function(){document.documentElement.className=nr,document.body.className=On}},[]),(0,ot.useEffect)(function(){if(Bn&&!An){var nr=window.requestAnimationFrame(function(){Qn(!0)});return function(){return window.cancelAnimationFrame(nr)}}An&&Qn(!1)},[Bn]),(0,K.jsxs)(K.Fragment,{children:[Bn&&(0,K.jsx)("div",{className:Mt()("upload-widget__backdrop",{show:An}),onMouseDown:ur}),Bn&&(0,K.jsxs)("div",Object.assign({className:Mt()("upload-widget__modal",{show:An})},{children:[T,(0,K.jsx)("div",Object.assign({className:"upload-widget__modal__close"},{children:(0,K.jsx)("a",Object.assign({href:"#close",onClick:function(On){On.preventDefault(),ur()}},{children:(0,K.jsx)(Kn,{width:27})}))}))]}))]})};function Ir(b,M){return function Ze(b){if(Array.isArray(b))return b}(b)||function ge(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||ei(b,M)||function Mr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(b,M){if(b){if("string"==typeof b)return nt(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return nt(b,M)}}function nt(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}function Bt(){var M=Ir((0,ot.useState)(void 0),2),U=M[1];return[M[0],(0,ot.useCallback)(function(fe){U(fe??void 0)},[])]}function cn(b,M){var U=Ir(Bt(),2),oe=U[0],fe=U[1];return[lr(b,oe,oe,M),fe]}function lr(b,M,T,U){var fe=Ir((0,ot.useState)(void 0),2),pe=fe[0],Oe=fe[1];return(0,ot.useLayoutEffect)(function(){if(void 0!==M&&void 0!==T){var Pt=new ResizeObserver(function(){b&&Oe(function _e(b){if(void 0!==b){var M=b.getBoundingClientRect();return{width:M.width,height:M.height,x:b.offsetLeft,y:b.offsetTop}}}(M))});return Pt.observe(T),function(){return Pt.disconnect()}}},[M,b].concat(function ii(b){return function bi(b){if(Array.isArray(b))return nt(b)}(b)||function gr(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||ei(b)||function Nn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(U))),pe}function q(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var Qt=function(M){var Oe,Ue,T=M.children,U=M.htmlProps,oe=M.isDraggable,fe=M.isDragging,pe=M.layout,Ut=function le(b,M){return function St(b){if(Array.isArray(b))return b}(b)||function ke(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function te(b,M){if(b){if("string"==typeof b)return q(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return q(b,M)}}(b,M)||function J(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(cn(!0,[]),2),un=Ut[0],qn=Ut[1],Qn=null!==(Ue=void 0===un||null===(Oe=[{width:650,value:"md"},{width:930,value:"lg"}].find(function(Bn){return un.width<=Bn.width}))||void 0===Oe?void 0:Oe.value)&&void 0!==Ue?Ue:"xl";return(0,K.jsxs)("div",Object.assign({ref:qn,className:Mt()("upload-widget__widget-base","breakpoint-".concat(Qn),{"upload-widget__widget-base--draggable":!0===oe&&"modal"!==pe,"upload-widget__widget-base--dragging":!0===fe&&"modal"!==pe})},U,{children:[!0===oe&&"modal"===pe&&(0,K.jsx)(ct,{isDragging:!0===fe,dimensions:un,closeButtonSize:38}),(0,K.jsx)("div",Object.assign({className:Mt()("upload-widget__widget-base__children",{"upload-widget__widget-base__children--is-modal":"modal"===pe})},{children:T}))]}))},ne=function(M){return(0,K.jsx)($n,Object.assign({originalWidth:13,originalHeight:10,width:M.width??13,className:M.className},{children:(0,K.jsx)("path",{d:"M6.293.293a.999.999 0 0 0 0 1.414L8.586 4H1a1 1 0 0 0 0 2h7.586L6.293 8.293a.999.999 0 1 0 1.414 1.414L12.414 5 7.707.293a.999.999 0 0 0-1.414 0Z",fill:"currentColor",fillRule:"nonzero"})}))},ce=function(M){var oe,U=M.layout,fe=(null!==(oe=M.error.message)&&void 0!==oe?oe:"unknown error").replace("[upload-js] ",""),pe=fe.toLowerCase().includes("api key");return(0,K.jsxs)(Qt,Object.assign({layout:U,multi:!1},{children:[(0,K.jsx)("h1",{children:pe?"Almost there...":"Oops!"}),(0,K.jsx)("p",{children:fe}),pe?(0,K.jsxs)("div",Object.assign({className:"mt-5"},{children:[(0,K.jsxs)("a",Object.assign({href:"https://www.bytescale.com/get-started",className:"btn btn--primary-outline"},{children:["Get API Key ",(0,K.jsx)(ne,{width:12,className:"ml-2"})]}))," "]})):(0,K.jsx)(K.Fragment,{})]}))};function De(b){return void 0!==b}function Vt(b,M){return function ni(b){if(Array.isArray(b))return b}(b)||function ti(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Er(b,M){if(b){if("string"==typeof b)return Ur(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Ur(b,M)}}(b,M)||function Zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var Ai=function(M){var pe,T=M.className,U=M.options,oe=M.onUpload,fe=M.text,Pt=Vt((0,ot.useState)(Math.random()),1)[0],qn=Vt((0,ot.useState)("upload-widget__input-".concat(Math.round(1e6*Math.random()))),1)[0];return(0,K.jsxs)("label",Object.assign({className:Mt()("btn btn--file",T),htmlFor:qn},{children:[fe,(0,K.jsx)("input",Object.assign({id:qn,name:qn,accept:null===(pe=U.mimeTypes)||void 0===pe?void 0:pe.join(","),type:"file",className:"btn--file__input"},U.multi?{multiple:!0}:{},{onChange:function(An){var Qn,Bn,nr=Array.from(null!==(Bn=null!==(Qn=An.target.files)&&void 0!==Qn?Qn:void 0)&&void 0!==Bn?Bn:[]);nr.length>0&&oe(nr)}}),Pt)]}))},si=function(M){var U=M.options,oe=M.isImageUploader,fe=U.multi,pe=U.locale;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Ai,{options:U,text:oe?fe?pe.uploadImages:pe.uploadImage:fe?pe.uploadFiles:pe.uploadFile,className:"btn--primary btn--upload",onUpload:M.addFiles}),(0,K.jsx)("p",Object.assign({className:"text-secondary mb-0"},{children:oe?fe?pe.orDragDropImages:pe.orDragDropImage:fe?pe.orDragDropFiles:pe.orDragDropFile}))]})},Vn=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/fileIcons/ProgressIcon.scss"),Ni={};function hs(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}Ni.styleTagTransform=yr(),Ni.setAttributes=er(),Ni.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},Ni.domAPI=hn(),Ni.insertStyleElement=zn(),ht()(Vn.default,Ni);var Cs=function(M){var T=M.height,U=M.progress,oe=M.onCompleteImageSource,fe=M.isError,Oe=function rc(b,M){return function ha(b){if(Array.isArray(b))return b}(b)||function Mc(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Gs(b,M){if(b){if("string"==typeof b)return hs(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return hs(b,M)}}(b,M)||function ds(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ot.useState)(1===U),2),Ue=Oe[0],Pt=Oe[1],Ut=T/2,un=2*Ut,qn=2*un,_n=2*Ut*Math.PI,An=_n-U*_n,Qn="".concat(_n," ").concat(_n);return(0,ot.useEffect)(function(){if(1===U&&!Ue){var Bn=setTimeout(function(){Pt(!0)},300);return function(){return clearTimeout(Bn)}}},[U]),(0,K.jsxs)("span",Object.assign({className:"progress-icon__container"},{children:[(0,K.jsxs)("svg",Object.assign({className:"progress-icon",width:qn,height:qn},{children:[(0,K.jsx)("circle",{className:"progress-icon__circle__bg",strokeWidth:0,r:qn/2,cx:qn/2,cy:qn/2,style:{opacity:Ue?0:1}}),(0,K.jsx)("circle",{className:Mt()("progress-icon__circle",{"progress-icon__circle--error":fe}),strokeWidth:Ue?0:un,fill:"transparent",r:Ue?0:Ut,cx:un,cy:un,style:{strokeDasharray:Qn,strokeDashoffset:An,opacity:Ue?0:1}})]})),(0,K.jsx)("span",{className:Mt()("progress-icon__thumbnail",{"progress-icon__thumbnail--hidden":!Ue}),style:{backgroundImage:"url(".concat(oe,")")}})]}))},ue="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0xNDUgMjEwSDE1Yy04LjMgMC0xNS02LjctMTUtMTVWMTVDMCA2LjcgNi43IDAgMTUgMGg5NWw1MCA1MHYxNDVjMCA4LjMtNi43IDE1LTE1IDE1WiIgZmlsbD0iI2M5ZGNmZCIvPjxwYXRoIGZpbGw9IiNFQ0YzRkYiIGQ9Ik0xNjAgNTBoLTUwVjB6Ii8+PHBhdGggZmlsbD0iI2JjZDRmZSIgZD0ibTExMCA1MCA1MCA1MFY1MHoiLz48L2c+PC9zdmc+Cg==",X=[{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjAgMjIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNjAgMjIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTAwIDBIMTVDNyAwIDAgNyAwIDE1djE5MGMwIDggNyAxNSAxNSAxNWgxMzBjOCAwIDE1LTcgMTUtMTVWNjBsLTM1LTI1LTI1LTM1eiIgc3R5bGU9ImZpbGw6IzQyODVmNCIvPjxwYXRoIGQ9Ik00MCAxNjBoODB2LTEwSDQwdjEwem0wIDIwaDYwdi0xMEg0MHYxMHptMC03MHYxMGg4MHYtMTBINDB6bTAgMzBoODB2LTEwSDQwdjEweiIgc3R5bGU9ImZpbGw6I2YxZjFmMSIvPjxwYXRoIGQ9Ik0xMDAgMHY0NWMwIDggNyAxNSAxNSAxNWg0NUwxMDAgMHoiIHN0eWxlPSJmaWxsOiNhMWMyZmEiLz48L3N2Zz4K",extensions:[".docx",".doc",".txt",".md",".markdown",".mkdown",".mkdn",".pdf"],mime:["application/x-abiword","application/msword","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]},{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjAgMjEwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNjAgMjEwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNXoiIHN0eWxlPSJmaWxsOiM0M2EwNDciLz48cGF0aCBkPSJNMTYwIDUwaC01MFYwbDUwIDUweiIgc3R5bGU9ImZpbGw6I2M4ZTZjOSIvPjxwYXRoIGQ9Im0xMTAgNTAgNTAgNTBWNTBoLTUweiIgc3R5bGU9ImZpbGw6IzJlN2QzMiIvPjxwYXRoIGQ9Ik0xMTUgMTAwSDM1djcwaDkwdi03MGgtMTB6bS03MCAxMGgyMHYxMEg0NXYtMTB6bTAgMjBoMjB2MTBINDV2LTEwem0wIDIwaDIwdjEwSDQ1di0xMHptNzAgMTBINzV2LTEwaDQwdjEwem0wLTIwSDc1di0xMGg0MHYxMHptMC0yMEg3NXYtMTBoNDB2MTB6IiBzdHlsZT0iZmlsbDojZThmNWU5Ii8+PC9zdmc+Cg==",extensions:[".xlsx",".xls",".csv",".tsv",".psv"],mime:["application/ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiNEMzUyMzAiLz48cGF0aCBmaWxsPSIjRkY4NDY0IiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiNCNDQyMjMiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTIxLjY1OSA5NEgzOC4zMzNDMzMuNzM3IDk0IDMwIDk3LjcyMyAzMCAxMDIuM3Y0NS42NWMwIDQuNTc3IDMuNzM3IDguMyA4LjMzMyA4LjNINzUuODN2OC4zYzAgMS45NTktMS42MTMgMy45NjctNC40MjUgNS41MjQtMy4yNDIgMS43ODgtNy41OTEgMi43NzYtMTIuMjM3IDIuNzc2VjE3N2g0MS42NjR2LTQuMTVjLTQuNjYzIDAtOS4wMTItLjk4NC0xMi4yMzctMi43NzYtMi44MTItMS41NTctNC40MjUtMy41NjUtNC40MjUtNS41MjR2LTguM2gzNy40OTdjNC41OTYgMCA4LjMzMy0zLjcyMyA4LjMzMy04LjNWMTAyLjNjMC00LjU3Ny0zLjczNy04LjMtOC4zMzMtOC4zaC0uMDA4Wm0tMzYuNDggNzguODVINzQuODE3YzMuMjQxLTIuMTkxIDUuMTgzLTUuMDg0IDUuMTgzLTguMyAwIDMuMjE2IDEuOTQyIDYuMTA5IDUuMTgzIDguM2gtLjAwNFpNMzguMzMzIDEwMi4zaDgzLjMyNnYzNy4zNUgzOC4zMzNWMTAyLjNjLS4wMTMgMCAwIDAgMCAwWm0wIDQ1LjY1di00LjE1aDgzLjMyNnY0LjE1SDM4LjMzM1oiLz48cGF0aCBkPSJNNjcuOTg2IDEzNi43Yy4zMzYuMi43MTMuMyAxLjA4NS4zLjMxMSAwIC42MzQtLjA3Ni45MzMtLjIxMmwyNC44NTctMTJBMS45OTMgMS45OTMgMCAwIDAgOTYgMTIzYzAtLjc1Mi0uNDQtMS40NTItMS4xNC0xLjc4OGwtMjQuODU2LTEyYTIuMTQ1IDIuMTQ1IDAgMCAwLTIuMDIyLjA4OEExLjk5MyAxLjk5MyAwIDAgMCA2NyAxMTF2MjRjMCAuNjg4LjM3NyAxLjMzNi45ODIgMS43aC4wMDRabTMuMTYxLTIyLjQ2NEw4OS4yOTcgMTIzbC0xOC4xNSA4Ljc2NFYxMTQuMjM2WiIvPjwvZz48L2c+PC9nPjwvc3ZnPgo=",extensions:[".pptx",".ppt"],mime:["application/vnd.apple.keynote","application/ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiM4NkFCRUIiLz48cGF0aCBmaWxsPSIjQzRENEYxIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiM3MThGQzMiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMzkgOTEuNjkxaDE4LjMzOHY5LjE2OUgzOXpNNDguMTY5IDEwMC44NmgxOC4zMzh2OS4xNjlINDguMTY5eiIvPjxwYXRoIGQ9Ik00OC4xNjkgMTAwLjg2aDkuMTY5djE4LjMzOGgtOS4xNjl6TTM5IDczLjM1M2gxOC4zMzh2OS4xNjlIMzl6TTQ4LjE2OSA4Mi41MjJoMTguMzM4djkuMTY5SDQ4LjE2OXpNMzkgNTUuMDE1aDE4LjMzOHY5LjE2OUgzOXpNNDguMTY5IDY0LjE4NGgxOC4zMzh2OS4xNjlINDguMTY5ek0zOSAzNi42NzZoMTguMzM4djkuMTY5SDM5ek00OC4xNjkgNDUuODQ2aDE4LjMzOHY5LjE2OUg0OC4xNjl6TTM5IDE4LjMzOGgxOC4zMzh2OS4xNjlIMzl6TTQ4LjE2OSAyNy41MDdoMTguMzM4djkuMTY5SDQ4LjE2OXpNMzkgMGgxOC4zMzh2OS4xNjlIMzl6TTQ4LjE2OSA5LjE2OWgxOC4zMzh2OS4xNjlINDguMTY5eiIvPjxwYXRoIGQ9Ik01Mi43NTQgMTE3LjAzYzcuNTk2IDAgMTMuNzUzIDYuMTU3IDEzLjc1MyAxMy43NTN2MTMuNzU0YTkuMTcgOS4xNyAwIDAgMS05LjE2OSA5LjE2OUg0OC4xN2E5LjE3IDkuMTcgMCAwIDEtOS4xNjktOS4xN3YtMTMuNzUzYzAtNy41OTYgNi4xNTgtMTMuNzU0IDEzLjc1NC0xMy43NTRabTAgOS4xNjlhNC41ODUgNC41ODUgMCAwIDAtNC41ODUgNC41ODR2OS4xN2E0LjU4NSA0LjU4NSAwIDEgMCA5LjE3IDB2LTkuMTdhNC41ODUgNC41ODUgMCAwIDAtNC41ODUtNC41ODRaIi8+PC9nPjwvZz48L2c+PC9zdmc+Cg==",extensions:[".zip",".tar",".tar.gz",".rar"],mime:[]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiM0ZDhhZmEiLz48cGF0aCBmaWxsPSIjOTViNmZmIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiMzZTcxZTQiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTI3IDE3MUgzM3YtMTguODU3bDI3LjExOC0zMy4wNDkgMzkuNzExIDMzLjA0OUwxMjcgMTQwLjI4OXpNMTMxIDExMC41YzAgOC4wMDktNi40OTEgMTQuNS0xNC41IDE0LjVzLTE0LjUtNi40OTEtMTQuNS0xNC41UzEwOC40OTEgOTYgMTE2LjUgOTZzMTQuNSA2LjQ5MSAxNC41IDE0LjVaIi8+PC9nPjwvZz48L2c+PC9zdmc+Cg==",extensions:[],mime:["image/"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiM4QzUwRTciLz48cGF0aCBmaWxsPSIjQjM4MEZGIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiM3QzNGRDgiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PHBhdGggZD0iTTEyNi45NTggMTA0SDMzLjA0MkEyLjA0MiAyLjA0MiAwIDAgMCAzMSAxMDYuMDMxdjYwLjkzOGMwIDEuMTE3LjkxOSAyLjAzMSAyLjA0MiAyLjAzMWg5My45MTZhMi4wNDIgMi4wNDIgMCAwIDAgMi4wNDItMi4wMzFWMTA2LjAzYTIuMDQyIDIuMDQyIDAgMCAwLTIuMDQyLTIuMDMxWm0tNzkuNjI1IDQuMDYzdjguMTI0aC04LjE2NnYtOC4xMjRoOC4xNjZabS04LjE2NiAzNi41NjJoOC4xNjZ2OC4xMjVoLTguMTY2di04LjEyNVptMC00LjA2M3YtOC4xMjVoOC4xNjZ2OC4xMjVoLTguMTY2Wm0wLTEyLjE4N3YtOC4xMjVoOC4xNjZ2OC4xMjVoLTguMTY2Wm0wIDM2LjU2M3YtOC4xMjVoOC4xNjZ2OC4xMjVoLTguMTY2Wm02NS4zMzMtNC4wNjNoLTQ5di00OC43NWg0OXY0OC43NVptMTYuMzMzLTguMTI1aC04LjE2NnYtOC4xMjVoOC4xNjZ2OC4xMjVabTAtMTIuMTg4aC04LjE2NnYtOC4xMjVoOC4xNjZ2OC4xMjVabTAtMTIuMTg3aC04LjE2NnYtOC4xMjVoOC4xNjZ2OC4xMjVabS04LjE2NiAzNi41NjN2LTguMTI1aDguMTY2djguMTI1aC04LjE2NlptOC4xNjYtNDguNzVoLTguMTY2di04LjEyNmg4LjE2NnY4LjEyNloiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48L2c+PC9zdmc+Cg==",extensions:[],mime:["video/"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiMwNzkxRkYiLz48cGF0aCBmaWxsPSIjQjNEREZGIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiMwQTdDRDkiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PHBhdGggZD0iTTg5LjQwNSA5NS4wMWM5LjQ4IDIuMDQ1IDE3LjI4MSA2LjkwNCAyMy40MDcgMTQuNTc4IDYuMTI1IDcuNjc0IDkuMTg4IDE2LjQ4IDkuMTg4IDI2LjQxNyAwIDkuOTM3LTMuMDYzIDE4Ljc0My05LjE4OCAyNi40MTYtNi4xMjYgNy42NzQtMTMuOTI4IDEyLjUzNC0yMy40MDcgMTQuNTc5di05LjY0OWM2Ljg1NC0yLjA0NSAxMi40MzEtNS45MTggMTYuNzM0LTExLjYxOCA0LjMwMi01LjcgNi40NTQtMTIuMjc4IDYuNDU0LTE5LjczM3MtMi4xNTItMTQuMDMzLTYuNDU0LTE5LjczM2MtNC4zMDMtNS43LTkuODgtOS41NzMtMTYuNzM0LTExLjYxOFY5NXYuMDFabTExLjU5MiA0MWMwIDguNzctMy44NjQgMTUuMDU1LTExLjU5MiAxOC44NTN2LTM3LjcxMmMzLjIwOCAxLjYwOSA1Ljk0MiA0LjI0IDguMjA0IDcuODk1IDIuMjYxIDMuNjU1IDMuMzkyIDcuMzA5IDMuMzkyIDEwLjk2M2gtLjAwNFpNMzggMTIxLjk3N2gxOC41OTFsMjMuNDA3LTIzLjQ2djc0Ljk3OWwtMjMuNDA3LTIzLjQ2SDM4di0yOC4wNjQuMDA1WiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvZz48L3N2Zz4K",extensions:[],mime:["audio/"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0xNDUgMjEwSDE1Yy04LjMgMC0xNS02LjctMTUtMTVWMTVDMCA2LjcgNi43IDAgMTUgMGg5NWw1MCA1MHYxNDVjMCA4LjMtNi43IDE1LTE1IDE1WiIgZmlsbD0iIzQwNzREMSIvPjxwYXRoIGZpbGw9IiM4RkIwRUEiIGQ9Ik0xNjAgNTBoLTUwVjB6Ii8+PHBhdGggZmlsbD0iIzQwNjM5RSIgZD0ibTExMCA1MCA1MCA1MFY1MHoiLz48cGF0aCBkPSJNNjkuNjUxIDE2MC4wNjN2LTUuNDE3SDY0LjJjLTMuNDc0IDAtNS43NjYtLjUwMy02Ljg3NC0xLjUwOS0xLjEwOS0xLjAwNi0xLjY2My0yLjIxNy0xLjY2My0zLjYzNCAwLTEuMDUyLjIyOC0yLjY3NC42ODYtNC44NjlsLjg5MS00LjAxMWMuNDgtMi4xNDkuNzItMy44ODYuNzItNS4yMTIgMC0xLjUwOC0uMjU3LTIuODQ1LS43NzEtNC4wMTEtLjUxNS0xLjE2Ni0xLjI4LTIuMjk3LTIuMjk4LTMuMzk0LTEuMDE3LTEuMDk3LTIuNjExLTIuMjE3LTQuNzgyLTMuMzYgMi4xNzEtMS4xNDMgMy43NjUtMi4yNjkgNC43ODItMy4zNzcgMS4wMTgtMS4xMDkgMS43ODMtMi4yNCAyLjI5OC0zLjM5NS41MTQtMS4xNTQuNzcxLTIuNDg1Ljc3MS0zLjk5NCAwLTEuMzI2LS4yNC0zLjA3NC0uNzItNS4yNDZsLS44OTEtNC4wMTFjLS40NTgtMi4xNzItLjY4Ni0zLjc3Mi0uNjg2LTQuOCAwLTEuNDYzLjU2LTIuNjkyIDEuNjgtMy42ODYgMS4xMi0uOTk0IDMuNDA2LTEuNDkxIDYuODU3LTEuNDkxaDUuNDUxVjg5LjE2aC01LjUyYy02LjQyMiAwLTEwLjU2IDEuMDQtMTIuNDExIDMuMTItMS44NTEgMi4wOC0yLjc3NyA0LjQxMS0yLjc3NyA2Ljk5NCAwIDEuMzcyLjE3MSAyLjg2OS41MTQgNC40OTJsLjY1MiAyLjgxMS41ODIgMy4wNTIuNDQ2IDEuODE3Yy4xNi44LjI0IDEuNjIzLjI0IDIuNDY4IDAgMi4yODYtLjc0MyA0LjE4OS0yLjIyOCA1LjcwOS0xLjQ4NiAxLjUyLTQuMDU4IDIuMjgtNy43MTUgMi4yOEgzOC4yOHY1LjQ1MWgzLjE1NGMzLjcwMyAwIDYuMjg2Ljc3MiA3Ljc0OSAyLjMxNSAxLjQ2MyAxLjU0MiAyLjE5NCAzLjQxMSAyLjE5NCA1LjYwNSAwIC44LS4wOCAxLjYzNS0uMjQgMi41MDNsLS40NDYgMS44ODYtLjU4MiAzLjA1MS0uNjUyIDIuODEyYy0uMzQzIDEuNi0uNTE0IDMuMDg1LS41MTQgNC40NTcgMCAyLjYwNi45MjYgNC45MzcgMi43NzcgNi45OTQgMS44NTEgMi4wNTcgNS45ODkgMy4wODYgMTIuNDExIDMuMDg2aDUuNTJabTI3LjI0NiAwYzYuNDIzIDAgMTAuNTY2LTEuMDIzIDEyLjQyOS0zLjA2OSAxLjg2My0yLjA0NSAyLjc5NC00LjM3MSAyLjc5NC02Ljk3NyAwLTEuMzcxLS4xODMtMi44NjgtLjU0OS00LjQ5MWwtLjY1MS0yLjgxMi0uNTgzLTMuMDUxLS40MTEtMS44ODZjLS4xODMtLjgtLjI3NS0xLjYtLjI3NS0yLjQgMC0yLjI4Ni43NDktNC4xOTQgMi4yNDYtNS43MjYgMS40OTctMS41MzEgNC4wNzQtMi4yOTcgNy43MzItMi4yOTdoMy4xMnYtNS40NTFoLTMuMTJjLTMuNzAzIDAtNi4yOTItLjc3Mi03Ljc2Ni0yLjMxNC0xLjQ3NC0xLjU0My0yLjIxMi0zLjQtMi4yMTItNS41NzIgMC0uODIzLjA5Mi0xLjY4LjI3NS0yLjU3MWwuNDExLTEuODE3LjU4My0zLjA1Mi42NTEtMi44MTFjLjM2Ni0xLjYuNTQ5LTMuMDk3LjU0OS00LjQ5MiAwLTIuNTgzLS45MzEtNC45MTQtMi43OTQtNi45OTRzLTYuMDA2LTMuMTItMTIuNDI5LTMuMTJoLTUuNTJ2NS40ODZoNS40NTJjMy40NzQgMCA1Ljc2NS40OTcgNi44NzQgMS40OTEgMS4xMDguOTk0IDEuNjYzIDIuMjEyIDEuNjYzIDMuNjUyIDAgMS4wNTEtLjIyOSAyLjY2Mi0uNjg2IDQuODM0bC0uODkxIDQuMDExYy0uNDM1IDIuMTcyLS42NTIgMy45Mi0uNjUyIDUuMjQ2IDAgMS41MDkuMjQ2IDIuODQuNzM3IDMuOTk0LjQ5MiAxLjE1NSAxLjI0NiAyLjI4NiAyLjI2MyAzLjM5NSAxLjAxNyAxLjEwOCAyLjYxMiAyLjIzNCA0Ljc4MyAzLjM3Ny0yLjE3MSAxLjE0My0zLjc2NiAyLjI2My00Ljc4MyAzLjM2LTEuMDE3IDEuMDk3LTEuNzcxIDIuMjI4LTIuMjYzIDMuMzk0LS40OTEgMS4xNjYtLjczNyAyLjUwMy0uNzM3IDQuMDExIDAgMS4zMjYuMjE3IDMuMDYzLjY1MiA1LjIxMmwuODkxIDQuMDExYy40NTcgMi4xOTUuNjg2IDMuODA2LjY4NiA0LjgzNSAwIDEuNDQtLjU1NSAyLjY2Mi0xLjY2MyAzLjY2OC0xLjEwOSAxLjAwNi0zLjQgMS41MDktNi44NzQgMS41MDloLTUuNDUydjUuNDE3aDUuNTJaIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPgo=",extensions:[".json",".js",".ts",".htm",".html",".css",".sass"],mime:[]}],G=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/files/SubmittedFileComponent.scss"),Fe={};Fe.styleTagTransform=yr(),Fe.setAttributes=er(),Fe.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},Fe.domAPI=hn(),Fe.insertStyleElement=zn(),ht()(G.default,Fe);var Lt=function(M){var U=M.suffix;return(0,K.jsxs)(K.Fragment,{children:[M.prefix," ",(0,K.jsx)("a",Object.assign({href:M.url,target:"_blank",rel:"noopener"},{children:M.text}))," ",U]})},Ct=function(M){var U,oe,T=M.text;return null!==(oe=null!==(U=function Nt(b){var M=/^(.*?)(https?:\/\/[^\s)]+)(.*?)$/.exec(b);if(null!==M){var U=M[2];return(0,K.jsx)(Lt,{text:U,url:U,prefix:M[1],suffix:M[3]})}}(T))&&void 0!==U?U:function lt(b){var T=b.toLowerCase().indexOf("bytescale");if(-1!==T)return(0,K.jsx)(Lt,{text:"Bytescale",url:"https://www.bytescale.com/pricing",prefix:b.substring(0,T),suffix:b.substring(T+9)})}(T))&&void 0!==oe?oe:(0,K.jsx)(K.Fragment,{children:T})};function Zr(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var dr=function(M){var Oe,Ue,T=M.file,U=M.fileCount,oe=M.remove,fe=M.locale,pe=M.showRemoveButton,Ut=function Kt(b,M){return function xr(b){if(Array.isArray(b))return b}(b)||function Rr(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function fr(b,M){if(b){if("string"==typeof b)return Zr(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Zr(b,M)}}(b,M)||function Sr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ot.useState)(!1),2),un=Ut[0],qn=Ut[1];(0,ot.useEffect)(function(){if(un){var On=setTimeout(function(){oe()},1e3);return function(){return clearTimeout(On)}}},[un]);var ur,nr,Qn=ue,Bn=0;switch(T.type){case"preprocessing":Bn=0,ur=T.file.name,nr=fe.processingFile;break;case"uploading":Bn=Math.min(T.progress,.97),ur=T.file.name;break;case"uploaded":Bn=1,Qn=function B(b,M){var T,U=b.toLowerCase().trim(),oe=X.find(function(fe){return fe.extensions.some(function(pe){return U.endsWith(pe)})||fe.mime.some(function(pe){return M.startsWith(pe)})});return null!==(T=oe?.icon)&&void 0!==T?T:ue}(T.uploadedFile.file.name,T.uploadedFile.mime),ur=T.uploadedFile.file.name;break;case"failed":Bn=1,Qn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGw9IiNkMjNmNGQiIGN4PSIxNSIgY3k9IjE1IiByPSIxNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuNiA3LjYpIiBmaWxsPSIjRkZGIj48cmVjdCB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgNy40MjUgNy40MjUpIiB4PSI1LjkyNSIgeT0iLTEuNTc1IiB3aWR0aD0iMyIgaGVpZ2h0PSIxOCIgcng9IjEuNSIvPjxyZWN0IHRyYW5zZm9ybT0icm90YXRlKDQ1IDcuNDI1IDcuNDI1KSIgeD0iNS45MjUiIHk9Ii0xLjU3NSIgd2lkdGg9IjMiIGhlaWdodD0iMTgiIHJ4PSIxLjUiLz48L2c+PC9nPjwvc3ZnPgo=",nr=null!==(Ue=null===(Oe=T.error)||void 0===Oe?void 0:Oe.message)&&void 0!==Ue?Ue:"Unexpected error occurred.",ur=T.file.name;break;default:!function Qe(b){throw new Error("Didn't expect to get here: ".concat(JSON.stringify(b)))}(T)}return(0,K.jsx)("div",Object.assign({className:Mt()("upload-widget__submitted-file",{"upload-widget__submitted-file--loners":U<=2})},{children:(0,K.jsx)("div",Object.assign({className:"upload-widget__submitted-file__container"},{children:(0,K.jsxs)("div",Object.assign({className:"upload-widget__submitted-file__inner"},{children:[(0,K.jsx)(Cs,{progress:Math.max(.03,Bn),onCompleteImageSource:Qn,height:15,isError:"failed"===T.type})," ",(0,K.jsxs)("span",Object.assign({className:"upload-widget__submitted-file__text"},{children:[(0,K.jsx)("span",Object.assign({className:"upload-widget__submitted-file__name",title:ur},{children:ur})),void 0!==nr&&(0,K.jsx)("span",Object.assign({className:"upload-widget__submitted-file__message"},{children:(0,K.jsx)(Ct,{text:nr})}))]})),un?(0,K.jsx)("span",Object.assign({className:"upload-widget__submitted-file__action upload-widget__submitted-file__action--performed"},{children:"uploading"===T.type?fe["cancelled!"]:fe["removed!"]})):(0,K.jsx)(K.Fragment,{children:(pe||"uploading"===T.type)&&(0,K.jsx)("a",Object.assign({className:"upload-widget__submitted-file__action",href:"#remove",onClick:function(mi){mi.preventDefault(),qn(!0)}},{children:"uploading"===T.type?fe.cancel:fe.remove}))})]}))}))}))},Xr=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/screens/UploaderMainScreen.scss"),fi={};fi.styleTagTransform=yr(),fi.setAttributes=er(),fi.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},fi.domAPI=hn(),fi.insertStyleElement=zn(),ht()(Xr.default,fi);var Ii=function(M){var T=M.addFiles,U=M.submittedFiles,oe=M.uploadedFiles,fe=M.options,pe=M.remove,Oe=M.finalize,Ue=M.isImageUploader,Pt=U.every(function(_n){return"uploading"!==_n.type}),Ut=Pt&&oe.length>0,un=fe.locale,qn=fe.multi||fe.showFinishButton;return(0,K.jsxs)("div",Object.assign({className:"upload-widget__main-screen"},{children:[(0,K.jsx)("div",Object.assign({className:"upload-widget__main-screen__file-list"},{children:(0,K.jsx)("div",Object.assign({className:"upload-widget__main-screen__file-list__inner"},{children:U.map(function(_n){return(0,K.jsx)(dr,{file:_n,fileCount:U.length,locale:un,remove:function(){return pe(_n.fileIndex)},showRemoveButton:fe.showRemoveButton},_n.fileIndex)})}))})),qn&&(0,K.jsxs)("div",Object.assign({className:"upload-widget__controls"},{children:[fe.multi&&(void 0===fe.maxFileCount||U.length<fe.maxFileCount?(0,K.jsx)(Ai,{options:fe,text:Ue?un.addAnotherImage:un.addAnotherFile,onUpload:T}):(0,K.jsxs)("div",Object.assign({className:"upload-widget__main-screen__info"},{children:[Ue?un.maxImagesReached:un.maxFilesReached," ",fe.maxFileCount]}))),fe.showFinishButton&&(0,K.jsx)("a",Object.assign({href:"#done",className:Mt()("btn btn--primary",{disabled:!Ut}),onClick:function(An){An.preventDefault(),Ut&&Oe()}},{children:Pt?(0,K.jsxs)("span",Object.assign({className:"vcenter hcenter"},{children:[un.finish," ",un.finishIcon&&(0,K.jsx)(ne,{width:12,className:"ml-2"})]})):un.pleaseWait}))]}))]}))};function Oi(b){return"uploaded"===b.type}function Wi(b){return"preprocessing"===b.type||"uploading"===b.type}function co(b){return"failed"===b.type}function _r(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}function Vi(b){var T=function Hr(b,M){return function ko(b){if(Array.isArray(b))return b}(b)||function Di(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Un(b,M){if(b){if("string"==typeof b)return _r(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return _r(b,M)}}(b,M)||function Jt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ot.useState)(!1),2),oe=T[1];return{isDragging:T[0],onDrop:function(Ut){return function(Ut){if(Ut.preventDefault(),Ut.stopPropagation(),oe(!1),null!==Ut.dataTransfer){var un=Array.from(Ut.dataTransfer.files);un.length>0&&b(un)}}(Ut)},onDragOver:function(Ut){return function(Ut){Ut.preventDefault(),Ut.stopPropagation(),null!==Ut.dataTransfer&&(Ut.dataTransfer.dropEffect="copy")}(Ut)},onDragEnter:function(Ut){return function(Ut){Ut.preventDefault(),Ut.stopPropagation(),oe(!0)}(Ut)},onDragLeave:function(Ut){return function(Ut){var un;Ut.preventDefault(),Ut.stopPropagation(),(null===Ut.relatedTarget||!0!==(null===(un=Ut?.currentTarget)||void 0===un?void 0:un.contains(Ut.relatedTarget)))&&oe(!1)}(Ut)}}}var bo,No,Jr=W(9347);!function(b){b.from=function M(T,U){var oe;return{accountId:T.accountId,editedFile:U,originalFile:T,fileUrl:Jr.UrlBuilder.url(void 0===U?{filePath:T.filePath,accountId:T.accountId}:{filePath:U.filePath,accountId:U.accountId,options:{transformation:"image"}}),filePath:null!==(oe=U?.filePath)&&void 0!==oe?oe:T.filePath}}}(bo||(bo={})),function(b){b.toCssProps=function M(T){return{width:T.width,height:T.height,left:T.x,top:T.y}}}(No||(No={}));var jn=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/shapes/ResizableSquare.scss"),Ei={};function pi(b,M){return function sc(b){if(Array.isArray(b))return b}(b)||function pa(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function $o(b,M){if(b){if("string"==typeof b)return lo(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return lo(b,M)}}(b,M)||function oc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}Ei.styleTagTransform=yr(),Ei.setAttributes=er(),Ei.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},Ei.domAPI=hn(),Ei.insertStyleElement=zn(),ht()(jn.default,Ei);var ma=function(M){var T=M.boundary,U=M.children,oe=M.className,fe=M.onMove,pe=M.style,Oe=M.startingValue,Ue=M.geometryMutatorId,Ut=pi((0,ot.useState)(!1),2),un=Ut[0],qn=Ut[1],An=pi((0,ot.useState)(0),2),Qn=An[0],Bn=An[1],nr=pi((0,ot.useState)(0),2),On=nr[0],mi=nr[1],Lo=pi((0,ot.useState)(0),2),Zs=Lo[0],to=Lo[1],Ul=pi((0,ot.useState)(0),2),Vo=Ul[0],fo=Ul[1],jl=pi((0,ot.useState)(Oe),2),za=jl[0],Bl=jl[1],pc=function(li,Ks){return function(li,Ks,Yi){return Math.min(Math.max(Yi,li),Ks)}(-1*li,li,Ks)},Vc=function(li){return{x:li.pageX-Qn+Zs,y:li.pageY-On+Vo}},Ta=function(li){qn(!1),li.target.releasePointerCapture(li.pointerId);var Ks=Vc(li),Yi=Ks.x;fo(pc(T.height,Ks.y)),to(pc(T.width,Yi))};return(0,K.jsx)("div",Object.assign({className:oe,style:pe,onPointerDown:function(li){li.stopPropagation(),li.target.setPointerCapture(li.pointerId),qn(!0),function(li){Bn(li.pageX),mi(li.pageY)}(li),Oe.lastUpdatedBy!==Ue&&(to(0),fo(0),Bl(Oe))},onPointerMove:function(li){if(un){var Ks=Vc(li);fe(Ks.x,Ks.y,za)}},onPointerUp:Ta,onPointerCancel:Ta,onTouchStart:function(li){li.preventDefault()}},{children:U}))};function vr(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var $s=function(M){var T=M.boundary,U=M.corner,oe=M.geometry,fe=M.setGeometry;return(0,K.jsx)(ma,{className:"upload-widget__resizable-square__".concat(U),boundary:T,geometryMutatorId:U,startingValue:oe,onMove:function(Oe,Ue,Pt){return fe(U,{x:"nw"===U||"sw"===U?Pt.x+Oe:Pt.x,y:"nw"===U||"ne"===U?Pt.y+Ue:Pt.y,width:"nw"===U||"sw"===U?Pt.width-Oe:Pt.width+Oe,height:"nw"===U||"ne"===U?Pt.height-Ue:Pt.height+Ue})}})},Xi=function(M){var T=M.boundary,U=M.ratio,oe=M.onResized,fe=M.children,Oe={width:T.width-50,height:T.height-50},Ut=function(On,mi){return function(On,mi){if(void 0===U)return Object.assign(Object.assign({},On),{lastUpdatedBy:mi});var Ki=Math.min(On.height*U,On.width),Lo=Ki/U;return{lastUpdatedBy:mi,height:Lo,width:Ki,x:"ne"===mi||"se"===mi?On.x:"center"===mi?On.x+On.width/2-Ki/2:On.x+(On.width-Ki),y:"sw"===mi||"se"===mi?On.y:"center"===mi?On.y+On.height/2-Lo/2:On.y+(On.height-Lo)}}(function(On){var mi=Math.min(T.width-50,Math.max(0,On.x)),Ki=Math.min(T.height-50,Math.max(0,On.y)),Lo=Math.min(0,On.x),Zs=Math.min(0,On.y);return{x:mi,y:Ki,width:Math.max(50,Math.min(On.width+Lo,T.width-mi)),height:Math.max(50,Math.min(On.height+Zs,T.height-Ki))}}(On),mi)},un=function(){return Ut({x:0,y:0,width:T.width,height:T.height},"center")},_n=function ns(b,M){return function ga(b){if(Array.isArray(b))return b}(b)||function bl(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Wo(b,M){if(b){if("string"==typeof b)return vr(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return vr(b,M)}}(b,M)||function rl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ot.useState)(un),2),An=_n[0],Qn=_n[1],Bn=function(On,mi){return Qn(Ut(mi,On))},ur=function(){oe(0===An.x&&0===An.y&&An.width===T.width&&An.height===T.height?void 0:{geometry:An,boundary:T})};return(0,ot.useLayoutEffect)(ur,[An]),(0,ot.useLayoutEffect)(function(){Qn(un()),ur()},[T]),(0,K.jsxs)(ma,Object.assign({className:"upload-widget__resizable-square",boundary:Oe,style:No.toCssProps(An),geometryMutatorId:"center",startingValue:An,onMove:function(On,mi,Ki){return Bn("center",{x:Ki.x+On,y:Ki.y+mi,width:Ki.width,height:Ki.height})}},{children:[fe,(0,K.jsx)($s,{corner:"nw",setGeometry:Bn,geometry:An,boundary:Oe}),(0,K.jsx)($s,{corner:"ne",setGeometry:Bn,geometry:An,boundary:Oe}),(0,K.jsx)($s,{corner:"se",setGeometry:Bn,geometry:An,boundary:Oe}),(0,K.jsx)($s,{corner:"sw",setGeometry:Bn,geometry:An,boundary:Oe})]}))},Ji=function(M){return M.mime.toLowerCase().startsWith("image/")},Ws=function(M){var T=M.mime.toLowerCase();return T.startsWith("application/pdf")||T.startsWith("video/")},_a=["image/jpeg","image/gif","image/png","image/webp"];function Fi(b){if(function ru(b){return _a.includes(b.mime)}(b))return{url:URL.createObjectURL(b.file),external:!1,urlForDimensions:void 0};var M=function uo(b){return Ws(b)||"image/svg+xml"===b.mime}(b),T=b.fileUrl.replace("/raw/","/image/");return{url:"".concat(T,"?f=webp&f2=jpg").concat(M?"&w=".concat(1e3,"&h=").concat(1e3,"&fit=max"):""),external:!0,urlForDimensions:M?"".concat(T,"?f=jpg"):void 0}}var Ui=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/Spinner.scss"),Ss={};function Il(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}Ss.styleTagTransform=yr(),Ss.setAttributes=er(),Ss.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},Ss.domAPI=hn(),Ss.insertStyleElement=zn(),ht()(Ui.default,Ss);var kc=function(){var M,T,oe=function Oo(b,M){return function El(b){if(Array.isArray(b))return b}(b)||function Pc(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function va(b,M){if(b){if("string"==typeof b)return Il(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Il(b,M)}}(b,M)||function Oa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(cn(!0,[]),2),fe=oe[0],pe=oe[1],Ue=Math.min(null!==(M=fe?.width)&&void 0!==M?M:0,null!==(T=fe?.height)&&void 0!==T?T:0),Pt="".concat(Math.round(.5*Ue),"px");return(0,K.jsx)("div",Object.assign({class:"spinner__container",ref:pe},{children:(0,K.jsx)("div",{className:"spinner",style:{width:Pt,height:Pt}})}))},ac=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageEditorLayout.scss"),Fa={};function Yr(b,M){return function lc(b){if(Array.isArray(b))return b}(b)||function La(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Md(b,M){if(b){if("string"==typeof b)return cc(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return cc(b,M)}}(b,M)||function Wu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cc(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}Fa.styleTagTransform=yr(),Fa.setAttributes=er(),Fa.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},Fa.domAPI=hn(),Fa.insertStyleElement=zn(),ht()(ac.default,Fa);var is=function(M){var T=M.actions,U=M.originalImage,oe=M.header,fe=M.image,pe=M.modal,Ue=Yr((0,ot.useState)(""),2),Pt=Ue[0],Ut=Ue[1],qn=Yr((0,ot.useState)(!1),2),_n=qn[0],An=qn[1],Bn=Yr((0,ot.useState)(!1),2),ur=Bn[0],nr=Bn[1],Ki=Yr((0,ot.useState)("upload-widget__image-editor__image-".concat(Math.round(1e5*Math.random()))),1)[0],Lo=function Cn(b,M){var U=Ir(Bt(),2),oe=U[0],fe=U[1],Oe=Ir(Bt(),2),Pt=Oe[1];return[lr(b,oe,Oe[0],M),fe,Pt]}(ur,[Pt,_n]),Zs=Yr(Lo,3),to=Zs[0],ja=Zs[1],Ul=Zs[2];return(0,ot.useLayoutEffect)(function(){var Vo=Fi(U),Ba=Vo.external;Ut(Vo.url),An(!Ba),nr(!1)},[U.fileUrl]),(0,K.jsxs)("div",Object.assign({className:"upload-widget__image-editor"},{children:[(0,K.jsx)("div",Object.assign({className:Mt()({"upload-widget__image-editor__header":void 0!==oe,"upload-widget__image-editor__header--empty-non-modal":void 0===oe&&!pe})},{children:oe})),(0,K.jsx)("div",Object.assign({className:"upload-widget__image-editor__image",ref:Ul},{children:(0,K.jsxs)("div",Object.assign({className:"upload-widget__image-editor__image-padding"},{children:[!_n&&(0,K.jsx)(kc,{}),(0,K.jsx)("img",{id:Ki,src:Pt,onLoad:function(){An(!0),nr(!0)},className:"upload-widget__image-editor__image-inner",style:_n?{}:{display:"none"},ref:ja,draggable:!1}),void 0!==to&&_n&&void 0!==fe&&fe({imgDimensions:to,imageUrl:Pt})]}))})),(0,K.jsx)("div",Object.assign({className:"upload-widget__image-editor__actions upload-widget__controls upload-widget__controls--space"},{children:T}))]}))},ou=function(M){var oe=M.options,fe=oe.locale,pe=oe.multi?{imageIndex:M.imageIndex,imageCount:M.imageCount}:void 0;return void 0===pe||1===pe.imageCount?void 0:(0,K.jsxs)("span",Object.assign({className:"text-secondary"},{children:[fe.image," ",pe.imageIndex+1," ",fe.of," ",pe.imageCount]}))};function Tl(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}function os(b,M){return function ee(b){if(Array.isArray(b))return b}(b)||function L(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function R(b,M){if(b){if("string"==typeof b)return N(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return N(b,M)}}(b,M)||function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var ye=function(M){var T=M.busyText,U=M.idleText,oe=M.locale,fe=M.onSubmit,pe=M.showIcon,Ue=os((0,ot.useState)(!1),2),Pt=Ue[0],Ut=Ue[1],un=function il(){var M=function uc(b,M){return function xs(b){if(Array.isArray(b))return b}(b)||function Cl(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Rd(b,M){if(b){if("string"==typeof b)return Tl(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Tl(b,M)}}(b,M)||function dc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ot.useState)(void 0),2),T=M[0],U=M[1],oe=void 0!==T;return(0,ot.useEffect)(function(){if(void 0!==T){var fe=setTimeout(function(){U(void 0),T()},1500);return function(){return clearTimeout(fe)}}return function(){}},[oe]),[oe,function(fe){return U(fe??function(){})}]}(),qn=os(un,2),_n=qn[0],An=qn[1],Qn=Pt||_n;return(0,K.jsxs)("button",Object.assign({disabled:Qn,onClick:function(nr){nr.preventDefault(),Ut(!0),fe().then(function(){},function(On){console.error(On),An(),Ut(!1)})},className:Mt()("btn btn--primary",{disabled:Qn})},{children:[Pt?T:_n?oe["error!"]:U," ",pe&&(0,K.jsx)(ne,{width:12,className:"ml-2"})]}))};function rt(b){return function(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];try{return Promise.resolve(b.apply(this,M))}catch(U){return Promise.reject(U)}}}var $e=function(M){var U=M.onFinish,oe=M.options.locale;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("button",Object.assign({onClick:function(){U(!1).then(function(){},function(pe){console.error("Unable to cancel upload.",pe)})},className:"btn"},{children:oe.cancelInPreviewWindow})),(0,K.jsx)(ye,{onSubmit:rt(function(){return U(!0)}),locale:oe,idleText:oe.continue,busyText:oe.pleaseWait,showIcon:!1})]})},Rn=z("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageCropper.scss"),mn={};function Ds(b,M,T){return T?M?M(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),M?b.then(M):b)}function ji(){}function qu(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}mn.styleTagTransform=yr(),mn.setAttributes=er(),mn.insert=function(M){typeof document<"u"&&document.head.appendChild(M)},mn.domAPI=hn(),mn.insertStyleElement=zn(),ht()(Rn.default,mn);var Nd=function(M){var T=M.options,U=M.originalImage,oe=M.upload,fe=M.onFinish,Oe=function Al(b,M){return function kd(b){if(Array.isArray(b))return b}(b)||function Jf(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Pd(b,M){if(b){if("string"==typeof b)return qu(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return qu(b,M)}}(b,M)||function su(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ot.useState)(void 0),2),Ue=Oe[0],Pt=Oe[1],Ut=function Fo(b){return function(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];try{return Promise.resolve(b.apply(this,M))}catch(U){return Promise.reject(U)}}}(function(un){var qn;return function Ms(b){var M=b();if(M&&M.then)return M.then(ji)}(function(){if(un&&void 0!==Ue)return Ds(new Promise(function(_n){var An,Qn=new Image,Bn=Fi(U);Qn.onload=function(){_n({width:Qn.naturalWidth,height:Qn.naturalHeight})},Qn.src=null!==(An=Bn.urlForDimensions)&&void 0!==An?An:Bn.url}),function(_n){var Qn=function zh(b,M,T,U){var oe=U.width/T.width;return{inputPath:b,pipeline:{steps:[{geometry:{offset:{x:Math.round(M.x*oe),y:Math.round(M.y*oe)},size:{width:Math.round(M.width*oe),height:Math.round(M.height*oe),type:"widthxheight!"}},type:"crop"}]}}}(U.filePath.substring(U.filePath.lastIndexOf("/")+1),Ue.geometry,Ue.boundary,_n),Bn=new Blob([JSON.stringify(Qn)],{type:"application/json"});return Ds(oe.uploadFile({name:"".concat(null!==(qn=U.originalFileName)&&void 0!==qn?qn:"image",".crop"),type:Bn.type,size:Bn.size,slice:function(nr,On){return Bn.slice(nr,On)}},{path:T.editor.images.cropFilePath(U)}),function(ur){fe(un,ur)})});fe(un,void 0)})});return(0,K.jsx)(is,{modal:"modal"===T.layout,header:ou(M),actions:(0,K.jsx)($e,{options:T,onFinish:Ut}),image:function(qn){var Qn,Bn,ur,nr,_n=qn.imgDimensions,An=qn.imageUrl;return(0,K.jsx)("div",Object.assign({className:"upload-widget__image-cropper__overlay",style:No.toCssProps(_n)},{children:(0,K.jsx)(Xi,Object.assign({boundary:_n,onResized:Pt,ratio:T.editor.images.cropRatio},{children:(0,K.jsx)("div",Object.assign({className:Mt()("upload-widget__image-cropper__clip",{"upload-widget__image-cropper__clip--circular":"circ"===T.editor.images.cropShape}),style:{width:null!==(Qn=Ue?.geometry.width)&&void 0!==Qn?Qn:_n.width,height:null!==(Bn=Ue?.geometry.height)&&void 0!==Bn?Bn:_n.height}},{children:(0,K.jsx)("img",{src:An,draggable:!1,style:{width:_n.width,height:_n.height,transform:"translateX(".concat(-1*(null!==(ur=Ue?.geometry.x)&&void 0!==ur?ur:0),"px) translateY(").concat(-1*(null!==(nr=Ue?.geometry.y)&&void 0!==nr?nr:0),"px)")}})}))}))}))},originalImage:U})},au=function(M){var T=M.options,U=M.originalImage,oe=M.onFinish,fe=function Od(b){return function(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];try{return Promise.resolve(b.apply(this,M))}catch(U){return Promise.reject(U)}}}(function(pe){return oe(pe),function Sl(b,M,T){return T?M?M(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),M?b.then(M):b)}()});return(0,K.jsx)(is,{modal:"modal"===T.layout,header:ou(M),actions:(0,K.jsx)($e,{options:T,onFinish:fe}),originalImage:U})},Fd=function(M){var T=M.imageCount,U=M.imageIndex,oe=M.originalImage,fe=M.upload,pe=M.onImageEdited,Oe=M.options;return function xl(b,M){return b.editor.images.crop&&Ji(M)}(Oe,oe)?(0,K.jsx)(Nd,{imageCount:T,imageIndex:U,options:Oe,onFinish:pe,upload:fe,originalImage:oe}):(0,K.jsx)(au,{imageCount:T,imageIndex:U,options:Oe,onFinish:function(Pt){return pe(Pt,void 0)},originalImage:oe})};function Nc(b,M){return function tp(b){if(Array.isArray(b))return b}(b)||function Yu(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||uu(b,M)||function ep(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uu(b,M){if(b){if("string"==typeof b)return Ku(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Ku(b,M)}}function Ku(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var Hh=function(M){var U=M.onImageEdited,oe=M.upload,fe=M.options,pe=function Qu(b){var T=Nc((0,ot.useState)(b[0]),2),U=T[0],oe=T[1],pe=Nc((0,ot.useState)(0),2),Oe=pe[0],Ue=pe[1],Ut=Nc((0,ot.useState)(b.length),2),un=Ut[0],qn=Ut[1],_n=b.map(function(Qn){return Qn.uploadedFile.filePath}),An=U.uploadedFile.filePath;return(0,ot.useLayoutEffect)(function(){!_n.includes(An)&&(oe(b[0]),Ue(function(Bn){return Bn+1})),qn(Oe+b.length)},[Oe,An].concat(function cu(b){return function lu(b){if(Array.isArray(b))return Ku(b)}(b)||function Ld(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||uu(b)||function Zu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_n))),{currentFile:An,imageCount:un,imageIndex:Oe,currentImage:U}}(M.images),Ut=pe.currentImage;return(0,K.jsx)(Fd,{options:fe,imageCount:pe.imageCount,imageIndex:pe.imageIndex,originalImage:Ut.uploadedFile,onImageEdited:function(qn,_n){return U(qn,_n,Ut.fileIndex)},upload:oe},pe.currentFile)};function Dl(b,M){return function Rl(b){if(Array.isArray(b))return b}(b)||function ol(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function du(b,M){if(b){if("string"==typeof b)return Rs(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Rs(b,M)}}(b,M)||function Ml(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}function sl(b,M,T){return T?M?M(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),M?b.then(M):b)}function Pl(b,M,T){return M in b?Object.defineProperty(b,M,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[M]=T,b}function Qr(b){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(b)}function hc(b){return function rp(b){if(Array.isArray(b))return Nl(b)}(b)||function qo(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||Io(b)||function ba(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(b,M){return function hu(b){if(Array.isArray(b))return b}(b)||function jd(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||Io(b,M)||function Oc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(b,M){if(b){if("string"==typeof b)return Nl(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Nl(b,M)}}function Nl(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var fc=function(b,M){var T={};for(var U in b)Object.prototype.hasOwnProperty.call(b,U)&&M.indexOf(U)<0&&(T[U]=b[U]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(U=Object.getOwnPropertySymbols(b);oe<U.length;oe++)M.indexOf(U[oe])<0&&Object.prototype.propertyIsEnumerable.call(b,U[oe])&&(T[U[oe]]=b[U[oe]])}return T},Fc=function(M){var fe,Gr,T=M.resolve,U=M.options,oe=M.upload,Ue=kl((0,ot.useState)(0),2)[1],Ut=kl((0,ot.useState)(!0),2),un=Ut[0],qn=Ut[1],An=kl((0,ot.useState)({}),2),Bn=An[1],ur=Object.values(An[0]).filter(De),nr=ur.filter(Oi),On=ur.filter(Wi),mi=ur.filter(co),Zs=U.multi,to=U.tags,ja=U.metadata,Ul=U.path,Vo=nr.filter(function(Fr){return Fr.isReady}),fo=nr.filter(function(Fr){return!Fr.isReady}),Ba=Vo.map(function(Fr){return bo.from(Fr.uploadedFile,Fr.editedFile)}),jl=U.editor.images.crop,za=U.editor.images.preview,Bl=function(Gr){return(jl||za)&&Ji(Gr)||za&&Ws(Gr)},yu=function Vd(b,M){var U=Dl((0,ot.useState)(!1),2),oe=U[0],fe=U[1],Oe=Dl((0,ot.useState)(null),2),Ue=Oe[0],Pt=Oe[1];return(0,ot.useEffect)(function(){if(b.length>0){var Ut=setTimeout(function(){fe(!0)},M);return Pt(Ut),function(){return clearTimeout(Ut)}}oe&&fe(!1),null!==Ue&&(clearTimeout(Ue),Pt(null))},[b.length,oe]),oe}(fo,550);(0,ot.useLayoutEffect)(function(){if(un)qn(!1);else if(U.onUpdate({failedFiles:mi.map(function(Ri){return{file:Ri.file,error:Ri.error}}),uploadedFiles:Ba,pendingFiles:[].concat(hc(On),hc(fo)).map(function(Ri){return{file:Ri.file}})}),!Zs&&Vo.length>0&&!U.showFinishButton&&"modal"===U.layout){var Gr=Ba.slice(0,1),Ti=function(){return T(Gr)};if(!Bl(nr[0].uploadedFile)){var Mi=setTimeout(Ti,550);return function(){return clearTimeout(Mi)}}Ti()}},[].concat(hc((Gr=[On,fo,Vo,mi]).map(function(Ti){return Ti.length})),hc(Gr.flatMap(function(Ti){return Ti.map(function(yi){return yi.fileIndex})}))));var Vc=function(Gr){Bn(function(Ti){var Mi=Gr,Ri=Ti[Mi],ks=fc(Ti,["symbol"===Qr(Mi)?Mi:Mi+""]);return"uploading"===Ri?.type&&Ri.cancel(),ks})},mc=function(Gr,Ti){Bn(function(yi){return Object.assign(Object.assign({},yi),Pl({},Gr,Ti))})},Ta=function(Gr,Ti,yi){Bn(function(Mi){var Ri=Mi[Gr];return void 0===Ri||Ri.type!==Ti?Mi:Object.assign(Object.assign({},Mi),Pl({},Gr,yi(Ri)))})},Uc=function Ud(b){return function(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];try{return Promise.resolve(b.apply(this,M))}catch(U){return Promise.reject(U)}}}(function(Fr,Gr){var Ti,yi,Co,Mi=function(Wd){var Ha=new To(Wd);throw mc(Gr,{file:Fr,fileIndex:Gr,error:Ha,type:"failed"}),Ha},Ri=U.maxFileSizeBytes,ks=U.mimeTypes,Ys=U.onPreUpload;return void 0!==Ri&&Fr.size>Ri&&Mi("".concat(U.locale.maxSize," ").concat(function es(b){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,T=b,U=1024,fe=Math.pow(10,M),pe=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],Oe=0;if(Math.abs(T)<U)return"".concat(T).concat(" ").concat(pe[Oe]);do{b/=U,T/=U,++Oe}while(Math.round(Math.abs(T)*fe)/fe>=U&&Oe<pe.length-1);return b.toFixed(M)+" "+pe[Oe]}(Ri))),function Gh(b,M){if(void 0===b||0===b.length)return!0;var T=function(fe){return fe.trim().toLowerCase()},U=T(M);return b.some(function(oe){var fe=T(oe);return fe===U||fe.endsWith("*")&&U.startsWith(fe.substring(0,fe.length-1))})}(ks,Fr.type)||Mi(U.locale.unsupportedFileType),mc(Gr,{file:Fr,fileIndex:Gr,type:"preprocessing"}),function Ps(b,M){return b&&b.then?b.then(M):M(b)}(function np(b,M){try{var T=b()}catch(U){return M(U)}return T&&T.then?T.then(void 0,M):T}(function(){return sl(Ys(Fr),function(ms){Co=null!==(Ti=ms)&&void 0!==Ti?Ti:void 0})},function(ms){Co={errorMessage:U.locale.customValidationFailed},console.error("[upload-widget] onPreUpload function raised an error.",ms)}),function(){void 0!==Co?.errorMessage&&Mi(Co.errorMessage);var ms=null!==(yi=Co?.transformedFile)&&void 0!==yi?yi:Fr;return sl(oe.uploadFile(ms,{path:Ul,metadata:ja,tags:to,onBegin:function(Ha){return mc(Gr,{file:ms,fileIndex:Gr,cancel:Ha.cancel,progress:0,type:"uploading"})},onProgress:function(Ha){var Ga=Ha.bytesSent,od=Ha.bytesTotal;return Ta(Gr,"uploading",function(Yh){return Object.assign(Object.assign({},Yh),{progress:Ga/od})})}}))})}),zl=function(Gr){return Ue(function(Ti){var yi=Zs?U.maxFileCount:1,Mi=void 0===yi?Gr.length:Math.min(Gr.length,yi-ur.length);return Mi<=0?Ti:(Gr.slice(0,Mi).forEach(function(Ri,ks){var Ys=Ti+ks;Uc(Ri,Ys).then(function(Co){Ta(Ys,"uploading",function(){return{file:Ri,fileIndex:Ys,uploadedFile:Co,editedFile:void 0,isReady:!Bl(Co),type:"uploaded"}})},function(Co){Ta(Ys,"uploading",function(ms){return{fileIndex:Ys,error:Co,file:ms.file,type:"failed"}})})}),Ti+Gr.length)})},Ca=Vi(zl),li=Ca.isDragging,Ks=fc(Ca,["isDragging"]),Yi=null!==(fe=U.mimeTypes)&&void 0!==fe?fe:[],gc=Yi.length>0&&Yi.every(function(Fr){return Fr.trim().toLowerCase().startsWith("image/")});return(0,K.jsx)(Qt,Object.assign({htmlProps:Ks,isDraggable:!0,isDragging:li,layout:U.layout,multi:U.multi},{children:0===ur.length?(0,K.jsx)(si,{options:U,addFiles:zl,isImageUploader:gc}):yu&&fo.length>0?(0,K.jsx)(Hh,{images:fo,onImageEdited:function(Gr,Ti,yi){Gr?Ta(yi,"uploaded",function(Mi){return Object.assign(Object.assign({},Mi),{editedFile:Ti,isReady:!0})}):Vc(yi)},upload:oe,options:U}):(0,K.jsx)(Ii,{options:U,addFiles:zl,submittedFiles:ur,uploadedFiles:nr,remove:Vc,finalize:function(){T(Ba)},isImageUploader:gc})}))},$h=function(M){var T=M.upload,U=M.resolve,oe=M.reject,fe=M.options;return(0,K.jsx)(K.Fragment,{children:"error"===T.type?(0,K.jsx)(ce,{error:T.value,layout:fe.layout}):(0,K.jsx)(Fc,{resolve:U,reject:oe,options:fe,upload:T.value})})};function cr(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var pu=function(M){var T=M.widgetProps,oe=function eo(b,M){return function ip(b){if(Array.isArray(b))return b}(b)||function fu(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Bd(b,M){if(b){if("string"==typeof b)return cr(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return cr(b,M)}}(b,M)||function al(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ot.useState)(!0),2),pe=oe[1],Oe=function(Ut){T.resolve(Ut),pe(!1)};return oe[0]?(0,K.jsx)(sn,Object.assign({closeModal:function(){return Oe([])}},{children:(0,K.jsx)($h,Object.assign({},T,{resolve:Oe,reject:function(Ut){T.reject(Ut),pe(!1)}}))})):(0,K.jsx)(K.Fragment,{})};function qi(b,M){return function Xu(b){if(Array.isArray(b))return b}(b)||function cl(b,M){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var pe,Oe,U=[],oe=!0,fe=!1;try{for(T=T.call(b);!(oe=(pe=T.next()).done)&&(U.push(pe.value),!M||U.length!==M);oe=!0);}catch(Ue){fe=!0,Oe=Ue}finally{try{!oe&&null!=T.return&&T.return()}finally{if(fe)throw Oe}}return U}}(b,M)||function Zi(b,M){if(b){if("string"==typeof b)return Va(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Va(b,M)}}(b,M)||function Wh(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}var qh=function(M){var T=M.widgetProps,oe=qi((0,ot.useState)(0),2),fe=oe[0],pe=oe[1],Ue=qi((0,ot.useState)(T.options),2),Pt=Ue[0],Ut=Ue[1],un=Object.assign(Object.assign({},T),{options:Pt});return(0,ot.useEffect)(function(){Pt.onInit({close:function(){T.resolve([])},reset:function(){pe(function(_n){return _n+1}),"success"===T.upload.type&&T.upload.value.cancelAll()},updateConfig:function(_n){Ut(it.from(_n))}})},[]),(0,K.jsx)(At.Fragment,{children:(0,K.jsx)("div",Object.assign({className:Mt()("upload-widget",{"upload-widget--with-modal":"modal"===Pt.layout}),style:{"--error-color":Pt.styles.colors.error,"--primary-color":Pt.styles.colors.primary,"--primary-active-color":Pt.styles.colors.active,"--shade-100":Pt.styles.colors.shade100,"--shade-200":Pt.styles.colors.shade200,"--shade-300":Pt.styles.colors.shade300,"--shade-400":Pt.styles.colors.shade400,"--shade-500":Pt.styles.colors.shade500,"--shade-600":Pt.styles.colors.shade600,"--shade-700":Pt.styles.colors.shade700,"--shade-800":Pt.styles.colors.shade800,"--shade-900":Pt.styles.colors.shade900,"--base-font-family":Pt.styles.fontFamilies.base,"--base-font-size":"".concat(Pt.styles.fontSizes.base,"px")}},{children:"modal"===Pt.layout?(0,K.jsx)(pu,{widgetProps:un}):(0,K.jsx)($h,Object.assign({},un))}))},fe)};function Ol(b,M){(null==M||M>b.length)&&(M=b.length);for(var T=0,U=new Array(M);T<M;T++)U[T]=b[T];return U}function Ju(b,M){for(var T=0;T<M.length;T++){var U=M[T];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(b,U.key,U)}}var Zh=function(){function b(M){(function Ia(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")})(this,b),this.config=M,this.uploadCancellations=[],this.uploadManager=new Jr.UploadManager(M)}return function ed(b,M,T){M&&Ju(b.prototype,M),T&&Ju(b,T),Object.defineProperty(b,"prototype",{writable:!1})}(b,[{key:"cancelAll",value:function(){this.uploadCancellations.forEach(function(T){return T()}),this.uploadCancellations=[]}},{key:"uploadFile",value:function(T,U){try{var fe,pe,oe=this;return function Fl(b,M){try{var T=b()}catch(U){return M(!0,U)}return T&&T.then?T.then(M.bind(null,!1),M.bind(null,!0)):M(!1,T)}(function(){var Oe=null!==(fe=U.cancellationToken)&&void 0!==fe?fe:{isCancelled:!1};return pe=function(){Oe.isCancelled=!0},oe.uploadCancellations=[].concat(function zd(b){return function ps(b){if(Array.isArray(b))return Ol(b)}(b)||function jr(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||function kt(b,M){if(b){if("string"==typeof b)return Ol(b,M);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Ol(b,M)}}(b)||function Hd(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(oe.uploadCancellations),[pe]),void 0!==U.onBegin&&U.onBegin({cancel:pe}),function Eo(b,M,T){return T?M?M(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),M?b.then(M):b)}(oe.uploadManager.upload(Object.assign(Object.assign({},U),{cancellationToken:Oe,data:T})),function(Ue){return Object.assign(Object.assign({},Ue),{file:T})})},function(Oe,Ue){return oe.uploadCancellations=oe.uploadCancellations.filter(function(Pt){return Pt!==pe}),function mu(b,M){if(b)throw M;return M}(Oe,Ue)})}catch(Oe){return Promise.reject(Oe)}}}]),b}();function Kh(b,M,T){return T?M?M(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),M?b.then(M):b)}function ho(b,M){for(var T=0;T<M.length;T++){var U=M[T];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(b,U.key,U)}}var Gd=function(){function b(){!function td(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}(this,b)}return function Ea(b,M,T){M&&ho(b.prototype,M),T&&ho(b,T),Object.defineProperty(b,"prototype",{writable:!1})}(b,null,[{key:"open",value:function(T){try{var U,oe;try{oe={type:"success",value:new Zh(T)}}catch(pe){oe={type:"error",value:pe}}var fe=it.from(T);return Kh(b.getBody(),function(pe){var Oe=void 0!==fe.container?"string"==typeof fe.container?null!==(U=document.querySelector(fe.container))&&void 0!==U?U:void 0:fe.container:void 0,Ue=document.createElement("div");return(Oe??pe).appendChild(Ue),Ue.className="upload-widget__root",Kh(new Promise(function(Pt,Ut){(0,At.render)((0,K.jsx)(qh,{widgetProps:{upload:oe,resolve:Pt,reject:Ut,options:fe}}),Ue)}),function(Pt){return Ue.remove(),"success"===oe.type&&oe.value.cancelAll(),Pt})})}catch(pe){return Promise.reject(pe)}}},{key:"getBody",value:function(){try{return Kh(new Promise(function(T){!function oe(){var fe,pe=null!==(fe=document.body)&&void 0!==fe?fe:void 0;void 0!==pe&&T(pe),setTimeout(oe,100)}()}))}catch(T){return Promise.reject(T)}}}]),b}();function Ua(b){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(b)}function qs(b,M){for(var T=0;T<M.length;T++){var U=M[T];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(b,U.key,U)}}function Ll(b){var M="function"==typeof Map?new Map:void 0;return Ll=function(U){if(null===U||!function id(b){return-1!==Function.toString.call(b).indexOf("[native code]")}(U))return U;if("function"!=typeof U)throw new TypeError("Super expression must either be null or a function");if(typeof M<"u"){if(M.has(U))return M.get(U);M.set(U,oe)}function oe(){return Vl(U,arguments,Br(this).constructor)}return oe.prototype=Object.create(U.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),Pn(oe,U)},Ll(b)}function Vl(b,M,T){return(Vl=rd()?Reflect.construct:function(oe,fe,pe){var Oe=[null];Oe.push.apply(Oe,fe);var Pt=new(Function.bind.apply(oe,Oe));return pe&&Pn(Pt,pe.prototype),Pt}).apply(null,arguments)}function rd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pn(b,M){return(Pn=Object.setPrototypeOf||function(U,oe){return U.__proto__=oe,U})(b,M)}function Br(b){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(b)}var To=function(b){!function gu(b,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(M&&M.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),M&&Pn(b,M)}(T,b);var M=function sp(b){var M=rd();return function(){var oe,U=Br(b);if(M){var fe=Br(this).constructor;oe=Reflect.construct(U,arguments,fe)}else oe=U.apply(this,arguments);return function _u(b,M){if(M&&("object"===Ua(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function nd(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}(this,oe)}}(T);function T(U){var oe;return function $d(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}(this,T),(oe=M.call(this,U)).name="UploadWidgetValidationError",oe}return function op(b,M,T){return M&&qs(b.prototype,M),T&&qs(b,T),Object.defineProperty(b,"prototype",{writable:!1}),b}(T)}(Ll(Error))})(),pn.exports=Te}()},9058:(pn,st,W)=>{"use strict";W.d(st,{$s:()=>Bt,BH:()=>He,G6:()=>yr,L:()=>Me,LL:()=>Mt,P0:()=>on,Pz:()=>yt,Sg:()=>it,UG:()=>ht,US:()=>Ce,ZB:()=>Ee,ZR:()=>vt,aH:()=>Ne,b$:()=>sr,eu:()=>qe,hl:()=>je,jU:()=>Ht,m9:()=>lr,ne:()=>Tn,pd:()=>Xt,r3:()=>ot,ru:()=>hn,tV:()=>Y,uI:()=>de,vZ:()=>kn,w1:()=>mr,xO:()=>Dn,xb:()=>$n,z$:()=>At,zI:()=>et,zd:()=>Rt});const Te=function(_e){const le=[];let J=0;for(let te=0;te<_e.length;te++){let q=_e.charCodeAt(te);q<128?le[J++]=q:q<2048?(le[J++]=q>>6|192,le[J++]=63&q|128):55296==(64512&q)&&te+1<_e.length&&56320==(64512&_e.charCodeAt(te+1))?(q=65536+((1023&q)<<10)+(1023&_e.charCodeAt(++te)),le[J++]=q>>18|240,le[J++]=q>>12&63|128,le[J++]=q>>6&63|128,le[J++]=63&q|128):(le[J++]=q>>12|224,le[J++]=q>>6&63|128,le[J++]=63&q|128)}return le},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,le){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let q=0;q<_e.length;q+=3){const ke=_e[q],St=q+1<_e.length,Qt=St?_e[q+1]:0,ne=q+2<_e.length,ce=ne?_e[q+2]:0;let Vt=(15&Qt)<<2|ce>>6,Zt=63&ce;ne||(Zt=64,St||(Vt=64)),te.push(J[ke>>2],J[(3&ke)<<4|Qt>>4],J[Vt],J[Zt])}return te.join("")},encodeString(_e,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(_e):this.encodeByteArray(Te(_e),le)},decodeString(_e,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(_e):function(_e){const le=[];let J=0,te=0;for(;J<_e.length;){const q=_e[J++];if(q<128)le[te++]=String.fromCharCode(q);else if(q>191&&q<224){const ke=_e[J++];le[te++]=String.fromCharCode((31&q)<<6|63&ke)}else if(q>239&&q<365){const ne=((7&q)<<18|(63&_e[J++])<<12|(63&_e[J++])<<6|63&_e[J++])-65536;le[te++]=String.fromCharCode(55296+(ne>>10)),le[te++]=String.fromCharCode(56320+(1023&ne))}else{const ke=_e[J++],St=_e[J++];le[te++]=String.fromCharCode((15&q)<<12|(63&ke)<<6|63&St)}}return le.join("")}(this.decodeStringToByteArray(_e,le))},decodeStringToByteArray(_e,le){this.init_();const J=le?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let q=0;q<_e.length;){const ke=J[_e.charAt(q++)],Qt=q<_e.length?J[_e.charAt(q)]:0;++q;const ce=q<_e.length?J[_e.charAt(q)]:64;++q;const Qe=q<_e.length?J[_e.charAt(q)]:64;if(++q,null==ke||null==Qt||null==ce||null==Qe)throw new Ae;te.push(ke<<2|Qt>>4),64!==ce&&(te.push(Qt<<4&240|ce>>2),64!==Qe&&te.push(ce<<6&192|Qe))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(_e){return function(_e){const le=Te(_e);return Ce.encodeByteArray(le,!0)}(_e).replace(/\./g,"")},Y=function(_e){try{return Ce.decodeString(_e,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function Ee(_e,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return le}for(const J in le)!le.hasOwnProperty(J)||!Tt(J)||(_e[J]=Ee(_e[J],le[J]));return _e}function Tt(_e){return"__proto__"!==_e}const Ye=()=>{try{return function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=_e&&Y(_e[1]);return le&&JSON.parse(le)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},on=_e=>{const le=(_e=>{var le,J;return null===(J=null===(le=Ye())||void 0===le?void 0:le.emulatorHosts)||void 0===J?void 0:J[_e]})(_e);if(!le)return;const J=le.lastIndexOf(":");if(J<=0||J+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const te=parseInt(le.substring(J+1),10);return"["===le[0]?[le.substring(1,J-1),te]:[le.substring(0,J),te]},Ne=()=>{var _e;return null===(_e=Ye())||void 0===_e?void 0:_e.config},yt=_e=>{var le;return null===(le=Ye())||void 0===le?void 0:le[`_${_e}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,J)=>{this.resolve=le,this.reject=J})}wrapCallback(le){return(J,te)=>{J?this.reject(J):this.resolve(te),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(J):le(J,te))}}}function it(_e,le){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=le||"demo-project",q=_e.iat||0,ke=_e.sub||_e.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:q,exp:q+3600,auth_time:q,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(St)),""].join(".")}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function ht(){var _e;const le=null===(_e=Ye())||void 0===_e?void 0:_e.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function hn(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function sr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mr(){const _e=At();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function yr(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function je(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((_e,le)=>{try{let J=!0;const te="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(te);q.onsuccess=()=>{q.result.close(),J||self.indexedDB.deleteDatabase(te),_e(!0)},q.onupgradeneeded=()=>{J=!1},q.onerror=()=>{var ke;le((null===(ke=q.error)||void 0===ke?void 0:ke.message)||"")}}catch(J){le(J)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vt extends Error{constructor(le,J,te){super(J),this.code=le,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(le,J,te){this.service=le,this.serviceName=J,this.errors=te}create(le,...J){const te=J[0]||{},q=`${this.service}/${le}`,ke=this.errors[le],St=ke?function jt(_e,le){return _e.replace(Ot,(J,te)=>{const q=le[te];return null!=q?String(q):`<${te}?>`})}(ke,te):"Error";return new vt(q,`${this.serviceName}: ${St} (${q}).`,te)}}const Ot=/\{\$([^}]+)}/g;function ot(_e,le){return Object.prototype.hasOwnProperty.call(_e,le)}function $n(_e){for(const le in _e)if(Object.prototype.hasOwnProperty.call(_e,le))return!1;return!0}function kn(_e,le){if(_e===le)return!0;const J=Object.keys(_e),te=Object.keys(le);for(const q of J){if(!te.includes(q))return!1;const ke=_e[q],St=le[q];if(Je(ke)&&Je(St)){if(!kn(ke,St))return!1}else if(ke!==St)return!1}for(const q of te)if(!J.includes(q))return!1;return!0}function Je(_e){return null!==_e&&"object"==typeof _e}function Dn(_e){const le=[];for(const[J,te]of Object.entries(_e))Array.isArray(te)?te.forEach(q=>{le.push(encodeURIComponent(J)+"="+encodeURIComponent(q))}):le.push(encodeURIComponent(J)+"="+encodeURIComponent(te));return le.length?"&"+le.join("&"):""}function Rt(_e){const le={};return _e.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[q,ke]=te.split("=");le[decodeURIComponent(q)]=decodeURIComponent(ke)}}),le}function Xt(_e){const le=_e.indexOf("?");if(!le)return"";const J=_e.indexOf("#",le);return _e.substring(le,J>0?J:void 0)}function Tn(_e,le){const J=new ar(_e,le);return J.subscribe.bind(J)}class ar{constructor(le,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{le(this)}).catch(te=>{this.error(te)})}next(le){this.forEachObserver(J=>{J.next(le)})}error(le){this.forEachObserver(J=>{J.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,J,te){let q;if(void 0===le&&void 0===J&&void 0===te)throw new Error("Missing Observer.");q=function Ln(_e,le){if("object"!=typeof _e||null===_e)return!1;for(const J of le)if(J in _e&&"function"==typeof _e[J])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:J,complete:te},void 0===q.next&&(q.next=tr),void 0===q.error&&(q.error=tr),void 0===q.complete&&(q.complete=tr);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),ke}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,le)}sendOne(le,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{J(this.observers[le])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}const ei=1e3,nt=2,ge=144e5,Ze=.5;function Bt(_e,le=ei,J=nt){const te=le*Math.pow(J,_e),q=Math.round(Ze*te*(Math.random()-.5)*2);return Math.min(ge,te+q)}function lr(_e){return _e&&_e._delegate?_e._delegate:_e}},6524:(pn,st,W)=>{"use strict";var u=W(5879);let ie=null;function z(){return ie}class K{}const Ce=new u.OlP("DocumentToken");let Ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Me)},providedIn:"platform"})}return n})();const Pe=new u.OlP("Location Initialized");let Me=(()=>{class n extends Ae{constructor(){super(),this._doc=(0,u.f3M)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(t){const r=z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ee(n){return n&&"?"!==n[0]?"?"+n:n}let Tt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(bt)},providedIn:"root"})}return n})();const Xe=new u.OlP("appBaseHref");let bt=(()=>{class n extends Tt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Y(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ee(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+Ee(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+Ee(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ae),u.LFG(Xe,8))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_t=(()=>{class n extends Tt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Y(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+Ee(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+Ee(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ae),u.LFG(Xe,8))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})(),qt=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(re(on(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ee(r))}normalize(t){return n.stripTrailingSlash(function rn(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,on(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ee(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ee(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Ee;static#t=this.joinWithSlash=Y;static#n=this.stripTrailingSlash=re;static#r=this.\u0275fac=function(r){return new(r||n)(u.LFG(Tt))};static#i=this.\u0275prov=u.Yz7({token:n,factory:function(){return function Ye(){return new qt((0,u.LFG)(Tt))}()},providedIn:"root"})}return n})();function on(n){return n.replace(/\/index.html$/,"")}function Gs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class Cs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let As=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Cs(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,c),_i(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_i(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function _i(n,e){n.context.$implicit=e.item}let Po=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ic,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Rc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Rc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.Rgc))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class ic{constructor(){this.$implicit=null,this.ngIf=null}}function Rc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let xr=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function Lt(n,e){return new u.vHH(2100,!1)}();return t.toUpperCase()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=u.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0})}return n})(),Jr=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();const bo="browser";function ts(n){return"server"===n}let lo=(()=>{class n{static#e=this.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new pa((0,u.LFG)(Ce),window)})}return n})();class pa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function sc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ns{}class Ld extends K{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lu extends Ld{static makeCurrent(){!function Te(n){ie||(ie=n)}(new lu)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ep(){return Nc=Nc||document.querySelector("base"),Nc?Nc.getAttribute("href"):null}();return null==t?null:function Ku(n){uu=uu||document.createElement("a"),uu.setAttribute("href",n);const e=uu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gs(document.cookie,e)}}let uu,Nc=null,tp=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const Qu=new u.OlP("EventManagerPlugins");let Hh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Qu),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();class Dl{constructor(e){this._doc=e}}const Ml="ng-app-id";let du=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ts(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ml}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ml),o;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Ml,this.appId),c}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,c=o.get(r)?.elements;c?c.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ce),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const Rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ol=/%COMP%/g,Ps=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Qr(n,e){return e.map(t=>t.replace(ol,n))}let hc=(()=>{class n{constructor(t,r,i,o,c,h,p,_=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=h,this.ngZone=p,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=ts(h),this.defaultRenderer=new ba(t,c,p,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===u.ifc.ShadowDom&&(r={...r,encapsulation:u.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Nl?i.applyToHost(t):i instanceof Io&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const c=this.doc,h=this.ngZone,p=this.eventManager,_=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(r.encapsulation){case u.ifc.Emulated:o=new Nl(p,_,r,this.appId,w,c,h,D);break;case u.ifc.ShadowDom:return new Oc(p,_,t,r,c,h,this.nonce,D);default:o=new Io(p,_,r,w,c,h,D)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Hh),u.LFG(du),u.LFG(u.AFp),u.LFG(Ps),u.LFG(Ce),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();class ba{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Rs[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(kl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(kl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new u.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Rs[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Rs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=z().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function kl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Oc extends ba{constructor(e,t,r,i,o,c,h,p){super(e,o,c,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Qr(i.id,i.styles);for(const w of _){const D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=w,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Io extends ba{constructor(e,t,r,i,o,c,h,p){super(e,o,c,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=p?Qr(p,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nl extends Io{constructor(e,t,r,i,o,c,h,p){const _=i+"-"+r.id;super(e,t,r,o,c,h,p,_),this.contentAttr=function Ud(n){return"_ngcontent-%COMP%".replace(ol,n)}(_),this.hostAttr=function Pl(n){return"_nghost-%COMP%".replace(ol,n)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let jd=(()=>{class n extends Dl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ce))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const hu=["alt","control","meta","shift"],fc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fc=(()=>{class n extends Dl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),hu.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),c+=_+".")}),c+=o,0!=r.length||0===o.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static matchEventFullKeyCode(t,r){let i=fc[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hu.forEach(c=>{c!==i&&(0,Gh[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ce))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const qi=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:bo},{provide:u.g9A,useValue:function cr(){lu.makeCurrent()},multi:!0},{provide:Ce,useFactory:function ip(){return(0,u.RDi)(document),document},deps:[]}]),Wh=new u.OlP(""),Zi=[{provide:u.rWj,useClass:class Yu{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new u.vHH(5103,!1);return o},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const h=function(p){c=c||p,o--,0==o&&r(c)};i.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Va=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function fu(){return new u.qLn},deps:[]},{provide:Qu,useClass:jd,multi:!0,deps:[Ce,u.R0b,u.Lbi]},{provide:Qu,useClass:Fc,multi:!0,deps:[Ce]},hc,du,Hh,{provide:u.FYo,useExisting:hc},{provide:ns,useClass:tp,deps:[]},[]];let cl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Wh,12))};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({providers:[...Va,...Zi],imports:[Jr,u.hGG]})}return n})(),kt=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ce))};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Hd(){return new kt((0,u.LFG)(Ce))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;var Pn=W(2096),Br=W(2459),To=W(5592),b=W(1631),M=W(4674);function T(n,e){return(0,M.m)(e)?(0,b.z)(n,e,1):(0,b.z)(n,1)}var U=W(9360),oe=W(8251);function fe(n,e){return(0,U.e)((t,r)=>{let i=0;t.subscribe((0,oe.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var pe=W(7398);function Oe(n){return(0,U.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Ue=W(4664);class Pt{}class Ut{}class un{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof un?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new un;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof un?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _n{encodeKey(e){return ur(e)}encodeValue(e){return ur(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Qn=/%(\d[a-f0-9])/gi,Bn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ur(n){return encodeURIComponent(n).replace(Qn,(e,t)=>Bn[t]??e)}function nr(n){return`${n}`}class On{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _n,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function An(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(nr):[nr(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new On({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(nr(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(nr(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ki{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Zs(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function to(n){return typeof Blob<"u"&&n instanceof Blob}function ja(n){return typeof FormData<"u"&&n instanceof FormData}class Vo{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Lo(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new un),this.context||(this.context=new Ki),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new On,this.urlWithParams=t}serializeBody(){return null===this.body?null:Zs(this.body)||to(this.body)||ja(this.body)||function Ul(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof On?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ja(this.body)?null:to(this.body)?this.body.type||null:Zs(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,F)=>D.set(F,e.setHeaders[F]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((D,F)=>D.set(F,e.setParams[F]),_)),new Vo(t,r,o,{params:_,headers:p,context:w,reportProgress:h,responseType:i,withCredentials:c})}}var fo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(fo||{});class Ba{constructor(e,t=200,r="OK"){this.headers=e.headers||new un,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jl extends Ba{constructor(e={}){super(e),this.type=fo.ResponseHeader}clone(e={}){return new jl({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class za extends Ba{constructor(e={}){super(e),this.type=fo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new za({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bl extends Ba{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function yu(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let pc=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Vo)o=t;else{let p,_;p=i.headers instanceof un?i.headers:new un(i.headers),i.params&&(_=i.params instanceof On?i.params:new On({fromObject:i.params})),o=new Vo(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=(0,Pn.of)(o).pipe(T(p=>this.handler.handle(p)));if(t instanceof Vo||"events"===i.observe)return c;const h=c.pipe(fe(p=>p instanceof za));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,pe.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,pe.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,pe.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,pe.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new On).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,yu(i,r))}post(t,r,i={}){return this.request("POST",t,yu(i,r))}put(t,r,i={}){return this.request("PUT",t,yu(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Pt))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();function li(n,e){return e(n)}function Ks(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const gc=new u.OlP(""),Fr=new u.OlP(""),Gr=new u.OlP("");function Ti(){let n=null;return(e,t)=>{null===n&&(n=((0,u.f3M)(gc,{optional:!0})??[]).reduceRight(Ks,li));const r=(0,u.f3M)(u.HDt),i=r.add();return n(e,t).pipe(Oe(()=>r.remove(i)))}}let yi=(()=>{class n extends Pt{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,u.f3M)(u.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Fr),...this.injector.get(Gr,[])]));this.chain=i.reduceRight((o,c)=>function Yi(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,c,this.injector),li)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Oe(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ut),u.LFG(u.lqb))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const Hl=/^\)\]\}',?\n/;let ap=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new u.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Br.D)(r.\u0275loadImpl()):(0,Pn.of)(null)).pipe((0,Ue.w)(()=>new To.y(o=>{const c=r.build();if(c.open(t.method,t.urlWithParams),t.withCredentials&&(c.withCredentials=!0),t.headers.forEach((we,ve)=>c.setRequestHeader(we,ve.join(","))),t.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const we=t.detectContentTypeHeader();null!==we&&c.setRequestHeader("Content-Type",we)}if(t.responseType){const we=t.responseType.toLowerCase();c.responseType="json"!==we?we:"text"}const h=t.serializeBody();let p=null;const _=()=>{if(null!==p)return p;const we=c.statusText||"OK",ve=new un(c.getAllResponseHeaders()),gt=function Gl(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(c)||t.url;return p=new jl({headers:ve,status:c.status,statusText:we,url:gt}),p},w=()=>{let{headers:we,status:ve,statusText:gt,url:Dt}=_(),pt=null;204!==ve&&(pt=typeof c.response>"u"?c.responseText:c.response),0===ve&&(ve=pt?200:0);let Wt=ve>=200&&ve<300;if("json"===t.responseType&&"string"==typeof pt){const fn=pt;pt=pt.replace(Hl,"");try{pt=""!==pt?JSON.parse(pt):null}catch(In){pt=fn,Wt&&(Wt=!1,pt={error:In,text:pt})}}Wt?(o.next(new za({body:pt,headers:we,status:ve,statusText:gt,url:Dt||void 0})),o.complete()):o.error(new Bl({error:pt,headers:we,status:ve,statusText:gt,url:Dt||void 0}))},D=we=>{const{url:ve}=_(),gt=new Bl({error:we,status:c.status||0,statusText:c.statusText||"Unknown Error",url:ve||void 0});o.error(gt)};let F=!1;const $=we=>{F||(o.next(_()),F=!0);let ve={type:fo.DownloadProgress,loaded:we.loaded};we.lengthComputable&&(ve.total=we.total),"text"===t.responseType&&c.responseText&&(ve.partialText=c.responseText),o.next(ve)},he=we=>{let ve={type:fo.UploadProgress,loaded:we.loaded};we.lengthComputable&&(ve.total=we.total),o.next(ve)};return c.addEventListener("load",w),c.addEventListener("error",D),c.addEventListener("timeout",D),c.addEventListener("abort",D),t.reportProgress&&(c.addEventListener("progress",$),null!==h&&c.upload&&c.upload.addEventListener("progress",he)),c.send(h),o.next({type:fo.Sent}),()=>{c.removeEventListener("error",D),c.removeEventListener("abort",D),c.removeEventListener("load",w),c.removeEventListener("timeout",D),t.reportProgress&&(c.removeEventListener("progress",$),null!==h&&c.upload&&c.upload.removeEventListener("progress",he)),c.readyState!==c.DONE&&c.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(ns))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();const po=new u.OlP("XSRF_ENABLED"),Qh=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),cp=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lp{}let qd=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gs(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(Ce),u.LFG(u.Lbi),u.LFG(Qh))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();function vu(n,e){const t=n.url.toLowerCase();if(!(0,u.f3M)(po)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,u.f3M)(lp).getToken(),i=(0,u.f3M)(cp);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var gs=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gs||{});function k(...n){const e=[pc,ap,yi,{provide:Pt,useExisting:yi},{provide:Ut,useExisting:ap},{provide:Fr,useValue:vu,multi:!0},{provide:po,useValue:!0},{provide:lp,useClass:qd}];for(const t of n)e.push(...t.\u0275providers);return(0,u.MR2)(e)}const se=new u.OlP("LEGACY_INTERCEPTOR_FN");function Se(){return function C(n,e){return{\u0275kind:n,\u0275providers:e}}(gs.LegacyInterceptors,[{provide:se,useFactory:Ti},{provide:Fr,useExisting:se,multi:!0}])}let or=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({providers:[k(Se())]})}return n})();var ad=W(4097),$r=W(2793);class Bc{constructor(e){return e}}class Jh{constructor(){return(0,ad.C6)()}}const Fy=new u.OlP("angularfire2._apps"),Wa={provide:Bc,useFactory:function Oy(n){return n&&1===n.length?n[0]:new Bc((0,ad.Mq)())},deps:[[new u.FiY,Fy]]},tg={provide:Jh,deps:[[new u.FiY,Fy]]};function Zd(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Bc(r)}}let zA=(()=>{class n{constructor(t){(0,ad.KN)("angularfire",$r.q4.full,"core"),(0,ad.KN)("angularfire",$r.q4.full,"app"),(0,ad.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Wa,tg]}),n})();function ng(n,...e){return{ngModule:zA,providers:[{provide:Fy,useFactory:Zd(n),multi:!0,deps:[u.R0b,u.zs3,$r.HU,...e]}]}}const g=(0,$r.u3)(ad.ZF,!0);var Q=W(6304),Ve=W(6321);function at(n,e=Ve.z){return(0,U.e)((t,r)=>{let i=null,o=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const _=o;o=null,r.next(_)}};function p(){const _=c+n,w=e.now();if(w<_)return i=this.schedule(void 0,_-w),void r.add(i);h()}t.subscribe((0,oe.x)(r,_=>{o=_,c=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}var ut=W(9058),ln=W(4537),an=W(4303),pr=W(7879);class Ns{constructor(e,t){this._delegate=e,this.firebase=t,(0,an._addComponent)(e,new ln.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,an.deleteApp)(this._delegate)))}_getService(e,t=an._DEFAULT_ENTRY_NAME){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=an._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,an._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,an._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Kd=new ut.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),cd=function up(){const n=function Ly(n){const e={},t={__esModule:!0,initializeApp:function o(_,w={}){const D=an.initializeApp(_,w);if((0,ut.r3)(e,D.name))return e[D.name];const F=new n(D,t);return e[D.name]=F,F},app:i,registerVersion:an.registerVersion,setLogLevel:an.setLogLevel,onLog:an.onLog,apps:null,SDK_VERSION:an.SDK_VERSION,INTERNAL:{registerComponent:function h(_){const w=_.name,D=w.replace("-compat","");if(an._registerComponent(_)&&"PUBLIC"===_.type){const F=($=i())=>{if("function"!=typeof $[D])throw Kd.create("invalid-app-argument",{appName:w});return $[D]()};void 0!==_.serviceProps&&(0,ut.ZB)(F,_.serviceProps),t[D]=F,n.prototype[D]=function(...$){return this._getService.bind(this,w).apply(this,_.multipleInstances?$:[])}}return"PUBLIC"===_.type?t[D]:null},removeApp:function r(_){delete e[_]},useAsService:function p(_,w){return"serverAuth"===w?null:w},modularAPIs:an}};function i(_){if(!(0,ut.r3)(e,_=_||an._DEFAULT_ENTRY_NAME))throw Kd.create("no-app",{appName:_});return e[_]}return t.default=t,Object.defineProperty(t,"apps",{get:function c(){return Object.keys(e).map(_=>e[_])}}),i.App=n,t}(Ns);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:up,extendNamespace:function e(t){(0,ut.ZB)(n,t)},createSubscribe:ut.ne,ErrorFactory:ut.LL,deepExtend:ut.ZB}),n}(),ld=new pr.Yd("@firebase/app-compat");if((0,ut.jU)()&&void 0!==self.firebase){ld.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&ld.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const og=cd;!function ig(n){(0,an.registerVersion)("@firebase/app-compat","0.2.19",n)}();var Et=W(5861);const Vy="firebasestorage.googleapis.com",dp="storageBucket";class Ao extends ut.ZR{constructor(e,t,r=0){super($A(e),`Firebase Storage: ${t} (${$A(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ao.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $A(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ro=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ro||{});function $A(n){return"storage/"+n}function jy(){return new Ao(ro.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function HP(){return new Ao(ro.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function By(){return new Ao(ro.CANCELED,"User canceled the upload/download.")}function GP(){return new Ao(ro.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ud(n){return new Ao(ro.INVALID_ARGUMENT,n)}function Wb(){return new Ao(ro.APP_DELETED,"The Firebase app was deleted.")}function qb(n){return new Ao(ro.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hp(n,e){return new Ao(ro.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function bu(n){throw new Ao(ro.INTERNAL_ERROR,"Internal error: "+n)}class Xs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Xs.makeFromUrl(e,t)}catch{return new Xs(e,"")}if(""===r.path)return r;throw function nj(n){return new Ao(ro.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(Wt){Wt.path_=decodeURIComponent(Wt.path)}const D=t.replace(/[.]/g,"\\."),pt=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Wt){"/"===Wt.path.charAt(Wt.path.length-1)&&(Wt.path_=Wt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===Vy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Wt=0;Wt<pt.length;Wt++){const fn=pt[Wt],In=fn.regex.exec(e);if(In){let Qi=In[fn.indices.path];Qi||(Qi=""),r=new Xs(In[fn.indices.bucket],Qi),fn.postModify(r);break}}if(null==r)throw function tj(n){return new Ao(ro.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class WA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Wy(n){return"string"==typeof n||n instanceof String}function Zb(n){return sg()&&n instanceof Blob}function sg(){return typeof Blob<"u"&&!(0,ut.UG)()}function Kb(n,e,t,r){if(r<e)throw ud(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ud(`Invalid value for '${n}'. Expected ${t} or less.`)}function dd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function qA(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ef=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ef||{});function ZA(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}class ZP{constructor(e,t,r,i,o,c,h,p,_,w,D,F=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=D,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,he)=>{this.resolve_=$,this.reject_=he,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function $y(n){return void 0!==n}(p)?o():o(p)}catch(p){c(p)}else if(null!==h){const p=jy();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(i.canceled?this.appDelete_?Wb():By():HP())};this.canceled_?t(0,new Js(!1,null,!0)):this.backoffId_=function Hy(n,e,t){let r=1,i=null,o=null,c=!1,h=0;function p(){return 2===h}let _=!1;function w(...ve){_||(_=!0,e.apply(null,ve))}function D(ve){i=setTimeout(()=>{i=null,n($,p())},ve)}function F(){o&&clearTimeout(o)}function $(ve,...gt){if(_)return void F();if(ve)return F(),void w.call(null,ve,...gt);if(p()||c)return F(),void w.call(null,ve,...gt);let pt;r<64&&(r*=2),1===h?(h=2,pt=0):pt=1e3*(r+Math.random()),D(pt)}let he=!1;function we(ve){he||(he=!0,F(),!_&&(null!==i?(ve||(h=2),clearTimeout(i),D(0)):ve||(h=1)))}return D(0),o=setTimeout(()=>{c=!0,we(!0)},t),we}((r,i)=>{if(i)return void r(!1,new Js(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===ef.NO_ERROR,p=o.getStatus();if(!h||ZA(p,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===ef.ABORT;return void r(!1,new Js(!1,null,w))}const _=-1!==this.successCodes_.indexOf(p);r(!0,new Js(_,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Gy(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Js{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function QA(...n){const e=function YA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(sg())return new Blob(n);throw new Ao(ro.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Hc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qy{constructor(e,t){this.data=e,this.contentType=t||null}}function Xb(n,e){switch(n){case Hc.RAW:return new qy(Jb(e));case Hc.BASE64:case Hc.BASE64URL:return new qy(JA(n,e));case Hc.DATA_URL:return new qy(function eI(n){const e=new Zy(n);return e.base64?JA(Hc.BASE64,e.rest):function YP(n){let e;try{e=decodeURIComponent(n)}catch{throw hp(Hc.DATA_URL,"Malformed data URL.")}return Jb(e)}(e.rest)}(e),function QP(n){return new Zy(n).contentType}(e))}throw jy()}function Jb(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function JA(n,e){switch(n){case Hc.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw hp(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Hc.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw hp(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function XA(n){if(typeof atob>"u")throw function zy(n){return new Ao(ro.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:hp(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Zy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw hp(Hc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function cg(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Iu{constructor(e,t){let r=0,i="";Zb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Zb(this.data_)){const i=function KP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Iu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Iu(r,!0)}}static getBlob(...e){if(sg()){const t=e.map(r=>r instanceof Iu?r.data_:r);return new Iu(QA.apply(null,t))}{const t=e.map(c=>Wy(c)?Xb(Hc.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)i[o++]=c[h]}),new Iu(i,!0)}}uploadData(){return this.data_}}function tI(n){let e;try{e=JSON.parse(n)}catch{return null}return function qP(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function nI(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function fp(n,e){return e}class Os{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||fp}}let lg=null;function Yd(){if(lg)return lg;const n=[];n.push(new Os("bucket")),n.push(new Os("generation")),n.push(new Os("metageneration")),n.push(new Os("name","fullPath",!0));const t=new Os("name");t.xform=function e(o,c){return function rI(n){return!Wy(n)||n.length<2?n:nI(n)}(c)},n.push(t);const i=new Os("size");return i.xform=function r(o,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Os("timeCreated")),n.push(new Os("updated")),n.push(new Os("md5Hash",null,!0)),n.push(new Os("cacheControl",null,!0)),n.push(new Os("contentDisposition",null,!0)),n.push(new Os("contentEncoding",null,!0)),n.push(new Os("contentLanguage",null,!0)),n.push(new Os("contentType",null,!0)),n.push(new Os("metadata","customMetadata",!0)),lg=n,lg}function nS(n,e,t){const r=tI(e);return null===r?null:function JP(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return function XP(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Xs(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}function iI(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const rS="prefixes",oI="items";class ll{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Eu(n){if(!n)throw jy()}function Yy(n,e){return function t(r,i){const o=nS(n,i,e);return Eu(null!==o),o}}function ul(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function $b(){return new Ao(ro.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function zP(){return new Ao(ro.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function BP(n){return new Ao(ro.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function ej(n){return new Ao(ro.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function pp(n){const e=ul(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function JU(n){return new Ao(ro.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function cI(n,e,t){const i=dd(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new ll(i,"GET",Yy(n,t),c);return h.errorHandler=pp(e),h}function tk(n,e,t,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const h=dd(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,w=new ll(h,"GET",function aI(n,e){return function t(r,i){const o=function sI(n,e,t){const r=tI(t);return null===r?null:function Ky(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[rS])for(const i of t[rS]){const o=i.replace(/\/$/,""),c=n._makeStorageReference(new Xs(e,o));r.prefixes.push(c)}if(t[oI])for(const i of t[oI]){const o=n._makeStorageReference(new Xs(e,i.name));r.items.push(o)}return r}(n,e,r)}(n,e,i);return Eu(null!==o),o}}(n,e.bucket),_);return w.urlParams=o,w.errorHandler=ul(e),w}function lI(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function sS(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function Xy(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let pt="";for(let Wt=0;Wt<2;Wt++)pt+=Math.random().toString().slice(2);return pt}();c["Content-Type"]="multipart/related; boundary="+p;const _=lI(e,r,i),w=iI(_,t),$=Iu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",r,"\r\n--"+p+"--");if(null===$)throw GP();const he={name:_.fullPath},we=dd(o,n.host,n._protocol),gt=n.maxUploadRetryTime,Dt=new ll(we,"POST",Yy(n,t),gt);return Dt.urlParams=he,Dt.headers=c,Dt.body=$.uploadData(),Dt.errorHandler=ul(e),Dt}class ug{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function mp(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Eu(!1)}return Eu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const cS={STATE_CHANGED:"state_changed"},ea={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tf(n){switch(n){case"running":case"pausing":case"canceling":return ea.RUNNING;case"paused":return ea.PAUSED;case"success":return ea.SUCCESS;case"canceled":return ea.CANCELED;default:return ea.ERROR}}class ik{constructor(e,t,r){if(function WP(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function nf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let lS=null;class ok{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw bu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class sk extends ok{initXhr(){this.xhr_.responseType="text"}}function dl(){return lS?lS():new sk}class dS{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Yd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ro.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(ZA(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=HP()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ro.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function dg(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),c=lI(e,r,i),h={name:c.fullPath},p=dd(o,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=iI(c,t),he=new ll(p,"POST",function $(we){let ve;mp(we);try{ve=we.getResponseHeader("X-Goog-Upload-URL")}catch{Eu(!1)}return Eu(Wy(ve)),ve},n.maxUploadRetryTime);return he.urlParams=h,he.headers=w,he.body=D,he.errorHandler=ul(e),he}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,dl,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function aS(n,e,t,r){const p=new ll(t,"POST",function o(_){const w=mp(_,["active","final"]);let D=null;try{D=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Eu(!1)}D||Eu(!1);const F=Number(D);return Eu(!isNaN(F)),new ug(F,r.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=ul(e),p}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,dl,t,r);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new ug(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let c;try{c=function ev(n,e,t,r,i,o,c,h){const p=new ug(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw function ij(){return new Ao(ro.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let w=_;i>0&&(w=Math.min(w,i));const D=p.current;let $="";$=0===w?"finalize":_===w?"upload, finalize":"upload";const he={"X-Goog-Upload-Command":$,"X-Goog-Upload-Offset":`${p.current}`},we=r.slice(D,D+w);if(null===we)throw GP();const pt=new ll(t,"POST",function ve(Wt,fn){const In=mp(Wt,["active","final"]),zr=p.current+w,Qi=r.size();let Bh;return Bh="final"===In?Yy(e,o)(Wt,fn):null,new ug(zr,Qi,"final"===In,Bh)},e.maxUploadRetryTime);return pt.headers=he,pt.body=we.uploadData(),pt.progressCallback=h||null,pt.errorHandler=ul(n),pt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,dl,i,o,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=cI(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,dl,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=Xy(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,dl,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=By(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=tf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const o=new ik(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(tf(this._state)){case ea.SUCCESS:nf(this._resolve.bind(null,this.snapshot))();break;case ea.CANCELED:case ea.ERROR:nf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tf(this._state)){case ea.RUNNING:case ea.PAUSED:e.next&&nf(e.next.bind(e,this.snapshot))();break;case ea.SUCCESS:e.complete&&nf(e.complete.bind(e))();break;default:e.error&&nf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class rf{constructor(e,t){this._service=e,this._location=t instanceof Xs?t:Xs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rf(e,t)}get root(){const e=new Xs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nI(this._location.path)}get storage(){return this._service}get parent(){const e=function eS(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Xs(this._location.bucket,e);return new rf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw qb(e)}}function iv(n,e,t){return ov.apply(this,arguments)}function ov(){return(ov=(0,Et.Z)(function*(n,e,t){const i=yield dI(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield iv(n,e,i.nextPageToken))})).apply(this,arguments)}function dI(n,e){null!=e&&"number"==typeof e.maxResults&&Kb("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=tk(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,dl)}function lk(n){n._throwIfRoot("getDownloadURL");const e=function Qy(n,e,t){const i=dd(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new ll(i,"GET",function iS(n,e){return function t(r,i){const o=nS(n,i,e);return Eu(null!==o),function ek(n,e,t,r){const i=tI(e);if(null===i||!Wy(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(_=>{const D=n.fullPath;return dd("/b/"+c(n.bucket)+"/o/"+c(D),t,r)+qA({alt:"media",token:_})})[0]}(o,i,n.host,n._protocol)}}(n,t),c);return h.errorHandler=pp(e),h}(n.storage,n._location,Yd());return n.storage.makeRequestWithTokens(e,dl).then(t=>{if(null===t)throw function $P(){return new Ao(ro.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function pS(n,e){const t=function tS(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Xs(n._location.bucket,t);return new rf(n.storage,r)}function hd(n,e){if(n instanceof gS){const t=n;if(null==t._bucket)throw function rj(){return new Ao(ro.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dp+"' property when initializing the app?")}();const r=new rf(t,t._bucket);return null!=e?hd(r,e):r}return void 0!==e?pS(n,e):n}function hg(n,e){if(e&&function dk(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof gS)return function hk(n,e){return new rf(n,e)}(n,e);throw ud("To use ref(service, url), the first argument must be a Storage instance.")}return hd(n,e)}function mS(n,e){const t=e?.[dp];return null==t?null:Xs.makeFromBucketSpec(t,n)}class gS{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Vy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Xs.makeFromBucketSpec(i,this._host):mS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Xs.makeFromBucketSpec(this._url,e):mS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Et.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Et.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rf(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new WA(Wb());{const c=function ag(n,e,t,r,i,o,c=!0){const h=qA(n.urlParams),p=n.url+h,_=Object.assign({},n.headers);return function Qb(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function Yb(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function KA(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,o),function Aa(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new ZP(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,Et.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const fk="@firebase/storage",mk="storage";function _S(n,e,t){return function nv(n,e,t){n._throwIfRoot("uploadBytes");const r=Xy(n.storage,n._location,Yd(),new Iu(e,!0),t);return n.storage.makeRequestWithTokens(r,dl).then(i=>({metadata:i,ref:n}))}(n=(0,ut.m9)(n),e,t)}function sv(n){return lk(n=(0,ut.m9)(n))}function pg(n,e){return hg(n=(0,ut.m9)(n),e)}function vk(n=(0,an.getApp)(),e){n=(0,ut.m9)(n);const r=(0,an._getProvider)(n,mk).getImmediate({identifier:e}),i=(0,ut.P0)("storage");return i&&wk(r,...i),r}function wk(n,e,t,r={}){!function sj(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,ut.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function lj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new gS(t,r,i,e,an.SDK_VERSION)}!function uj(){(0,an._registerComponent)(new ln.wA(mk,lj,"PUBLIC").setMultipleInstances(!0)),(0,an.registerVersion)(fk,"0.11.2",""),(0,an.registerVersion)(fk,"0.11.2","esm2017")}();class mg{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class bS{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mg(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new mg(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(o="function"==typeof t?c=>t(new mg(c,this,this._ref)):{next:t.next?c=>t.next(new mg(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class IS{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new pd(e,this._service))}get items(){return this._delegate.items.map(e=>new pd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function cj(n,e){return pS(n,e)}(this._delegate,e);return new pd(t,this.storage)}get root(){return new pd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new pd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new bS(function _k(n,e,t){return function ck(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new dS(n,new Iu(e),t)}(n=(0,ut.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Hc.RAW,r){this._throwIfRoot("putString");const i=Xb(t,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new bS(new dS(this._delegate,new Iu(i.data,!0),o),this)}listAll(){return function fg(n){return function rv(n){const e={prefixes:[],items:[]};return iv(n,e).then(()=>e)}(n=(0,ut.m9)(n))}(this._delegate).then(e=>new IS(e,this.storage))}list(e){return function fd(n,e){return dI(n=(0,ut.m9)(n),e)}(this._delegate,e||void 0).then(t=>new IS(t,this.storage))}getMetadata(){return function yk(n){return function hS(n){n._throwIfRoot("getMetadata");const e=cI(n.storage,n._location,Yd());return n.storage.makeRequestWithTokens(e,dl)}(n=(0,ut.m9)(n))}(this._delegate)}updateMetadata(e){return function hI(n,e){return function fS(n,e){n._throwIfRoot("updateMetadata");const t=function rk(n,e,t,r){const o=dd(e.fullServerUrl(),n.host,n._protocol),h=iI(t,r),_=n.maxOperationRetryTime,w=new ll(o,"PATCH",Yy(n,r),_);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=pp(e),w}(n.storage,n._location,e,Yd());return n.storage.makeRequestWithTokens(t,dl)}(n=(0,ut.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return sv(this._delegate)}delete(){return this._throwIfRoot("delete"),function yS(n){return function uk(n){n._throwIfRoot("deleteObject");const e=function oS(n,e){const r=dd(e.fullServerUrl(),n.host,n._protocol),h=new ll(r,"DELETE",function c(p,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=pp(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,dl)}(n=(0,ut.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw qb(e)}}class ES{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(fI(e))throw ud("ref() expected a child path but got a URL, use refFromURL instead.");return new pd(pg(this._delegate,e),this)}refFromURL(e){if(!fI(e))throw ud("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xs.makeFromUrl(e,this._delegate.host)}catch{throw ud("refFromUrl() expected a valid full URL but got an invalid one.")}return new pd(pg(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){wk(this._delegate,e,t,r)}}function fI(n){return/^[A-Za-z]+:\/\//.test(n)}function Ik(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new ES(t,r)}!function yp(n){const e={TaskState:ea,TaskEvent:cS,StringFormat:Hc,Storage:ES,Reference:pd};n.INTERNAL.registerComponent(new ln.wA("storage-compat",Ik,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(og);const mI=new Map,TS={activated:!1,tokenObservers:[]},gI={initialized:!1,enabled:!1};function So(n){return mI.get(n)||Object.assign({},TS)}function cv(){return gI}const _I="https://content-firebaseappcheck.googleapis.com/v1",dj="exchangeDebugToken",Ck={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ci{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Et.Z)(function*(){t.stop();try{t.pending=new ut.BH,yield function _g(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ut.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fs=new ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yg(n){if(!So(n).activated)throw Fs.create("use-before-activation",{appName:n.name})}function wg(n,e){return wp.apply(this,arguments)}function wp(){return(wp=(0,Et.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const D=yield i.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,o)}catch(D){throw Fs.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==c.status)throw Fs.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(D){throw Fs.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+_,issuedAtTimeMillis:w}})).apply(this,arguments)}function SS(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_I}/projects/${t}/apps/${r}:${dj}?key=${i}`,body:{debug_token:e}}}const wI="firebase-app-check-database",xS=1,bp="firebase-app-check-store";let lv=null;function Ip(){return(Ip=(0,Et.Z)(function*(n,e){const r=(yield function uv(){return lv||(lv=new Promise((n,e)=>{try{const t=indexedDB.open(wI,xS);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Fs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bp,{keyPath:"compositeKey"})}}catch(t){e(Fs.create("storage-open",{originalErrorMessage:t?.message}))}}),lv)}()).transaction(bp,"readwrite"),o=r.objectStore(bp).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=p=>{c()},r.onerror=p=>{var _;h(Fs.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Ep=new pr.Yd("@firebase/app-check");function TI(n,e){return(0,ut.hl)()?function Ak(n,e){return function Wl(n,e){return Ip.apply(this,arguments)}(function DS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ep.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pv(){return cv().enabled}function CI(){return mv.apply(this,arguments)}function mv(){return(mv=(0,Et.Z)(function*(){const n=cv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fj={error:"UNKNOWN_ERROR"};function pj(n){return ut.US.encodeString(JSON.stringify(n),!1)}function gv(n){return SI.apply(this,arguments)}function SI(){return(SI=(0,Et.Z)(function*(n,e=!1){const t=n.app;yg(t);const r=So(t);let o,i=r.token;if(i&&!Xd(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(Xd(p)?i=p:yield TI(t,void 0))}if(!e&&i&&Xd(i))return{token:i.token};let h,c=!1;if(pv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=wg(SS(t,yield CI()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const p=yield r.exchangeTokenPromise;return yield TI(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield So(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Ep.warn(p.message):Ep.error(p),o=p}return i?o?h=Xd(i)?{token:i.token,internalError:o}:yv(o):(h={token:i.token},r.token=i,yield TI(t,i)):h=yv(o),c&&function sf(n,e){const t=So(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function xk(n){return MS.apply(this,arguments)}function MS(){return(MS=(0,Et.Z)(function*(n){const e=n.app;yg(e);const{provider:t}=So(e);if(pv()){const r=yield CI(),{token:i}=yield wg(SS(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function xI(n,e){const t=So(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function _v(n){const{app:e}=n,t=So(e);let r=t.tokenRefresher;r||(r=function DI(n){const{app:e}=n;return new Ci((0,Et.Z)(function*(){let r;if(r=So(e).token?yield gv(n,!0):yield gv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=So(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Ck.RETRIAL_MIN_WAIT,Ck.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Xd(n){return n.expireTimeMillis-Date.now()>0}function yv(n){return{token:pj(fj),error:n}}class Ig{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=So(this.app);for(const t of e)xI(this.app,t.next);return Promise.resolve()}}const Pk="app-check-internal";!function kk(){(0,an._registerComponent)(new ln.wA("app-check",n=>function vv(n,e){return new Ig(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Pk).initialize()})),(0,an._registerComponent)(new ln.wA(Pk,n=>function Ap(n){return{getToken:e=>gv(n,e),getLimitedUseToken:()=>xk(n),addTokenListener:e=>function Cp(n,e,t,r){const{app:i}=n,o=So(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Xd(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),_v(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_v(n))}(n,"INTERNAL",e),removeTokenListener:e=>xI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,an.registerVersion)("@firebase/app-check","0.8.0")}();class Tu{constructor(){return(0,$r.vb)("app-check")}}typeof window<"u"&&window;var jk=W(120);function zS(n){const e=function BS(n){return new To.y(e=>{const t=c=>e.next(c);t(n.snapshot);const o=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){o()}}).pipe(at(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,pe.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Tv(n){return{getDownloadURL:()=>(0,Pn.of)(void 0).pipe($r.fc,(0,Ue.w)(()=>n.getDownloadURL()),$r.iC),getMetadata:()=>(0,Pn.of)(void 0).pipe($r.fc,(0,Ue.w)(()=>n.getMetadata()),$r.iC),delete:()=>(0,Br.D)(n.delete()),child:e=>Tv(n.child(e)),updateMetadata:e=>(0,Br.D)(n.updateMetadata(e)),put:(e,t)=>zS(n.put(e,t)),putString:(e,t,r)=>zS(n.putString(e,t,r)),list:e=>(0,Br.D)(n.list(e)),listAll:()=>(0,Br.D)(n.listAll())}}const Ij=new u.OlP("angularfire2.storageBucket"),HS=new u.OlP("angularfire2.storage.maxUploadRetryTime"),GS=new u.OlP("angularfire2.storage.maxOperationRetryTime"),ql=new u.OlP("angularfire2.storage.use-emulator");let $S=(()=>{class n{constructor(t,r,i,o,c,h,p,_,w,D){const F=(0,Q.on)(t,c,r);this.storage=(0,Q.cc)(`${F.name}.storage.${i}`,"AngularFireStorage",F.name,()=>{const $=c.runOutsideAngular(()=>F.storage(i||void 0)),he=w;return he&&$.useEmulator(...he),p&&$.setMaxUploadRetryTime(p),_&&$.setMaxOperationRetryTime(_),$},[p,_])}ref(t){return Tv(this.storage.ref(t))}refFromURL(t){return Tv(this.storage.refFromURL(t))}upload(t,r,i){return Tv(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q.Dh),u.LFG(Q.xv,8),u.LFG(Ij,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG($r.HU),u.LFG(HS,8),u.LFG(GS,8),u.LFG(ql,8),u.LFG(Tu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Jd=(()=>{class n{constructor(){jk.Z.registerVersion("angularfire",$r.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$S],imports:[jI]}),n})();W(6710);var Sp=W(7592);class Cv{constructor(){return(0,$r.vb)("auth")}}var Sn,WI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gc={},Mg=Mg||{},Pr=WI||self;function Dv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qI="closure_uid_"+(1e9*Math.random()>>>0),lN=0;function uN(n,e,t){return n.call.apply(n.bind,arguments)}function dN(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function na(n,e,t){return(na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uN:dN).apply(null,arguments)}function Pg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ls(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function th(){this.s=this.s,this.o=this.o}th.prototype.s=!1,th.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function QS(n){Object.prototype.hasOwnProperty.call(n,qI)&&n[qI]||(n[qI]=++lN)}(this)},th.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XS=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ZI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function hN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Dv(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function Vs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Vs.prototype.h=function(){this.defaultPrevented=!0};var JS=function(){if(!Pr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pr.addEventListener("test",()=>{},e),Pr.removeEventListener("test",()=>{},e)}catch{}return n}();function kg(n){return/^[\s\xa0]*$/.test(n)}function Mv(){var n=Pr.navigator;return n&&(n=n.userAgent)?n:""}function Cu(n){return-1!=Mv().indexOf(n)}function Rv(n){return Rv[" "](n),n}Rv[" "]=function(){};var hl,n,pN=Cu("Opera"),nh=Cu("Trident")||Cu("MSIE"),ex=Cu("Edge"),KI=ex||nh,tx=Cu("Gecko")&&!(-1!=Mv().toLowerCase().indexOf("webkit")&&!Cu("Edge"))&&!(Cu("Trident")||Cu("MSIE"))&&!Cu("Edge"),mN=-1!=Mv().toLowerCase().indexOf("webkit")&&!Cu("Edge");function nx(){var n=Pr.document;return n?n.documentMode:void 0}e:{var Ng="",YI=(n=Mv(),tx?/rv:([^\);]+)(\)|;)/.exec(n):ex?/Edge\/([\d\.]+)/.exec(n):nh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):mN?/WebKit\/(\S+)/.exec(n):pN?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YI&&(Ng=YI?YI[1]:""),nh){var Pv=nx();if(null!=Pv&&Pv>parseFloat(Ng)){hl=String(Pv);break e}}hl=Ng}var rx=Pr.document&&nh&&(nx()||parseInt(hl,10))||void 0;function rh(n,e){if(Vs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tx){e:{try{Rv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rh.$.h.call(this)}}Ls(rh,Vs);var JI={2:"touch",3:"pen",4:"mouse"};rh.prototype.h=function(){rh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kv="closure_listenable_"+(1e6*Math.random()|0),ix=0;function ox(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++ix,this.fa=this.ia=!1}function Og(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Nv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Au(n){const e={};for(const t in n)e[t]=n[t];return e}const sx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ax(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<sx.length;o++)t=sx[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function xp(n){this.src=n,this.g={},this.h=0}function tE(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=XS(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Og(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ov(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}xp.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Ov(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new ox(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var nE="closure_lm_"+(1e6*Math.random()|0),Dp={};function Mp(n,e,t,r,i){if(r&&r.once)return gN(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Mp(n,e[o],t,r,i);return null}return t=Uv(t),n&&n[kv]?n.O(e,t,Rg(r)?!!r.capture:!!r,i):rE(n,e,t,!1,r,i)}function rE(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=Rg(i)?!!i.capture:!!i,h=oE(n);if(h||(n[nE]=h=new xp(n)),(t=h.add(e,t,r,c,o)).proxy)return t;if(r=function Fv(){const e=_N;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JS||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(iE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function gN(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gN(n,e[o],t,r,i);return null}return t=Uv(t),n&&n[kv]?n.P(e,t,Rg(r)?!!r.capture:!!r,i):rE(n,e,t,!0,r,i)}function cx(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cx(n,e[o],t,r,i);else r=Rg(r)?!!r.capture:!!r,t=Uv(t),n&&n[kv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ov(o=n.g[e],t,r,i))&&(Og(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=oE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ov(e,t,r,i)),(t=-1<n?e[n]:null)&&Lv(t))}function Lv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[kv])tE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(iE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=oE(e))?(tE(t,n),0==t.h&&(t.src=null,e[nE]=null)):Og(n)}}}function iE(n){return n in Dp?Dp[n]:Dp[n]="on"+n}function _N(n,e){if(n.fa)n=!0;else{e=new rh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Lv(n),n=t.call(r,e)}return n}function oE(n){return(n=n[nE])instanceof xp?n:null}var Vv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uv(n){return"function"==typeof n?n:(n[Vv]||(n[Vv]=function(e){return n.handleEvent(e)}),n[Vv])}function Uo(){th.call(this),this.i=new xp(this),this.S=this,this.J=null}function ra(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Vs(e,n);else if(e instanceof Vs)e.target=e.target||n;else{var i=e;ax(e=new Vs(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=Fg(c,r,!0,e)&&i}if(i=Fg(c=e.g=n,r,!0,e)&&i,i=Fg(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Fg(c=e.g=t[o],r,!1,e)&&i}function Fg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var h=c.listener,p=c.la||c.src;c.ia&&tE(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Ls(Uo,th),Uo.prototype[kv]=!0,Uo.prototype.removeEventListener=function(n,e,t,r){cx(this,n,e,t,r)},Uo.prototype.N=function(){if(Uo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Og(t[r]);delete n.g[e],n.h--}}this.J=null},Uo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Uo.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var jv=Pr.JSON.stringify;function vN(){var n=sE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var lx=new class yN{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new wN,n=>n.reset());class wN{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bN(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function IN(n){Pr.setTimeout(()=>{throw n},0)}let Vg,Ug=!1,sE=new class Lg{constructor(){this.h=this.g=null}add(e,t){const r=lx.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ux=()=>{const n=Pr.Promise.resolve(void 0);Vg=()=>{n.then(dx)}};var dx=()=>{for(var n;n=vN();){try{n.h.call(n.g)}catch(t){IN(t)}var e=lx;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ug=!1};function Rp(n,e){Uo.call(this),this.h=n||1,this.g=e||Pr,this.j=na(this.qb,this),this.l=Date.now()}function aE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Pp(n,e,t){if("function"==typeof n)t&&(n=na(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=na(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pr.setTimeout(n,e||0)}function hx(n){n.g=Pp(()=>{n.g=null,n.i&&(n.i=!1,hx(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ls(Rp,Uo),(Sn=Rp.prototype).ga=!1,Sn.T=null,Sn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ra(this,"tick"),this.ga&&(aE(this),this.start()))}},Sn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sn.N=function(){Rp.$.N.call(this),aE(this),delete this.g};class EN extends th{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hx(this)}N(){super.N(),this.g&&(Pr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jg(n){th.call(this),this.h=n,this.g={}}Ls(jg,th);var fx=[];function px(n,e,t,r){Array.isArray(t)||(t&&(fx[0]=t.toString()),t=fx);for(var i=0;i<t.length;i++){var o=Mp(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function mx(n){Nv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Lv(e)},n),n.g={}}function Bv(){this.g=!0}function kp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yx(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return jv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}jg.prototype.N=function(){jg.$.N.call(this),mx(this)},jg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bv.prototype.Ea=function(){this.g=!1},Bv.prototype.info=function(){};var ih={},TN=null;function af(){return TN=TN||new Uo}function vx(n){Vs.call(this,ih.Ta,n)}function Bg(n){const e=af();ra(e,new vx(e))}function zv(n,e){Vs.call(this,ih.STAT_EVENT,n),this.stat=e}function qa(n){const e=af();ra(e,new zv(e,n))}function Zl(n,e){Vs.call(this,ih.Ua,n),this.size=e}function gd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pr.setTimeout(function(){n()},e)}ih.Ta="serverreachability",Ls(vx,Vs),ih.STAT_EVENT="statevent",Ls(zv,Vs),ih.Ua="timingevent",Ls(Zl,Vs);var _s={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Np(){}function Hv(){}Np.prototype.h=null;var ch,Su={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sh(){Vs.call(this,"d")}function ah(){Vs.call(this,"c")}function _d(){}function xu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new jg(this),this.P=Op,this.V=new Rp(n=KI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cf}function cf(){this.i=null,this.g="",this.h=!1}Ls(sh,Vs),Ls(ah,Vs),Ls(_d,Np),_d.prototype.g=function(){return new XMLHttpRequest},_d.prototype.i=function(){return{}},ch=new _d;var Op=45e3,lh={},zg={};function Gv(n,e,t){n.L=1,n.v=Vp(yd(e)),n.s=t,n.S=!0,cE(n,null)}function cE(n,e){n.G=Date.now(),Fp(n),n.A=yd(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Zg(t.i,"t",r),n.C=0,t=n.l.J,n.h=new cf,n.g=l0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new EN(na(n.Pa,n,n.g),n.O)),px(n.U,n.g,"readystatechange",n.nb),e=n.I?Au(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Bg(),function gx(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var w=_[0];_=_[1];var D=w.split("_");c=2<=D.length&&"type"==D[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function lE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function uE(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=wx(n,t),i==zg){4==e&&(n.o=4,qa(14),r=!1),kp(n.j,n.m,null,"[Incomplete Response]");break}if(i==lh){n.o=4,qa(15),kp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}kp(n.j,n.m,i,null),bx(n,i)}lE(n)&&i!=zg&&i!=lh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qa(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),c0(e),e.M=!0,qa(11))):(kp(n.j,n.m,t,"[Invalid Chunked Response]"),uf(n),lf(n))}function wx(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zg:(t=Number(e.substring(t,r)),isNaN(t)?lh:(r+=1)+t>e.length?zg:(e=e.slice(r,r+t),n.C=r+t,e))}function Fp(n){n.Y=Date.now()+n.P,dE(n,n.P)}function dE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gd(na(n.lb,n),e)}function Hg(n){n.B&&(Pr.clearTimeout(n.B),n.B=null)}function lf(n){0==n.l.H||n.J||TE(n.l,n)}function uf(n){Hg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,aE(n.V),mx(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function bx(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||pE(t.i,n)))if(!n.K&&pE(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Jg(t),o0(t)}a0(t),qa(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=gd(na(t.ib,t),6e3));if(1>=Ex(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else yc(t,11)}else if((n.K||t.g==n)&&Jg(t),!kg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const w=_[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const D=_[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const F=_[5];null!=F&&"number"==typeof F&&0<F&&(t.L=r=1.5*F,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const he=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var o=r.i;o.g||-1==he.indexOf("spdy")&&-1==he.indexOf("quic")&&-1==he.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Yv(o,o.h),o.h=null))}if(r.F){const we=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(r.Da=we,Pi(r.I,r.F,we))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=Px(r,r.J?r.pa:null,r.Y),c.K){mE(r.i,c);var h=c,p=r.L;p&&h.setTimeout(p),h.B&&(Hg(h),Fp(h)),r.g=c}else IE(r);0<t.j.length&&Xg(t)}else"stop"!=_[0]&&"close"!=_[0]||yc(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?yc(t,7):r0(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}Bg()}catch{}}function Ix(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function CN(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Dv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Bj(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Dv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Sn=xu.prototype).setTimeout=function(n){this.P=n},Sn.nb=function(n){n=n.target;const e=this.M;e&&3==Kl(n)?e.l():this.Pa(n)},Sn.Pa=function(n){try{if(n==this.g)e:{const w=Kl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||KI||this.g&&(this.h.h||this.g.ja()||t0(this.g)))){this.J||4!=w||7==e||Bg(),Hg(this);var t=this.g.da();this.ca=t;t:if(lE(this)){var r=t0(this.g);n="";var i=r.length,o=4==Kl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uf(this),lf(this);var c="";break t}this.h.i=new Pr.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function _x(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kg(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,qa(12),uf(this),lf(this);break e}kp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bx(this,t)}this.S?(uE(this,w,c),KI&&this.i&&3==w&&(px(this.U,this.V,"tick",this.mb),this.V.start())):(kp(this.j,this.m,c,null),bx(this,c)),4==w&&uf(this),this.i&&!this.J&&(4==w?TE(this.l,this):(this.i=!1,Fp(this)))}else(function xx(n){const e={};n=(n.g&&2<=Kl(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(kg(n[r]))continue;var t=bN(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function eE(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,qa(12)):(this.o=0,qa(13)),uf(this),lf(this)}}}catch{}},Sn.mb=function(){if(this.g){var n=Kl(this.g),e=this.g.ja();this.C<e.length&&(Hg(this),uE(this,n,e),this.i&&4!=n&&Fp(this))}},Sn.cancel=function(){this.J=!0,uf(this)},Sn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function jj(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bg(),qa(17)),uf(this),this.o=2,lf(this)):dE(this,this.Y-n)};var AN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lp){this.h=n.h,$v(this,n.j),this.s=n.s,this.g=n.g,Wv(this,n.m),this.l=n.l;var e=n.i,t=new Wg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),qv(this,t),this.o=n.o}else n&&(e=String(n).match(AN))?(this.h=!1,$v(this,e[1]||"",!0),this.s=uh(e[2]||""),this.g=uh(e[3]||"",!0),Wv(this,e[4]),this.l=uh(e[5]||"",!0),qv(this,e[6]||"",!0),this.o=uh(e[7]||"")):(this.h=!1,this.i=new Wg(null,this.h))}function yd(n){return new Lp(n)}function $v(n,e,t){n.j=t?uh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function qv(n,e,t){e instanceof Wg?(n.i=e,function RN(n,e){e&&!n.j&&(dh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Zv(this,r),Zg(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Up(e,DN)),n.i=new Wg(e,n.h))}function Pi(n,e,t){n.i.set(e,t)}function Vp(n){return Pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Up(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Gg),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Gg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Up(e,hE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Up(e,hE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Up(t,"/"==t.charAt(0)?$g:xN,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Up(t,MN)),n.join("")};var hE=/[#\/\?@]/g,xN=/[#\?:]/g,$g=/[#\?]/g,DN=/[#\?@]/g,MN=/#/g;function Wg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dh(n){n.g||(n.g=new Map,n.h=0,n.i&&function SN(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zv(n,e){dh(n),e=Kg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qg(n,e){return dh(n),e=Kg(n,e),n.g.has(e)}function Zg(n,e,t){Zv(n,e),0<t.length&&(n.i=null,n.g.set(Kg(n,e),ZI(t)),n.h+=t.length)}function Kg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kv(n){this.l=n||kN,n=Pr.PerformanceNavigationTiming?0<(n=Pr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pr.g&&Pr.g.Ka&&Pr.g.Ka()&&Pr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Sn=Wg.prototype).add=function(n,e){dh(this),this.i=null,n=Kg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Sn.forEach=function(n,e){dh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Sn.ta=function(){dh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Sn.Z=function(n){dh(this);let e=[];if("string"==typeof n)qg(this,n)&&(e=e.concat(this.g.get(Kg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Sn.set=function(n,e){return dh(this),this.i=null,qg(this,n=Kg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Sn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Sn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var kN=10;function fE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ex(n){return n.h?1:n.g?n.g.size:0}function pE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Yv(n,e){n.g?n.g.add(e):n.h=e}function mE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ZI(n.i)}Kv.prototype.cancel=function(){if(this.i=gE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var NN=class{stringify(n){return Pr.JSON.stringify(n,void 0)}parse(n){return Pr.JSON.parse(n,void 0)}};function ON(){this.g=new NN}function FN(n,e,t){const r=t||"";try{Ix(n,function(i,o){let c=i;Rg(i)&&(c=jv(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function df(n){this.l=n.fc||null,this.j=n.ob||!1}function Qv(n,e){Uo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Bp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ls(df,Np),df.prototype.g=function(){return new Qv(this.l,this.j)},df.prototype.i=function(n){return function(){return n}}({}),Ls(Qv,Uo);var Bp=0;function Yg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function hf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zp(n)}function zp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Sn=Qv.prototype).open=function(n,e){if(this.readyState!=Bp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zp(this)},Sn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Pr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Sn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hf(this)),this.readyState=Bp},Sn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zp(this)),this.g&&(this.readyState=3,zp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Pr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Sn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hf(this):zp(this),3==this.readyState&&Yg(this)}},Sn.Za=function(n){this.g&&(this.response=this.responseText=n,hf(this))},Sn.Ya=function(n){this.g&&(this.response=n,hf(this))},Sn.ka=function(){this.g&&hf(this)},Sn.setRequestHeader=function(n,e){this.v.append(n,e)},Sn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Sn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Qv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var LN=Pr.JSON.parse;function jo(n){Uo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cx,this.L=this.M=!1}Ls(jo,Uo);var Cx="",Xv=/^https?$/i,Jv=["POST","PUT"];function yE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ax(n),Qg(n)}function Ax(n){n.F||(n.F=!0,ra(n,"complete"),ra(n,"error"))}function Sx(n){if(n.h&&typeof Mg<"u"&&(!n.C[1]||4!=Kl(n)||2!=n.da()))if(n.v&&4==Kl(n))Pp(n.La,0,n);else if(ra(n,"readystatechange"),4==Kl(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(AN)[1]||null;!i&&Pr.self&&Pr.self.location&&(i=Pr.self.location.protocol.slice(0,-1)),r=!Xv.test(i?i.toLowerCase():"")}t=r}if(t)ra(n,"complete"),ra(n,"success");else{n.m=6;try{var o=2<Kl(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",Ax(n)}}finally{Qg(n)}}}function Qg(n,e){if(n.g){e0(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ra(n,"ready");try{t.onreadystatechange=r}catch{}}}function e0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Pr.clearTimeout(n.A),n.A=null)}function Kl(n){return n.g?n.g.readyState:0}function t0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Cx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Dx(n){let e="";return Nv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function n0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Dx(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pi(n,e,t))}function Hp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vE(n){this.Ga=0,this.j=[],this.l=new Bv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hp("baseRetryDelayMs",5e3,n),this.hb=Hp("retryDelaySeedMs",1e4,n),this.eb=Hp("forwardChannelMaxRetries",2,n),this.xa=Hp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Kv(n&&n.concurrentRequestLimit),this.Ja=new ON,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function r0(n){if(wE(n),3==n.H){var e=n.W++,t=yd(n.I);if(Pi(t,"SID",n.K),Pi(t,"RID",e),Pi(t,"TYPE","terminate"),Gp(n,t),(e=new xu(n,n.l,e)).L=2,e.v=Vp(yd(t)),t=!1,Pr.navigator&&Pr.navigator.sendBeacon)try{t=Pr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Pr.Image&&((new Image).src=e.v,t=!0),t||(e.g=l0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fp(e)}Rx(n)}function o0(n){n.g&&(c0(n),n.g.cancel(),n.g=null)}function wE(n){o0(n),n.u&&(Pr.clearTimeout(n.u),n.u=null),Jg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pr.clearTimeout(n.m),n.m=null)}function Xg(n){if(!fE(n.i)&&!n.m){n.m=!0;var e=n.Na;Vg||ux(),Ug||(Vg(),Ug=!0),sE.add(e,n),n.C=0}}function s0(n,e){var t;t=e?e.m:n.W++;const r=yd(n.I);Pi(r,"SID",n.K),Pi(r,"RID",t),Pi(r,"AID",n.V),Gp(n,r),n.o&&n.s&&n0(r,n.o,n.s),t=new xu(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=bE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Yv(n.i,t),Gv(t,r,e)}function Gp(n,e){n.na&&Nv(n.na,function(t,r){Pi(e,r,t)}),n.h&&Ix({},function(t,r){Pi(e,r,t)})}function bE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?na(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let p=0;p<t;p++){let _=i[p].g;const w=i[p].map;if(_-=o,0>_)o=Math.max(0,i[p].g-100),h=!1;else try{FN(w,c,"req"+_+"_")}catch{r&&r(w)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function IE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Vg||ux(),Ug||(Vg(),Ug=!0),sE.add(e,n),n.A=0}}function a0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=gd(na(n.Ma,n),e_(n,n.A)),n.A++,0))}function c0(n){null!=n.B&&(Pr.clearTimeout(n.B),n.B=null)}function EE(n){n.g=new xu(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=yd(n.wa);Pi(e,"RID","rpc"),Pi(e,"SID",n.K),Pi(e,"AID",n.V),Pi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Pi(e,"TO",n.qa),Pi(e,"TYPE","xmlhttp"),Gp(n,e),n.o&&n.s&&n0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Vp(yd(e)),t.s=null,t.S=!0,cE(t,n)}function Jg(n){null!=n.v&&(Pr.clearTimeout(n.v),n.v=null)}function TE(n,e){var t=null;if(n.g==e){Jg(n),c0(n),n.g=null;var r=2}else{if(!pE(n.i,e))return;t=e.F,mE(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ra(r=af(),new Zl(r,t)),Xg(n)}else IE(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Mx(n,e){return!(Ex(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=gd(na(n.Na,n,e),e_(n,n.C)),n.C++,0)))}(n,e)||2==r&&a0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:yc(n,5);break;case 4:yc(n,10);break;case 3:yc(n,6);break;default:yc(n,2)}}function e_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function yc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=na(n.pb,n);t||(t=new Lp("//www.google.com/images/cleardot.gif"),Pr.location&&"http"==Pr.location.protocol||$v(t,"https"),Vp(t)),function Tx(n,e){const t=new Bv;if(Pr.Image){const r=new Image;r.onload=Pg(jp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Pg(jp,t,r,"TestLoadImage: error",!1,e),r.onabort=Pg(jp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pg(jp,t,r,"TestLoadImage: timeout",!1,e),Pr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qa(2);n.H=0,n.h&&n.h.za(e),Rx(n),wE(n)}function Rx(n){if(n.H=0,n.ma=[],n.h){const e=gE(n.i);(0!=e.length||0!=n.j.length)&&(hN(n.ma,e),hN(n.ma,n.j),n.i.i.length=0,ZI(n.j),n.j.length=0),n.h.ya()}}function Px(n,e,t){var r=t instanceof Lp?yd(t):new Lp(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Wv(r,r.m);else{var i=Pr.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Lp(null);r&&$v(o,r),e&&(o.g=e),i&&Wv(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&Pi(r,t,e),Pi(r,"VER",n.ra),Gp(n,r),r}function l0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jo(t&&n.Ha&&!n.va?new df({ob:!0}):n.va)).Oa(n.J),e}function hh(){}function $p(){if(nh&&!(10<=Number(rx)))throw Error("Environmental error: no available transport.")}function qc(n,e){Uo.call(this),this.g=new vE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!kg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new t_(this)}function u0(n){sh.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function VN(){ah.call(this),this.status=1}function t_(n){this.g=n}function Yl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function d0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function ki(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(Sn=jo.prototype).Oa=function(n){this.M=n},Sn.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ch.g(),this.C=function Wc(n){return n.h||(n.h=n.i())}(this.u?this.u:ch),this.g.onreadystatechange=na(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void yE(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Pr.FormData&&n instanceof Pr.FormData,!(0<=XS(Jv,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e0(this),0<this.B&&((this.L=function _E(n){return nh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=na(this.ua,this)):this.A=Pp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){yE(this,o)}},Sn.ua=function(){typeof Mg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ra(this,"timeout"),this.abort(8))},Sn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ra(this,"complete"),ra(this,"abort"),Qg(this))},Sn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qg(this,!0)),jo.$.N.call(this)},Sn.La=function(){this.s||(this.G||this.v||this.l?Sx(this):this.kb())},Sn.kb=function(){Sx(this)},Sn.isActive=function(){return!!this.g},Sn.da=function(){try{return 2<Kl(this)?this.g.status:-1}catch{return-1}},Sn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Sn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),LN(e)}},Sn.Ia=function(){return this.m},Sn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Sn=vE.prototype).ra=8,Sn.H=1,Sn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new xu(this,this.l,n);let o=this.s;if(this.U&&(o?(o=Au(o),ax(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bE(this,i,e),Pi(t=yd(this.I),"RID",n),Pi(t,"CVER",22),this.F&&Pi(t,"X-HTTP-Session-Id",this.F),Gp(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(Dx(o)))+"&"+e:this.o&&n0(t,this.o,o)),Yv(this.i,i),this.bb&&Pi(t,"TYPE","init"),this.P?(Pi(t,"$req",e),Pi(t,"SID","null"),i.aa=!0,Gv(i,t,null)):Gv(i,t,e),this.H=2}}else 3==this.H&&(n?s0(this,n):0==this.j.length||fE(this.i)||s0(this))},Sn.Ma=function(){if(this.u=null,EE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=gd(na(this.jb,this),n)}},Sn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qa(10),o0(this),EE(this))},Sn.ib=function(){null!=this.v&&(this.v=null,o0(this),a0(this),qa(19))},Sn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),qa(2)):(this.l.info("Failed to ping google.com"),qa(1))},Sn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Sn=hh.prototype).Ba=function(){},Sn.Aa=function(){},Sn.za=function(){},Sn.ya=function(){},Sn.isActive=function(){return!0},Sn.Va=function(){},$p.prototype.g=function(n,e){return new qc(n,e)},Ls(qc,Uo),qc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;qa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Px(n,null,n.Y),Xg(n)},qc.prototype.close=function(){r0(this.g)},qc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=jv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Xg(e)},qc.prototype.N=function(){this.g.h=null,delete this.j,r0(this.g),delete this.g,qc.$.N.call(this)},Ls(u0,sh),Ls(VN,ah),Ls(t_,hh),t_.prototype.Ba=function(){ra(this.g,"a")},t_.prototype.Aa=function(n){ra(this.g,new u0(n))},t_.prototype.za=function(n){ra(this.g,new VN)},t_.prototype.ya=function(){ra(this.g,"b")},Ls(Yl,function UN(){this.blockSize=-1}),Yl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)d0(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){d0(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){d0(this,r),i=0;break}}this.h=i,this.i+=e},Yl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var ys={};function h0(n){return-128<=n&&128>n?function fN(n,e){var t=ys;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ki([0|e],0>e?-1:0)}):new ki([0|n],0>n?-1:0)}function Du(n){if(isNaN(n)||!isFinite(n))return Wp;if(0>n)return ia(Du(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=f0;return new ki(e,0)}var f0=4294967296,Wp=h0(0),p0=h0(1),CE=h0(16777216);function vc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function fl(n){return-1==n.h}function ia(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ki(t,~n.h).add(p0)}function n_(n,e){return n.add(ia(e))}function m0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function qp(n,e){this.g=n,this.h=e}function AE(n,e){if(vc(e))throw Error("division by zero");if(vc(n))return new qp(Wp,Wp);if(fl(n))return e=AE(ia(n),e),new qp(ia(e.g),ia(e.h));if(fl(e))return e=AE(n,ia(e)),new qp(ia(e.g),e.h);if(30<n.g.length){if(fl(n)||fl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=p0,r=e;0>=r.X(n);)t=g0(t),r=g0(r);var i=fh(t,1),o=fh(r,1);for(r=fh(r,2),t=fh(t,2);!vc(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=fh(r,1),t=fh(t,1)}return e=n_(n,i.R(e)),new qp(i,e)}for(i=Wp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=Du(t)).R(e);fl(c)||0<c.X(n);)c=(o=Du(t-=r)).R(e);vc(o)&&(o=p0),i=i.add(o),n=n_(n,c)}return new qp(i,n)}function g0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ki(t,n.h)}function fh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new ki(i,n.h)}(Sn=ki.prototype).ea=function(){if(fl(this))return-ia(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:f0+r)*e,e*=f0}return n},Sn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(vc(this))return"0";if(fl(this))return"-"+ia(this).toString(n);for(var e=Du(Math.pow(n,6)),t=this,r="";;){var i=AE(t,e).g,o=((0<(t=n_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(vc(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Sn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Sn.X=function(n){return fl(n=n_(this,n))?-1:vc(n)?0:1},Sn.abs=function(){return fl(this)?ia(this):this},Sn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new ki(t,-2147483648&t[t.length-1]?-1:0)},Sn.R=function(n){if(vc(this)||vc(n))return Wp;if(fl(this))return fl(n)?ia(this).R(ia(n)):ia(ia(this).R(n));if(fl(n))return ia(this.R(ia(n)));if(0>this.X(CE)&&0>n.X(CE))return Du(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=c*p,m0(t,2*r+2*i),t[2*r+2*i+1]+=o*p,m0(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,m0(t,2*r+2*i+1),t[2*r+2*i+2]+=o*h,m0(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ki(t,0)},Sn.gb=function(n){return AE(this,n).h},Sn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ki(t,this.h&n.h)},Sn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ki(t,this.h|n.h)},Sn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ki(t,this.h^n.h)},$p.prototype.createWebChannel=$p.prototype.g,qc.prototype.send=qc.prototype.u,qc.prototype.open=qc.prototype.m,qc.prototype.close=qc.prototype.close,_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,oh.COMPLETE="complete",Hv.EventType=Su,Su.OPEN="a",Su.CLOSE="b",Su.ERROR="c",Su.MESSAGE="d",Uo.prototype.listen=Uo.prototype.O,jo.prototype.listenOnce=jo.prototype.P,jo.prototype.getLastError=jo.prototype.Sa,jo.prototype.getLastErrorCode=jo.prototype.Ia,jo.prototype.getStatus=jo.prototype.da,jo.prototype.getResponseJson=jo.prototype.Wa,jo.prototype.getResponseText=jo.prototype.ja,jo.prototype.send=jo.prototype.ha,jo.prototype.setWithCredentials=jo.prototype.Oa,Yl.prototype.digest=Yl.prototype.l,Yl.prototype.reset=Yl.prototype.reset,Yl.prototype.update=Yl.prototype.j,ki.prototype.add=ki.prototype.add,ki.prototype.multiply=ki.prototype.R,ki.prototype.modulo=ki.prototype.gb,ki.prototype.compare=ki.prototype.X,ki.prototype.toNumber=ki.prototype.ea,ki.prototype.toString=ki.prototype.toString,ki.prototype.getBits=ki.prototype.D,ki.fromNumber=Du,ki.fromString=function kx(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ia(kx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Du(Math.pow(e,8)),r=Wp,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=Du(Math.pow(e,o)),r=r.R(o).add(Du(c))):r=(r=r.R(t)).add(Du(c))}return r};var Mu=Gc.createWebChannelTransport=function(){return new $p},jN=Gc.getStatEventTarget=function(){return af()},SE=Gc.ErrorCode=_s,Ru=Gc.EventType=oh,Ql=Gc.Event=ih,pl=Gc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nx=Gc.FetchXmlHttpFactory=df,r_=Gc.WebChannel=Hv,BN=Gc.XhrIo=jo,zN=Gc.Md5=Yl,Zp=Gc.Integer=ki;const Ox="@firebase/firestore";class ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");let Pu="9.23.0";const ph=new pr.Yd("@firebase/firestore");function _0(){return ph.logLevel}function nn(n,...e){if(ph.logLevel<=pr.in.DEBUG){const t=e.map(Kp);ph.debug(`Firestore (${Pu}): ${n}`,...t)}}function Bo(n,...e){if(ph.logLevel<=pr.in.ERROR){const t=e.map(Kp);ph.error(`Firestore (${Pu}): ${n}`,...t)}}function Zc(n,...e){if(ph.logLevel<=pr.in.WARN){const t=e.map(Kp);ph.warn(`Firestore (${Pu}): ${n}`,...t)}}function Kp(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Fn(n="Unexpected state"){const e=`FIRESTORE (${Pu}) INTERNAL ASSERTION FAILED: `+n;throw Bo(e),new Error(e)}function Yn(n,e){n||Fn()}function wn(n,e){return n}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gt extends ut.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class i_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ss.UNAUTHENTICATED))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ux{constructor(e){this.t=e,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let c=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zo,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,Et.Z)(function*(){yield _.promise,yield o(r.currentUser)}))},p=_=>{nn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nn("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zo)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn("string"==typeof r.accessToken),new i_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yn(null===e||"string"==typeof e),new ss(e)}}class jx{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ss.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Bx{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new jx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zx{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&nn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,nn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{nn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):nn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yn("string"==typeof t.token),this.T=t.token,new xE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $N(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Hx{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=$N(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Dr(n,e){return n<e?-1:n>e?1:0}function Yp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Gx(n){return n+"\0"}class go{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return go.fromMillis(Date.now())}static fromDate(e){return go.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new go(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dr(this.nanoseconds,e.nanoseconds):Dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xn(e)}static min(){return new Xn(new go(0,0))}static max(){return new Xn(new go(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class o_{constructor(e,t,r){void 0===t?t=0:t>e.length&&Fn(),void 0===r?r=e.length-t:r>e.length-t&&Fn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===o_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof o_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ui extends o_{construct(e,t,r){return new ui(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Gt(dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ui(t)}static emptyPath(){return new ui([])}}const WN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zo extends o_{construct(e,t,r){return new zo(e,t,r)}static isValidIdentifier(e){return WN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zo(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Gt(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Gt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Gt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new Gt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zo(t)}static emptyPath(){return new zo([])}}class yn{constructor(e){this.path=e}static fromPath(e){return new yn(ui.fromString(e))}static fromName(e){return new yn(ui.fromString(e).popFirst(5))}static empty(){return new yn(ui.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ui.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ui.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yn(new ui(e.slice()))}}class y0{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function DE(n){return n.fields.find(e=>2===e.kind)}function ff(n){return n.fields.filter(e=>2!==e.kind)}y0.UNKNOWN_ID=-1;class v0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qp(0,wc.min())}}function ME(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Xn.fromTimestamp(1e9===r?new go(t+1,0):new go(t,r));return new wc(i,yn.empty(),e)}function RE(n){return new wc(n.readTime,n.key,-1)}class wc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wc(Xn.min(),yn.empty(),-1)}static max(){return new wc(Xn.max(),yn.empty(),-1)}}function w0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=yn.comparator(n.documentKey,e.documentKey),0!==t?t:Dr(n.largestBatchId,e.largestBatchId))}const PE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vd(n){return b0.apply(this,arguments)}function b0(){return b0=(0,Et.Z)(function*(n){if(n.code!==dt.FAILED_PRECONDITION||n.message!==PE)throw n;nn("LocalStore","Unexpectedly lost primary lease")}),b0.apply(this,arguments)}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,r)=>{t(e)})}static reject(e){return new tt((t,r)=>{r(e)})}static waitFor(e){return new tt((t,r)=>{let i=0,o=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++o,c&&o===i&&t()},p=>r(p))}),c=!0,o===i&&t()})}static or(e){let t=tt.resolve(!1);for(const r of e)t=t.next(i=>i?tt.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new tt((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let p=0;p<o;p++){const _=p;t(e[_]).next(w=>{c[_]=w,++h,h===o&&r(c)},w=>i(w))}})}static doWhile(e,t){return new tt((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class s_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Zo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new a_(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=I0(r.target.error);this.v.reject(new a_(e,i))}}static open(e,t,r,i){try{return new s_(t,e.transaction(i,r))}catch(o){throw new a_(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(nn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zj(t)}}class oa{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===oa.S((0,ut.z$)())&&Bo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nn("SimpleDb","Removing database:",e),wd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ut.hl)())return!1;if(oa.C())return!0;const e=(0,ut.z$)(),t=oa.S(e),r=0<t&&t<10,i=oa.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Et.Z)(function*(){return t.db||(nn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new a_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new Gt(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Gt(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new a_(e,h))},o.onupgradeneeded=c=>{nn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{nn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,Et.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.$(e);const p=s_.open(o.db,e,c?"readonly":"readwrite",r),_=i(p).next(w=>(p.P(),w)).catch(w=>(p.abort(w),tt.reject(w))).toPromise();return _.catch(()=>{}),yield p.R,_}catch(p){const _=p,w="FirebaseError"!==_.name&&h<3;if(nn("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),o.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class KN{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return wd(this.L.delete())}}class a_ extends Gt{constructor(e,t){super(dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kc(n){return"IndexedDbTransactionError"===n.name}class zj{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(nn("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(nn("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wd(r)}add(e){return nn("SimpleDb","ADD",this.store.name,e,e),wd(this.store.add(e))}get(e){return wd(this.store.get(e)).next(t=>(void 0===t&&(t=null),nn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nn("SimpleDb","DELETE",this.store.name,e),wd(this.store.delete(e))}count(){return nn("SimpleDb","COUNT",this.store.name),wd(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(c,h)=>{o.push(h)}).next(()=>o)}{const i=this.store.getAll(r.range);return new tt((o,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new tt((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){nn("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new tt((r,i)=>{t.onerror=o=>{const c=I0(o.target.error);i(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new tt((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const p=new KN(h),_=t(h.primaryKey,h.value,p);if(_ instanceof tt){const w=_.catch(D=>(p.done(),tt.reject(D)));r.push(w)}p.isDone?i():null===p.K?h.continue():h.continue(p.K)}}).next(()=>tt.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wd(n){return new tt((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=I0(r.target.error);t(i)}})}let YN=!1;function I0(n){const e=oa.S((0,ut.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YN||(YN=!0,setTimeout(()=>{throw r},0)),r}}return n}class $x{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;nn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Et.Z)(function*(){t.task=null;try{nn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Kc(r)?nn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield vd(r)}yield t.et(6e4)}))}}class Hj{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Et.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return tt.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return nn("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,o)).next(h=>(nn("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const c=RE(o);w0(c,r)>0&&(r=c)}),new wc(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Us=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function c_(n){return null==n}function l_(n){return 0===n&&1/n==-1/0}function Wx(n){return"number"==typeof n&&Number.isInteger(n)&&!l_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ko(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=u_(e)),e=QN(n.get(t),e);return u_(e)}function QN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function u_(n){return n+"\x01\x01"}function Yc(n){const e=n.length;if(Yn(e>=2),2===e)return Yn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ui.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&Fn(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let p;0===i.length?p=h:(i+=h,p=i,i=""),r.push(p);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:Fn()}o=c+2}return new ui(r)}const Za=["userId","batchId"];function NE(n,e){return[n,Ko(e)]}function OE(n,e,t){return[n,Ko(e),t]}const qx={},XN=["prefixPath","collectionGroup","readTime","documentId"],Zx=["prefixPath","collectionGroup","documentId"],Kx=["collectionGroup","readTime","prefixPath","documentId"],Yx=["canonicalId","targetId"],Qx=["targetId","path"],JN=["path","targetId"],eO=["collectionId","parent"],tO=["indexId","uid"],d_=["uid","sequenceNumber"],nO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rO=["indexId","uid","orderedDocumentKey"],iO=["userId","collectionPath","documentId"],E0=["userId","collectionPath","largestBatchId"],Xx=["userId","collectionGroup","largestBatchId"],FE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jx=[...FE,"documentOverlays"],eD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xp=eD,h_=[...Xp,"indexConfiguration","indexState","indexEntries"];class LE extends kE{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function js(n,e){const t=wn(n);return oa.M(t.ht,e)}function tD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Bi{constructor(e,t){this.comparator=e,this.root=t||Bs.EMPTY}insert(e,t){return new Bi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(e){return new Bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T0(this.root,e,this.comparator,!1)}getReverseIterator(){return new T0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T0(this.root,e,this.comparator,!0)}}class T0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bs{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Bs.RED,this.left=i??Bs.EMPTY,this.right=o??Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Bs(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fn();const e=this.left.check();if(e!==this.right.check())throw Fn();return e+(this.isRed()?0:1)}}Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1,Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw Fn()}get value(){throw Fn()}get color(){throw Fn()}get left(){throw Fn()}get right(){throw Fn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class io{constructor(e){this.comparator=e,this.data=new Bi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nD(this.data.getIterator())}getIteratorFrom(e){return new nD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new io(this.comparator);return t.data=e,t}}class nD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function f_(n){return n.hasNext()?n.getNext():void 0}class Qc{constructor(e){this.fields=e,e.sort(zo.comparator)}static empty(){return new Qc([])}unionWith(e){let t=new io(zo.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class oO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class as{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oO("Invalid base64 string: "+i):i}}(e);return new as(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new as(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}as.EMPTY_BYTE_STRING=new as("");const C0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mh(n){if(Yn(!!n),"string"==typeof n){let e=0;const t=C0.exec(n);if(Yn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ho(n.seconds),nanos:Ho(n.nanos)}}function Ho(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ku(n){return"string"==typeof n?as.fromBase64String(n):as.fromUint8Array(n)}function gh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function A0(n){const e=n.mapValue.fields.__previous_value__;return gh(e)?A0(e):e}function p_(n){const e=mh(n.mapValue.fields.__local_write_time__.timestampValue);return new go(e.seconds,e.nanos)}class sO{constructor(e,t,r,i,o,c,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=_}}class _h{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _h("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _h&&e.projectId===this.projectId&&e.database===this.database}}const pf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},S0={nullValue:"NULL_VALUE"};function Id(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gh(n)?4:oD(n)?9007199254740991:10:Fn()}function Nu(n,e){if(n===e)return!0;const t=Id(n);if(t!==Id(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return p_(n).isEqual(p_(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=mh(r.timestampValue),c=mh(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ku(n.bytesValue).isEqual(ku(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ho(r.geoPointValue.latitude)===Ho(i.geoPointValue.latitude)&&Ho(r.geoPointValue.longitude)===Ho(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ho(r.integerValue)===Ho(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ho(r.doubleValue),c=Ho(i.doubleValue);return o===c?l_(o)===l_(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Yp(n.arrayValue.values||[],e.arrayValue.values||[],Nu);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(tD(o)!==tD(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Nu(o[h],c[h])))return!1;return!0}(n,e);default:return Fn()}var i}function m_(n,e){return void 0!==(n.values||[]).find(t=>Nu(t,e))}function ml(n,e){if(n===e)return 0;const t=Id(n),r=Id(e);if(t!==r)return Dr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Dr(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Ho(i.integerValue||i.doubleValue),h=Ho(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return rD(n.timestampValue,e.timestampValue);case 4:return rD(p_(n),p_(e));case 5:return Dr(n.stringValue,e.stringValue);case 6:return function(i,o){const c=ku(i),h=ku(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),h=o.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=Dr(c[p],h[p]);if(0!==_)return _}return Dr(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Dr(Ho(i.latitude),Ho(o.latitude));return 0!==c?c:Dr(Ho(i.longitude),Ho(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],h=o.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=ml(c[p],h[p]);if(_)return _}return Dr(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===pf.mapValue&&o===pf.mapValue)return 0;if(i===pf.mapValue)return 1;if(o===pf.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),p=o.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let w=0;w<h.length&&w<_.length;++w){const D=Dr(h[w],_[w]);if(0!==D)return D;const F=ml(c[h[w]],p[_[w]]);if(0!==F)return F}return Dr(h.length,_.length)}(n.mapValue,e.mapValue);default:throw Fn()}}function rD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Dr(n,e);const t=mh(n),r=mh(e),i=Dr(t.seconds,r.seconds);return 0!==i?i:Dr(t.nanos,r.nanos)}function mf(n){return UE(n)}function UE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=mh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ku(n.bytesValue).toBase64():"referenceValue"in n?yn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=UE(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${UE(r.fields[h])}`;return o+"}"}(n.mapValue):Fn();var e}function gf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function x0(n){return!!n&&"integerValue"in n}function __(n){return!!n&&"arrayValue"in n}function D0(n){return!!n&&"nullValue"in n}function iD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function y_(n){return!!n&&"mapValue"in n}function Jp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function aO(n){return"nullValue"in n?S0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gf(_h.empty(),yn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Fn()}function cO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gf(_h.empty(),yn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pf:Fn()}function M0(n,e){const t=ml(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function sD(n,e){const t=ml(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zs{constructor(e){this.value=e}static empty(){return new zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!y_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jp(t)}setAll(e){let t=zo.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Jp(c):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());y_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];y_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bd(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zs(Jp(this.value))}}function aD(n){const e=[];return bd(n.fields,(t,r)=>{const i=new zo([t]);if(y_(r)){const o=aD(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new Qc(e)}class oo{constructor(e,t,r,i,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new oo(e,0,Xn.min(),Xn.min(),Xn.min(),zs.empty(),0)}static newFoundDocument(e,t,r,i){return new oo(e,1,t,Xn.min(),r,i,0)}static newNoDocument(e,t){return new oo(e,2,t,Xn.min(),Xn.min(),zs.empty(),0)}static newUnknownDocument(e,t){return new oo(e,3,t,Xn.min(),Xn.min(),zs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,t){this.position=e,this.inclusive=t}}function cD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?yn.comparator(yn.fromName(c.referenceValue),t.key):ml(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function lD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nu(n.position[t],e.position[t]))return!1;return!0}class em{constructor(e,t="asc"){this.field=e,this.dir=t}}function lO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class uD{}class ri extends uD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new zE(e,t,r):"array-contains"===t?new uO(e,r):"in"===t?new k0(e,r):"not-in"===t?new dO(e,r):"array-contains-any"===t?new gD(e,r):new ri(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new pD(e,r):new HE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ml(t,this.value)):null!==t&&Id(this.value)===Id(t)&&this.matchesComparison(ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Si extends uD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Si(e,t)}matches(e){return tm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function tm(n){return"and"===n.op}function jE(n){return"or"===n.op}function R0(n){return dD(n)&&tm(n)}function dD(n){for(const e of n.filters)if(e instanceof Si)return!1;return!0}function BE(n){if(n instanceof ri)return n.field.canonicalString()+n.op.toString()+mf(n.value);if(R0(n))return n.filters.map(e=>BE(e)).join(",");{const e=n.filters.map(t=>BE(t)).join(",");return`${n.op}(${e})`}}function hD(n,e){return n instanceof ri?(t=n,(r=e)instanceof ri&&t.op===r.op&&t.field.isEqual(r.field)&&Nu(t.value,r.value)):n instanceof Si?function(t,r){return r instanceof Si&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,c)=>i&&hD(o,r.filters[c]),!0)}(n,e):void Fn();var t,r}function fD(n,e){const t=n.filters.concat(e);return Si.create(t,n.op)}function P0(n){return n instanceof ri?`${(e=n).field.canonicalString()} ${e.op} ${mf(e.value)}`:n instanceof Si?function(e){return e.op.toString()+" {"+e.getFilters().map(P0).join(" ,")+"}"}(n):"Filter";var e}class zE extends ri{constructor(e,t,r){super(e,t,r),this.key=yn.fromName(r.referenceValue)}matches(e){const t=yn.comparator(e.key,this.key);return this.matchesComparison(t)}}class pD extends ri{constructor(e,t){super(e,"in",t),this.keys=mD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HE extends ri{constructor(e,t){super(e,"not-in",t),this.keys=mD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>yn.fromName(r.referenceValue))}class uO extends ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return __(t)&&m_(t.arrayValue,this.value)}}class k0 extends ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&m_(this.value.arrayValue,t)}}class dO extends ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(m_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!m_(this.value.arrayValue,t)}}class gD extends ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!__(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>m_(this.value.arrayValue,r))}}class _f{constructor(e,t=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.dt=null}}function N0(n,e=null,t=[],r=[],i=null,o=null,c=null){return new _f(n,e,t,r,i,o,c)}function yf(n){const e=wn(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>BE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),c_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mf(r)).join(",")),e.dt=t}return e.dt}function O0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lD(n.startAt,e.startAt)&&lD(n.endAt,e.endAt)}function nm(n){return yn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function rm(n,e){return n.filters.filter(t=>t instanceof ri&&t.field.isEqual(e))}function _D(n,e,t){let r=S0,i=!0;for(const o of rm(n,e)){let c=S0,h=!0;switch(o.op){case"<":case"<=":c=aO(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=S0}M0({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];M0({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function GE(n,e,t){let r=pf,i=!0;for(const o of rm(n,e)){let c=pf,h=!0;switch(o.op){case">=":case">":c=cO(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=pf}sD({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];sD({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ou{constructor(e,t=null,r=[],i=[],o=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function yD(n,e,t,r,i,o,c,h){return new Ou(n,e,t,r,i,o,c,h)}function vf(n){return new Ou(n)}function F0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function L0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function v_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function V0(n){return null!==n.collectionGroup}function vh(n){const e=wn(n);if(null===e.wt){e.wt=[];const t=v_(e),r=L0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new em(t)),e.wt.push(new em(zo.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new em(zo.keyField(),o))}}}return e.wt}function Ka(n){const e=wn(n);if(!e._t)if("F"===e.limitType)e._t=N0(e.path,e.collectionGroup,vh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of vh(e))t.push(new em(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new yh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yh(e.startAt.position,e.startAt.inclusive):null;e._t=N0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function $E(n,e){e.getFirstInequalityField(),v_(n);const t=n.filters.concat([e]);return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function U0(n,e,t){return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function w_(n,e){return O0(Ka(n),Ka(e))&&n.limitType===e.limitType}function WE(n){return`${yf(Ka(n))}|lt:${n.limitType}`}function vD(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>P0(r)).join(", ")}]`),c_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mf(r)).join(",")),`Target(${t})`}(Ka(n))}; limitType=${n.limitType})`}function im(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):yn.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of vh(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const h=cD(i,o,c);return i.inclusive?h<=0:h<0}(t.startAt,vh(t),r)||t.endAt&&!function(i,o,c){const h=cD(i,o,c);return i.inclusive?h>=0:h>0}(t.endAt,vh(t),r)));var t,r}function wD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bD(n){return(e,t)=>{let r=!1;for(const i of vh(n)){const o=$j(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function $j(n,e,t){const r=n.field.isKeyField()?yn.comparator(e.key,t.key):function(i,o,c){const h=o.data.field(i),p=c.data.field(i);return null!==h&&null!==p?ml(h,p):Fn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fn()}}class Ed{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bd(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}const hO=new Bi(yn.comparator);function bc(){return hO}const ID=new Bi(yn.comparator);function b_(...n){let e=ID;for(const t of n)e=e.insert(t.key,t);return e}function ED(n){let e=ID;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fu(){return I_()}function TD(){return I_()}function I_(){return new Ed(n=>n.toString(),(n,e)=>n.isEqual(e))}const fO=new Bi(yn.comparator),pO=new io(yn.comparator);function Lr(...n){let e=pO;for(const t of n)e=e.add(t);return e}const E_=new io(Dr);function j0(){return E_}function qE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l_(e)?"-0":e}}function ZE(n){return{integerValue:""+n}}function KE(n,e){return Wx(e)?ZE(e):qE(n,e)}class T_{constructor(){this._=void 0}}function CD(n,e,t){return n instanceof C_?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&gh(i)&&(i=A0(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof wh?AD(n,e):n instanceof wf?SD(n,e):function(r,i){const o=gO(r,i),c=sm(o)+sm(r.gt);return x0(o)&&x0(r.gt)?ZE(c):qE(r.serializer,c)}(n,e)}function mO(n,e,t){return n instanceof wh?AD(n,e):n instanceof wf?SD(n,e):t}function gO(n,e){return n instanceof om?x0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class C_ extends T_{}class wh extends T_{constructor(e){super(),this.elements=e}}function AD(n,e){const t=xD(e);for(const r of n.elements)t.some(i=>Nu(i,r))||t.push(r);return{arrayValue:{values:t}}}class wf extends T_{constructor(e){super(),this.elements=e}}function SD(n,e){let t=xD(e);for(const r of n.elements)t=t.filter(i=>!Nu(i,r));return{arrayValue:{values:t}}}class om extends T_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function sm(n){return Ho(n.integerValue||n.doubleValue)}function xD(n){return __(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bf{constructor(e,t){this.field=e,this.transform=t}}class Wj{constructor(e,t){this.version=e,this.transformResults=t}}class _o{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _o}static exists(e){return new _o(void 0,e)}static updateTime(e){return new _o(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function YE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class bh{}function DD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new If(n.key,_o.none()):new am(n.key,n.data,_o.none());{const t=n.data,r=zs.empty();let i=new io(zo.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new Lu(n.key,r,new Qc(i.toArray()),_o.none())}}function yO(n,e,t){n instanceof am?function(r,i,o){const c=r.value.clone(),h=MD(r.fieldTransforms,i,o.transformResults);c.setAll(h),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Lu?function(r,i,o){if(!YE(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=MD(r.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(S_(r)),h.setAll(c),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function A_(n,e,t,r){return n instanceof am?function(i,o,c,h){if(!YE(i.precondition,o))return c;const p=i.value.clone(),_=RD(i.fieldTransforms,h,o);return p.setAll(_),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Lu?function(i,o,c,h){if(!YE(i.precondition,o))return c;const p=RD(i.fieldTransforms,h,o),_=o.data;return _.setAll(S_(i)),_.setAll(p),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(w=>w.field))}(n,e,t,r):(c=t,YE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function B0(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=gO(r.transform,i||null);null!=o&&(null===t&&(t=zs.empty()),t.set(r.field,o))}return t||null}function QE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Yp(t,r,(i,o)=>function _O(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wh&&r instanceof wh||t instanceof wf&&r instanceof wf?Yp(t.elements,r.elements,Nu):t instanceof om&&r instanceof om?Nu(t.gt,r.gt):t instanceof C_&&r instanceof C_);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class am extends bh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lu extends bh{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function S_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function MD(n,e,t){const r=new Map;Yn(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,mO(c,h,t[i]))}return r}function RD(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,CD(o,c,e))}return r}class If extends bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XE extends bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&yO(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=A_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=A_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TD();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(i.key)?null:h;const p=DD(c,h);null!==p&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(Xn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lr())}isEqual(e){return this.batchId===e.batchId&&Yp(this.mutations,e.mutations,(t,r)=>QE(t,r))&&Yp(this.baseMutations,e.baseMutations,(t,r)=>QE(t,r))}}class z0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Yn(e.mutations.length===r.length);let i=fO;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new z0(e,t,r,i)}}class cm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wO{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yo,oi;function H0(n){switch(n){default:return Fn();case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0}}function eT(n){if(void 0===n)return Bo("GRPC error has no .code"),dt.UNKNOWN;switch(n){case Yo.OK:return dt.OK;case Yo.CANCELLED:return dt.CANCELLED;case Yo.UNKNOWN:return dt.UNKNOWN;case Yo.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Yo.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Yo.INTERNAL:return dt.INTERNAL;case Yo.UNAVAILABLE:return dt.UNAVAILABLE;case Yo.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Yo.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Yo.NOT_FOUND:return dt.NOT_FOUND;case Yo.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Yo.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Yo.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Yo.ABORTED:return dt.ABORTED;case Yo.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Yo.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Yo.DATA_LOSS:return dt.DATA_LOSS;default:return Fn()}}(oi=Yo||(Yo={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";class tT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return x_}static getOrCreateInstance(){return null===x_&&(x_=new tT),x_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let x_=null;function nT(){return new TextEncoder}const bO=new Zp([4294967295,4294967295],0);function PD(n){const e=nT().encode(n),t=new zN;return t.update(e),new Uint8Array(t.digest())}function G0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zp([t,r],0),new Zp([i,o],0)]}class D_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lm(`Invalid padding: ${t}`);if(r<0)throw new lm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new lm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new lm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Zp.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Zp.fromNumber(r)));return 1===i.compare(bO)&&(i=new Zp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=PD(e),[r,i]=G0(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new D_(o,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=PD(e),[r,i]=G0(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class lm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ef{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Tf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ef(Xn.min(),i,new Bi(Dr),bc(),Lr())}}class Tf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Tf(r,t,Lr(),Lr(),Lr())}}class $0{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class kD{constructor(e,t){this.targetId=e,this.Vt=t}}class ND{constructor(e,t,r=as.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class OD{constructor(){this.St=0,this.Dt=rT(),this.Ct=as.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Lr(),t=Lr(),r=Lr();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Fn()}}),new Tf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=rT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class FD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bc(),this.zt=W0(),this.Wt=new Bi(Dr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Fn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const c=o.target;if(nm(c))if(0===i){const h=new yn(c.path);this.Yt(r,h,oo.newNoDocument(h,Xn.min()))}else Yn(1===i);else{const h=this.ie(r);if(h!==i){const p=this.re(e,h);0!==p&&(this.ee(r),this.Wt=this.Wt.insert(r,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=tT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(_,w,D){var F,$,he,we,ve,gt;const Dt={localCacheCount:w,existenceFilterCount:D.count},pt=D.unchangedNames;return pt&&(Dt.bloomFilter={applied:0===_,hashCount:null!==(F=pt?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(we=null===(he=null===($=pt?.bits)||void 0===$?void 0:$.bitmap)||void 0===he?void 0:he.length)&&void 0!==we?we:0,padding:null!==(gt=null===(ve=pt?.bits)||void 0===ve?void 0:ve.padding)&&void 0!==gt?gt:0}),Dt}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=r;let p,_;try{p=ku(o).toUint8Array()}catch(w){if(w instanceof oO)return Zc("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{_=new D_(p,c,h)}catch(w){return Zc(w instanceof lm?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===_.It?1:i!==t-this.oe(e.targetId,_)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.vt(h)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,c)=>{const h=this.se(c);if(h){if(o.current&&nm(h.target)){const p=new yn(h.target.path);null!==this.jt.get(p)||this.ae(c,p)||this.Yt(c,p,oo.newNoDocument(p,e))}o.Mt&&(t.set(c,o.Ot()),o.Ft())}});let r=Lr();this.zt.forEach((o,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.se(p);return!_||"TargetPurposeLimboResolution"===_.purpose||(h=!1,!1)}),h&&(r=r.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(e));const i=new Ef(e,t,this.Wt,this.jt,r);return this.jt=bc(),this.zt=W0(),this.Wt=new Bi(Dr),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new OD,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new io(Dr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||nn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new OD),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function W0(){return new Bi(yn.comparator)}function rT(){return new Bi(yn.comparator)}const LD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class IO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function q0(n,e){return n.useProto3Json||c_(e)?e:{value:e}}function Cf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BD(n,e){return Cf(n,e.toTimestamp())}function Qo(n){return Yn(!!n),Xn.fromTimestamp(function(e){const t=mh(e);return new go(t.seconds,t.nanos)}(n))}function sa(n,e){return(t=n,new ui(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Af(n){const e=ui.fromString(n);return Yn(aT(e)),e}function M_(n,e){return sa(n.databaseId,e.path)}function Vu(n,e){const t=Af(e);if(t.get(1)!==n.databaseId.projectId)throw new Gt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Gt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new yn(Z0(t))}function zD(n,e){return sa(n.databaseId,e)}function EO(n){const e=Af(n);return 4===e.length?ui.emptyPath():Z0(e)}function um(n){return new ui(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z0(n){return Yn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function TO(n,e,t){return{name:M_(n,e),fields:t.value.mapValue.fields}}function CO(n,e,t){const r=Vu(n,e.name),i=Qo(e.updateTime),o=e.createTime?Qo(e.createTime):Xn.min(),c=new zs({mapValue:{fields:e.fields}}),h=oo.newFoundDocument(r,i,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function P_(n,e){let t;if(e instanceof am)t={update:TO(n,e.key,e.value)};else if(e instanceof If)t={delete:M_(n,e.key)};else if(e instanceof Lu)t={update:TO(n,e.key,e.data),updateMask:DO(e.fieldMask)};else{if(!(e instanceof XE))return Fn();t={verify:M_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof C_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof om)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw Fn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:BD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Fn()),t;var i}function k_(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?_o.updateTime(Qo(i.updateTime)):void 0!==i.exists?_o.exists(i.exists):_o.none():_o.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,c){let h=null;"setToServerValue"in c?(Yn("REQUEST_TIME"===c.setToServerValue),h=new C_):"appendMissingElements"in c?h=new wh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new wf(c.removeAllFromArray.values||[]):"increment"in c?h=new om(o,c.increment):Fn();const p=zo.fromServerFormat(c.fieldPath);return new bf(p,h)}(n,i)):[];var i;if(e.update){const i=Vu(n,e.update.name),o=new zs({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Qc((e.updateMask.fieldPaths||[]).map(_=>zo.fromServerFormat(_)));return new Lu(i,o,c,t,r)}return new am(i,o,t,r)}if(e.delete){const i=Vu(n,e.delete);return new If(i,t)}if(e.verify){const i=Vu(n,e.verify);return new XE(i,t)}return Fn()}function iT(n,e){return{documents:[zD(n,e.path)]}}function oT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=zD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0!==p.length)return sT(Si.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(p){if(0!==p.length)return p.map(_=>{return{field:Uu((w=_).field),direction:GD(w.dir)};var w})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=q0(n,e.limit);var h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function HD(n){let e=EO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Yn(1===r);const w=t.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let o=[];t.where&&(o=function(w){const D=K0(w);return D instanceof Si&&R0(D)?D.getFilters():[D]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(w=>{return new em(N_((D=w).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(w){let D;return D="object"==typeof w?w.value:w,c_(D)?null:D}(t.limit));let p=null;var w;t.startAt&&(p=new yh((w=t.startAt).values||[],!!w.before));let _=null;return t.endAt&&(_=function(w){return new yh(w.values||[],!w.before)}(t.endAt)),yD(e,i,c,o,h,"F",p,_)}function K0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=N_(e.unaryFilter.field);return ri.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=N_(e.unaryFilter.field);return ri.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=N_(e.unaryFilter.field);return ri.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=N_(e.unaryFilter.field);return ri.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Fn()}}(n):void 0!==n.fieldFilter?ri.create(N_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Si.create(e.compositeFilter.filters.map(t=>K0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Fn()}}(e.compositeFilter.op))}(n):Fn();var e}function GD(n){return LD[n]}function xO(n){return VD[n]}function Y0(n){return UD[n]}function Uu(n){return{fieldPath:n.canonicalString()}}function N_(n){return zo.fromServerFormat(n.fieldPath)}function sT(n){return n instanceof ri?function(e){if("=="===e.op){if(iD(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NAN"}};if(D0(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iD(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NAN"}};if(D0(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(e.field),op:xO(e.op),value:e.value}}}(n):n instanceof Si?function(e){const t=e.getFilters().map(r=>sT(r));return 1===t.length?t[0]:{compositeFilter:{op:Y0(e.op),filters:t}}}(n):Fn()}function DO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ic{constructor(e,t,r,i,o=Xn.min(),c=Xn.min(),h=as.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $D{constructor(e){this.fe=e}}function Q0(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:M_(i=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Cf(i,o.version.toTimestamp()),createTime:Cf(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Sf(e.version)};else{if(!e.isUnknownDocument())return Fn();r.unknownDocument={path:t.path.toArray(),version:Sf(e.version)}}var i,o;return r}function cT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dm(n){const e=new go(n.seconds,n.nanoseconds);return Xn.fromTimestamp(e)}function xf(n,e){const t=(e.baseMutations||[]).map(o=>k_(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>k_(n.fe,o)),i=go.fromMillis(e.localWriteTimeMs);return new JE(e.batchId,i,t,r)}function O_(n){const e=dm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?dm(n.lastLimboFreeSnapshotVersion):Xn.min();let r;var i;return void 0!==n.query.documents?(Yn(1===(i=n.query).documents.length),r=Ka(vf(EO(i.documents[0])))):r=Ka(HD(n.query)),new Ic(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,as.fromBase64String(n.resumeToken))}function qD(n,e){const t=Sf(e.snapshotVersion),r=Sf(e.lastLimboFreeSnapshotVersion);let i;i=nm(e.target)?iT(n.fe,e.target):oT(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yf(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function X0(n){const e=HD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?U0(e,e.limit,"L"):e}function J0(n,e){return new cm(e.largestBatchId,k_(n.fe,e.overlayMutation))}function ZD(n,e){const t=e.path.lastSegment();return[n,Ko(e.path.popLast()),t]}function lT(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Sf(r.readTime),documentKey:Ko(r.documentKey.path),largestBatchId:r.largestBatchId}}class KD{getBundleMetadata(e,t){return YD(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:dm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return YD(e).put({bundleId:(r=t).id,createTime:Sf(Qo(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return QD(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:X0(i.bundledQuery),readTime:dm(i.readTime)};var i})}saveNamedQuery(e,t){return QD(e).put({name:(r=t).name,readTime:Sf(Qo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function YD(n){return js(n,"bundles")}function QD(n){return js(n,"namedQueries")}class F_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new F_(e,t.uid||"")}getOverlay(e,t){return L_(e).get(ZD(this.userId,t)).next(r=>r?J0(this.serializer,r):null)}getOverlays(e,t){const r=Fu();return tt.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,c)=>{const h=new cm(t,c);i.push(this.we(e,h))}),tt.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ko(c.getCollectionPath())));const o=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(L_(e).J("collectionPathOverlayIndex",h))}),tt.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Fu(),o=Ko(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return L_(e).j("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const _=J0(this.serializer,p);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Fu();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return L_(e).X({index:"collectionGroupOverlayIndex",range:h},(p,_,w)=>{const D=J0(this.serializer,_);o.size()<i||D.largestBatchId===c?(o.set(D.getKey(),D),c=D.largestBatchId):w.done()}).next(()=>o)}we(e,t){return L_(e).put(function(r,i,o){const[c,h,p]=ZD(i,o.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:P_(r.fe,o.mutation)}}(this.serializer,this.userId,t))}}function L_(n){return js(n,"documentOverlays")}class Ih{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ho(e.integerValue));else if("doubleValue"in e){const r=Ho(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),l_(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ku(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?oD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Fn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),yn.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function XD(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function uT(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=XD(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}Ih.Ve=new Ih;class JD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=uT(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=uT(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class MO{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class RO{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ew{constructor(){this.je=new JD,this.ze=new MO(this.je),this.We=new RO(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Eh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Eh(this.indexId,this.documentKey,this.arrayValue,r)}}function Df(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=PO(n.arrayValue,e.arrayValue),0!==t?t:(t=PO(n.directionalValue,e.directionalValue),0!==t?t:yn.comparator(n.documentKey,e.documentKey)))}function PO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Zj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Yn(e.collectionGroup===this.collectionId);const t=DE(e);if(void 0!==t&&!this.en(t))return!1;const r=ff(e);let i=new Set,o=0,c=0;for(;o<r.length&&this.en(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[o];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++o}for(;o<r.length;++o)if(c>=this.Ye.length||!this.sn(this.Ye[c++],r[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function kO(n){var e,t;if(Yn(n instanceof ri||n instanceof Si),n instanceof ri){if(n instanceof k0){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>ri.create(n.field,"==",o)))||[];return Si.create(i,"or")}return n}const r=n.filters.map(i=>kO(i));return Si.create(r,n.op)}function Kj(n){if(0===n.getFilters().length)return[];const e=nM(kO(n));return Yn(NO(e)),eM(e)||tM(e)?[e]:e.getFilters()}function eM(n){return n instanceof ri}function tM(n){return n instanceof Si&&R0(n)}function NO(n){return eM(n)||tM(n)||function(e){if(e instanceof Si&&jE(e)){for(const t of e.getFilters())if(!eM(t)&&!tM(t))return!1;return!0}return!1}(n)}function nM(n){if(Yn(n instanceof ri||n instanceof Si),n instanceof ri)return n;if(1===n.filters.length)return nM(n.filters[0]);const e=n.filters.map(r=>nM(r));let t=Si.create(e,n.op);return t=V_(t),NO(t)?t:(Yn(t instanceof Si),Yn(tm(t)),Yn(t.filters.length>1),t.filters.reduce((r,i)=>tw(r,i)))}function tw(n,e){let t;return Yn(n instanceof ri||n instanceof Si),Yn(e instanceof ri||e instanceof Si),t=n instanceof ri?e instanceof ri?Si.create([n,e],"and"):nw(n,e):e instanceof ri?nw(e,n):function(r,i){if(Yn(r.filters.length>0&&i.filters.length>0),tm(r)&&tm(i))return fD(r,i.getFilters());const o=jE(r)?r:i,c=jE(r)?i:r,h=o.filters.map(p=>tw(p,c));return Si.create(h,"or")}(n,e),V_(t)}function nw(n,e){if(tm(e))return fD(e,n.getFilters());{const t=e.filters.map(r=>tw(n,r));return Si.create(t,"or")}}function V_(n){if(Yn(n instanceof ri||n instanceof Si),n instanceof ri)return n;const e=n.getFilters();if(1===e.length)return V_(e[0]);if(dD(n))return n;const t=e.map(i=>V_(i)),r=[];return t.forEach(i=>{i instanceof ri?r.push(i):i instanceof Si&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Si.create(r,n.op)}class OO{constructor(){this.rn=new hm}addToCollectionParentIndex(e,t){return this.rn.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(wc.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(wc.min())}updateCollectionGroup(e,t,r){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class hm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new io(ui.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new io(ui.comparator)).toArray()}}const rw=new Uint8Array(0);class Yj{constructor(e,t){this.user=e,this.databaseId=t,this.on=new hm,this.un=new Ed(r=>yf(r),(r,i)=>O0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:r,parent:Ko(i)};return FO(e).put(o)}return tt.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Gx(t),""],!1,!0);return FO(e).j(i).next(o=>{for(const c of o){if(c.collectionId!==t)break;r.push(Yc(c.parent))}return r})}addFieldIndex(e,t){const r=j_(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const o=r.add(i);if(t.indexState){const c=B_(e);return o.next(h=>{c.put(lT(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=j_(e),i=B_(e),o=U_(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=U_(e);let i=!0;const o=new Map;return tt.forEach(this.cn(t),c=>this.an(e,c).next(h=>{i&&(i=!!h),o.set(c,h)})).next(()=>{if(i){let c=Lr();const h=[];return tt.forEach(o,(p,_)=>{var w;nn("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${yf(t)}`);const D=function(pt,Wt){const fn=DE(Wt);if(void 0===fn)return null;for(const In of rm(pt,fn.fieldPath))switch(In.op){case"array-contains-any":return In.value.arrayValue.values||[];case"array-contains":return[In.value]}return null}(_,p),F=function(pt,Wt){const fn=new Map;for(const In of ff(Wt))for(const zr of rm(pt,In.fieldPath))switch(zr.op){case"==":case"in":fn.set(In.fieldPath.canonicalString(),zr.value);break;case"not-in":case"!=":return fn.set(In.fieldPath.canonicalString(),zr.value),Array.from(fn.values())}return null}(_,p),$=function(pt,Wt){const fn=[];let In=!0;for(const zr of ff(Wt)){const Qi=0===zr.kind?_D(pt,zr.fieldPath,pt.startAt):GE(pt,zr.fieldPath,pt.startAt);fn.push(Qi.value),In&&(In=Qi.inclusive)}return new yh(fn,In)}(_,p),he=function(pt,Wt){const fn=[];let In=!0;for(const zr of ff(Wt)){const Qi=0===zr.kind?GE(pt,zr.fieldPath,pt.endAt):_D(pt,zr.fieldPath,pt.endAt);fn.push(Qi.value),In&&(In=Qi.inclusive)}return new yh(fn,In)}(_,p),we=this.hn(p,_,$),ve=this.hn(p,_,he),gt=this.ln(p,_,F),Dt=this.fn(p.indexId,D,we,$.inclusive,ve,he.inclusive,gt);return tt.forEach(Dt,pt=>r.H(pt,t.limit).next(Wt=>{Wt.forEach(fn=>{const In=yn.fromSegments(fn.documentKey);c.has(In)||(c=c.add(In),h.push(In))})}))}).next(()=>h)}return tt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Kj(Si.create(e.filters,"and")).map(r=>N0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,o,c,h){const p=(null!=t?t.length:1)*Math.max(r.length,o.length),_=p/(null!=t?t.length:1),w=[];for(let D=0;D<p;++D){const F=t?this.dn(t[D/_]):rw,$=this.wn(e,F,r[D%_],i),he=this._n(e,F,o[D%_],c),we=h.map(ve=>this.wn(e,F,ve,!0));w.push(...this.createRange($,he,we))}return w}wn(e,t,r,i){const o=new Eh(e,yn.empty(),t,r);return i?o:o.Je()}_n(e,t,r,i){const o=new Eh(e,yn.empty(),t,r);return i?o.Je():o}an(e,t){const r=new Zj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let c=null;for(const h of o)r.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return tt.forEach(i,o=>this.an(e,o).next(c=>{c?0!==r&&c.fields.length<function(h){let p=new io(zo.comparator),_=!1;for(const w of h.filters)for(const D of w.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:p=p.add(D.field));for(const w of h.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(_?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new ew;for(const i of ff(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const c=r.He(i.kind);Ih.Ve._e(o,c)}return r.Qe()}dn(e){const t=new ew;return Ih.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new ew;return Ih.Ve._e(gf(this.databaseId,t),r.He(function(i){const o=ff(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new ew);let o=0;for(const c of ff(e)){const h=r[o++];for(const p of i)if(this.yn(t,c.fieldPath)&&__(h))i=this.pn(i,c,h);else{const _=p.He(c.kind);Ih.Ve._e(h,_)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of i){const p=new ew;p.seed(h.Qe()),Ih.Ve._e(c,p.He(t.kind)),o.push(p)}return o}yn(e,t){return!!e.filters.find(r=>r instanceof ri&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=j_(e),i=B_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const c=[];return tt.forEach(o,h=>i.get([h.indexId,this.uid]).next(p=>{c.push(function(_,w){const D=w?new Qp(w.sequenceNumber,new wc(dm(w.readTime),new yn(Yc(w.documentKey)),w.largestBatchId)):Qp.empty(),F=_.fields.map(([$,he])=>new v0(zo.fromServerFormat($),he));return new y0(_.indexId,_.collectionGroup,F,D)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Dr(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=j_(e),o=B_(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>tt.forEach(h,p=>o.put(lT(p.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return tt.forEach(t,(i,o)=>{const c=r.get(i.collectionGroup);return(c?tt.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),tt.forEach(h,p=>this.En(e,i,p).next(_=>{const w=this.An(o,p);return _.isEqual(w)?tt.resolve():this.vn(e,o,p,_,w)}))))})}Rn(e,t,r,i){return U_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return U_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=U_(e);let o=new io(Df);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,h)=>{o=o.add(new Eh(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}An(e,t){let r=new io(Df);const i=this.mn(t,e);if(null==i)return r;const o=DE(t);if(null!=o){const c=e.data.field(o.fieldPath);if(__(c))for(const h of c.arrayValue.values||[])r=r.add(new Eh(t.indexId,e.key,this.dn(h),i))}else r=r.add(new Eh(t.indexId,e.key,rw,i));return r}vn(e,t,r,i,o){nn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,_,w,D){const F=h.getIterator(),$=p.getIterator();let he=f_(F),we=f_($);for(;he||we;){let ve=!1,gt=!1;if(he&&we){const Dt=_(he,we);Dt<0?gt=!0:Dt>0&&(ve=!0)}else null!=he?gt=!0:ve=!0;ve?(w(we),we=f_($)):gt?(D(he),he=f_(F)):(he=f_(F),we=f_($))}}(i,o,Df,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.Pn(e,t,r,h))}),tt.waitFor(c)}Tn(e){let t=1;return B_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>Df(c,h)).filter((c,h,p)=>!h||0!==Df(c,p[h-1]));const i=[];i.push(e);for(const c of r){const h=Df(c,e),p=Df(c,t);if(0===h)i[0]=e.Je();else if(h>0&&p<0)i.push(c),i.push(c.Je());else if(p>0)break}i.push(t);const o=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];o.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,rw,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,rw,[]]))}return o}bn(e,t){return Df(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(rM)}getMinOffset(e,t){return tt.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Fn())).next(rM)}}function FO(n){return js(n,"collectionParents")}function U_(n){return js(n,"indexEntries")}function j_(n){return js(n,"indexConfiguration")}function B_(n){return js(n,"indexState")}function rM(n){Yn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;w0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new wc(e.readTime,e.documentKey,t)}const iM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ya{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ya(e,Ya.DEFAULT_COLLECTION_PERCENTILE,Ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oM(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=r.X({range:c},(w,D,F)=>(h++,F.delete()));o.push(p.next(()=>{Yn(1===h)}));const _=[];for(const w of t.mutations){const D=OE(e,w.key.path,t.batchId);o.push(i.delete(D)),_.push(w.key)}return tt.waitFor(o).next(()=>_)}function Th(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Fn();e=n.noDocument}return JSON.stringify(e).length}Ya.DEFAULT_COLLECTION_PERCENTILE=10,Ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ya.DEFAULT=new Ya(41943040,Ya.DEFAULT_COLLECTION_PERCENTILE,Ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ya.DISABLED=new Ya(-1,0,0);class Mf{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Yn(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Mf(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ch(e).X({index:"userMutationsIndex",range:r},(i,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=fm(e),c=Ch(e);return c.add({}).next(h=>{Yn("number"==typeof h);const p=new JE(h,t,r,i),_=function(F,$,he){const we=he.baseMutations.map(gt=>P_(F.fe,gt)),ve=he.mutations.map(gt=>P_(F.fe,gt));return{userId:$,batchId:he.batchId,localWriteTimeMs:he.localWriteTime.toMillis(),baseMutations:we,mutations:ve}}(this.serializer,this.userId,p),w=[];let D=new io((F,$)=>Dr(F.canonicalString(),$.canonicalString()));for(const F of i){const $=OE(this.userId,F.key.path,h);D=D.add(F.key.path.popLast()),w.push(c.put(_)),w.push(o.put($,qx))}return D.forEach(F=>{w.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),tt.waitFor(w).next(()=>p)})}lookupMutationBatch(e,t){return Ch(e).get(t).next(r=>r?(Yn(r.userId===this.userId),xf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?tt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ch(e).X({index:"userMutationsIndex",range:i},(c,h,p)=>{h.userId===this.userId&&(Yn(h.batchId>=r),o=xf(this.serializer,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ch(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ch(e).j("userMutationsIndex",t).next(r=>r.map(i=>xf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=NE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return fm(e).X({range:i},(c,h,p)=>{const[_,w,D]=c,F=Yc(w);if(_===this.userId&&t.path.isEqual(F))return Ch(e).get(D).next($=>{if(!$)throw Fn();Yn($.userId===this.userId),o.push(xf(this.serializer,$))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new io(Dr);const i=[];return t.forEach(o=>{const c=NE(this.userId,o.path),h=IDBKeyRange.lowerBound(c),p=fm(e).X({range:h},(_,w,D)=>{const[F,$,he]=_,we=Yc($);F===this.userId&&o.path.isEqual(we)?r=r.add(he):D.done()});i.push(p)}),tt.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=NE(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new io(Dr);return fm(e).X({range:c},(p,_,w)=>{const[D,F,$]=p,he=Yc(F);D===this.userId&&r.isPrefixOf(he)?he.length===i&&(h=h.add($)):w.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ch(e).get(o).next(c=>{if(null===c)throw Fn();Yn(c.userId===this.userId),r.push(xf(this.serializer,c))}))}),tt.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return oM(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),tt.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return tt.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return fm(e).X({range:r},(o,c,h)=>{if(o[0]===this.userId){const p=Yc(o[1]);i.push(p)}else h.done()}).next(()=>{Yn(0===i.length)})})}containsKey(e,t){return sM(e,this.userId,t)}xn(e){return aM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sM(n,e,t){const r=NE(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return fm(n).X({range:o,Y:!0},(h,p,_)=>{const[w,D,F]=h;w===e&&D===i&&(c=!0),_.done()}).next(()=>c)}function Ch(n){return js(n,"mutations")}function fm(n){return js(n,"documentMutations")}function aM(n){return js(n,"mutationQueues")}class Rf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Rf(0)}static Mn(){return new Rf(-1)}}class LO{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Rf(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Xn.fromTimestamp(new go(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ah(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Yn(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Ah(e).X((c,h)=>{const p=O_(h);p.sequenceNumber<=t&&null===r.get(p.targetId)&&(i++,o.push(this.removeTargetData(e,p)))}).next(()=>tt.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Ah(e).X((r,i)=>{const o=O_(i);t(o)})}$n(e){return cM(e).get("targetGlobalKey").next(t=>(Yn(null!==t),t))}On(e,t){return cM(e).put("targetGlobalKey",t)}Fn(e,t){return Ah(e).put(qD(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=yf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Ah(e).X({range:i,index:"queryTargetsIndex"},(c,h,p)=>{const _=O_(h);O0(t,_.target)&&(o=_,p.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Sh(e);return t.forEach(c=>{const h=Ko(c.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),tt.waitFor(i)}removeMatchingKeys(e,t,r){const i=Sh(e);return tt.forEach(t,o=>{const c=Ko(o.path);return tt.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Sh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Sh(e);let o=Lr();return i.X({range:r,Y:!0},(c,h,p)=>{const _=Yc(c[1]),w=new yn(_);o=o.add(w)}).next(()=>o)}containsKey(e,t){const r=Ko(t.path),i=IDBKeyRange.bound([r],[Gx(r)],!1,!0);let o=0;return Sh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],p,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}le(e,t){return Ah(e).get(t).next(r=>r?O_(r):null)}}function Ah(n){return js(n,"targets")}function cM(n){return js(n,"targetGlobal")}function Sh(n){return js(n,"targetDocuments")}function lM([n,e],[t,r]){const i=Dr(n,t);return 0===i?Dr(e,r):i}class VO{constructor(e){this.Ln=e,this.buffer=new io(lM),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;nn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Et.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Kc(r)?nn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield vd(r)}yield t.Qn(3e5)}))}}class UO{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return tt.resolve(Us.ct);const r=new VO(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nn("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(iM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nn("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iM):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,o,c,h,p,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(nn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),i=this.params.maximumSequenceNumbersToCollect):i=D,c=Date.now(),this.nthSequenceNumber(e,i))).next(D=>(r=D,h=Date.now(),this.removeTargets(e,r,t))).next(D=>(o=D,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(_=Date.now(),_0()<=pr.in.DEBUG&&nn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${D} documents in `+(_-p)+`ms\nTotal Duration: ${_-w}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:D})))}}class jO{constructor(e,t){this.db=e,this.garbageCollector=function dM(n,e){return new UO(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return iw(e,r)}removeReference(e,t,r){return iw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return iw(e,t)}Xn(e,t){return function(r,i){let o=!1;return aM(r).Z(c=>sM(r,c,i).next(h=>(h&&(o=!0),tt.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(c,h)=>{if(h<=t){const p=this.Xn(e,c).next(_=>{if(!_)return o++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Xn.min()),Sh(e).delete([0,Ko(c.path)])))});i.push(p)}}).next(()=>tt.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return iw(e,t)}Yn(e,t){const r=Sh(e);let i,o=Us.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:_})=>{0===c?(o!==Us.ct&&t(new yn(Yc(i)),o),o=_,i=p):o=Us.ct}).next(()=>{o!==Us.ct&&t(new yn(Yc(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function iw(n,e){return Sh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ko(e.path),sequenceNumber:r}));var r}class dT{constructor(){this.changes=new Ed(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?tt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hT{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xh(e).put(r)}removeEntry(e,t,r){return xh(e).delete(function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],cT(o),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=oo.newInvalidDocument(t);return xh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ow(t))},(i,o)=>{r=this.ts(t,o)}).next(()=>r)}es(e,t){let r={size:0,document:oo.newInvalidDocument(t)};return xh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ow(t))},(i,o)=>{r={document:this.ts(t,o),size:Th(o)}}).next(()=>r)}getEntries(e,t){let r=bc();return this.ns(e,t,(i,o)=>{const c=this.ts(i,o);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=bc(),i=new Bi(yn.comparator);return this.ns(e,t,(o,c)=>{const h=this.ts(o,c);r=r.insert(o,h),i=i.insert(o,Th(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return tt.resolve();let i=new io(pT);t.forEach(p=>i=i.add(p));const o=IDBKeyRange.bound(ow(i.first()),ow(i.last())),c=i.getIterator();let h=c.getNext();return xh(e).X({index:"documentKeyIndex",range:o},(p,_,w)=>{const D=yn.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&pT(h,D)<0;)r(h,null),h=c.getNext();h&&h.isEqual(D)&&(r(h,_),h=c.hasNext()?c.getNext():null),h?w.G(ow(h)):w.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),cT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xh(e).j(IDBKeyRange.bound(c,h,!0)).next(p=>{let _=bc();for(const w of p){const D=this.ts(yn.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);D.isFoundDocument()&&(im(t,D)||i.has(D.key))&&(_=_.insert(D.key,D))}return _})}getAllFromCollectionGroup(e,t,r,i){let o=bc();const c=Qa(t,r),h=Qa(t,wc.max());return xh(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,_,w)=>{const D=this.ts(yn.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(D.key,D),o.size===i&&w.done()}).next(()=>o)}newChangeBuffer(e){return new BO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fT(e).get("remoteDocumentGlobalKey").next(t=>(Yn(!!t),t))}Zn(e,t){return fT(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function WD(n,e){let t;if(e.document)t=CO(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=yn.fromSegments(e.noDocument.path),i=dm(e.noDocument.readTime);t=oo.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fn();{const r=yn.fromSegments(e.unknownDocument.path),i=dm(e.unknownDocument.version);t=oo.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new go(r[0],r[1]);return Xn.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Xn.min()))return r}return oo.newInvalidDocument(e)}}function hM(n){return new hT(n)}class BO extends dT{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ed(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new io((o,c)=>Dr(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.us.get(o);if(t.push(this.os.removeEntry(e,o,h.readTime)),c.isValidDocument()){const p=Q0(this.os.serializer,c);i=i.add(o.path.popLast());const _=Th(p);r+=_-h.size,t.push(this.os.addEntry(e,o,p))}else if(r-=h.size,this.trackRemovals){const p=Q0(this.os.serializer,c.convertToNoDocument(Xn.min()));t.push(this.os.addEntry(e,o,p))}}),i.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,r)),tt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((o,c)=>{this.us.set(o,{size:c,readTime:r.get(o).readTime})}),r))}}function fT(n){return js(n,"remoteDocumentGlobal")}function xh(n){return js(n,"remoteDocumentsV14")}function ow(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qa(n,e){const t=e.documentKey.path.toArray();return[n,cT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pT(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Dr(t[o],r[o]),i)return i;return i=Dr(t.length,r.length),i||(i=Dr(t[t.length-2],r[r.length-2]),i||Dr(t[t.length-1],r[r.length-1]))}class fM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&A_(r.mutation,i,Qc.empty(),go.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Lr()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Lr()){const i=Fu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let c=b_();return o.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Fu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Lr()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let o=bc();const c=I_(),h=I_();return t.forEach((p,_)=>{const w=r.get(_.key);i.has(_.key)&&(void 0===w||w.mutation instanceof Lu)?o=o.insert(_.key,_):void 0!==w?(c.set(_.key,w.mutation.getFieldMask()),A_(w.mutation,_,w.mutation.getFieldMask(),go.now())):c.set(_.key,Qc.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((_,w)=>c.set(_,w)),t.forEach((_,w)=>{var D;return h.set(_,new fM(w,null!==(D=c.get(_))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const r=I_();let i=new Bi((c,h)=>c-h),o=Lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const _=t.get(p);if(null===_)return;let w=r.get(p)||Qc.empty();w=h.applyToLocalView(_,w),r.set(p,w);const D=(i.get(h.batchId)||Lr()).add(p);i=i.insert(h.batchId,D)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,w=p.value,D=TD();w.forEach(F=>{if(!o.has(F)){const $=DD(t.get(F),r.get(F));null!==$&&D.set(F,$),o=o.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,D))}return tt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return yn.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):V0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):tt.resolve(Fu());let h=-1,p=o;return c.next(_=>tt.forEach(_,(w,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),o.get(w)?tt.resolve():this.remoteDocumentCache.getEntry(e,w).next(F=>{p=p.insert(w,F)}))).next(()=>this.populateOverlays(e,_,o)).next(()=>this.computeViews(e,p,_,Lr())).next(w=>({batchId:h,changes:ED(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new yn(t)).next(r=>{let i=b_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=b_();return this.indexManager.getCollectionParents(e,i).next(c=>tt.forEach(c,h=>{const p=(_=t,w=h.child(i),new Ou(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,w;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(_=>{_.forEach((w,D)=>{o=o.insert(w,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((h,p)=>{const _=p.getKey();null===o.get(_)&&(o=o.insert(_,oo.newInvalidDocument(_)))});let c=b_();return o.forEach((h,p)=>{const _=i.get(h);void 0!==_&&A_(_.mutation,p,Qc.empty(),go.now()),im(t,p)&&(c=c.insert(h,p))}),c})}}class mM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return tt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Qo(r.createTime)}),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:X0(r.bundledQuery),readTime:Qo(r.readTime)}),tt.resolve();var r}}class zO{constructor(){this.overlays=new Bi(yn.comparator),this.ls=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fu();return tt.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),tt.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),tt.resolve()}getOverlaysForCollection(e,t,r){const i=Fu(),o=t.length+1,c=new yn(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===o&&p.largestBatchId>r&&i.set(p.getKey(),p)}return tt.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Bi((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let w=o.get(_.largestBatchId);null===w&&(w=Fu(),o=o.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const h=Fu(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>h.set(_,w)),!(h.size()>=i)););return tt.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new cm(t,r));let o=this.ls.get(t);void 0===o&&(o=Lr(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class z_{constructor(){this.fs=new io(so.ds),this.ws=new io(so._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new so(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new so(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new yn(new ui([])),r=new so(t,e),i=new so(t,e+1),o=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new yn(new ui([])),r=new so(t,e),i=new so(t,e+1);let o=Lr();return this.ws.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new so(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class so{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return yn.comparator(e.key,t.key)||Dr(e.As,t.As)}static _s(e,t){return Dr(e.As,t.As)||yn.comparator(e.key,t.key)}}class gM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new io(so.ds)}checkEmpty(e){return tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const c=new JE(o,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new so(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(e,t){return tt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return tt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new so(t,0),i=new so(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.Ps(c.As);o.push(h)}),tt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new io(Dr);return t.forEach(i=>{const o=new so(i,0),c=new so(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],h=>{r=r.add(h.As)})}),tt.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;yn.isDocumentKey(o)||(o=o.child(""));const c=new so(new yn(o),0);let h=new io(Dr);return this.Rs.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(h=h.add(p.As)),!0)},c),tt.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Yn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return tt.forEach(t.mutations,i=>{const o=new so(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new so(t,0),i=this.Rs.firstAfterOrEqual(r);return tt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return tt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mT{constructor(e){this.Ds=e,this.docs=new Bi(yn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return tt.resolve(r?r.document.mutableCopy():oo.newInvalidDocument(t))}getEntries(e,t){let r=bc();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():oo.newInvalidDocument(i))}),tt.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=bc();const c=t.path,h=new yn(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:_,value:{document:w}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||w0(RE(w),r)<=0||(i.has(w.key)||im(t,w))&&(o=o.insert(w.key,w.mutableCopy()))}return tt.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Fn()}Cs(e,t){return tt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gT(this)}getSize(e){return tt.resolve(this.size)}}class gT extends dT{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),tt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class HO{constructor(e){this.persistence=e,this.xs=new Ed(t=>yf(t),O0),this.lastRemoteSnapshotVersion=Xn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new z_,this.targetCount=0,this.Ms=Rf.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),tt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Rf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.Fn(t),tt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),tt.waitFor(o).next(()=>i)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return tt.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),tt.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),tt.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return tt.resolve(r)}containsKey(e,t){return tt.resolve(this.ks.containsKey(t))}}class _M{constructor(e,t){this.$s={},this.overlays={},this.Os=new Us(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new HO(this),this.indexManager=new OO,this.remoteDocumentCache=new mT(r=>this.referenceDelegate.Ls(r)),this.serializer=new $D(t),this.qs=new mM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new gM(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){nn("MemoryPersistence","Starting transaction:",e);const i=new yM(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return tt.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class yM extends kE{constructor(e){super(),this.currentSequenceNumber=e}}class sw{constructor(e){this.persistence=e,this.Qs=new z_,this.js=null}static zs(e){return new sw(e)}get Ws(){if(this.js)return this.js;throw Fn()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),tt.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Ws,r=>{const i=yn.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,Xn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return tt.or([()=>tt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class GO{constructor(e){this.serializer=e}O(e,t,r,i){const o=new s_("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Za,{unique:!0}),h.createObjectStore("documentMutations"),vM(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=tt.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),vM(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xn.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,p){return p.store("mutations").j().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Za,{unique:!0});const w=p.store("mutations"),D=_.map(F=>w.put(F));return tt.waitFor(D)})}(e,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(o))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(o))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,o))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(o))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:iO});p.createIndex("collectionPathOverlayIndex",E0,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Xx,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:XN});p.createIndex("documentKeyIndex",Zx),p.createIndex("collectionGroupIndex",Kx)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,o))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:tO}).createIndex("sequenceNumberIndex",d_,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:nO}).createIndex("documentKeyIndex",rO,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Th(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>tt.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>tt.forEach(h,p=>{Yn(p.userId===o.userId);const _=xf(this.serializer,p);return oM(e,o.userId,_).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((c,h)=>{const p=new ui(c),_=[0,Ko(p)];o.push(t.get(_).next(w=>w?tt.resolve():t.put({targetId:0,path:Ko(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>tt.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:eO});const r=t.store("collectionParents"),i=new hm,o=c=>{if(i.add(c)){const h=c.lastSegment(),p=c.popLast();return r.put({collectionId:h,parent:Ko(p)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const p=new ui(c);return o(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,p],_)=>{const w=Yc(h);return o(w.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const o=O_(i),c=qD(this.serializer,o);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,c)=>{const h=t.store("remoteDocumentsV14"),p=(_=c,_.document?new yn(ui.fromString(_.document.name).popFirst(5)):_.noDocument?yn.fromSegments(_.noDocument.path):_.unknownDocument?yn.fromSegments(_.unknownDocument.path):Fn()).path.toArray();var _;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(w))}).next(()=>tt.waitFor(i))}si(e,t){const r=t.store("mutations"),i=hM(this.serializer),o=new _M(sw.zs,this.serializer.fe);return r.j().next(c=>{const h=new Map;return c.forEach(p=>{var _;let w=null!==(_=h.get(p.userId))&&void 0!==_?_:Lr();xf(this.serializer,p).keys().forEach(D=>w=w.add(D)),h.set(p.userId,w)}),tt.forEach(h,(p,_)=>{const w=new ss(_),D=F_.de(this.serializer,w),F=o.getIndexManager(w),$=Mf.de(w,this.serializer,F,o.referenceDelegate);return new pM(i,$,D,F).recalculateAndSaveOverlaysForDocumentKeys(new LE(t,Us.ct),p).next()})})}}function vM(n){n.createObjectStore("targetDocuments",{keyPath:Qx}).createIndex("documentTargetsIndex",JN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yx,{unique:!0}),n.createObjectStore("targetGlobal")}const cw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wM{constructor(e,t,r,i,o,c,h,p,_,w,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=o,this.window=c,this.document=h,this.ri=_,this.oi=w,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!wM.D())throw new Gt(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jO(this,i),this.di=t+"main",this.serializer=new $D(p),this.wi=new oa(this.di,this.ui,new GO(this.serializer)),this.Bs=new LO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hM(this.serializer),this.qs=new KD,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&Bo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gt(dt.FAILED_PRECONDITION,cw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Us(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Et.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Et.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Et.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Kc(e))return nn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return pm(e).get("owner").next(t=>tt.resolve(this.Ri(t)))}Pi(e){return lw(e).delete(this.clientId)}bi(){var e=this;return(0,Et.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=js(r,"clientMetadata");return i.j().next(o=>{const c=e.Si(o,18e5),h=o.filter(p=>-1===c.indexOf(p));return tt.forEach(h,p=>i.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?tt.resolve(!0):pm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Gt(dt.FAILED_PRECONDITION,cw);return!1}}return!(!this.networkEnabled||!this.inForeground)||lw(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&nn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Et.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new LE(t,Us.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>lw(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Mf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yj(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return F_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){nn("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(c=this.ui)?h_:14===c?Xp:13===c?eD:12===c?Jx:11===c?FE:void Fn();var c;let h;return this.wi.runTransaction(e,i,o,p=>(h=new LE(p,this.Os?this.Os.next():Us.ct),"readwrite-primary"===t?this.Ti(h).next(_=>!!_||this.Ei(h)).next(_=>{if(!_)throw Bo(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Gt(dt.FAILED_PRECONDITION,PE);return r(h)}).next(_=>this.vi(h).next(()=>_)):this.Oi(h).next(()=>r(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return pm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Gt(dt.FAILED_PRECONDITION,cw)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pm(e).put("owner",t)}static D(){return oa.D()}Ai(e){const t=pm(e);return t.get("owner").next(r=>this.Ri(r)?(nn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):tt.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Bo(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ut.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return nn("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bo("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Bo("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pm(n){return js(n,"owner")}function lw(n){return js(n,"clientMetadata")}function uw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class bM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Lr(),i=Lr();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new bM(e,t.fromCache,r,i)}}class dw{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(F0(t))return tt.resolve(null);let r=Ka(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=U0(t,null,"F"),r=Ka(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Lr(...o);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const _=this.ji(t,h);return this.zi(t,_,c,p.readTime)?this.Ki(e,U0(t,null,"F")):this.Wi(e,_,t,p)}))})))}Gi(e,t,r,i){return F0(t)||i.isEqual(Xn.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const c=this.ji(t,o);return this.zi(t,c,r,i)?this.Qi(e,t):(_0()<=pr.in.DEBUG&&nn("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vD(t)),this.Wi(e,c,t,ME(i,-1)))})}ji(e,t){let r=new io(bD(e));return t.forEach((i,o)=>{im(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return _0()<=pr.in.DEBUG&&nn("QueryEngine","Using full collection scan to execute query:",vD(t)),this.Ui.getDocumentsMatchingQuery(e,t,wc.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class IM{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Bi(Dr),this.Yi=new Ed(o=>yf(o),O0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function _T(n,e,t,r){return new IM(n,e,t,r)}function EM(n,e){return hw.apply(this,arguments)}function hw(){return hw=(0,Et.Z)(function*(n,e){const t=wn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],h=[];let p=Lr();for(const _ of i){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of o){h.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(r,p).next(_=>({er:_,removedBatchIds:c,addedBatchIds:h}))})})}),hw.apply(this,arguments)}function Pf(n){const e=wn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yT(n,e,t){let r=Lr(),i=Lr();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=bc();return t.forEach((h,p)=>{const _=o.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(Xn.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):nn("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{nr:c,sr:i}})}function CM(n,e){const t=wn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mm(n,e){const t=wn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,tt.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Ic(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function gm(n,e,t){return AM.apply(this,arguments)}function AM(){return AM=(0,Et.Z)(function*(n,e,t){const r=wn(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Kc(c))throw c;nn("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),AM.apply(this,arguments)}function H_(n,e,t){const r=wn(n);let i=Xn.min(),o=Lr();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,p,_){const w=wn(h),D=w.Yi.get(_);return void 0!==D?tt.resolve(w.Ji.get(D)):w.Bs.getTargetData(p,_)}(r,c,Ka(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{o=p})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Xn.min(),t?o:Lr())).next(h=>($O(r,wD(e),h),{documents:h,ir:o})))}function SM(n,e){const t=wn(n),r=wn(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.le(o,e).next(c=>c?c.target:null))}function xM(n,e){const t=wn(n),r=t.Xi.get(e)||Xn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,ME(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>($O(t,e,i),i))}function $O(n,e,t){let r=n.Xi.get(e)||Xn.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}function DM(){return DM=(0,Et.Z)(function*(n,e,t,r){const i=wn(n);let o=Lr(),c=bc();for(const _ of t){const w=e.rr(_.metadata.name);_.document&&(o=o.add(w));const D=e.ur(_);D.setReadTime(e.cr(_.metadata.readTime)),c=c.insert(w,D)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),p=yield mm(i,(_=r,Ka(vf(ui.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>yT(_,h,c).next(w=>(h.apply(_),w)).next(w=>i.Bs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>i.Bs.addMatchingKeys(_,o,p.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,w.nr,w.sr)).next(()=>w.nr)))}),DM.apply(this,arguments)}function MM(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,Et.Z)(function*(n,e,t=Lr()){const r=yield mm(n,Ka(X0(e.bundledQuery))),i=wn(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=Qo(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(o,e);const h=r.withResumeToken(as.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(o,h).next(()=>i.Bs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Bs.addMatchingKeys(o,t,r.targetId)).next(()=>i.qs.saveNamedQuery(o,e))})}),vT.apply(this,arguments)}function RM(n,e){return`firestore_clients_${n}_${e}`}function PM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kM(n,e){return`firestore_targets_${n}_${e}`}class wT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new Gt(i.error.code,i.error.message))),c?new wT(e,t,i.state,o):(Bo("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Gt(r.error.code,r.error.message))),o?new pw(e,r.state,i):(Bo("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=j0();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Wx(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new bT(e,o):(Bo("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class NM{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new NM(t.clientId,t.onlineState):(Bo("SharedClientState",`Failed to parse online state: ${e}`),null)}}class IT{constructor(){this.activeTargetIds=j0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _m{constructor(e,t,r,i,o){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Bi(Dr),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=RM(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new IT),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Et.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const o=e.getItem(RM(e.persistenceKey,i));if(o){const c=bT.ar(i,o);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kM(this.persistenceKey,e));if(r){const i=pw.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kM(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nn("SharedClientState","READ",e,t),t}setItem(e,t){nn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(nn("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Bo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Et.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(o){let c=Us.ct;if(null!=o)try{const h=JSON.parse(o);Yn("number"==typeof h),c=h}catch(h){Bo("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==Us.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new wT(this.currentUser,e,t,r),o=PM(this.persistenceKey,this.currentUser,e);this.setItem(o,i.hr())}Cr(e){const t=PM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=kM(this.persistenceKey,e),o=new pw(e,t,r);this.setItem(i,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return bT.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return wT.ar(new ss(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return pw.ar(i,t)}br(e){return NM.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Et.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);nn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(r),c=[],h=[];return o.forEach(p=>{i.has(p)||c.push(p)}),i.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=j0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class OM{constructor(){this.Hr=new IT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new IT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WO{Yr(e){}shutdown(){}}class ET{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){nn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){nn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ju=null;function mw(){return null===ju?ju=268435456+Math.round(2147483648*Math.random()):ju++,"0x"+ju.toString(16)}const TT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Sa="WebChannelConnection";class AT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const c=mw(),h=this.To(e,t);nn("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const p={};return this.Eo(p,i,o),this.Ao(e,h,p,r).then(_=>(nn("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw Zc("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_})}vo(e,t,r,i,o,c){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${TT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=mw();return new Promise((c,h)=>{const p=new BN;p.setWithCredentials(!0),p.listenOnce(Ru.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case SE.NO_ERROR:const w=p.getResponseJson();nn(Sa,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),c(w);break;case SE.TIMEOUT:nn(Sa,`RPC '${e}' ${o} timed out`),h(new Gt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case SE.HTTP_ERROR:const D=p.getStatus();if(nn(Sa,`RPC '${e}' ${o} failed with status:`,D,"response text:",p.getResponseText()),D>0){let F=p.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const he=function(we){const ve=we.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(ve)>=0?ve:dt.UNKNOWN}($.status);h(new Gt(he,$.message))}else h(new Gt(dt.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Gt(dt.UNAVAILABLE,"Connection failed."));break;default:Fn()}}finally{nn(Sa,`RPC '${e}' ${o} completed.`)}});const _=JSON.stringify(i);nn(Sa,`RPC '${e}' ${o} sending request:`,i),p.send(t,"POST",_,r,15)})}Ro(e,t,r){const i=mw(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Mu(),h=jN(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.xmlHttpFactory=new Nx({})),this.Eo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const w=o.join("");nn(Sa,`Creating RPC '${e}' stream ${i}: ${w}`,p);const D=c.createWebChannel(w,p);let F=!1,$=!1;const he=new CT({ro:ve=>{$?nn(Sa,`Not sending because RPC '${e}' stream ${i} is closed:`,ve):(F||(nn(Sa,`Opening RPC '${e}' stream ${i} transport.`),D.open(),F=!0),nn(Sa,`RPC '${e}' stream ${i} sending:`,ve),D.send(ve))},oo:()=>D.close()}),we=(ve,gt,Dt)=>{ve.listen(gt,pt=>{try{Dt(pt)}catch(Wt){setTimeout(()=>{throw Wt},0)}})};return we(D,r_.EventType.OPEN,()=>{$||nn(Sa,`RPC '${e}' stream ${i} transport opened.`)}),we(D,r_.EventType.CLOSE,()=>{$||($=!0,nn(Sa,`RPC '${e}' stream ${i} transport closed`),he.wo())}),we(D,r_.EventType.ERROR,ve=>{$||($=!0,Zc(Sa,`RPC '${e}' stream ${i} transport errored:`,ve),he.wo(new Gt(dt.UNAVAILABLE,"The operation could not be completed")))}),we(D,r_.EventType.MESSAGE,ve=>{var gt;if(!$){const Dt=ve.data[0];Yn(!!Dt);const Wt=Dt.error||(null===(gt=Dt[0])||void 0===gt?void 0:gt.error);if(Wt){nn(Sa,`RPC '${e}' stream ${i} received error:`,Wt);const fn=Wt.status;let In=function(Qi){const Bh=Yo[Qi];if(void 0!==Bh)return eT(Bh)}(fn),zr=Wt.message;void 0===In&&(In=dt.INTERNAL,zr="Unknown error status: "+fn+" with message "+Wt.message),$=!0,he.wo(new Gt(In,zr)),D.close()}else nn(Sa,`RPC '${e}' stream ${i} received:`,Dt),he._o(Dt)}}),we(h,Ql.STAT_EVENT,ve=>{ve.stat===pl.PROXY?nn(Sa,`RPC '${e}' stream ${i} detected buffering proxy`):ve.stat===pl.NOPROXY&&nn(Sa,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{he.fo()},0),he}}function gw(){return typeof window<"u"?window:null}function kf(){return typeof document<"u"?document:null}function _w(n){return new IO(n,!0)}class FM{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&nn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qO{constructor(e,t,r,i,o,c,h,p){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new FM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Et.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Et.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Et.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===dt.RESOURCE_EXHAUSTED?(Bo(t.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===dt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Gt(dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Et.Z)(function*(){e.state=0,e.start()}))}tu(e){return nn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(nn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LM extends qO{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function R_(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Fn(),i=e.targetChange.targetIds||[],o=function(p,_){return p.useProto3Json?(Yn(void 0===_||"string"==typeof _),as.fromBase64String(_||"")):(Yn(void 0===_||_ instanceof Uint8Array),as.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const _=void 0===p.code?dt.UNKNOWN:eT(p.code);return new Gt(_,p.message||"")}(c);t=new ND(r,i,o,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Vu(n,r.document.name),o=Qo(r.document.updateTime),c=r.document.createTime?Qo(r.document.createTime):Xn.min(),h=new zs({mapValue:{fields:r.document.fields}}),p=oo.newFoundDocument(i,o,c,h);t=new $0(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Vu(n,r.document),o=r.readTime?Qo(r.readTime):Xn.min(),c=oo.newNoDocument(i,o);t=new $0([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Vu(n,r.document);t=new $0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Fn();{const r=e.filter,{count:i=0,unchangedNames:o}=r,c=new wO(i,o);t=new kD(r.targetId,c)}}var p;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Xn.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Xn.min():o.readTime?Qo(o.readTime):Xn.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=um(this.serializer),t.addTarget=function(i,o){let c;const h=o.target;if(c=nm(h)?{documents:iT(i,h)}:{query:oT(i,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=jD(i,o.resumeToken);const p=q0(i,o.expectedCount);null!==p&&(c.expectedCount=p)}else if(o.snapshotVersion.compareTo(Xn.min())>0){c.readTime=Cf(i,o.snapshotVersion.toTimestamp());const p=q0(i,o.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,e);const r=function SO(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=um(this.serializer),t.removeTarget=e,this.Wo(t)}}class ZO extends qO{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function AO(n,e){return n&&n.length>0?(Yn(void 0!==e),n.map(t=>function(r,i){let o=Qo(r.updateTime?r.updateTime:i);return o.isEqual(Xn.min())&&(o=Qo(i)),new Wj(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qo(e.commitTime);return this.listener.cu(r,t)}return Yn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=um(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>P_(this.serializer,r))};this.Wo(t)}}class KO extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Gt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Gt(dt.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(e,t,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Gt(dt.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class VM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Bo(t),this.mu=!1):nn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class UM{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{r.enqueueAndForget((0,Et.Z)(function*(){var p;Nf(c)&&(nn("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Et.Z)(function*(_){const w=wn(_);w.vu.add(4),yield vm(w),w.bu.set("Unknown"),w.vu.delete(4),yield ym(w)}),function(_){return p.apply(this,arguments)})(c))}))}),this.bu=new VM(r,i)}}function ym(n){return xT.apply(this,arguments)}function xT(){return xT=(0,Et.Z)(function*(n){if(Nf(n))for(const e of n.Ru)yield e(!0)}),xT.apply(this,arguments)}function vm(n){return yw.apply(this,arguments)}function yw(){return yw=(0,Et.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),yw.apply(this,arguments)}function wm(n,e){const t=wn(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),MT(t)?DT(t):bm(t).Ko()&&ww(t,e))}function vw(n,e){const t=wn(n),r=bm(t);t.Au.delete(e),r.Ko()&&bw(t,e),0===t.Au.size&&(r.Ko()?r.jo():Nf(t)&&t.bu.set("Unknown"))}function ww(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bm(n).su(e)}function bw(n,e){n.Vu.qt(e),bm(n).iu(e)}function DT(n){n.Vu=new FD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),bm(n).start(),n.bu.gu()}function MT(n){return Nf(n)&&!bm(n).Uo()&&n.Au.size>0}function Nf(n){return 0===wn(n).vu.size}function QO(n){n.Vu=void 0}function XO(n){return RT.apply(this,arguments)}function RT(){return RT=(0,Et.Z)(function*(n){n.Au.forEach((e,t)=>{ww(n,e)})}),RT.apply(this,arguments)}function JO(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,Et.Z)(function*(n,e){QO(n),MT(n)?(n.bu.Iu(e),DT(n)):n.bu.set("Unknown")}),PT.apply(this,arguments)}function jM(n,e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,Et.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof ND&&2===e.state&&e.cause)try{yield(r=(0,Et.Z)(function*(i,o){const c=o.cause;for(const h of o.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){nn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ew(n,r)}else if(e instanceof $0?n.Vu.Ht(e):e instanceof kD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Xn.min()))try{const r=yield Pf(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.Vu.ce(o);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=i.Au.get(p);_&&i.Au.set(p,_.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,p)=>{const _=i.Au.get(h);if(!_)return;i.Au.set(h,_.withResumeToken(as.EMPTY_BYTE_STRING,_.snapshotVersion)),bw(i,h);const w=new Ic(_.target,h,p,_.sequenceNumber);ww(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){nn("RemoteStore","Failed to raise snapshot:",r),yield Ew(n,r)}var r}),Iw.apply(this,arguments)}function Ew(n,e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=(0,Et.Z)(function*(n,e,t){if(!Kc(e))throw e;n.vu.add(1),yield vm(n),n.bu.set("Offline"),t||(t=()=>Pf(n.localStore)),n.asyncQueue.enqueueRetryable((0,Et.Z)(function*(){nn("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield ym(n)}))}),Tw.apply(this,arguments)}function kT(n,e){return e().catch(t=>Ew(n,t,e))}function G_(n){return NT.apply(this,arguments)}function NT(){return NT=(0,Et.Z)(function*(n){const e=wn(n),t=Of(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;OT(e);)try{const i=yield CM(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,BM(e,i)}catch(i){yield Ew(e,i)}FT(e)&&zM(e)}),NT.apply(this,arguments)}function OT(n){return Nf(n)&&n.Eu.length<10}function BM(n,e){n.Eu.push(e);const t=Of(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function FT(n){return Nf(n)&&!Of(n).Uo()&&n.Eu.length>0}function zM(n){Of(n).start()}function Cw(n){return LT.apply(this,arguments)}function LT(){return LT=(0,Et.Z)(function*(n){Of(n).hu()}),LT.apply(this,arguments)}function eF(n){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,Et.Z)(function*(n){const e=Of(n);for(const t of n.Eu)e.uu(t.mutations)}),Aw.apply(this,arguments)}function HM(n,e,t){return GM.apply(this,arguments)}function GM(){return GM=(0,Et.Z)(function*(n,e,t){const r=n.Eu.shift(),i=z0.from(r,e,t);yield kT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield G_(n)}),GM.apply(this,arguments)}function tF(n,e){return $M.apply(this,arguments)}function $M(){return $M=(0,Et.Z)(function*(n,e){var t;e&&Of(n).ou&&(yield(t=(0,Et.Z)(function*(r,i){if(H0(o=i.code)&&o!==dt.ABORTED){const c=r.Eu.shift();Of(r).Qo(),yield kT(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield G_(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),FT(n)&&zM(n)}),$M.apply(this,arguments)}function WM(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,Et.Z)(function*(n,e){const t=wn(n);t.asyncQueue.verifyOperationInProgress(),nn("RemoteStore","RemoteStore received new credentials");const r=Nf(t);t.vu.add(3),yield vm(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ym(t)}),qM.apply(this,arguments)}function ZM(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,Et.Z)(function*(n,e){const t=wn(n);e?(t.vu.delete(2),yield ym(t)):e||(t.vu.add(2),yield vm(t),t.bu.set("Unknown"))}),VT.apply(this,arguments)}function bm(n){return n.Su||(n.Su=function(e,t,r){const i=wn(e);return i.fu(),new LM(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:XO.bind(null,n),ao:JO.bind(null,n),nu:jM.bind(null,n)}),n.Ru.push(function(){var e=(0,Et.Z)(function*(t){t?(n.Su.Qo(),MT(n)?DT(n):n.bu.set("Unknown")):(yield n.Su.stop(),QO(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Of(n){return n.Du||(n.Du=function(e,t,r){const i=wn(e);return i.fu(),new ZO(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Cw.bind(null,n),ao:tF.bind(null,n),au:eF.bind(null,n),cu:HM.bind(null,n)}),n.Ru.push(function(){var e=(0,Et.Z)(function*(t){t?(n.Du.Qo(),yield G_(n)):(yield n.Du.stop(),n.Eu.length>0&&(nn("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class KM{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,h=new KM(e,t,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gt(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $_(n,e){if(Bo("AsyncQueue",`${e}: ${n}`),Kc(n))return new Gt(dt.UNAVAILABLE,`${e}: ${n}`);throw n}class W_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||yn.comparator(t.key,r.key):(t,r)=>yn.comparator(t.key,r.key),this.keyedMap=b_(),this.sortedSet=new Bi(this.comparator)}static emptySet(e){return new W_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof W_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new W_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nF{constructor(){this.Cu=new Bi(yn.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Fn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Im{constructor(e,t,r,i,o,c,h,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Im(e,t,W_.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Xj{constructor(){this.Nu=void 0,this.listeners=[]}}class Jj{constructor(){this.queries=new Ed(e=>WE(e),w_),this.onlineState="Unknown",this.ku=new Set}}function YM(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,Et.Z)(function*(n,e){const t=wn(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Xj),i)try{o.Nu=yield t.onListen(r)}catch(c){const h=$_(c,`Initialization of query '${vD(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&a(t)}),QM.apply(this,arguments)}function XM(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,Et.Z)(function*(n,e){const t=wn(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),UT.apply(this,arguments)}function eB(n,e){const t=wn(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.$u(i)&&(r=!0);c.Nu=i}}r&&a(t)}function s(n,e,t){const r=wn(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function a(n){n.ku.forEach(e=>{e.next()})}class l{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Im(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Im.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class d{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class f{constructor(e){this.serializer=e}rr(e){return Vu(this.serializer,e)}ur(e){return e.metadata.exists?CO(this.serializer,e.document,!1):oo.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Qo(e)}}class m{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=ui.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new f(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.rr(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||Lr()).add(o);t.set(c,h)}}return t}complete(){var e=this;return(0,Et.Z)(function*(){const t=yield function Qj(n,e,t,r){return DM.apply(this,arguments)}(e.localStore,new f(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield MM(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function v(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class I{constructor(e){this.key=e}}class P{constructor(e){this.key=e}}class O{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Lr(),this.mutatedKeys=Lr(),this.tc=bD(e),this.ec=new W_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new nF,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,D)=>{const F=i.get(w),$=im(this.query,D)?D:null,he=!!F&&this.mutatedKeys.has(F.key),we=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let ve=!1;F&&$?F.data.isEqual($.data)?he!==we&&(r.track({type:3,doc:$}),ve=!0):this.rc(F,$)||(r.track({type:2,doc:$}),ve=!0,(p&&this.tc($,p)>0||_&&this.tc($,_)<0)&&(h=!0)):!F&&$?(r.track({type:0,doc:$}),ve=!0):F&&!$&&(r.track({type:1,doc:F}),ve=!0,(p||_)&&(h=!0)),ve&&($?(c=c.add($),o=we?o.add(w):o.delete(w)):(c=c.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),o=o.delete(w.key),r.track({type:1,doc:w})}return{ec:c,ic:r,zi:h,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((_,w)=>function(D,F){const $=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fn()}};return $(D)-$(F)}(_.type,w.type)||this.tc(_.doc,w.doc)),this.oc(r);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==o.length||p?{snapshot:new Im(this.query,e.ec,i,o,e.mutatedKeys,0===h,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Lr(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new P(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new I(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Lr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Im.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class H{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ae{constructor(e){this.key=e,this.fc=!1}}class Re{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Ed(h=>WE(h),w_),this._c=new Map,this.mc=new Set,this.gc=new Bi(yn.comparator),this.yc=new Map,this.Ic=new z_,this.Tc={},this.Ec=new Map,this.Ac=Rf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ze(n,e){return xt.apply(this,arguments)}function xt(){return xt=(0,Et.Z)(function*(n,e){const t=vF(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const c=yield mm(t.localStore,Ka(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield en(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&wm(t.remoteStore,c)}return i}),xt.apply(this,arguments)}function en(n,e,t,r,i){return vn.apply(this,arguments)}function vn(){return vn=(0,Et.Z)(function*(n,e,t,r,i){n.Rc=(D,F,$)=>{return(he=(0,Et.Z)(function*(we,ve,gt,Dt){let pt=ve.view.sc(gt);pt.zi&&(pt=yield H_(we.localStore,ve.query,!1).then(({documents:In})=>ve.view.sc(In,pt)));const Wt=Dt&&Dt.targetChanges.get(ve.targetId),fn=ve.view.applyChanges(pt,we.isPrimaryClient,Wt);return cF(we,ve.targetId,fn.cc),fn.snapshot}),function(we,ve,gt,Dt){return he.apply(this,arguments)})(n,D,F,$);var he};const o=yield H_(n.localStore,e,!0),c=new O(e,o.ir),h=c.sc(o.documents),p=Tf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),_=c.applyChanges(h,n.isPrimaryClient,p);cF(n,t,_.cc);const w=new H(e,t,c);return n.wc.set(e,w),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),_.snapshot}),vn.apply(this,arguments)}function Jn(n,e){return zt.apply(this,arguments)}function zt(){return zt=(0,Et.Z)(function*(n,e){const t=wn(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!w_(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),vw(t.remoteStore,r.targetId),Sw(t,r.targetId)}).catch(vd))):(Sw(t,r.targetId),yield gm(t.localStore,r.targetId,!0))}),zt.apply(this,arguments)}function Vr(){return Vr=(0,Et.Z)(function*(n,e,t){const r=wF(n);try{const i=yield function(o,c){const h=wn(o),p=go.now(),_=c.reduce((F,$)=>F.add($.key),Lr());let w,D;return h.persistence.runTransaction("Locally write mutations","readwrite",F=>{let $=bc(),he=Lr();return h.Zi.getEntries(F,_).next(we=>{$=we,$.forEach((ve,gt)=>{gt.isValidDocument()||(he=he.add(ve))})}).next(()=>h.localDocuments.getOverlayedDocuments(F,$)).next(we=>{w=we;const ve=[];for(const gt of c){const Dt=B0(gt,w.get(gt.key).overlayedDocument);null!=Dt&&ve.push(new Lu(gt.key,Dt,aD(Dt.value.mapValue),_o.exists(!0)))}return h.mutationQueue.addMutationBatch(F,p,ve,c)}).next(we=>{D=we;const ve=we.applyToLocalDocumentSet(w,he);return h.documentOverlayCache.saveOverlays(F,we.batchId,ve)})}).then(()=>({batchId:D.batchId,changes:ED(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,h){let p=o.Tc[o.currentUser.toKey()];p||(p=new Bi(Dr)),p=p.insert(c,h),o.Tc[o.currentUser.toKey()]=p}(r,i.batchId,t),yield Ff(r,i.changes),yield G_(r.remoteStore)}catch(i){const o=$_(i,"Failed to persist write");t.reject(o)}}),Vr.apply(this,arguments)}function xi(n,e){return xa.apply(this,arguments)}function xa(){return xa=(0,Et.Z)(function*(n,e){const t=wn(n);try{const r=yield function fw(n,e){const t=wn(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((w,D)=>{const F=i.get(D);if(!F)return;h.push(t.Bs.removeMatchingKeys(o,w.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(o,w.addedDocuments,D)));let $=F.withSequenceNumber(o.currentSequenceNumber);var he,we,ve;null!==e.targetMismatches.get(D)?$=$.withResumeToken(as.EMPTY_BYTE_STRING,Xn.min()).withLastLimboFreeSnapshotVersion(Xn.min()):w.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(w.resumeToken,r)),i=i.insert(D,$),we=$,ve=w,(0===(he=F).resumeToken.approximateByteSize()||we.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(o,$))});let p=bc(),_=Lr();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,w))}),h.push(yT(o,c,e.documentUpdates).next(w=>{p=w.nr,_=w.sr})),!r.isEqual(Xn.min())){const w=t.Bs.getLastRemoteSnapshotVersion(o).next(D=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(w)}return tt.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,_)).next(()=>p)}).then(o=>(t.Ji=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.yc.get(o);c&&(Yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?Yn(c.fc):i.removedDocuments.size>0&&(Yn(c.fc),c.fc=!1))}),yield Ff(t,r,e)}catch(r){yield vd(r)}}),xa.apply(this,arguments)}function Bu(n,e,t){const r=wn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,c)=>{const h=c.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(o,c){const h=wn(o);h.onlineState=c;let p=!1;h.queries.forEach((_,w)=>{for(const D of w.listeners)D.Mu(c)&&(p=!0)}),p&&a(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Em(n,e,t){return q_.apply(this,arguments)}function q_(){return q_=(0,Et.Z)(function*(n,e,t){const r=wn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let c=new Bi(yn.comparator);c=c.insert(o,oo.newNoDocument(o,Xn.min()));const h=Lr().add(o),p=new Ef(Xn.min(),new Map,new Bi(Dr),c,h);yield xi(r,p),r.gc=r.gc.remove(o),r.yc.delete(e),lF(r)}else yield gm(r.localStore,e,!1).then(()=>Sw(r,e,t)).catch(vd)}),q_.apply(this,arguments)}function rF(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,Et.Z)(function*(n,e){const t=wn(n),r=e.batch.batchId;try{const i=yield function TM(n,e){const t=wn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const w=p.batch,D=w.keys();let F=tt.resolve();return D.forEach($=>{F=F.next(()=>_.getEntry(h,$)).next(he=>{const we=p.docVersions.get($);Yn(null!==we),he.version.compareTo(we)<0&&(w.applyToRemoteDocument(he,p),he.isValidDocument()&&(he.setReadTime(p.commitVersion),_.addEntry(he)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(h,w))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Lr();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);aF(t,r,null),sF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ff(t,i)}catch(i){yield vd(i)}}),jT.apply(this,arguments)}function X9(n,e,t){return iF.apply(this,arguments)}function iF(){return iF=(0,Et.Z)(function*(n,e,t){const r=wn(n);try{const i=yield function(o,c){const h=wn(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.mutationQueue.lookupMutationBatch(p,c).next(w=>(Yn(null!==w),_=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>h.localDocuments.getDocuments(p,_))})}(r.localStore,e);aF(r,e,t),sF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ff(r,i)}catch(i){yield vd(i)}}),iF.apply(this,arguments)}function oF(){return oF=(0,Et.Z)(function*(n,e){const t=wn(n);Nf(t.remoteStore)||nn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=wn(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=$_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),oF.apply(this,arguments)}function sF(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function aF(n,e,t){const r=wn(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Sw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||tB(n,r)})}function tB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(vw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),lF(n))}function cF(n,e,t){for(const r of t)r instanceof I?(n.Ic.addReference(r.key,e),e5(n,r)):r instanceof P?(nn("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||tB(n,r.key)):Fn()}function e5(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(nn("SyncEngine","New document in limbo: "+t),n.mc.add(r),lF(n))}function lF(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new yn(ui.fromString(e)),r=n.Ac.next();n.yc.set(r,new ae(t)),n.gc=n.gc.insert(t,r),wm(n.remoteStore,new Ic(Ka(vf(t.path)),r,"TargetPurposeLimboResolution",Us.ct))}}function Ff(n,e,t){return uF.apply(this,arguments)}function uF(){return uF=(0,Et.Z)(function*(n,e,t){const r=wn(n),i=[],o=[],c=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,p)=>{c.push(r.Rc(p,e,t).then(_=>{if((_||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const w=bM.Li(p.targetId,_);o.push(w)}}))}),yield Promise.all(c),r.dc.nu(i),yield(h=(0,Et.Z)(function*(p,_){const w=wn(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>tt.forEach(_,F=>tt.forEach(F.Fi,$=>w.persistence.referenceDelegate.addReference(D,F.targetId,$)).next(()=>tt.forEach(F.Bi,$=>w.persistence.referenceDelegate.removeReference(D,F.targetId,$)))))}catch(D){if(!Kc(D))throw D;nn("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const F=D.targetId;if(!D.fromCache){const $=w.Ji.get(F),we=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);w.Ji=w.Ji.insert(F,we)}}}),function(p,_){return h.apply(this,arguments)})(r.localStore,o))}),uF.apply(this,arguments)}function t5(n,e){return dF.apply(this,arguments)}function dF(){return dF=(0,Et.Z)(function*(n,e){const t=wn(n);if(!t.currentUser.isEqual(e)){nn("SyncEngine","User change. New user:",e.toKey());const r=yield EM(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Gt(dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ff(t,r.er)}var i}),dF.apply(this,arguments)}function n5(n,e){const t=wn(n),r=t.yc.get(e);if(r&&r.fc)return Lr().add(r.key);{let i=Lr();const o=t._c.get(e);if(!o)return i;for(const c of o){const h=t.wc.get(c);i=i.unionWith(h.view.nc)}return i}}function r5(n,e){return hF.apply(this,arguments)}function hF(){return hF=(0,Et.Z)(function*(n,e){const t=wn(n),r=yield H_(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&cF(t,e.targetId,i.cc),i}),hF.apply(this,arguments)}function o5(n,e){return fF.apply(this,arguments)}function fF(){return fF=(0,Et.Z)(function*(n,e){const t=wn(n);return xM(t.localStore,e).then(r=>Ff(t,r))}),fF.apply(this,arguments)}function s5(n,e,t,r){return pF.apply(this,arguments)}function pF(){return pF=(0,Et.Z)(function*(n,e,t,r){const i=wn(n),o=yield function(c,h){const p=wn(c),_=wn(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>_.Sn(w,h).next(D=>D?p.localDocuments.getDocuments(w,D):tt.resolve(null)))}(i.localStore,e);var h;null!==o?("pending"===t?yield G_(i.remoteStore):"acknowledged"===t||"rejected"===t?(aF(i,e,r||null),sF(i,e),h=e,wn(wn(i.localStore).mutationQueue).Cn(h)):Fn(),yield Ff(i,o)):nn("SyncEngine","Cannot apply mutation batch with id: "+e)}),pF.apply(this,arguments)}function mF(){return mF=(0,Et.Z)(function*(n,e){const t=wn(n);if(vF(t),wF(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield nB(t,r.toArray());t.vc=!0,yield ZM(t.remoteStore,!0);for(const o of i)wm(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Sw(t,c),gm(t.localStore,c,!0))),vw(t.remoteStore,c)}),yield i,yield nB(t,r),function(o){const c=wn(o);c.yc.forEach((h,p)=>{vw(c.remoteStore,p)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Bi(yn.comparator)}(t),t.vc=!1,yield ZM(t.remoteStore,!1)}}),mF.apply(this,arguments)}function nB(n,e,t){return gF.apply(this,arguments)}function gF(){return gF=(0,Et.Z)(function*(n,e,t){const r=wn(n),i=[],o=[];for(const c of e){let h;const p=r._c.get(c);if(p&&0!==p.length){h=yield mm(r.localStore,Ka(p[0]));for(const _ of p){const w=r.wc.get(_),D=yield r5(r,w);D.snapshot&&o.push(D.snapshot)}}else{const _=yield SM(r.localStore,c);h=yield mm(r.localStore,_),yield en(r,rB(_),c,!1,h.resumeToken)}i.push(h)}return r.dc.nu(o),i}),gF.apply(this,arguments)}function rB(n){return yD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function c5(n){const e=wn(n);return wn(wn(e.localStore).persistence).$i()}function l5(n,e,t,r){return _F.apply(this,arguments)}function _F(){return _F=(0,Et.Z)(function*(n,e,t,r){const i=wn(n);if(i.vc)return void nn("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield xM(i.localStore,wD(o[0])),h=Ef.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,as.EMPTY_BYTE_STRING);yield Ff(i,c,h);break}case"rejected":yield gm(i.localStore,e,!0),Sw(i,e,r);break;default:Fn()}}),_F.apply(this,arguments)}function u5(n,e,t){return yF.apply(this,arguments)}function yF(){return yF=(0,Et.Z)(function*(n,e,t){const r=vF(n);if(r.vc){for(const i of e){if(r._c.has(i)){nn("SyncEngine","Adding an already active target "+i);continue}const o=yield SM(r.localStore,i),c=yield mm(r.localStore,o);yield en(r,rB(o),c.targetId,!1,c.resumeToken),wm(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield gm(r.localStore,i,!1).then(()=>{vw(r.remoteStore,i),Sw(r,i)}).catch(vd))}}),yF.apply(this,arguments)}function vF(n){const e=wn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xi.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Em.bind(null,e),e.dc.nu=eB.bind(null,e.eventManager),e.dc.Pc=s.bind(null,e.eventManager),e}function wF(n){const e=wn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X9.bind(null,e),e}class BT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Et.Z)(function*(){t.serializer=_w(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return _T(this.persistence,new dw,e.initialUser,this.serializer)}createPersistence(e){return new _M(sw.zs,this.serializer)}createSharedClientState(e){return new OM}terminate(){var e=this;return(0,Et.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bF extends BT{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Et.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield wF(r.Vc.syncEngine),yield G_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return _T(this.persistence,new dw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new uM(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Hj(t,this.persistence);return new $x(e.asyncQueue,r)}createPersistence(e){const t=uw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ya.withCacheSize(this.cacheSizeBytes):Ya.DEFAULT;return new wM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,gw(),kf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new OM}}class iB extends bF{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Et.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof _m&&(r.sharedClientState.syncEngine={jr:s5.bind(null,i),zr:l5.bind(null,i),Wr:u5.bind(null,i),$i:c5.bind(null,i),Qr:o5.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var o=(0,Et.Z)(function*(c){yield function a5(n,e){return mF.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=gw();if(!_m.D(t))throw new Gt(dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=uw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _m(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xw{initialize(e,t){var r=this;return(0,Et.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Bu(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=t5.bind(null,r.syncEngine),yield ZM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jj}createDatastore(e){const t=_w(e.databaseInfo.databaseId),r=new AT(e.databaseInfo);return new KO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=h=>Bu(this.syncEngine,h,0),c=ET.D()?new ET:new WO,new UM(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,h,p,_){const w=new Re(r,i,o,c,h,p);return _&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Et.Z)(function*(t){const r=wn(t);nn("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield vm(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oB(n,e=10240){let t=0;return{read:()=>(0,Et.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Et.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class JM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Bo("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class f5{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Zo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Et.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Et.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Et.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const o=yield e.$c(i);return new d(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Et.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Et.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Et.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class p5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Et.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Gt(dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Et.Z)(function*(o,c){const h=wn(o),p=um(h.serializer)+"/documents",_={documents:c.map($=>M_(h.serializer,$))},w=yield h.vo("BatchGetDocuments",p,_,c.length),D=new Map;w.forEach($=>{const he=function qj(n,e){return"found"in e?function(t,r){Yn(!!r.found);const i=Vu(t,r.found.name),o=Qo(r.found.updateTime),c=r.found.createTime?Qo(r.found.createTime):Xn.min(),h=new zs({mapValue:{fields:r.found.fields}});return oo.newFoundDocument(i,o,c,h)}(n,e):"missing"in e?function(t,r){Yn(!!r.missing),Yn(!!r.readTime);const i=Vu(t,r.missing),o=Qo(r.readTime);return oo.newNoDocument(i,o)}(n,e):Fn()}(h.serializer,$);D.set(he.key.toString(),he)});const F=[];return c.forEach($=>{const he=D.get($.toString());Yn(!!he),F.push(he)}),F}),function(o,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new If(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Et.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=yn.fromPath(i);e.mutations.push(new XE(o,e.precondition(o)))}),yield(r=(0,Et.Z)(function*(i,o){const c=wn(i),h=um(c.serializer)+"/documents",p={writes:o.map(_=>P_(c.serializer,_))};yield c.Io("Commit",h,p)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fn();t=Xn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Gt(dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xn.min())?_o.exists(!1):_o.updateTime(t):_o.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xn.min()))throw new Gt(dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _o.updateTime(t)}return _o.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class m5{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Bc=r.maxAttempts,this.qo=new FM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Et.Z)(function*(){const t=new p5(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Uc(o)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!c_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!H0(t)}return!1}}class g5{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ss.UNAUTHENTICATED,this.clientId=Hx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Et.Z)(function*(h){nn("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(nn("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Et.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Et.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eR(n,e){return IF.apply(this,arguments)}function IF(){return IF=(0,Et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Et.Z)(function*(o){r.isEqual(o)||(yield EM(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),IF.apply(this,arguments)}function EF(n,e){return TF.apply(this,arguments)}function TF(){return TF=(0,Et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CF(n);nn("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>WM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>WM(e.remoteStore,o)),n._onlineComponents=e}),TF.apply(this,arguments)}function sB(n){return"FirebaseError"===n.name?n.code===dt.FAILED_PRECONDITION||n.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function CF(n){return AF.apply(this,arguments)}function AF(){return AF=(0,Et.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){nn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eR(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!sB(t))throw t;Zc("Error using user provided cache. Falling back to memory cache: "+t),yield eR(n,new BT)}}else nn("FirestoreClient","Using default OfflineComponentProvider"),yield eR(n,new BT);return n._offlineComponents}),AF.apply(this,arguments)}function tR(n){return SF.apply(this,arguments)}function SF(){return SF=(0,Et.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(nn("FirestoreClient","Using user provided OnlineComponentProvider"),yield EF(n,n._uninitializedComponentsProvider._online)):(nn("FirestoreClient","Using default OnlineComponentProvider"),yield EF(n,new xw))),n._onlineComponents}),SF.apply(this,arguments)}function aB(n){return CF(n).then(e=>e.persistence)}function nR(n){return CF(n).then(e=>e.localStore)}function cB(n){return tR(n).then(e=>e.remoteStore)}function xF(n){return tR(n).then(e=>e.syncEngine)}function Dw(n){return DF.apply(this,arguments)}function DF(){return DF=(0,Et.Z)(function*(n){const e=yield tR(n),t=e.eventManager;return t.onListen=ze.bind(null,e.syncEngine),t.onUnlisten=Jn.bind(null,e.syncEngine),t}),DF.apply(this,arguments)}function uB(n,e,t={}){const r=new Zo;return n.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return function(i,o,c,h,p){const _=new JM({next:D=>{o.enqueueAndForget(()=>XM(i,w));const F=D.docs.has(c);!F&&D.fromCache?p.reject(new Gt(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&D.fromCache&&h&&"server"===h.source?p.reject(new Gt(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),w=new l(vf(c.path),_,{includeMetadataChanges:!0,Ku:!0});return YM(i,w)}(yield Dw(n),n.asyncQueue,e,t,r)})),r.promise}function dB(n,e,t={}){const r=new Zo;return n.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return function(i,o,c,h,p){const _=new JM({next:D=>{o.enqueueAndForget(()=>XM(i,w)),D.fromCache&&"server"===h.source?p.reject(new Gt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),w=new l(c,_,{includeMetadataChanges:!0,Ku:!0});return YM(i,w)}(yield Dw(n),n.asyncQueue,e,t,r)})),r.promise}function hB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const fB=new Map;function MF(n,e,t){if(!t)throw new Gt(dt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pB(n,e,t,r){if(!0===e&&!0===r)throw new Gt(dt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mB(n){if(!yn.isDocumentKey(n))throw new Gt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gB(n){if(yn.isDocumentKey(n))throw new Gt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rR(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Fn()}function di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Gt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rR(n);throw new Gt(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _B(n,e){if(e<=0)throw new Gt(dt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Gt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Gt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Gt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Gt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zT{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Gt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lx;switch(t.type){case"firstParty":return new Bx(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Gt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fB.get(e);t&&(nn("ComponentProvider","Removing Datastore"),fB.delete(e),t.terminate())}(this),Promise.resolve()}}function vB(n,e,t,r={}){var i;const o=(n=di(n,zT))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==c&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=ss.MOCK_USER;else{h=(0,ut.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Gt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ss(_)}n._authCredentials=new Vx(new i_(h,p))}}class xo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xo(this.firestore,e,this._key)}}class Xa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Dh extends Xa{constructor(e,t,r){super(e,t,vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xo(this.firestore,null,new yn(e))}withConverter(e){return new Dh(this.firestore,e,this._path)}}function wB(n,e,...t){if(n=(0,ut.m9)(n),MF("collection","path",e),n instanceof zT){const r=ui.fromString(e,...t);return gB(r),new Dh(n,null,r)}{if(!(n instanceof xo||n instanceof Dh))throw new Gt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ui.fromString(e,...t));return gB(r),new Dh(n.firestore,null,r)}}function iR(n,e,...t){if(n=(0,ut.m9)(n),1===arguments.length&&(e=Hx.A()),MF("doc","path",e),n instanceof zT){const r=ui.fromString(e,...t);return mB(r),new xo(n,null,new yn(r))}{if(!(n instanceof xo||n instanceof Dh))throw new Gt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ui.fromString(e,...t));return mB(r),new xo(n.firestore,n instanceof Dh?n.converter:null,new yn(r))}}function bB(n,e){return n=(0,ut.m9)(n),e=(0,ut.m9)(e),(n instanceof xo||n instanceof Dh)&&(e instanceof xo||e instanceof Dh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RF(n,e){return n=(0,ut.m9)(n),e=(0,ut.m9)(e),n instanceof Xa&&e instanceof Xa&&n.firestore===e.firestore&&w_(n._query,e._query)&&n.converter===e.converter}class A5{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new FM(this,"async_queue_retry"),this.Xc=()=>{const t=kf();t&&nn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Zo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Et.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Kc(t))throw t;nn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Bo("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=KM.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&Fn()}verifyOperationInProgress(){}sa(){var e=this;return(0,Et.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function PF(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class S5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Do extends zT{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new A5,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IB(this),this._firestoreClient.terminate()}}function D5(n,e){const t="object"==typeof n?n:(0,Sp.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Sp._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,ut.P0)("firestore");o&&vB(i,...o)}return i}function vs(n){return n._firestoreClient||IB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IB(n){var e,t,r;const i=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sO(n._databaseId,h,n._persistenceKey,(_=i).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,hB(_.experimentalLongPollingOptions),_.useFetchStreams));var h,_;n._firestoreClient=new g5(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function EB(n,e,t){const r=new Zo;return n.asyncQueue.enqueue((0,Et.Z)(function*(){try{yield eR(n,t),yield EF(n,e),r.resolve()}catch(i){const o=i;if(!sB(o))throw o;Zc("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function TB(n){if(n._initialized||n._terminated)throw new Gt(dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mh(as.fromBase64String(e))}catch(t){throw new Gt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mh(as.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Gt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Z_{constructor(e){this._methodName=e}}class oR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dr(this._lat,e._lat)||Dr(this._long,e._long)}}const U5=/^__.*__$/;class j5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new am(e,this.data,t,this.fieldTransforms)}}class CB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fn()}}class sR{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new sR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lR(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(AB(this.ca)&&U5.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class B5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_w(e)}ya(e,t,r,i=!1){return new sR({ca:e,methodName:t,ga:r,path:zo.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K_(n){const e=n._freezeSettings(),t=_w(n._databaseId);return new B5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aR(n,e,t,r,i,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,e,t,i);FF("Data must be an object, but it was:",c,r);const h=DB(r,c);let p,_;if(o.merge)p=new Qc(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const w=[];for(const D of o.mergeFields){const F=$T(e,D,t);if(!c.contains(F))throw new Gt(dt.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);RB(w,F)||w.push(F)}p=new Qc(w),_=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,_=c.fieldTransforms;return new j5(new zs(h),p,_)}class GT extends Z_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GT}}function SB(n,e,t){return new sR({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kF extends Z_{_toFieldTransform(e){return new bf(e.path,new C_)}isEqual(e){return e instanceof kF}}class z5 extends Z_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=SB(this,e,!0),r=this.pa.map(o=>Y_(o,t)),i=new wh(r);return new bf(e.path,i)}isEqual(e){return this===e}}class H5 extends Z_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=SB(this,e,!0),r=this.pa.map(o=>Y_(o,t)),i=new wf(r);return new bf(e.path,i)}isEqual(e){return this===e}}class G5 extends Z_{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new om(e.serializer,KE(e.serializer,this.Ia));return new bf(e.path,t)}isEqual(e){return this===e}}function NF(n,e,t,r){const i=n.ya(1,e,t);FF("Data must be an object, but it was:",i,r);const o=[],c=zs.empty();bd(r,(p,_)=>{const w=cR(e,p,t);_=(0,ut.m9)(_);const D=i.da(w);if(_ instanceof GT)o.push(w);else{const F=Y_(_,D);null!=F&&(o.push(w),c.set(w,F))}});const h=new Qc(o);return new CB(c,h,i.fieldTransforms)}function OF(n,e,t,r,i,o){const c=n.ya(1,e,t),h=[$T(e,r,t)],p=[i];if(o.length%2!=0)throw new Gt(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)h.push($T(e,o[F])),p.push(o[F+1]);const _=[],w=zs.empty();for(let F=h.length-1;F>=0;--F)if(!RB(_,h[F])){const $=h[F];let he=p[F];he=(0,ut.m9)(he);const we=c.da($);if(he instanceof GT)_.push($);else{const ve=Y_(he,we);null!=ve&&(_.push($),w.set($,ve))}}const D=new Qc(_);return new CB(w,D,c.fieldTransforms)}function xB(n,e,t,r=!1){return Y_(t,n.ya(r?4:3,e))}function Y_(n,e){if(MB(n=(0,ut.m9)(n)))return FF("Unsupported field value:",e,n),DB(n,e);if(n instanceof Z_)return function(t,r){if(!AB(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let h=Y_(c,r.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,ut.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return KE(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=go.fromDate(t);return{timestampValue:Cf(r.serializer,i)}}if(t instanceof go){const i=new go(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cf(r.serializer,i)}}if(t instanceof oR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mh)return{bytesValue:jD(r.serializer,t._byteString)};if(t instanceof xo){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sa(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${rR(t)}`)}(n,e)}function DB(n,e){const t={};return VE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bd(n,(r,i)=>{const o=Y_(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function MB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof go||n instanceof oR||n instanceof Mh||n instanceof xo||n instanceof Z_)}function FF(n,e,t){if(!MB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=rR(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function $T(n,e,t){if((e=(0,ut.m9)(e))instanceof Lf)return e._internalPath;if("string"==typeof e)return cR(n,e);throw lR("Field path arguments must be of type string or ",n,!1,void 0,t)}const $5=new RegExp("[~\\*/\\[\\]]");function cR(n,e,t){if(e.search($5)>=0)throw lR(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lf(...e.split("."))._internalPath}catch{throw lR(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lR(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Gt(dt.INVALID_ARGUMENT,h+n+p)}function RB(n,e){return n.some(t=>t.isEqual(e))}class WT{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new W5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class W5 extends WT{data(){return super.data()}}function uR(n,e){return"string"==typeof e?cR(n,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}function PB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Gt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LF{}class qT extends LF{}function Tm(n,e,...t){let r=[];e instanceof LF&&r.push(e),r=r.concat(t),function(i){const o=i.filter(h=>h instanceof Mw).length,c=i.filter(h=>h instanceof ZT).length;if(o>1||o>0&&c>0)throw new Gt(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ZT extends qT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ZT(e,t,r)}_apply(e){const t=this._parse(e);return FB(e._query,t),new Xa(e.firestore,e.converter,$E(e._query,t))}_parse(e){const t=K_(e.firestore);return function(i,o,c,h,p,_,w){let D;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Gt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){OB(w,_);const F=[];for(const $ of w)F.push(NB(h,i,$));D={arrayValue:{values:F}}}else D=NB(h,i,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||OB(w,_),D=xB(c,"where",w,"in"===_||"not-in"===_);return ri.create(p,_,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Mw extends LF{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const c=i.getFlattenedFilters();for(const h of c)FB(o,h),o=$E(o,h)}(e._query,t),new Xa(e.firestore,e.converter,$E(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VF extends qT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VF(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new Gt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Gt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new em(i,o);return function(h,p){if(null===L0(h)){const _=v_(h);null!==_&&LB(0,_,p.field)}}(r,c),c}(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Ou(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class dR extends qT{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new dR(e,t,r)}_apply(e){return new Xa(e.firestore,e.converter,U0(e._query,this._limit,this._limitType))}}class hR extends qT{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new hR(e,t,r)}_apply(e){const t=kB(e,this.type,this._docOrFields,this._inclusive);return new Xa(e.firestore,e.converter,(i=t,new Ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class fR extends qT{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new fR(e,t,r)}_apply(e){const t=kB(e,this.type,this._docOrFields,this._inclusive);return new Xa(e.firestore,e.converter,(i=t,new Ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function kB(n,e,t,r){if(t[0]=(0,ut.m9)(t[0]),t[0]instanceof WT)return function(i,o,c,h,p){if(!h)throw new Gt(dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const w of vh(i))if(w.field.isKeyField())_.push(gf(o,h.key));else{const D=h.data.field(w.field);if(gh(D))throw new Gt(dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const F=w.field.canonicalString();throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}_.push(D)}return new yh(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=K_(n.firestore);return function(o,c,h,p,_,w){const D=o.explicitOrderBy;if(_.length>D.length)throw new Gt(dt.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let $=0;$<_.length;$++){const he=_[$];if(D[$].field.isKeyField()){if("string"!=typeof he)throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof he}`);if(!V0(o)&&-1!==he.indexOf("/"))throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${he}' contains a slash.`);const we=o.path.child(ui.fromString(he));if(!yn.isDocumentKey(we))throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${we}' is not because it contains an odd number of segments.`);const ve=new yn(we);F.push(gf(c,ve))}else{const we=xB(h,p,he);F.push(we)}}return new yh(F,w)}(n._query,n.firestore._databaseId,i,e,t,r)}}function NB(n,e,t){if("string"==typeof(t=(0,ut.m9)(t))){if(""===t)throw new Gt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V0(e)&&-1!==t.indexOf("/"))throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ui.fromString(t));if(!yn.isDocumentKey(r))throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gf(n,new yn(r))}if(t instanceof xo)return gf(n,t._key);throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rR(t)}.`)}function OB(n,e){if(!Array.isArray(n)||0===n.length)throw new Gt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FB(n,e){if(e.isInequality()){const r=v_(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=L0(n);null!==o&&LB(0,i,o)}const t=function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Gt(dt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function LB(n,e,t){if(!t.isEqual(e))throw new Gt(dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class UF{convertValue(e,t="none"){switch(Id(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ho(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bd(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new oR(Ho(e.latitude),Ho(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=A0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(p_(e));default:return null}}convertTimestamp(e){const t=mh(e);return new go(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ui.fromString(e);Yn(aT(r));const i=new _h(r.get(1),r.get(3)),o=new yn(r.popFirst(5));return i.isEqual(t)||Bo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function pR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tW extends UF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xo(this.firestore,null,t)}}class Q_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vf extends WT{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new KT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uR("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class KT extends Vf{data(e={}){return super.data(e)}}class Cm{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Q_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new KT(this._firestore,this._userDataWriter,r.key,r,new Q_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Gt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new KT(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Q_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new KT(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Q_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:rW(c.type),doc:h,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fn()}}function UB(n,e){return n instanceof Vf&&e instanceof Vf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cm&&e instanceof Cm&&n._firestore===e._firestore&&RF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Am extends UF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xo(this.firestore,null,t)}}function jB(n,e,t){n=di(n,xo);const r=di(n.firestore,Do),i=pR(n.converter,e,t);return Rw(r,[aR(K_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,_o.none())])}function BB(n,e,t,...r){n=di(n,xo);const i=di(n.firestore,Do),o=K_(i);let c;return c="string"==typeof(e=(0,ut.m9)(e))||e instanceof Lf?OF(o,"updateDoc",n._key,e,t,r):NF(o,"updateDoc",n._key,e),Rw(i,[c.toMutation(n._key,_o.exists(!0))])}function zB(n,...e){var t,r,i;n=(0,ut.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||PF(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(PF(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[c+2]=null===(i=D.complete)||void 0===i?void 0:i.bind(D)}let p,_,w;if(n instanceof xo)_=di(n.firestore,Do),w=vf(n._key.path),p={next:D=>{e[c]&&e[c](jF(_,n,D))},error:e[c+1],complete:e[c+2]};else{const D=di(n,Xa);_=di(D.firestore,Do),w=D._query;const F=new Am(_);p={next:$=>{e[c]&&e[c](new Cm(_,F,D,$))},error:e[c+1],complete:e[c+2]},PB(n._query)}return function(D,F,$,he){const we=new JM(he),ve=new l(F,we,$);return D.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return YM(yield Dw(D),ve)})),()=>{we.Dc(),D.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return XM(yield Dw(D),ve)}))}}(vs(_),w,h,p)}function Rw(n,e){return function(t,r){const i=new Zo;return t.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return function Tr(n,e,t){return Vr.apply(this,arguments)}(yield xF(t),r,i)})),i.promise}(vs(n),e)}function jF(n,e,t){const r=t.docs.get(e._key),i=new Am(n);return new Vf(n,i,e._key,r,new Q_(t.hasPendingWrites,t.fromCache),e.converter)}const bW={maxAttempts:5};class HB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=K_(e)}set(e,t,r){this._verifyNotCommitted();const i=Sm(e,this._firestore),o=pR(i.converter,t,r),c=aR(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,_o.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Sm(e,this._firestore);let c;return c="string"==typeof(t=(0,ut.m9)(t))||t instanceof Lf?OF(this._dataReader,"WriteBatch.update",o._key,t,r,i):NF(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,_o.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sm(e,this._firestore);return this._mutations=this._mutations.concat(new If(t._key,_o.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gt(dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sm(n,e){if((n=(0,ut.m9)(n)).firestore!==e)throw new Gt(dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class IW extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=K_(e)}get(e){const t=Sm(e,this._firestore),r=new tW(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Fn();const o=i[0];if(o.isFoundDocument())return new WT(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new WT(this._firestore,r,t._key,null,t.converter);throw Fn()})}set(e,t,r){const i=Sm(e,this._firestore),o=pR(i.converter,t,r),c=aR(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const o=Sm(e,this._firestore);let c;return c="string"==typeof(t=(0,ut.m9)(t))||t instanceof Lf?OF(this._dataReader,"Transaction.update",o._key,t,r,i):NF(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=Sm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sm(e,this._firestore),r=new Am(this._firestore);return super.get(e).then(i=>new Vf(this._firestore,r,t._key,i._document,new Q_(!1,!1),t.converter))}}!function(n,e=!0){Pu=Sp.SDK_VERSION,(0,Sp._registerComponent)(new ln.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),c=new Do(new Ux(t.getProvider("auth-internal")),new zx(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Gt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(h.options.projectId,p)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Sp.registerVersion)(Ox,"3.13.0",n),(0,Sp.registerVersion)(Ox,"3.13.0","esm2017")}();class BF{constructor(e){return e}}const $B="firestore",zF=new u.OlP("angularfire2.firestore-instances");function RW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new BF(r)}}const PW={provide:class DW{constructor(){return(0,$r.vb)($B)}},deps:[[new u.FiY,zF]]},kW={provide:BF,useFactory:function MW(n,e){const t=(0,$r.JM)($B,n,e);return t&&new BF(t)},deps:[[new u.FiY,zF],Bc]};let NW=(()=>{class n{constructor(){(0,ad.KN)("angularfire",$r.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kW,PW]}),n})();function OW(n,...e){return{ngModule:NW,providers:[{provide:zF,useFactory:RW(n),multi:!0,deps:[u.R0b,u.zs3,$r.HU,Jh,[new u.FiY,Cv],[new u.FiY,Tu],...e]}]}}const FW=(0,$r.u3)(D5,!0),{isArray:LW}=Array,{getPrototypeOf:VW,prototype:UW,keys:jW}=Object;function WB(n){if(1===n.length){const e=n[0];if(LW(e))return{args:e,keys:null};if(function BW(n){return n&&"object"==typeof n&&VW(n)===UW}(e)){const t=jW(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var YT=W(4829),QT=W(9940);const{isArray:zW}=Array;function qB(n){return(0,pe.U)(e=>function HW(n,e){return zW(e)?n(...e):n(e)}(n,e))}function ZB(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let KB=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(u.Qsj),u.Y36(u.SBq))};static#t=this.\u0275dir=u.lG2({type:n})}return n})(),X_=(()=>{class n extends KB{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275dir=u.lG2({type:n,features:[u.qOj]})}return n})();const zu=new u.OlP("NgValueAccessor"),WW={provide:zu,useExisting:(0,u.Gpc)(()=>xm),multi:!0},ZW=new u.OlP("CompositionEventMode");let xm=(()=>{class n extends KB{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qW(){const n=z()?z().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ZW,8))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&u.NdJ("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[u._Bn([WW]),u.qOj]})}return n})();function Dm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function QB(n){return null!=n&&"number"==typeof n.length}const Ec=new u.OlP("NgValidators"),Mm=new u.OlP("NgAsyncValidators"),KW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class aa{static min(e){return function XB(n){return e=>{if(Dm(e.value)||Dm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function JB(n){return e=>{if(Dm(e.value)||Dm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return ez(e)}static requiredTrue(e){return function tz(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return nz(e)}static minLength(e){return rz(e)}static maxLength(e){return function iz(n){return e=>QB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function oz(n){if(!n)return mR;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Dm(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return dz(e)}static composeAsync(e){return hz(e)}}function ez(n){return Dm(n.value)?{required:!0}:null}function nz(n){return Dm(n.value)||KW.test(n.value)?null:{email:!0}}function rz(n){return e=>Dm(e.value)||!QB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function mR(n){return null}function sz(n){return null!=n}function az(n){return(0,u.QGY)(n)?(0,Br.D)(n):n}function cz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lz(n,e){return e.map(t=>t(n))}function uz(n){return n.map(e=>function YW(n){return!n.validate}(e)?e:t=>e.validate(t))}function dz(n){if(!n)return null;const e=n.filter(sz);return 0==e.length?null:function(t){return cz(lz(t,e))}}function HF(n){return null!=n?dz(uz(n)):null}function hz(n){if(!n)return null;const e=n.filter(sz);return 0==e.length?null:function(t){return function GW(...n){const e=(0,QT.jO)(n),{args:t,keys:r}=WB(n),i=new To.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let p=c,_=c;for(let w=0;w<c;w++){let D=!1;(0,YT.Xf)(t[w]).subscribe((0,oe.x)(o,F=>{D||(D=!0,_--),h[w]=F},()=>p--,void 0,()=>{(!p||!D)&&(_||o.next(r?ZB(r,h):h),o.complete())}))}});return e?i.pipe(qB(e)):i}(lz(t,e).map(az)).pipe((0,pe.U)(cz))}}function GF(n){return null!=n?hz(uz(n)):null}function fz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pz(n){return n._rawValidators}function mz(n){return n._rawAsyncValidators}function $F(n){return n?Array.isArray(n)?n:[n]:[]}function gR(n,e){return Array.isArray(n)?n.includes(e):n===e}function gz(n,e){const t=$F(e);return $F(n).forEach(i=>{gR(t,i)||t.push(i)}),t}function _z(n,e){return $F(e).filter(t=>!gR(n,t))}class yz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xc extends yz{get formDirective(){return null}get path(){return null}}class Rm extends yz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pw=(()=>{class n extends vz{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(Rm,2))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]})}return n})(),kw=(()=>{class n extends vz{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(Xc,10))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]})}return n})();const XT="VALID",yR="INVALID",Nw="PENDING",JT="DISABLED";function ZF(n){return(vR(n)?n.validators:n)||null}function KF(n,e){return(vR(e)?e.asyncValidators:n)||null}function vR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ez{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===XT}get invalid(){return this.status===yR}get pending(){return this.status==Nw}get disabled(){return this.status===JT}get enabled(){return this.status!==JT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_z(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_z(e,this._rawAsyncValidators))}hasValidator(e){return gR(this._rawValidators,e)}hasAsyncValidator(e){return gR(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nw,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=JT,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=XT,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===XT||this.status===Nw)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?JT:XT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nw,this._hasOwnPendingAsyncValidator=!0;const t=az(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?JT:this.errors?yR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nw)?Nw:this._anyControlsHaveStatus(yR)?yR:XT}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vR(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function eq(n){return Array.isArray(n)?HF(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tq(n){return Array.isArray(n)?GF(n):n||null}(this._rawAsyncValidators)}}class J_ extends Ez{constructor(e,t,r){super(ZF(t),KF(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Iz(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function bz(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ey=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>eC}),eC="always";function wR(n,e){return[...e.path,n]}function tC(n,e,t=eC){YF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function iq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Tz(n,e)})}(n,e),function sq(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function oq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Tz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rq(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bR(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ER(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function IR(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function YF(n,e){const t=pz(n);null!==e.validator?n.setValidators(fz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mz(n);null!==e.asyncValidator?n.setAsyncValidators(fz(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();IR(e._rawValidators,i),IR(e._rawAsyncValidators,i)}function ER(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=pz(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=mz(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return IR(e._rawValidators,r),IR(e._rawAsyncValidators,r),t}function Tz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Cz(n,e){YF(n,e)}function XF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Az(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function JF(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===xm?t=o:function lq(n){return Object.getPrototypeOf(n.constructor)===X_}(o)?r=o:i=o}),i||r||t||null}const dq={provide:Xc,useExisting:(0,u.Gpc)(()=>TR)},nC=(()=>Promise.resolve())();let TR=(()=>{class n extends Xc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new J_({},HF(t),GF(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){nC.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),tC(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){nC.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){nC.then(()=>{const r=this._findContainer(t.path),i=new J_({});Cz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){nC.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){nC.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Az(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(Ec,10),u.Y36(Mm,10),u.Y36(ey,8))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&u.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([dq]),u.qOj]})}return n})();function Sz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gl=class extends Ez{constructor(e=null,t,r){super(ZF(t),KF(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vR(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pq={provide:Rm,useExisting:(0,u.Gpc)(()=>eL)},Rz=(()=>Promise.resolve())();let eL=(()=>{class n extends Rm{constructor(t,r,i,o,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new gl,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JF(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),XF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Rz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.VuI)(r);Rz.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?wR(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(Xc,9),u.Y36(Ec,10),u.Y36(Mm,10),u.Y36(zu,10),u.Y36(u.sBO,8),u.Y36(ey,8))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([pq]),u.qOj,u.TTD]})}return n})(),Ow=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const mq={provide:zu,useExisting:(0,u.Gpc)(()=>CR),multi:!0};let CR=(()=>{class n extends X_{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&u.NdJ("input",function(c){return i.onChange(c.target.value)})("blur",function(){return i.onTouched()})},features:[u._Bn([mq]),u.qOj]})}return n})(),Pz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();const tL=new u.OlP("NgModelWithFormControlWarning"),wq={provide:Xc,useExisting:(0,u.Gpc)(()=>ty)};let ty=(()=>{class n extends Xc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ER(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return tC(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){bR(t.control||null,t,!1),function uq(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Az(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(bR(r||null,t),(n=>n instanceof gl)(i)&&(tC(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Cz(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function aq(n,e){return ER(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YF(this.form,this),this._oldForm&&ER(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(Ec,10),u.Y36(Mm,10),u.Y36(ey,8))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&u.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([wq]),u.qOj,u.TTD]})}return n})();const Eq={provide:Rm,useExisting:(0,u.Gpc)(()=>Fw)};let Fw=(()=>{class n extends Rm{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JF(0,o)}ngOnChanges(t){this._added||this._setUpControl(),XF(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return wR(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(u.Y36(Xc,13),u.Y36(Ec,10),u.Y36(Mm,10),u.Y36(zu,10),u.Y36(tL,8))};static#n=this.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Eq]),u.qOj,u.TTD]})}return n})();const Tq={provide:zu,useExisting:(0,u.Gpc)(()=>rC),multi:!0};function Lz(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let rC=(()=>{class n extends X_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Lz(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Cq(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&u.NdJ("change",function(c){return i.onChange(c.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Tq]),u.qOj]})}return n})(),iL=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Lz(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(rC,9))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Aq={provide:zu,useExisting:(0,u.Gpc)(()=>oL),multi:!0};function Vz(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let oL=(()=>{class n extends X_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,c)=>{o._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const c=o;for(let h=0;h<c.length;h++){const _=this._getOptionValue(c[h].value);i.push(_)}}else{const c=r.options;for(let h=0;h<c.length;h++){const p=c[h];if(p.selected){const _=this._getOptionValue(p.value);i.push(_)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Sq(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&u.NdJ("change",function(c){return i.onChange(c.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Aq]),u.qOj]})}return n})(),sL=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Vz(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Vz(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(oL,9))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();let ny=(()=>{class n{constructor(){this._validator=mR}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mR,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=u.lG2({type:n,features:[u.TTD]})}return n})();const Mq={provide:Ec,useExisting:(0,u.Gpc)(()=>iC),multi:!0};let iC=(()=>{class n extends ny{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.VuI,this.createValidator=t=>ez}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Mq]),u.qOj]})}return n})();const Pq={provide:Ec,useExisting:(0,u.Gpc)(()=>AR),multi:!0};let AR=(()=>{class n extends ny{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=u.VuI,this.createValidator=t=>nz}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[u._Bn([Pq]),u.qOj]})}return n})();const kq={provide:Ec,useExisting:(0,u.Gpc)(()=>SR),multi:!0};let aL,SR=(()=>{class n extends ny{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Uz(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>rz(t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&u.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([kq]),u.qOj]})}return n})(),Wz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Pz]})}return n})(),Lq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ey,useValue:t.callSetDisabledState??eC}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Wz]})}return n})(),Vq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ey,useValue:t.callSetDisabledState??eC}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Wz]})}return n})();try{aL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{aL=!1}let sC,oC=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function wl(n){return n===bo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(u.Lbi))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xR(n){return function Uq(){if(null==sC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sC=!0}))}finally{sC=sC||!1}return sC}()?n:!!n.capture}function Zz(n){return Array.isArray(n)?n:[n]}var _l=W(8645),MR=W(2737),Kq=W(7103);function RR(...n){const e=(0,QT.yG)(n),t=(0,QT.jO)(n),{args:r,keys:i}=WB(n);if(0===r.length)return(0,Br.D)([],e);const o=new To.y(function Yq(n,e,t=MR.y){return r=>{Yz(e,()=>{const{length:i}=n,o=new Array(i);let c=i,h=i;for(let p=0;p<i;p++)Yz(e,()=>{const _=(0,Br.D)(n[p],e);let w=!1;_.subscribe((0,oe.x)(r,D=>{o[p]=D,w||(w=!0,h--),h||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ZB(i,c):MR.y));return t?o.pipe(qB(t)):o}function Yz(n,e,t){n?(0,Kq.f)(t,n,e):e()}var aC=W(7537);function PR(...n){return function Qq(){return(0,aC.J)(1)}()((0,Br.D)(n,(0,QT.yG)(n)))}var km=W(6232);function Uf(n){return n<=0?()=>km.E:(0,U.e)((e,t)=>{let r=0;e.subscribe((0,oe.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function cC(...n){const e=(0,QT.yG)(n);return(0,U.e)((t,r)=>{(e?PR(n,t,e):PR(n,t)).subscribe(r)})}var Jq=W(2420);function iy(n){return(0,U.e)((e,t)=>{(0,YT.Xf)(n).subscribe((0,oe.x)(t,()=>t.complete(),Jq.Z)),!t.closed&&e.subscribe(t)})}const Qz=new Set;let oy,e7=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):n7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function t7(n,e){if(!Qz.has(n))try{oy||(oy=document.createElement("style"),e&&(oy.nonce=e),oy.setAttribute("type","text/css"),document.head.appendChild(oy)),oy.sheet&&(oy.sheet.insertRule(`@media ${n} {body{ }}`,0),Qz.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(oC),u.LFG(u.Ojb,8))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let r7=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new _l.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Xz(Zz(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=RR(Xz(Zz(t)).map(c=>this._registerQuery(c).observable));return o=PR(o.pipe(Uf(1)),o.pipe(function Xq(n){return fe((e,t)=>n<=t)}(1),at(0))),o.pipe((0,pe.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{h.matches=h.matches||p,h.breakpoints[_]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new To.y(c=>{const h=p=>this._zone.run(()=>c.next(p));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(cC(r),(0,pe.U)(({matches:c})=>({query:t,matches:c})),iy(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(e7),u.LFG(u.R0b))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const n4="cdk-high-contrast-black-on-white",r4="cdk-high-contrast-white-on-black",lL="cdk-high-contrast-active";let p7=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(r7).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(lL,n4,r4),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(lL,n4):2===r&&t.add(lL,r4)}}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(oC),u.LFG(Ce))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kR=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();const b7=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function w7(){return!0}});let Td=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function zq(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(p7),u.LFG(b7,8),u.LFG(Ce))};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[kR,kR]})}return n})(),a4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Td,Td]})}return n})();const c4=xR({passive:!0,capture:!0});class T7{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function Bq(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const c=o.get(r);c?c.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,c4)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,c4)))}}class uL{static#e=this._eventManager=new T7;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Kz(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...l4,...r.animation},c=r.radius||function A7(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,p=t-i.top,_=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=r.color&&(w.style.backgroundColor=r.color),w.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(w);const D=window.getComputedStyle(w),$=D.transitionDuration,he="none"===D.transitionProperty||"0s"===$||"0s, 0s"===$||0===i.width&&0===i.height,we=new E7(this,w,r,he);w.style.transform="scale3d(1, 1, 1)",we.state=0,r.persistent||(this._mostRecentTransientRipple=we);return!he&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const gt=()=>this._finishRippleTransition(we),Dt=()=>this._destroyRipple(we);w.addEventListener("transitionend",gt),w.addEventListener("transitioncancel",Dt)}),this._activeRipples.set(we,null),(he||!_)&&this._finishRippleTransition(we),we}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...l4,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kz(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,d4.forEach(r=>{uL._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{h4.forEach(t=>{this._triggerElement.addEventListener(t,this,u4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function d7(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function h7(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(d4.forEach(t=>uL._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&h4.forEach(t=>e.removeEventListener(t,this,u4)))}}let S7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Td,Td]})}return n})(),N7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Td,Jr,Td]})}return n})(),L7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[a4,Td,a4,Td]})}return n})(),W7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Td,Jr,S7]})}return n})();var NR=W(7394);function dL(){return(0,U.e)((n,e)=>{let t=null;n._refCount++;const r=(0,oe.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hL extends To.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,U.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new NR.w0;const t=this.getSubject();e.add(this.source.subscribe((0,oe.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=NR.w0.EMPTY)}return e}refCount(){return dL()(this)}}var y4=W(1954);const dC={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=dC;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new NR.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=dC;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=dC;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var v4=W(2631);new class Z7 extends v4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class q7 extends y4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=dC.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(dC.cancelAnimationFrame(t),e._scheduled=void 0)}});let pL,Y7=1;const OR={};function w4(n){return n in OR&&(delete OR[n],!0)}const Q7={setImmediate(n){const e=Y7++;return OR[e]=!0,pL||(pL=Promise.resolve()),pL.then(()=>w4(e)&&n()),e},clearImmediate(n){w4(n)}},{setImmediate:X7,clearImmediate:J7}=Q7,FR={setImmediate(...n){const{delegate:e}=FR;return(e?.setImmediate||X7)(...n)},clearImmediate(n){const{delegate:e}=FR;return(e?.clearImmediate||J7)(n)},delegate:void 0};new class t8 extends v4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class e8 extends y4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=FR.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(FR.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});W(671);let b4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})(),u8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[kR,b4,kR,b4]})}return n})();var Xl=W(5619);let T8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[u8]})}return n})(),k8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[Td,T8,Td]})}return n})();W(8762);let O8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})(),F8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})(),k4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Jr]]}),n})();const pC_firebaseConfig={apiKey:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",authDomain:"anywhere-ecom.firebaseapp.com",projectId:"anywhere-ecom",storageBucket:"anywhere-ecom.appspot.com",messagingSenderId:"24709365004",appId:"1:24709365004:web:84a49a9af3b72dc0eedd29"},WR=(0,W(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function N4(n){return new To.y(e=>{(0,YT.Xf)(n()).subscribe(e)})}var z8=W(8407);function mC(n,e){const t=(0,M.m)(n)?n:()=>n,r=i=>i.error(t());return new To.y(e?i=>e.schedule(r,0,i):r)}function qR(n){return(0,U.e)((e,t)=>{let r=!1;e.subscribe((0,oe.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function O4(n=H8){return(0,U.e)((e,t)=>{let r=!1;e.subscribe((0,oe.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function H8(){return new WR}function Nm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fe((i,o)=>n(i,o,r)):MR.y,Uf(1),t?qR(e):O4(()=>new WR))}var Da=W(9397);function zf(n){return(0,U.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,oe.x)(t,void 0,void 0,c=>{o=(0,YT.Xf)(n(c,zf(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ZR(n,e){return(0,U.e)(function G8(n,e,t,r,i){return(o,c)=>{let h=t,p=e,_=0;o.subscribe((0,oe.x)(c,w=>{const D=_++;p=h?n(p,w,D):(h=!0,w),r&&c.next(p)},i&&(()=>{h&&c.next(p),c.complete()})))}}(n,e,arguments.length>=2,!0))}function CL(n){return n<=0?()=>km.E:(0,U.e)((e,t)=>{let r=[];e.subscribe((0,oe.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Wr="primary",gC=Symbol("RouteTitle");class q8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zw(n){return new q8(n)}function Z8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],h=n[o];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Rh(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!F4(n[i],e[i]))return!1;return!0}function F4(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function L4(n){return n.length>0?n[n.length-1]:null}function Om(n){return function I4(n){return!!n&&(n instanceof To.y||(0,M.m)(n.lift)&&(0,M.m)(n.subscribe))}(n)?n:(0,u.QGY)(n)?(0,Br.D)(Promise.resolve(n)):(0,Pn.of)(n)}const Y8={exact:function j4(n,e,t){if(!ay(n.segments,e.segments)||!KR(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!j4(n.children[r],e.children[r],t))return!1;return!0},subset:B4},V4={exact:function Q8(n,e){return Rh(n,e)},subset:function X8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>F4(n[t],e[t]))},ignored:()=>!0};function U4(n,e,t){return Y8[t.paths](n.root,e.root,t.matrixParams)&&V4[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function B4(n,e,t){return z4(n,e,e.segments,t)}function z4(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ay(i,t)||e.hasChildren()||!KR(i,t,r))}if(n.segments.length===t.length){if(!ay(n.segments,t)||!KR(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!B4(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ay(n.segments,i)&&KR(n.segments,i,r)&&n.children[Wr])&&z4(n.children[Wr],e,o,r)}}function KR(n,e,t){return e.every((r,i)=>V4[t](n[i].parameters,r.parameters))}class Hw{constructor(e=new zi([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zw(this.queryParams)),this._queryParamMap}toString(){return tZ.serialize(this)}}class zi{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return YR(this)}}class _C{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zw(this.parameters)),this._parameterMap}toString(){return $4(this)}}function ay(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return new AL},providedIn:"root"})}return n})();class AL{parse(e){const t=new hZ(e);return new Hw(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vC(e.root,!0)}`,r=function iZ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${QR(t)}=${QR(i)}`).join("&"):`${QR(t)}=${QR(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function nZ(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const tZ=new AL;function YR(n){return n.segments.map(e=>$4(e)).join("/")}function vC(n,e){if(!n.hasChildren())return YR(n);if(e){const t=n.children[Wr]?vC(n.children[Wr],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Wr&&r.push(`${i}:${vC(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function eZ(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Wr&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Wr&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Wr?[vC(n.children[Wr],!1)]:[`${i}:${vC(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wr]?`${YR(n)}/${t[0]}`:`${YR(n)}/(${t.join("//")})`}}function H4(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function QR(n){return H4(n).replace(/%3B/gi,";")}function SL(n){return H4(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function XR(n){return decodeURIComponent(n)}function G4(n){return XR(n.replace(/\+/g,"%20"))}function $4(n){return`${SL(n.path)}${function rZ(n){return Object.keys(n).map(e=>`;${SL(e)}=${SL(n[e])}`).join("")}(n.parameters)}`}const oZ=/^[^\/()?;#]+/;function xL(n){const e=n.match(oZ);return e?e[0]:""}const sZ=/^[^\/()?;=#]+/,cZ=/^[^=?&#]+/,uZ=/^[^&#]+/;class hZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zi([],{}):new zi([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wr]=new zi(e,t)),r}parseSegment(){const e=xL(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new _C(XR(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function aZ(n){const e=n.match(sZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=xL(this.remaining);i&&(r=i,this.capture(r))}e[XR(t)]=XR(r)}parseQueryParam(e){const t=function lZ(n){const e=n.match(cZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function dZ(n){const e=n.match(uZ);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=G4(t),o=G4(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xL(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Wr);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[Wr]:new zi([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function W4(n){return n.segments.length>0?new zi([],{[Wr]:n}):n}function q4(n){const e={};for(const r of Object.keys(n.children)){const o=q4(n.children[r]);if(r===Wr&&0===o.segments.length&&o.hasChildren())for(const[c,h]of Object.entries(o.children))e[c]=h;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function fZ(n){if(1===n.numberOfChildren&&n.children[Wr]){const e=n.children[Wr];return new zi(n.segments.concat(e.segments),e.children)}return n}(new zi(n.segments,e))}function cy(n){return n instanceof Hw}function Z4(n){let e;const i=W4(function t(o){const c={};for(const p of o.children){const _=t(p);c[p.outlet]=_}const h=new zi(o.url,c);return o===n&&(e=h),h}(n.root));return e??i}function K4(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return DL(i,i,i,t,r);const o=function mZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Q4(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Object.entries(o.outlets).forEach(([p,_])=>{h[p]="string"==typeof _?_.split("/"):_}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new Q4(t,e,r)}(e);if(o.toRoot())return DL(i,i,new zi([],{}),t,r);const c=function gZ(n,e,t){if(n.isAbsolute)return new e1(e,!0,0);if(!t)return new e1(e,!1,NaN);if(null===t.parent)return new e1(t,!0,0);const r=JR(n.commands[0])?0:1;return function _Z(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new e1(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),h=c.processChildren?bC(c.segmentGroup,c.index,o.commands):X4(c.segmentGroup,c.index,o.commands);return DL(i,c.segmentGroup,h,t,r)}function JR(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wC(n){return"object"==typeof n&&null!=n&&n.outlets}function DL(n,e,t,r,i){let c,o={};r&&Object.entries(r).forEach(([p,_])=>{o[p]=Array.isArray(_)?_.map(w=>`${w}`):`${_}`}),c=n===e?t:Y4(n,e,t);const h=W4(q4(c));return new Hw(h,o,i)}function Y4(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:Y4(o,e,t)}),new zi(n.segments,r)}class Q4{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&JR(r[0]))throw new u.vHH(4003,!1);const i=r.find(wC);if(i&&i!==L4(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class e1{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function X4(n,e,t){if(n||(n=new zi([],{})),0===n.segments.length&&n.hasChildren())return bC(n,e,t);const r=function vZ(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],h=t[r];if(wC(h))break;const p=`${h}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!e3(p,_,c))return o;r+=2}else{if(!e3(p,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new zi(n.segments.slice(0,r.pathIndex),{});return o.children[Wr]=new zi(n.segments.slice(r.pathIndex),n.children),bC(o,0,i)}return r.match&&0===i.length?new zi(n.segments,{}):r.match&&!n.hasChildren()?ML(n,e,t):r.match?bC(n,0,i):ML(n,e,t)}function bC(n,e,t){if(0===t.length)return new zi(n.segments,{});{const r=function yZ(n){return wC(n[0])?n[0].outlets:{[Wr]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Wr)&&n.children[Wr]&&1===n.numberOfChildren&&0===n.children[Wr].segments.length){const o=bC(n.children[Wr],e,t);return new zi(n.segments,o.children)}return Object.entries(r).forEach(([o,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[o]=X4(n.children[o],e,c))}),Object.entries(n.children).forEach(([o,c])=>{void 0===r[o]&&(i[o]=c)}),new zi(n.segments,i)}}function ML(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(wC(o)){const p=wZ(o.outlets);return new zi(r,p)}if(0===i&&JR(t[0])){r.push(new _C(n.segments[e].path,J4(t[0]))),i++;continue}const c=wC(o)?o.outlets[Wr]:`${o}`,h=i<t.length-1?t[i+1]:null;c&&h&&JR(h)?(r.push(new _C(c,J4(h))),i+=2):(r.push(new _C(c,{})),i++)}return new zi(r,{})}function wZ(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ML(new zi([],{}),0,r))}),e}function J4(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function e3(n,e,t){return n==t.path&&Rh(e,t.parameters)}const IC="imperative";class Ph{constructor(e,t){this.id=e,this.url=t}}class t1 extends Ph{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fm extends Ph{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class EC extends Ph{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gw extends Ph{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class n1 extends Ph{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t3 extends Ph{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bZ extends Ph{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IZ extends Ph{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class EZ extends Ph{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TZ extends Ph{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n3{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RL{}class PL{constructor(e){this.url=e}}class RZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new TC,this.attachRef=null}}let TC=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new RZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class r3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kL(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kL(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=NL(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return NL(e,this._root).map(t=>t.value)}}function kL(n,e){if(n===e.value)return e;for(const t of e.children){const r=kL(n,t);if(r)return r}return null}function NL(n,e){if(n===e.value)return[e];for(const t of e.children){const r=NL(n,t);if(r.length)return r.unshift(e),r}return[]}class Hf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $w(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class o3 extends r3{constructor(e,t){super(e),this.snapshot=t,OL(this,e)}toString(){return this.snapshot.toString()}}function s3(n,e){const t=function PZ(n,e){const c=new r1([],{},{},"",{},Wr,e,null,{});return new c3("",new Hf(c,[]))}(0,e),r=new Xl.X([new _C("",{})]),i=new Xl.X({}),o=new Xl.X({}),c=new Xl.X({}),h=new Xl.X(""),p=new ly(r,i,c,h,o,Wr,e,t.root);return p.snapshot=t.root,new o3(new Hf(p,[]),t)}class ly{constructor(e,t,r,i,o,c,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=c,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,pe.U)(_=>_[gC]))??(0,Pn.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(e=>zw(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(e=>zw(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function a3(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function kZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class r1{get title(){return this.data?.[gC]}constructor(e,t,r,i,o,c,h,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=h,this.routeConfig=p,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zw(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zw(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class c3 extends r3{constructor(e,t){super(t),this.url=e,OL(this,t)}toString(){return l3(this._root)}}function OL(n,e){e.value._routerState=n,e.children.forEach(t=>OL(n,t))}function l3(n){const e=n.children.length>0?` { ${n.children.map(l3).join(", ")} } `:"";return`${n.value}${e}`}function FL(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rh(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Rh(e.params,t.params)||n.paramsSubject.next(t.params),function K8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rh(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Rh(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function LL(n,e){const t=Rh(n.params,e.params)&&function J8(n,e){return ay(n,e)&&n.every((t,r)=>Rh(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||LL(n.parent,e.parent))}let o1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wr,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(TC),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(s1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new NZ(t,h,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]})}return n})();class NZ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ly?this.route:e===TC?this.childContexts:this.parent.get(e,t)}}const s1=new u.OlP("");let u3=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=RR([r.queryParams,r.params,r.data]).pipe((0,Ue.w)(([o,c,h],p)=>(h={...o,...c,...h},0===p?(0,Pn.of)(h):Promise.resolve(h)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const c=(0,u.qFp)(r.component);if(c)for(const{templateName:h}of c.inputs)t.activatedComponentRef.setInput(h,o[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();function CC(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function FZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return CC(n,r,i);return CC(n,r)})}(n,e,t);return new Hf(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>CC(n,h)),c}}const r=function LZ(n){return new ly(new Xl.X(n.url),new Xl.X(n.params),new Xl.X(n.queryParams),new Xl.X(n.fragment),new Xl.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>CC(n,o));return new Hf(r,i)}}const VL="ngNavigationCancelingError";function d3(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cy(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=h3(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function h3(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[VL]=!0,r.cancellationCode=e,t&&(r.url=t),r}function f3(n){return n&&n[VL]}let p3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(r,i){1&r&&u._UZ(0,"router-outlet")},dependencies:[o1],encapsulation:2})}return n})();function UL(n){const e=n.children&&n.children.map(UL),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wr&&(t.component=p3),t}function Cd(n){return n.outlet||Wr}function AC(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $Z{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),FL(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=$w(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$w(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$w(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=$w(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new MZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new xZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(FL(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),FL(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=AC(i.snapshot);c.attachRef=null,c.route=i,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class m3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class a1{constructor(e,t){this.component=e,this.route=t}}function WZ(n,e,t){const r=n._root;return SC(r,e?e._root:null,t,[r.value])}function Ww(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function SC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=$w(e);return n.children.forEach(c=>{(function ZZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function KZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ay(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ay(n.url,e.url)||!Rh(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LL(n,e)||!Rh(n.queryParams,e.queryParams);default:return!LL(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new m3(r)):(o.data=c.data,o._resolvedData=c._resolvedData),SC(n,e,o.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new a1(h.outlet.component,c))}else c&&xC(e,h,i),i.canActivateChecks.push(new m3(r)),SC(n,null,o.component?h?h.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,h])=>xC(h,t.getContext(c),i)),i}function xC(n,e,t){const r=$w(n),i=n.value;Object.entries(r).forEach(([o,c])=>{xC(c,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new a1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function DC(n){return"function"==typeof n}function g3(n){return n instanceof WR||"EmptyError"===n?.name}const c1=Symbol("INITIAL_VALUE");function qw(){return(0,Ue.w)(n=>RR(n.map(e=>e.pipe(Uf(1),cC(c1)))).pipe((0,pe.U)(e=>{for(const t of e)if(!0!==t){if(t===c1)return c1;if(!1===t||t instanceof Hw)return t}return!0}),fe(e=>e!==c1),Uf(1)))}function _3(n){return(0,z8.z)((0,Da.b)(e=>{if(cy(e))throw d3(0,e)}),(0,pe.U)(e=>!0===e))}class l1{constructor(e){this.segmentGroup=e||null}}class y3{constructor(e){this.urlTree=e}}function Zw(n){return mC(new l1(n))}function v3(n){return mC(new y3(n))}class mK{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new u.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Pn.of)(r);if(i.numberOfChildren>1||!i.children[Wr])return mC(new u.vHH(4e3,!1));i=i.children[Wr]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Hw(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);r[i]=t[h]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return Object.entries(t.children).forEach(([h,p])=>{c[h]=this.createSegmentGroup(e,p,r,i)}),new zi(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const jL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gK(n,e,t,r,i){const o=BL(n,e,t);return o.matched?(r=function UZ(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function hK(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,Pn.of)(!0);const o=i.map(c=>{const h=Ww(c,n);return Om(function tK(n){return n&&DC(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,Pn.of)(o).pipe(qw(),_3())}(r,e,t).pipe((0,pe.U)(c=>!0===c?o:{...jL}))):(0,Pn.of)(o)}function BL(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jL}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Z8)(t,n,e);if(!i)return{...jL};const o={};Object.entries(i.posParams??{}).forEach(([h,p])=>{o[h]=p.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function w3(n,e,t,r){return t.length>0&&function vK(n,e,t){return t.some(r=>u1(n,e,r)&&Cd(r)!==Wr)}(n,t,r)?{segmentGroup:new zi(e,yK(r,new zi(t,n.children))),slicedSegments:[]}:0===t.length&&function wK(n,e,t){return t.some(r=>u1(n,e,r))}(n,t,r)?{segmentGroup:new zi(n.segments,_K(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new zi(n.segments,n.children),slicedSegments:t}}function _K(n,e,t,r,i){const o={};for(const c of r)if(u1(n,t,c)&&!i[Cd(c)]){const h=new zi([],{});o[Cd(c)]=h}return{...i,...o}}function yK(n,e){const t={};t[Wr]=e;for(const r of n)if(""===r.path&&Cd(r)!==Wr){const i=new zi([],{});t[Cd(r)]=i}return t}function u1(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class TK{constructor(e,t,r,i,o,c,h){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new mK(this.urlSerializer,this.urlTree)}noMatchError(e){return new u.vHH(4002,!1)}recognize(){const e=w3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Wr).pipe(zf(t=>{if(t instanceof y3)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof l1?this.noMatchError(t):t}),(0,pe.U)(t=>{const r=new r1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wr,this.rootComponentType,null,{}),i=new Hf(r,t),o=new c3("",i),c=function pZ(n,e,t=null,r=null){return K4(Z4(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(o._root),{state:o,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Wr).pipe(zf(r=>{throw r instanceof l1?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=a3(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,Br.D)(i).pipe(T(o=>{const c=r.children[o],h=function HZ(n,e){const t=n.filter(r=>Cd(r)===e);return t.push(...n.filter(r=>Cd(r)!==e)),t}(t,o);return this.processSegmentGroup(e,h,c,o)}),ZR((o,c)=>(o.push(...c),o)),qR(null),function $8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fe((i,o)=>n(i,o,r)):MR.y,CL(1),t?qR(e):O4(()=>new WR))}(),(0,b.z)(o=>{if(null===o)return Zw(r);const c=b3(o);return function CK(n){n.sort((e,t)=>e.value.outlet===Wr?-1:t.value.outlet===Wr?1:e.value.outlet.localeCompare(t.value.outlet))}(c),(0,Pn.of)(c)}))}processSegment(e,t,r,i,o,c){return(0,Br.D)(t).pipe(T(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,r,i,o,c).pipe(zf(p=>{if(p instanceof l1)return(0,Pn.of)(null);throw p}))),Nm(h=>!!h),zf(h=>{if(g3(h))return function IK(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?(0,Pn.of)([]):Zw(r);throw h}))}processSegmentAgainstRoute(e,t,r,i,o,c,h){return function bK(n,e,t,r){return!!(Cd(n)===r||r!==Wr&&u1(e,t,n))&&("**"===n.path||BL(e,n,t).matched)}(r,i,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,c):Zw(i):Zw(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?v3(o):this.applyRedirects.lineralizeSegments(r,o).pipe((0,b.z)(c=>{const h=new zi(c,{});return this.processSegment(e,t,h,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:w}=BL(t,i,o);if(!h)return Zw(t);const D=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,w);return i.redirectTo.startsWith("/")?v3(D):this.applyRedirects.lineralizeSegments(i,D).pipe((0,b.z)(F=>this.processSegment(e,r,t,F.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,c){let h;if("**"===r.path){const p=i.length>0?L4(i).parameters:{},_=new r1(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,I3(r),Cd(r),r.component??r._loadedComponent??null,r,E3(r));h=(0,Pn.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=gK(t,r,i,e).pipe((0,pe.U)(({matched:p,consumedSegments:_,remainingSegments:w,parameters:D})=>p?{snapshot:new r1(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,I3(r),Cd(r),r.component??r._loadedComponent??null,r,E3(r)),consumedSegments:_,remainingSegments:w}:null));return h.pipe((0,Ue.w)(p=>null===p?Zw(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ue.w)(({routes:_})=>{const w=r._loadedInjector??e,{snapshot:D,consumedSegments:F,remainingSegments:$}=p,{segmentGroup:he,slicedSegments:we}=w3(t,F,$,_);if(0===we.length&&he.hasChildren())return this.processChildren(w,_,he).pipe((0,pe.U)(gt=>null===gt?null:[new Hf(D,gt)]));if(0===_.length&&0===we.length)return(0,Pn.of)([new Hf(D,[])]);const ve=Cd(r)===o;return this.processSegment(w,_,he,we,ve?Wr:o,!0).pipe((0,pe.U)(gt=>[new Hf(D,gt)]))}))))}getChildConfig(e,t,r){return t.children?(0,Pn.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Pn.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function dK(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,Pn.of)(!0);const o=i.map(c=>{const h=Ww(c,n);return Om(function QZ(n){return n&&DC(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,Pn.of)(o).pipe(qw(),_3())}(e,t,r).pipe((0,b.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Da.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function pK(n){return mC(h3(!1,3))}())):(0,Pn.of)({routes:[],injector:e})}}function AK(n){const e=n.value.routeConfig;return e&&""===e.path}function b3(n){const e=[],t=new Set;for(const r of n){if(!AK(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=b3(r.children);e.push(new Hf(r.value,i))}return e.filter(r=>!t.has(r))}function I3(n){return n.data||{}}function E3(n){return n.resolve||{}}function T3(n){return"string"==typeof n.title||null===n.title}function zL(n){return(0,Ue.w)(e=>{const t=n(e);return t?(0,Br.D)(t).pipe((0,pe.U)(()=>e)):(0,Pn.of)(e)})}const Kw=new u.OlP("ROUTES");let HL=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Pn.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Om(t.loadComponent()).pipe((0,pe.U)(C3),(0,Da.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Oe(()=>{this.componentLoaders.delete(t)})),i=new hL(r,()=>new _l.x).pipe(dL());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Pn.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function kK(n,e,t,r){return Om(n.loadChildren()).pipe((0,pe.U)(C3),(0,b.z)(i=>i instanceof u.YKP||Array.isArray(i)?(0,Pn.of)(i):(0,Br.D)(e.compileModuleAsync(i))),(0,pe.U)(i=>{r&&r(n);let o,c,h=!1;return Array.isArray(i)?(c=i,!0):(o=i.create(t).injector,c=o.get(Kw,[],{optional:!0,self:!0}).flat()),{routes:c.map(UL),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Oe(()=>{this.childrenLoaders.delete(r)})),c=new hL(o,()=>new _l.x).pipe(dL());return this.childrenLoaders.set(r,c),c}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C3(n){return function NK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let d1=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _l.x,this.transitionAbortSubject=new _l.x,this.configLoader=(0,u.f3M)(HL),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(yC),this.rootContexts=(0,u.f3M)(TC),this.inputBindingEnabled=null!==(0,u.f3M)(s1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pn.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new AZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new CZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Xl.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:IC,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fe(o=>0!==o.id),(0,pe.U)(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),(0,Ue.w)(o=>{this.currentTransition=o;let c=!1,h=!1;return(0,Pn.of)(o).pipe((0,Da.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ue.w)(p=>{const _=p.currentBrowserUrl.toString(),w=!t.navigated||p.extractedUrl.toString()!==_||_!==p.currentUrlTree.toString();if(!w&&"reload"!==(p.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const F="";return this.events.next(new Gw(p.id,this.urlSerializer.serialize(p.rawUrl),F,0)),p.resolve(null),km.E}if(t.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return(0,Pn.of)(p).pipe((0,Ue.w)(F=>{const $=this.transitions?.getValue();return this.events.next(new t1(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),$!==this.transitions?.getValue()?km.E:Promise.resolve(F)}),function SK(n,e,t,r,i,o){return(0,b.z)(c=>function EK(n,e,t,r,i,o,c="emptyOnly"){return new TK(n,e,t,r,i,c,o).recognize()}(n,e,t,r,c.extractedUrl,i,o).pipe((0,pe.U)(({state:h,tree:p})=>({...c,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Da.b)(F=>{o.targetSnapshot=F.targetSnapshot,o.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects};const $=new t3(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next($)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:F,extractedUrl:$,source:he,restoredState:we,extras:ve}=p,gt=new t1(F,this.urlSerializer.serialize($),he,we);this.events.next(gt);const Dt=s3(0,this.rootComponentType).snapshot;return this.currentTransition=o={...p,targetSnapshot:Dt,urlAfterRedirects:$,extras:{...ve,skipLocationChange:!1,replaceUrl:!1}},(0,Pn.of)(o)}{const F="";return this.events.next(new Gw(p.id,this.urlSerializer.serialize(p.extractedUrl),F,1)),p.resolve(null),km.E}}),(0,Da.b)(p=>{const _=new bZ(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),(0,pe.U)(p=>(this.currentTransition=o={...p,guards:WZ(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},o)),function rK(n,e){return(0,b.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?(0,Pn.of)({...t,guardsResult:!0}):function iK(n,e,t,r){return(0,Br.D)(n).pipe((0,b.z)(i=>function uK(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Pn.of)(!0);const c=o.map(h=>{const p=AC(e)??i,_=Ww(h,p);return Om(function eK(n){return n&&DC(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):p.runInContext(()=>_(n,e,t,r))).pipe(Nm())});return(0,Pn.of)(c).pipe(qw())}(i.component,i.route,t,e,r)),Nm(i=>!0!==i,!0))}(c,r,i,n).pipe((0,b.z)(h=>h&&function YZ(n){return"boolean"==typeof n}(h)?function oK(n,e,t,r){return(0,Br.D)(e).pipe(T(i=>PR(function aK(n,e){return null!==n&&e&&e(new SZ(n)),(0,Pn.of)(!0)}(i.route.parent,r),function sK(n,e){return null!==n&&e&&e(new DZ(n)),(0,Pn.of)(!0)}(i.route,r),function lK(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function qZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>N4(()=>{const h=c.guards.map(p=>{const _=AC(c.node)??t,w=Ww(p,_);return Om(function JZ(n){return n&&DC(n.canActivateChild)}(w)?w.canActivateChild(r,n):_.runInContext(()=>w(r,n))).pipe(Nm())});return(0,Pn.of)(h).pipe(qw())}));return(0,Pn.of)(o).pipe(qw())}(n,i.path,t),function cK(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Pn.of)(!0);const i=r.map(o=>N4(()=>{const c=AC(e)??t,h=Ww(o,c);return Om(function XZ(n){return n&&DC(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(Nm())}));return(0,Pn.of)(i).pipe(qw())}(n,i.route,t))),Nm(i=>!0!==i,!0))}(r,o,n,e):(0,Pn.of)(h)),(0,pe.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,p=>this.events.next(p)),(0,Da.b)(p=>{if(o.guardsResult=p.guardsResult,cy(p.guardsResult))throw d3(0,p.guardsResult);const _=new IZ(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(_)}),fe(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",3),!1)),zL(p=>{if(p.guards.canActivateChecks.length)return(0,Pn.of)(p).pipe((0,Da.b)(_=>{const w=new EZ(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}),(0,Ue.w)(_=>{let w=!1;return(0,Pn.of)(_).pipe(function xK(n,e){return(0,b.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Pn.of)(t);let o=0;return(0,Br.D)(i).pipe(T(c=>function DK(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!T3(i)&&(o[gC]=i.title),function MK(n,e,t,r){const i=function RK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,Pn.of)({});const o={};return(0,Br.D)(i).pipe((0,b.z)(c=>function PK(n,e,t,r){const i=AC(e)??r,o=Ww(n,i);return Om(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(Nm(),(0,Da.b)(h=>{o[c]=h}))),CL(1),function W8(n){return(0,pe.U)(()=>n)}(o),zf(c=>g3(c)?km.E:mC(c)))}(o,n,e,r).pipe((0,pe.U)(c=>(n._resolvedData=c,n.data=a3(n,t).resolve,i&&T3(i)&&(n.data[gC]=i.title),null)))}(c.route,r,n,e)),(0,Da.b)(()=>o++),CL(1),(0,b.z)(c=>o===i.length?(0,Pn.of)(t):km.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Da.b)({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(_,"",2)}}))}),(0,Da.b)(_=>{const w=new TZ(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}))}),zL(p=>{const _=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Da.b)(F=>{w.component=F}),(0,pe.U)(()=>{})));for(const F of w.children)D.push(..._(F));return D};return RR(_(p.targetSnapshot.root)).pipe(qR(),Uf(1))}),zL(()=>this.afterPreactivation()),(0,pe.U)(p=>{const _=function OZ(n,e,t){const r=CC(n,e._root,t?t._root:void 0);return new o3(r,e)}(t.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=o={...p,targetRouterState:_},o}),(0,Da.b)(()=>{this.events.next(new RL)}),((n,e,t,r)=>(0,pe.U)(i=>(new $Z(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Uf(1),(0,Da.b)({next:p=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fm(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),t.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{c=!0}}),iy(this.transitionAbortSubject.pipe((0,Da.b)(p=>{throw p}))),Oe(()=>{c||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),zf(p=>{if(h=!0,f3(p))this.events.next(new EC(o.id,this.urlSerializer.serialize(o.extractedUrl),p.message,p.cancellationCode)),function VZ(n){return f3(n)&&cy(n.url)}(p)?this.events.next(new PL(p.url)):o.resolve(!1);else{this.events.next(new n1(o.id,this.urlSerializer.serialize(o.extractedUrl),p,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(p))}catch(_){o.reject(_)}}return km.E}))}))}cancelNavigationTransition(t,r,i){const o=new EC(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A3(n){return n!==IC}let S3=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Wr);return r}getResolvedTitleForRoute(t){return t.data[gC]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(OK)},providedIn:"root"})}return n})(),OK=(()=>{class n extends S3{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(kt))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(VK)},providedIn:"root"})}return n})();class LK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let VK=(()=>{class n extends LK{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}();static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const h1=new u.OlP("",{providedIn:"root",factory:()=>({})});let UK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(jK)},providedIn:"root"})}return n})(),jK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MC=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(MC||{});function x3(n,e){n.events.pipe(fe(t=>t instanceof Fm||t instanceof EC||t instanceof n1||t instanceof Gw),(0,pe.U)(t=>t instanceof Fm||t instanceof Gw?MC.COMPLETE:t instanceof EC&&(0===t.code||1===t.code)?MC.REDIRECTING:MC.FAILED),fe(t=>t!==MC.REDIRECTING),Uf(1)).subscribe(()=>{e()})}function BK(n){throw n}function zK(n,e,t){return e.parse("/")}const HK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ca=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new _l.x,this.options=(0,u.f3M)(h1,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||BK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(UK),this.routeReuseStrategy=(0,u.f3M)(FK),this.titleStrategy=(0,u.f3M)(S3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(Kw,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(d1),this.urlSerializer=(0,u.f3M)(yC),this.location=(0,u.f3M)(qt),this.componentInputBindingEnabled=!!(0,u.f3M)(s1,{optional:!0}),this.eventsSubscription=new NR.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hw,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=s3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(D3(r)&&this._events.next(r));if(r instanceof t1)A3(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Gw)this.rawUrlTree=i.rawUrl;else if(r instanceof t3){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof RL)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof EC)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof PL){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||A3(i.source)};this.scheduleNavigation(o,IC,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof n1&&this.restoreHistory(i,!0),r instanceof Fm&&(this.navigated=!0),D3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),IC,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(UL),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:p}=r,_=p?this.currentUrlTree.fragment:c;let D,w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...o};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}null!==w&&(w=this.removeEmptyProps(w));try{D=Z4(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return K4(D,t,w,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cy(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,IC,null,r)}navigate(t,r={skipLocationChange:!1}){return function $K(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new u.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...HK}:!1===r?{...GK}:r,cy(t))return U4(this.currentUrlTree,t,i);const o=this.parseUrl(t);return U4(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let h,p,_;c?(h=c.resolve,p=c.reject,_=c.promise):_=new Promise((D,F)=>{h=D,p=F});const w=this.pendingTasks.add();return x3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:h,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(D=>Promise.reject(D))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D3(n){return!(n instanceof RL||n instanceof PL)}let Yw=(()=>{class n{constructor(t,r,i,o,c,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=c,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new _l.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof Fm&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(ca),u.Y36(ly),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Tt))};static#t=this.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&u.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&r&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]})}return n})();class M3{}let ZK=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(fe(t=>t instanceof Fm),T(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,u.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,Br.D)(i).pipe((0,aC.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Pn.of)(null);const o=i.pipe((0,b.z)(c=>null===c?(0,Pn.of)(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Br.D)([o,c]).pipe((0,aC.J)())}return o})}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(ca),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(M3),u.LFG(HL))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GL=new u.OlP("");let R3=(()=>{class n{constructor(t,r,i,o,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof t1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fm?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gw&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof n3&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new n3(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){u.$Z()};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac})}return n})();function Gf(n,e){return{\u0275kind:n,\u0275providers:e}}function k3(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(ca),i=n.get(N3);1===n.get($L)&&r.initialNavigation(),n.get(O3,null,u.XFs.Optional)?.setUpPreloading(),n.get(GL,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const N3=new u.OlP("",{factory:()=>new _l.x}),$L=new u.OlP("",{providedIn:"root",factory:()=>1}),O3=new u.OlP("");function XK(n){return Gf(0,[{provide:O3,useExisting:ZK},{provide:M3,useExisting:n}])}const F3=new u.OlP("ROUTER_FORROOT_GUARD"),eY=[qt,{provide:yC,useClass:AL},ca,TC,{provide:ly,useFactory:function P3(n){return n.routerState.root},deps:[ca]},HL,[]];function tY(){return new u.PXZ("Router",ca)}let L3=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[eY,[],{provide:Kw,multi:!0,useValue:t},{provide:F3,useFactory:oY,deps:[[ca,new u.FiY,new u.tp0]]},{provide:h1,useValue:r||{}},r?.useHash?{provide:Tt,useClass:_t}:{provide:Tt,useClass:bt},{provide:GL,useFactory:()=>{const n=(0,u.f3M)(lo),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(h1),r=(0,u.f3M)(d1),i=(0,u.f3M)(yC);return t.scrollOffset&&n.setOffset(t.scrollOffset),new R3(i,r,n,e,t)}},r?.preloadingStrategy?XK(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:tY},r?.initialNavigation?sY(r):[],r?.bindToComponentInputs?Gf(8,[u3,{provide:s1,useExisting:u3}]).\u0275providers:[],[{provide:V3,useFactory:k3},{provide:u.tb,multi:!0,useExisting:V3}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Kw,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(F3,8))};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({})}return n})();function oY(n){return"guarded"}function sY(n){return["disabled"===n.initialNavigation?Gf(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(ca);return()=>{e.setUpLocationChangeListener()}}},{provide:$L,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gf(2,[{provide:$L,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Pe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(ca),o=e.get(N3);x3(i,()=>{r(!0)}),e.get(d1).afterPreactivation=()=>(r(!0),o.closed?(0,Pn.of)(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const V3=new u.OlP("");var Mn,cY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ad={},WL=WL||{},Or=cY||self;function f1(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function RC(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qL="closure_uid_"+(1e9*Math.random()>>>0),uY=0;function dY(n,e,t){return n.call.apply(n.bind,arguments)}function hY(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Tc(n,e,t){return(Tc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dY:hY).apply(null,arguments)}function p1(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ma(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function Lm(){this.s=this.s,this.o=this.o}Lm.prototype.s=!1,Lm.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lY(n){Object.prototype.hasOwnProperty.call(n,qL)&&n[qL]||(n[qL]=++uY)}(this)},Lm.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const U3=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ZL(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function j3(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(f1(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function Cc(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Cc.prototype.h=function(){this.defaultPrevented=!0};var pY=function(){if(!Or.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Or.addEventListener("test",()=>{},e),Or.removeEventListener("test",()=>{},e)}catch{}return n}();function PC(n){return/^[\s\xa0]*$/.test(n)}function m1(){var n=Or.navigator;return n&&(n=n.userAgent)?n:""}function kh(n){return-1!=m1().indexOf(n)}function KL(n){return KL[" "](n),n}KL[" "]=function(){};var QL,gY=kh("Opera"),Qw=kh("Trident")||kh("MSIE"),B3=kh("Edge"),YL=B3||Qw,z3=kh("Gecko")&&!(-1!=m1().toLowerCase().indexOf("webkit")&&!kh("Edge"))&&!(kh("Trident")||kh("MSIE"))&&!kh("Edge"),_Y=-1!=m1().toLowerCase().indexOf("webkit")&&!kh("Edge");function H3(){var n=Or.document;return n?n.documentMode:void 0}e:{var XL="",JL=function(){var n=m1();return z3?/rv:([^\);]+)(\)|;)/.exec(n):B3?/Edge\/([\d\.]+)/.exec(n):Qw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_Y?/WebKit\/(\S+)/.exec(n):gY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(JL&&(XL=JL?JL[1]:""),Qw){var e2=H3();if(null!=e2&&e2>parseFloat(XL)){QL=String(e2);break e}}QL=XL}var yY=Or.document&&Qw&&(H3()||parseInt(QL,10))||void 0;function kC(n,e){if(Cc.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(z3){e:{try{KL(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&kC.$.h.call(this)}}Ma(kC,Cc);var vY={2:"touch",3:"pen",4:"mouse"};kC.prototype.h=function(){kC.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var NC="closure_listenable_"+(1e6*Math.random()|0),wY=0;function bY(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++wY,this.fa=this.ia=!1}function g1(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function n2(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $3(n){const e={};for(const t in n)e[t]=n[t];return e}const W3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q3(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<W3.length;o++)t=W3[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _1(n){this.src=n,this.g={},this.h=0}function r2(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=U3(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(g1(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function o2(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}_1.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=o2(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new bY(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var s2="closure_lm_"+(1e6*Math.random()|0),a2={};function Z3(n,e,t,r,i){if(r&&r.once)return Y3(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Z3(n,e[o],t,r,i);return null}return t=d2(t),n&&n[NC]?n.O(e,t,RC(r)?!!r.capture:!!r,i):K3(n,e,t,!1,r,i)}function K3(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=RC(i)?!!i.capture:!!i,h=l2(n);if(h||(n[s2]=h=new _1(n)),(t=h.add(e,t,r,c,o)).proxy)return t;if(r=function EY(){const e=TY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pY||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(X3(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Y3(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Y3(n,e[o],t,r,i);return null}return t=d2(t),n&&n[NC]?n.P(e,t,RC(r)?!!r.capture:!!r,i):K3(n,e,t,!0,r,i)}function Q3(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Q3(n,e[o],t,r,i);else r=RC(r)?!!r.capture:!!r,t=d2(t),n&&n[NC]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=o2(o=n.g[e],t,r,i))&&(g1(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=l2(n))&&(e=n.g[e.toString()],n=-1,e&&(n=o2(e,t,r,i)),(t=-1<n?e[n]:null)&&c2(t))}function c2(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[NC])r2(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(X3(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=l2(e))?(r2(t,n),0==t.h&&(t.src=null,e[s2]=null)):g1(n)}}}function X3(n){return n in a2?a2[n]:a2[n]="on"+n}function TY(n,e){if(n.fa)n=!0;else{e=new kC(e,this);var t=n.listener,r=n.la||n.src;n.ia&&c2(n),n=t.call(r,e)}return n}function l2(n){return(n=n[s2])instanceof _1?n:null}var u2="__closure_events_fn_"+(1e9*Math.random()>>>0);function d2(n){return"function"==typeof n?n:(n[u2]||(n[u2]=function(e){return n.handleEvent(e)}),n[u2])}function Ra(){Lm.call(this),this.i=new _1(this),this.S=this,this.J=null}function Ja(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Cc(e,n);else if(e instanceof Cc)e.target=e.target||n;else{var i=e;q3(e=new Cc(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=y1(c,r,!0,e)&&i}if(i=y1(c=e.g=n,r,!0,e)&&i,i=y1(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=y1(c=e.g=t[o],r,!1,e)&&i}function y1(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var h=c.listener,p=c.la||c.src;c.ia&&r2(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Ma(Ra,Lm),Ra.prototype[NC]=!0,Ra.prototype.removeEventListener=function(n,e,t,r){Q3(this,n,e,t,r)},Ra.prototype.N=function(){if(Ra.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)g1(t[r]);delete n.g[e],n.h--}}this.J=null},Ra.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ra.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var h2=Or.JSON.stringify;function AY(){var n=f2;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var J3=new class CY{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xY,n=>n.reset());class xY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DY(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function MY(n){Or.setTimeout(()=>{throw n},0)}let OC,FC=!1,f2=new class SY{constructor(){this.h=this.g=null}add(e,t){const r=J3.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},eH=()=>{const n=Or.Promise.resolve(void 0);OC=()=>{n.then(RY)}};var RY=()=>{for(var n;n=AY();){try{n.h.call(n.g)}catch(t){MY(t)}var e=J3;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}FC=!1};function v1(n,e){Ra.call(this),this.h=n||1,this.g=e||Or,this.j=Tc(this.qb,this),this.l=Date.now()}function p2(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function m2(n,e,t){if("function"==typeof n)t&&(n=Tc(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Tc(n.handleEvent,n)}return 2147483647<Number(e)?-1:Or.setTimeout(n,e||0)}function tH(n){n.g=m2(()=>{n.g=null,n.i&&(n.i=!1,tH(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ma(v1,Ra),(Mn=v1.prototype).ga=!1,Mn.T=null,Mn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ja(this,"tick"),this.ga&&(p2(this),this.start()))}},Mn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mn.N=function(){v1.$.N.call(this),p2(this),delete this.g};class PY extends Lm{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tH(this)}N(){super.N(),this.g&&(Or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function LC(n){Lm.call(this),this.h=n,this.g={}}Ma(LC,Lm);var nH=[];function rH(n,e,t,r){Array.isArray(t)||(t&&(nH[0]=t.toString()),t=nH);for(var i=0;i<t.length;i++){var o=Z3(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function iH(n){n2(n.g,function(e,t){this.g.hasOwnProperty(t)&&c2(e)},n),n.g={}}function w1(){this.g=!0}function Xw(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function FY(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return h2(t)}catch{return e}}(n,t)+(r?" "+r:"")})}LC.prototype.N=function(){LC.$.N.call(this),iH(this)},LC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},w1.prototype.Ea=function(){this.g=!1},w1.prototype.info=function(){};var uy={},oH=null;function b1(){return oH=oH||new Ra}function sH(n){Cc.call(this,uy.Ta,n)}function VC(n){const e=b1();Ja(e,new sH(e))}function aH(n,e){Cc.call(this,uy.STAT_EVENT,n),this.stat=e}function Jc(n){const e=b1();Ja(e,new aH(e,n))}function cH(n,e){Cc.call(this,uy.Ua,n),this.size=e}function UC(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Or.setTimeout(function(){n()},e)}uy.Ta="serverreachability",Ma(sH,Cc),uy.STAT_EVENT="statevent",Ma(aH,Cc),uy.Ua="timingevent",Ma(cH,Cc);var I1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function g2(){}function dH(){}g2.prototype.h=null;var v2,jC={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _2(){Cc.call(this,"d")}function y2(){Cc.call(this,"c")}function E1(){}function BC(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new LC(this),this.P=LY,this.V=new v1(n=YL?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hH}function hH(){this.i=null,this.g="",this.h=!1}Ma(_2,Cc),Ma(y2,Cc),Ma(E1,g2),E1.prototype.g=function(){return new XMLHttpRequest},E1.prototype.i=function(){return{}},v2=new E1;var LY=45e3,w2={},T1={};function b2(n,e,t){n.L=1,n.v=x1($f(e)),n.s=t,n.S=!0,fH(n,null)}function fH(n,e){n.G=Date.now(),zC(n),n.A=$f(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),EH(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hH,n.g=qH(n.l,t?e:null,!n.s),0<n.O&&(n.M=new PY(Tc(n.Pa,n,n.g),n.O)),rH(n.U,n.g,"readystatechange",n.nb),e=n.I?$3(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),VC(),function kY(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var w=_[0];_=_[1];var D=w.split("_");c=2<=D.length&&"type"==D[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pH(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function mH(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=VY(n,t),i==T1){4==e&&(n.o=4,Jc(14),r=!1),Xw(n.j,n.m,null,"[Incomplete Response]");break}if(i==w2){n.o=4,Jc(15),Xw(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Xw(n.j,n.m,i,null),I2(n,i)}pH(n)&&i!=T1&&i!=w2&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Jc(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),D2(e),e.M=!0,Jc(11))):(Xw(n.j,n.m,t,"[Invalid Chunked Response]"),dy(n),HC(n))}function VY(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?T1:(t=Number(e.substring(t,r)),isNaN(t)?w2:(r+=1)+t>e.length?T1:(e=e.slice(r,r+t),n.C=r+t,e))}function zC(n){n.Y=Date.now()+n.P,gH(n,n.P)}function gH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=UC(Tc(n.lb,n),e)}function C1(n){n.B&&(Or.clearTimeout(n.B),n.B=null)}function HC(n){0==n.l.H||n.J||HH(n.l,n)}function dy(n){C1(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,p2(n.V),iH(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function I2(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||E2(t.i,n)))if(!n.K&&E2(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;N1(t),P1(t)}x2(t),Jc(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=UC(Tc(t.ib,t),6e3));if(1>=AH(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else fy(t,11)}else if((n.K||t.g==n)&&N1(t),!PC(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const w=_[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const D=_[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const F=_[5];null!=F&&"number"==typeof F&&0<F&&(t.L=r=1.5*F,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const he=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var o=r.i;o.g||-1==he.indexOf("spdy")&&-1==he.indexOf("quic")&&-1==he.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(T2(o,o.h),o.h=null))}if(r.F){const we=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(r.Da=we,Mo(r.I,r.F,we))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=WH(r,r.J?r.pa:null,r.Y),c.K){SH(r.i,c);var h=c,p=r.L;p&&h.setTimeout(p),h.B&&(C1(h),zC(h)),r.g=c}else BH(r);0<t.j.length&&k1(t)}else"stop"!=_[0]&&"close"!=_[0]||fy(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?fy(t,7):S2(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}VC()}catch{}}function _H(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(f1(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jY(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(f1(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function UY(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(f1(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Mn=BC.prototype).setTimeout=function(n){this.P=n},Mn.nb=function(n){n=n.target;const e=this.M;e&&3==Nh(n)?e.l():this.Pa(n)},Mn.Pa=function(n){try{if(n==this.g)e:{const w=Nh(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||YL||this.g&&(this.h.h||this.g.ja()||OH(this.g)))){this.J||4!=w||7==e||VC(),C1(this);var t=this.g.da();this.ca=t;t:if(pH(this)){var r=OH(this.g);n="";var i=r.length,o=4==Nh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dy(this),HC(this);var c="";break t}this.h.i=new Or.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function NY(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!PC(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Jc(12),dy(this),HC(this);break e}Xw(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,I2(this,t)}this.S?(mH(this,w,c),YL&&this.i&&3==w&&(rH(this.U,this.V,"tick",this.mb),this.V.start())):(Xw(this.j,this.m,c,null),I2(this,c)),4==w&&dy(this),this.i&&!this.J&&(4==w?HH(this.l,this):(this.i=!1,zC(this)))}else(function iQ(n){const e={};n=(n.g&&2<=Nh(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(PC(n[r]))continue;var t=DY(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function IY(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Jc(12)):(this.o=0,Jc(13)),dy(this),HC(this)}}}catch{}},Mn.mb=function(){if(this.g){var n=Nh(this.g),e=this.g.ja();this.C<e.length&&(C1(this),mH(this,n,e),this.i&&4!=n&&zC(this))}},Mn.cancel=function(){this.J=!0,dy(this)},Mn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function OY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(VC(),Jc(17)),dy(this),this.o=2,HC(this)):gH(this,this.Y-n)};var yH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hy(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof hy){this.h=n.h,A1(this,n.j),this.s=n.s,this.g=n.g,S1(this,n.m),this.l=n.l;var e=n.i,t=new WC;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),vH(this,t),this.o=n.o}else n&&(e=String(n).match(yH))?(this.h=!1,A1(this,e[1]||"",!0),this.s=GC(e[2]||""),this.g=GC(e[3]||"",!0),S1(this,e[4]),this.l=GC(e[5]||"",!0),vH(this,e[6]||"",!0),this.o=GC(e[7]||"")):(this.h=!1,this.i=new WC(null,this.h))}function $f(n){return new hy(n)}function A1(n,e,t){n.j=t?GC(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function S1(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vH(n,e,t){e instanceof WC?(n.i=e,function qY(n,e){e&&!n.j&&(Vm(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(bH(this,r),EH(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$C(e,$Y)),n.i=new WC(e,n.h))}function Mo(n,e,t){n.i.set(e,t)}function x1(n){return Mo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function GC(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $C(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hy.prototype.toString=function(){var n=[],e=this.j;e&&n.push($C(e,wH,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($C(e,wH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($C(t,"/"==t.charAt(0)?GY:HY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$C(t,WY)),n.join("")};var wH=/[#\/\?@]/g,HY=/[#\?:]/g,GY=/[#\?]/g,$Y=/[#\?@]/g,WY=/#/g;function WC(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vm(n){n.g||(n.g=new Map,n.h=0,n.i&&function BY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function bH(n,e){Vm(n),e=Jw(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function IH(n,e){return Vm(n),e=Jw(n,e),n.g.has(e)}function EH(n,e,t){bH(n,e),0<t.length&&(n.i=null,n.g.set(Jw(n,e),ZL(t)),n.h+=t.length)}function Jw(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function TH(n){this.l=n||KY,n=Or.PerformanceNavigationTiming?0<(n=Or.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Or.g&&Or.g.Ka&&Or.g.Ka()&&Or.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mn=WC.prototype).add=function(n,e){Vm(this),this.i=null,n=Jw(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Mn.forEach=function(n,e){Vm(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Mn.ta=function(){Vm(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Mn.Z=function(n){Vm(this);let e=[];if("string"==typeof n)IH(this,n)&&(e=e.concat(this.g.get(Jw(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Mn.set=function(n,e){return Vm(this),this.i=null,IH(this,n=Jw(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Mn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Mn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var KY=10;function CH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AH(n){return n.h?1:n.g?n.g.size:0}function E2(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function T2(n,e){n.g?n.g.add(e):n.h=e}function SH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ZL(n.i)}TH.prototype.cancel=function(){if(this.i=xH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var YY=class{stringify(n){return Or.JSON.stringify(n,void 0)}parse(n){return Or.JSON.parse(n,void 0)}};function QY(){this.g=new YY}function XY(n,e,t){const r=t||"";try{_H(n,function(i,o){let c=i;RC(i)&&(c=h2(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function D1(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qC(n){this.l=n.ec||null,this.j=n.ob||!1}function M1(n,e){Ra.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=C2,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ma(qC,g2),qC.prototype.g=function(){return new M1(this.l,this.j)},qC.prototype.i=function(n){return function(){return n}}({}),Ma(M1,Ra);var C2=0;function DH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ZC(n){n.readyState=4,n.l=null,n.j=null,n.A=null,KC(n)}function KC(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Mn=M1.prototype).open=function(n,e){if(this.readyState!=C2)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,KC(this)},Mn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Or).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Mn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ZC(this)),this.readyState=C2},Mn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,KC(this)),this.g&&(this.readyState=3,KC(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Or.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Mn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ZC(this):KC(this),3==this.readyState&&DH(this)}},Mn.Za=function(n){this.g&&(this.response=this.responseText=n,ZC(this))},Mn.Ya=function(n){this.g&&(this.response=n,ZC(this))},Mn.ka=function(){this.g&&ZC(this)},Mn.setRequestHeader=function(n,e){this.v.append(n,e)},Mn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Mn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(M1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eQ=Or.JSON.parse;function cs(n){Ra.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MH,this.L=this.M=!1}Ma(cs,Ra);var MH="",tQ=/^https?$/i,nQ=["POST","PUT"];function RH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,PH(n),R1(n)}function PH(n){n.F||(n.F=!0,Ja(n,"complete"),Ja(n,"error"))}function kH(n){if(n.h&&typeof WL<"u"&&(!n.C[1]||4!=Nh(n)||2!=n.da()))if(n.v&&4==Nh(n))m2(n.La,0,n);else if(Ja(n,"readystatechange"),4==Nh(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(yH)[1]||null;!i&&Or.self&&Or.self.location&&(i=Or.self.location.protocol.slice(0,-1)),r=!tQ.test(i?i.toLowerCase():"")}t=r}if(t)Ja(n,"complete"),Ja(n,"success");else{n.m=6;try{var o=2<Nh(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",PH(n)}}finally{R1(n)}}}function R1(n,e){if(n.g){NH(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ja(n,"ready");try{t.onreadystatechange=r}catch{}}}function NH(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Or.clearTimeout(n.A),n.A=null)}function Nh(n){return n.g?n.g.readyState:0}function OH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case MH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FH(n){let e="";return n2(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function A2(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mo(n,e,t))}function YC(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LH(n){this.Ga=0,this.j=[],this.l=new w1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=YC("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=YC("baseRetryDelayMs",5e3,n),this.hb=YC("retryDelaySeedMs",1e4,n),this.eb=YC("forwardChannelMaxRetries",2,n),this.xa=YC("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new TH(n&&n.concurrentRequestLimit),this.Ja=new QY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function S2(n){if(VH(n),3==n.H){var e=n.W++,t=$f(n.I);if(Mo(t,"SID",n.K),Mo(t,"RID",e),Mo(t,"TYPE","terminate"),QC(n,t),(e=new BC(n,n.l,e)).L=2,e.v=x1($f(t)),t=!1,Or.navigator&&Or.navigator.sendBeacon)try{t=Or.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Or.Image&&((new Image).src=e.v,t=!0),t||(e.g=qH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zC(e)}$H(n)}function P1(n){n.g&&(D2(n),n.g.cancel(),n.g=null)}function VH(n){P1(n),n.u&&(Or.clearTimeout(n.u),n.u=null),N1(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Or.clearTimeout(n.m),n.m=null)}function k1(n){if(!CH(n.i)&&!n.m){n.m=!0;var e=n.Na;OC||eH(),FC||(OC(),FC=!0),f2.add(e,n),n.C=0}}function UH(n,e){var t;t=e?e.m:n.W++;const r=$f(n.I);Mo(r,"SID",n.K),Mo(r,"RID",t),Mo(r,"AID",n.V),QC(n,r),n.o&&n.s&&A2(r,n.o,n.s),t=new BC(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=jH(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),T2(n.i,t),b2(t,r,e)}function QC(n,e){n.na&&n2(n.na,function(t,r){Mo(e,r,t)}),n.h&&_H({},function(t,r){Mo(e,r,t)})}function jH(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Tc(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let p=0;p<t;p++){let _=i[p].g;const w=i[p].map;if(_-=o,0>_)o=Math.max(0,i[p].g-100),h=!1;else try{XY(w,c,"req"+_+"_")}catch{r&&r(w)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function BH(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;OC||eH(),FC||(OC(),FC=!0),f2.add(e,n),n.A=0}}function x2(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=UC(Tc(n.Ma,n),GH(n,n.A)),n.A++,0))}function D2(n){null!=n.B&&(Or.clearTimeout(n.B),n.B=null)}function zH(n){n.g=new BC(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=$f(n.wa);Mo(e,"RID","rpc"),Mo(e,"SID",n.K),Mo(e,"AID",n.V),Mo(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Mo(e,"TO",n.qa),Mo(e,"TYPE","xmlhttp"),QC(n,e),n.o&&n.s&&A2(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=x1($f(e)),t.s=null,t.S=!0,fH(t,n)}function N1(n){null!=n.v&&(Or.clearTimeout(n.v),n.v=null)}function HH(n,e){var t=null;if(n.g==e){N1(n),D2(n),n.g=null;var r=2}else{if(!E2(n.i,e))return;t=e.F,SH(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ja(r=b1(),new cH(r,t)),k1(n)}else BH(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function oQ(n,e){return!(AH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=UC(Tc(n.Na,n,e),GH(n,n.C)),n.C++,0)))}(n,e)||2==r&&x2(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:fy(n,5);break;case 4:fy(n,10);break;case 3:fy(n,6);break;default:fy(n,2)}}function GH(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function fy(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Tc(n.pb,n);t||(t=new hy("//www.google.com/images/cleardot.gif"),Or.location&&"http"==Or.location.protocol||A1(t,"https"),x1(t)),function JY(n,e){const t=new w1;if(Or.Image){const r=new Image;r.onload=p1(D1,t,r,"TestLoadImage: loaded",!0,e),r.onerror=p1(D1,t,r,"TestLoadImage: error",!1,e),r.onabort=p1(D1,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=p1(D1,t,r,"TestLoadImage: timeout",!1,e),Or.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Jc(2);n.H=0,n.h&&n.h.za(e),$H(n),VH(n)}function $H(n){if(n.H=0,n.ma=[],n.h){const e=xH(n.i);(0!=e.length||0!=n.j.length)&&(j3(n.ma,e),j3(n.ma,n.j),n.i.i.length=0,ZL(n.j),n.j.length=0),n.h.ya()}}function WH(n,e,t){var r=t instanceof hy?$f(t):new hy(t);if(""!=r.g)e&&(r.g=e+"."+r.g),S1(r,r.m);else{var i=Or.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new hy(null);r&&A1(o,r),e&&(o.g=e),i&&S1(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&Mo(r,t,e),Mo(r,"VER",n.ra),QC(n,r),r}function qH(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cs(t&&n.Ha&&!n.va?new qC({ob:!0}):n.va)).Oa(n.J),e}function ZH(){}function O1(){if(Qw&&!(10<=Number(yY)))throw Error("Environmental error: no available transport.")}function Jl(n,e){Ra.call(this),this.g=new LH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!PC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!PC(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new eb(this)}function KH(n){_2.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YH(){y2.call(this),this.status=1}function eb(n){this.g=n}function Sd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function M2(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Hi(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(Mn=cs.prototype).Oa=function(n){this.M=n},Mn.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():v2.g(),this.C=function uH(n){return n.h||(n.h=n.i())}(this.u?this.u:v2),this.g.onreadystatechange=Tc(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void RH(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Or.FormData&&n instanceof Or.FormData,!(0<=U3(nQ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NH(this),0<this.B&&((this.L=function rQ(n){return Qw&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tc(this.ua,this)):this.A=m2(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){RH(this,o)}},Mn.ua=function(){typeof WL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ja(this,"timeout"),this.abort(8))},Mn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ja(this,"complete"),Ja(this,"abort"),R1(this))},Mn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R1(this,!0)),cs.$.N.call(this)},Mn.La=function(){this.s||(this.G||this.v||this.l?kH(this):this.kb())},Mn.kb=function(){kH(this)},Mn.isActive=function(){return!!this.g},Mn.da=function(){try{return 2<Nh(this)?this.g.status:-1}catch{return-1}},Mn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eQ(e)}},Mn.Ia=function(){return this.m},Mn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mn=LH.prototype).ra=8,Mn.H=1,Mn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new BC(this,this.l,n);let o=this.s;if(this.U&&(o?(o=$3(o),q3(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jH(this,i,e),Mo(t=$f(this.I),"RID",n),Mo(t,"CVER",22),this.F&&Mo(t,"X-HTTP-Session-Id",this.F),QC(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(FH(o)))+"&"+e:this.o&&A2(t,this.o,o)),T2(this.i,i),this.bb&&Mo(t,"TYPE","init"),this.P?(Mo(t,"$req",e),Mo(t,"SID","null"),i.aa=!0,b2(i,t,null)):b2(i,t,e),this.H=2}}else 3==this.H&&(n?UH(this,n):0==this.j.length||CH(this.i)||UH(this))},Mn.Ma=function(){if(this.u=null,zH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=UC(Tc(this.jb,this),n)}},Mn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jc(10),P1(this),zH(this))},Mn.ib=function(){null!=this.v&&(this.v=null,P1(this),x2(this),Jc(19))},Mn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Jc(2)):(this.l.info("Failed to ping google.com"),Jc(1))},Mn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Mn=ZH.prototype).Ba=function(){},Mn.Aa=function(){},Mn.za=function(){},Mn.ya=function(){},Mn.isActive=function(){return!0},Mn.Va=function(){},O1.prototype.g=function(n,e){return new Jl(n,e)},Ma(Jl,Ra),Jl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Jc(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=WH(n,null,n.Y),k1(n)},Jl.prototype.close=function(){S2(this.g)},Jl.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=h2(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&k1(e)},Jl.prototype.N=function(){this.g.h=null,delete this.j,S2(this.g),delete this.g,Jl.$.N.call(this)},Ma(KH,_2),Ma(YH,y2),Ma(eb,ZH),eb.prototype.Ba=function(){Ja(this.g,"a")},eb.prototype.Aa=function(n){Ja(this.g,new KH(n))},eb.prototype.za=function(n){Ja(this.g,new YH)},eb.prototype.ya=function(){Ja(this.g,"b")},Ma(Sd,function sQ(){this.blockSize=-1}),Sd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sd.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)M2(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){M2(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){M2(this,r),i=0;break}}this.h=i,this.i+=e},Sd.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var aQ={};function R2(n){return-128<=n&&128>n?function mY(n,e){var t=aQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Hi([0|e],0>e?-1:0)}):new Hi([0|n],0>n?-1:0)}function Oh(n){if(isNaN(n)||!isFinite(n))return tb;if(0>n)return ec(Oh(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=P2;return new Hi(e,0)}var P2=4294967296,tb=R2(0),k2=R2(1),XH=R2(16777216);function Wf(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Hu(n){return-1==n.h}function ec(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Hi(t,~n.h).add(k2)}function F1(n,e){return n.add(ec(e))}function L1(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function XC(n,e){this.g=n,this.h=e}function V1(n,e){if(Wf(e))throw Error("division by zero");if(Wf(n))return new XC(tb,tb);if(Hu(n))return e=V1(ec(n),e),new XC(ec(e.g),ec(e.h));if(Hu(e))return e=V1(n,ec(e)),new XC(ec(e.g),e.h);if(30<n.g.length){if(Hu(n)||Hu(e))throw Error("slowDivide_ only works with positive integers.");for(var t=k2,r=e;0>=r.X(n);)t=JH(t),r=JH(r);var i=nb(t,1),o=nb(r,1);for(r=nb(r,2),t=nb(t,2);!Wf(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=nb(r,1),t=nb(t,1)}return e=F1(n,i.R(e)),new XC(i,e)}for(i=tb;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=Oh(t)).R(e);Hu(c)||0<c.X(n);)c=(o=Oh(t-=r)).R(e);Wf(o)&&(o=k2),i=i.add(o),n=F1(n,c)}return new XC(i,n)}function JH(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Hi(t,n.h)}function nb(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Hi(i,n.h)}(Mn=Hi.prototype).ea=function(){if(Hu(this))return-ec(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:P2+r)*e,e*=P2}return n},Mn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Wf(this))return"0";if(Hu(this))return"-"+ec(this).toString(n);for(var e=Oh(Math.pow(n,6)),t=this,r="";;){var i=V1(t,e).g,o=((0<(t=F1(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Wf(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Mn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Mn.X=function(n){return Hu(n=F1(this,n))?-1:Wf(n)?0:1},Mn.abs=function(){return Hu(this)?ec(this):this},Mn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new Hi(t,-2147483648&t[t.length-1]?-1:0)},Mn.R=function(n){if(Wf(this)||Wf(n))return tb;if(Hu(this))return Hu(n)?ec(this).R(ec(n)):ec(ec(this).R(n));if(Hu(n))return ec(this.R(ec(n)));if(0>this.X(XH)&&0>n.X(XH))return Oh(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=c*p,L1(t,2*r+2*i),t[2*r+2*i+1]+=o*p,L1(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,L1(t,2*r+2*i+1),t[2*r+2*i+2]+=o*h,L1(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Hi(t,0)},Mn.gb=function(n){return V1(this,n).h},Mn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Hi(t,this.h&n.h)},Mn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Hi(t,this.h|n.h)},Mn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Hi(t,this.h^n.h)},O1.prototype.createWebChannel=O1.prototype.g,Jl.prototype.send=Jl.prototype.u,Jl.prototype.open=Jl.prototype.m,Jl.prototype.close=Jl.prototype.close,I1.NO_ERROR=0,I1.TIMEOUT=8,I1.HTTP_ERROR=6,lH.COMPLETE="complete",dH.EventType=jC,jC.OPEN="a",jC.CLOSE="b",jC.ERROR="c",jC.MESSAGE="d",Ra.prototype.listen=Ra.prototype.O,cs.prototype.listenOnce=cs.prototype.P,cs.prototype.getLastError=cs.prototype.Sa,cs.prototype.getLastErrorCode=cs.prototype.Ia,cs.prototype.getStatus=cs.prototype.da,cs.prototype.getResponseJson=cs.prototype.Wa,cs.prototype.getResponseText=cs.prototype.ja,cs.prototype.send=cs.prototype.ha,cs.prototype.setWithCredentials=cs.prototype.Oa,Sd.prototype.digest=Sd.prototype.l,Sd.prototype.reset=Sd.prototype.reset,Sd.prototype.update=Sd.prototype.j,Hi.prototype.add=Hi.prototype.add,Hi.prototype.multiply=Hi.prototype.R,Hi.prototype.modulo=Hi.prototype.gb,Hi.prototype.compare=Hi.prototype.X,Hi.prototype.toNumber=Hi.prototype.ea,Hi.prototype.toString=Hi.prototype.toString,Hi.prototype.getBits=Hi.prototype.D,Hi.fromNumber=Oh,Hi.fromString=function QH(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ec(QH(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Oh(Math.pow(e,8)),r=tb,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=Oh(Math.pow(e,o)),r=r.R(o).add(Oh(c))):r=(r=r.R(t)).add(Oh(c))}return r},Ad.createWebChannelTransport=function(){return new O1},Ad.getStatEventTarget=function(){return b1()},Ad.ErrorCode=I1,Ad.EventType=lH,Ad.Event=uy,Ad.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ad.FetchXmlHttpFactory=qC,Ad.WebChannel=dH,Ad.XhrIo=cs,Ad.Md5=Sd;var cQ=Ad.Integer=Hi;const eG="@firebase/firestore";class Pa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pa.UNAUTHENTICATED=new Pa(null),Pa.GOOGLE_CREDENTIALS=new Pa("google-credentials-uid"),Pa.FIRST_PARTY=new Pa("first-party-uid"),Pa.MOCK_USER=new Pa("mock-user");let JC="10.4.0";const Um=new pr.Yd("@firebase/firestore");function tn(n,...e){if(Um.logLevel<=pr.in.DEBUG){const t=e.map(N2);Um.debug(`Firestore (${JC}): ${n}`,...t)}}function ws(n,...e){if(Um.logLevel<=pr.in.ERROR){const t=e.map(N2);Um.error(`Firestore (${JC}): ${n}`,...t)}}function N2(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Gn(n="Unexpected state"){const e=`FIRESTORE (${JC}) INTERNAL ASSERTION FAILED: `+n;throw ws(e),new Error(e)}function rr(n,e){n||Gn()}const ft_CANCELLED="cancelled",ft_INVALID_ARGUMENT="invalid-argument",ft_FAILED_PRECONDITION="failed-precondition",ft_UNAVAILABLE="unavailable";class Yt extends ut.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class la{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pa.UNAUTHENTICATED))}shutdown(){}}class dQ{constructor(e){this.t=e,this.currentUser=Pa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let c=new la;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new la,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,Et.Z)(function*(){yield _.promise,yield o(r.currentUser)}))},p=_=>{tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new la)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rr("string"==typeof r.accessToken),new tG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rr(null===e||"string"==typeof e),new Pa(e)}}class hQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Pa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new hQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,tn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rr("string"==typeof t.token),this.R=t.token,new nG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class rG{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=mQ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function kr(n,e){return n<e?-1:n>e?1:0}class U1{constructor(e,t,r){void 0===t?t=0:t>e.length&&Gn(),void 0===r?r=e.length-t:r>e.length-t&&Gn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===U1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof U1?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vi extends U1{construct(e,t,r){return new vi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Yt(ft_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vi(t)}static emptyPath(){return new vi([])}}class xn{constructor(e){this.path=e}static fromPath(e){return new xn(vi.fromString(e))}static fromName(e){return new xn(vi.fromString(e).popFirst(5))}static empty(){return new xn(vi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xn(new vi(e.slice()))}}function Bm(n){return"IndexedDbTransactionError"===n.name}class yo{constructor(e,t){this.comparator=e,this.root=t||tc.EMPTY}insert(e,t){return new yo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tc.BLACK,null,null))}remove(e){return new yo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new z1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new z1(this.root,e,this.comparator,!1)}getReverseIterator(){return new z1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new z1(this.root,e,this.comparator,!0)}}class z1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tc{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??tc.RED,this.left=i??tc.EMPTY,this.right=o??tc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new tc(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return tc.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gn();const e=this.left.check();if(e!==this.right.check())throw Gn();return e+(this.isRed()?0:1)}}tc.EMPTY=null,tc.RED=!0,tc.BLACK=!1,tc.EMPTY=new class{constructor(){this.size=0}get key(){throw Gn()}get value(){throw Gn()}get color(){throw Gn()}get left(){throw Gn()}get right(){throw Gn()}copy(e,t,r,i,o){return this}insert(e,t,r){return new tc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vo{constructor(e){this.comparator=e,this.data=new yo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yG(this.data.getIterator())}getIteratorFrom(e){return new yG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vo(this.comparator);return t.data=e,t}}class yG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ua{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vG("Invalid base64 string: "+o):o}}(e);return new ua(t)}static fromUint8Array(e){const t=function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o}(e);return new ua(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function us(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}ua.EMPTY_BYTE_STRING=new ua("");class zQ{constructor(e,t,r,i,o,c,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=_}}class _y{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _y("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _y&&e.projectId===this.projectId&&e.database===this.database}}var Hs,wi;new yo(xn.comparator),new yo(xn.comparator),new yo(xn.comparator),new vo(xn.comparator),new vo(kr),(wi=Hs||(Hs={}))[wi.OK=0]="OK",wi[wi.CANCELLED=1]="CANCELLED",wi[wi.UNKNOWN=2]="UNKNOWN",wi[wi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wi[wi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wi[wi.NOT_FOUND=5]="NOT_FOUND",wi[wi.ALREADY_EXISTS=6]="ALREADY_EXISTS",wi[wi.PERMISSION_DENIED=7]="PERMISSION_DENIED",wi[wi.UNAUTHENTICATED=16]="UNAUTHENTICATED",wi[wi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wi[wi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wi[wi.ABORTED=10]="ABORTED",wi[wi.OUT_OF_RANGE=11]="OUT_OF_RANGE",wi[wi.UNIMPLEMENTED=12]="UNIMPLEMENTED",wi[wi.INTERNAL=13]="INTERNAL",wi[wi.UNAVAILABLE=14]="UNAVAILABLE",wi[wi.DATA_LOSS=15]="DATA_LOSS",new cQ([4294967295,4294967295],0);class Cy{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(us(e.integerValue));else if("doubleValue"in e){const r=us(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),function nA(n){return 0===n&&1/n==-1/0}(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(function qf(n){return"string"==typeof n?ua.fromBase64String(n):ua.fromUint8Array(n)}(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?function EG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):Gn()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const i of Object.keys(r))this.ft(i,t),this.Tt(r[i],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const i of r)this.Tt(i,t)}wt(e,t){this.At(t,37),xn.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}Cy.Ct=new Cy,new Uint8Array(0);class Sc{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sc(e,Sc.DEFAULT_COLLECTION_PERCENTILE,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mP(){return typeof document<"u"?document:null}Sc.DEFAULT_COLLECTION_PERCENTILE=10,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sc.DEFAULT=new Sc(41943040,Sc.DEFAULT_COLLECTION_PERCENTILE,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sc.DISABLED=new Sc(-1,0,0);class SV{constructor(e,t,r=1e3,i=1.5,o=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=i,this.No=o,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,t-r);i>0&&tn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class WV{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,h=new WV(e,t,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yt(ft_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class JJ{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pa.UNAUTHENTICATED,this.clientId=rG.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Et.Z)(function*(h){tn("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(tn("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Et.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Yt(ft_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Et.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Db(n,e){if(ws("AsyncQueue",`${e}: ${n}`),Bm(n))return new Yt(ft_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function B6(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const z6=new Map;class W6{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Yt(ft_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yt(ft_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function uee(n,e,t,r){if(!0===e&&!0===r)throw new Yt(ft_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=B6(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Yt(ft_INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Yt(ft_INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Yt(ft_INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class MA{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Yt(ft_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yt(ft_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W6(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new lQ;switch(r.type){case"firstParty":return new fQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Yt(ft_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=z6.get(t);r&&(tn("ComponentProvider","Removing Datastore"),z6.delete(t),r.terminate())}(this),Promise.resolve()}}class fee{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new SV(this,"async_queue_retry"),this.ou=()=>{const t=mP();t&&tn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=mP();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=mP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new la;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,Et.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!Bm(t))throw t;tn("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,ws("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const i=WV.createAndSchedule(this,e,t,r,o=>this.cu(o));return this.tu.push(i),i}_u(){this.nu&&Gn()}verifyOperationInProgress(){}lu(){var e=this;return(0,Et.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}class wo extends MA{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fee,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function Z6(n){var e,t,r;const i=n._freezeSettings(),o=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zQ(n._databaseId,p,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,B6(w.experimentalLongPollingOptions),w.useFetchStreams));var p,w;n._firestoreClient=new JJ(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function zU(){return(0,U.e)((n,e)=>{let t,r=!1;n.subscribe((0,oe.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}!function(e,t=!0){JC=an.SDK_VERSION,(0,an._registerComponent)(new ln.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new wo(new dQ(r.getProvider("auth-internal")),new pQ(r.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Yt(ft_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _y(_.options.projectId,w)}(c,i),c);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),(0,an.registerVersion)(eG,"4.2.0",e),(0,an.registerVersion)(eG,"4.2.0","esm2017")}();var jee=W(3997),Bee=(W(8661),W(3399));function HU(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function _9(){if(typeof Uint8Array>"u")throw new Gt("unimplemented","Uint8Arrays are not available in this environment.")}function y9(){if(!function Gj(){return typeof atob<"u"}())throw new Gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class LA{constructor(e){this._delegate=e}static fromBase64String(e){return y9(),new LA(Mh.fromBase64String(e))}static fromUint8Array(e){return _9(),new LA(Mh.fromUint8Array(e))}toBase64(){return y9(),this._delegate.toBase64()}toUint8Array(){return _9(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GU(n){return function Gee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class $ee{enableIndexedDbPersistence(e,t){return function M5(n,e){TB(n=di(n,Do));const t=vs(n);if(t._uninitializedComponentsProvider)throw new Gt(dt.FAILED_PRECONDITION,"SDK cache is already specified.");Zc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new xw;return EB(t,i,new bF(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function R5(n){TB(n=di(n,Do));const e=vs(n);if(e._uninitializedComponentsProvider)throw new Gt(dt.FAILED_PRECONDITION,"SDK cache is already specified.");Zc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new xw;return EB(e,r,new iB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function P5(n){if(n._initialized&&!n._terminated)throw new Gt(dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Et.Z)(function*(){try{yield(t=(0,Et.Z)(function*(r){if(!oa.D())return Promise.resolve();const i=r+"main";yield oa.delete(i)}),function(r){return t.apply(this,arguments)})(uw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class v9{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _h||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){vB(this._delegate,e,t,r)}enableNetwork(){return function N5(n){return function _5(n){return n.asyncQueue.enqueue((0,Et.Z)(function*(){const e=yield aB(n),t=yield cB(n);return e.setNetworkEnabled(!0),function(r){const i=wn(r);return i.vu.delete(0),ym(i)}(t)}))}(vs(n=di(n,Do)))}(this._delegate)}disableNetwork(){return function O5(n){return function y5(n){return n.asyncQueue.enqueue((0,Et.Z)(function*(){const e=yield aB(n),t=yield cB(n);return e.setNetworkEnabled(!1),(r=(0,Et.Z)(function*(i){const o=wn(i);o.vu.add(0),yield vm(o),o.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(vs(n=di(n,Do)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function k5(n){return function(e){const t=new Zo;return e.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return function J9(n,e){return oF.apply(this,arguments)}(yield xF(e),t)})),t.promise}(vs(n=di(n,Do)))}(this._delegate)}onSnapshotsInSync(e){return function hW(n,e){return function b5(n,e){const t=new JM(e);return n.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return r=yield Dw(n),i=t,wn(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return r=yield Dw(n),i=t,void wn(r).ku.delete(i);var r,i}))}}(vs(n=di(n,Do)),PF(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Gt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jb(this,wB(this._delegate,e))}catch(t){throw tl(t,"collection()","Firestore.collection()")}}doc(e){try{return new $u(this,iR(this._delegate,e))}catch(t){throw tl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new nl(this,function C5(n,e){if(n=di(n,zT),MF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gt(dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xa(n,null,(t=e,new Ou(ui.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw tl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function EW(n,e,t){n=di(n,Do);const r=Object.assign(Object.assign({},bW),t);return function(i){if(i.maxAttempts<1)throw new Gt(dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,c){const h=new Zo;return i.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){const p=yield function lB(n){return tR(n).then(e=>e.datastore)}(i);new m5(i.asyncQueue,p,c,o,h).run()})),h.promise}(vs(n),i=>e(new IW(n,i)),r)}(this._delegate,t=>e(new w9(this,t)))}batch(){return vs(this._delegate),new b9(new HB(this._delegate,e=>Rw(this._delegate,e)))}loadBundle(e){return function F5(n,e){const t=vs(n=di(n,Do)),r=new S5;return function I5(n,e,t,r){const i=function(o,c){let h;return h="string"==typeof o?nT().encode(o):o,p=function(p,_){if(p instanceof Uint8Array)return oB(p,_);if(p instanceof ArrayBuffer)return oB(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new f5(p,c);var p}(t,_w(e));n.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){!function d5(n,e,t){const r=wn(n);var i;(i=(0,Et.Z)(function*(o,c,h){try{const p=yield c.getMetadata();if(yield function(F,$){const he=wn(F),we=Qo($.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",ve=>he.qs.getBundleMetadata(ve,$.id)).then(ve=>!!ve&&ve.createTime.compareTo(we)>=0)}(o.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(F=p).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);h._updateProgress(v(p));const _=new m(p,o.localStore,c.serializer);let w=yield c.bc();for(;w;){const F=yield _.zu(w);F&&h._updateProgress(F),w=yield c.bc()}const D=yield _.complete();return yield Ff(o,D.Ju,void 0),yield function(F,$){const he=wn(F);return he.persistence.runTransaction("Save bundle","readwrite",we=>he.qs.saveBundleMetadata(we,$))}(o.localStore,p),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(p){return Zc("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var F}),function(o,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield xF(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function L5(n,e){return function E5(n,e){return n.asyncQueue.enqueue((0,Et.Z)(function*(){return function(t,r){const i=wn(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.qs.getNamedQuery(o,r))}(yield nR(n),e)}))}(vs(n=di(n,Do)),e).then(t=>t?new Xa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new nl(this,t):null)}}class kP extends UF{constructor(e){super(),this.firestore=e}convertBytes(e){return new LA(new Mh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $u.forKey(t,this.firestore,null)}}class w9{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new kP(e)}get(e){const t=ky(e);return this._delegate.get(t).then(r=>new VA(this._firestore,new Vf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ky(e);return r?(HU("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ky(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ky(e);return this._delegate.delete(t),this}}class b9{constructor(e){this._delegate=e}set(e,t,r){const i=ky(e);return r?(HU("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ky(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ky(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Py{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new KT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new UA(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Py.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Py(e,new kP(e),t),i.set(t,o)),o}}Py.INSTANCES=new WeakMap;class $u{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kP(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $u(t,new xo(t._delegate,r,new yn(e)))}static forKey(e,t,r){return new $u(t,new xo(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jb(this.firestore,wB(this._delegate,e))}catch(t){throw tl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ut.m9)(e))instanceof xo&&bB(this._delegate,e)}set(e,t){t=HU("DocumentReference.set",t);try{return t?jB(this._delegate,e,t):jB(this._delegate,e)}catch(r){throw tl(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?BB(this._delegate,e):BB(this._delegate,e,t,...r)}catch(i){throw tl(i,"updateDoc()","DocumentReference.update()")}}delete(){return function uW(n){return Rw(di(n.firestore,Do),[new If(n._key,_o.none())])}(this._delegate)}onSnapshot(...e){const t=I9(e),r=E9(e,i=>new VA(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return zB(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function oW(n){n=di(n,xo);const e=di(n.firestore,Do),t=vs(e),r=new Am(e);return function v5(n,e){const t=new Zo;return n.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return(r=(0,Et.Z)(function*(i,o,c){try{const h=yield function(p,_){const w=wn(p);return w.persistence.runTransaction("read document","readonly",D=>w.localDocuments.getDocument(D,_))}(i,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Gt(dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=$_(h,`Failed to get document '${o} from cache`);c.reject(p)}}),function(i,o,c){return r.apply(this,arguments)})(yield nR(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Vf(e,r,n._key,i,new Q_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function sW(n){n=di(n,xo);const e=di(n.firestore,Do);return uB(vs(e),n._key,{source:"server"}).then(t=>jF(e,n,t))}(this._delegate):function iW(n){n=di(n,xo);const e=di(n.firestore,Do);return uB(vs(e),n._key).then(t=>jF(e,n,t))}(this._delegate),t.then(r=>new VA(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $u(this.firestore,this._delegate.withConverter(e?Py.getInstance(this.firestore,e):null))}}function tl(n,e,t){return n.message=n.message.replace(e,t),n}function I9(n){for(const e of n)if("object"==typeof e&&!GU(e))return e;return{}}function E9(n,e){var t,r;let i;return i=GU(n[0])?n[0]:GU(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class VA{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $u(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UB(this._delegate,e._delegate)}}class UA extends VA{data(e){const t=this._delegate.data(e);return function Fx(n,e){n||Fn()}(void 0!==t),t}}class nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kP(e)}where(e,t,r){try{return new nl(this.firestore,Tm(this._delegate,function q5(n,e,t){const r=e,i=uR("where",n);return ZT._create(i,r,t)}(e,t,r)))}catch(i){throw tl(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new nl(this.firestore,Tm(this._delegate,function Z5(n,e="asc"){const t=e,r=uR("orderBy",n);return VF._create(r,t)}(e,t)))}catch(r){throw tl(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new nl(this.firestore,Tm(this._delegate,function K5(n){return _B("limit",n),dR._create("limit",n,"F")}(e)))}catch(t){throw tl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new nl(this.firestore,Tm(this._delegate,function Y5(n){return _B("limitToLast",n),dR._create("limitToLast",n,"L")}(e)))}catch(t){throw tl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new nl(this.firestore,Tm(this._delegate,function Q5(...n){return hR._create("startAt",n,!0)}(...e)))}catch(t){throw tl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new nl(this.firestore,Tm(this._delegate,function X5(...n){return hR._create("startAfter",n,!1)}(...e)))}catch(t){throw tl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new nl(this.firestore,Tm(this._delegate,function J5(...n){return fR._create("endBefore",n,!1)}(...e)))}catch(t){throw tl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new nl(this.firestore,Tm(this._delegate,function eW(...n){return fR._create("endAt",n,!0)}(...e)))}catch(t){throw tl(t,"endAt()","Query.endAt()")}}isEqual(e){return RF(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function cW(n){n=di(n,Xa);const e=di(n.firestore,Do),t=vs(e),r=new Am(e);return function w5(n,e){const t=new Zo;return n.asyncQueue.enqueueAndForget((0,Et.Z)(function*(){return(r=(0,Et.Z)(function*(i,o,c){try{const h=yield H_(i,o,!0),p=new O(o,h.ir),_=p.sc(h.documents),w=p.applyChanges(_,!1);c.resolve(w.snapshot)}catch(h){const p=$_(h,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(i,o,c){return r.apply(this,arguments)})(yield nR(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Cm(e,r,n,i))}(this._delegate):"server"===e?.source?function lW(n){n=di(n,Xa);const e=di(n.firestore,Do),t=vs(e),r=new Am(e);return dB(t,n._query,{source:"server"}).then(i=>new Cm(e,r,n,i))}(this._delegate):function aW(n){n=di(n,Xa);const e=di(n.firestore,Do),t=vs(e),r=new Am(e);return PB(n._query),dB(t,n._query).then(i=>new Cm(e,r,n,i))}(this._delegate),t.then(r=>new $U(this.firestore,new Cm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=I9(e),r=E9(e,i=>new $U(this.firestore,new Cm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return zB(this._delegate,t,r)}withConverter(e){return new nl(this.firestore,this._delegate.withConverter(e?Py.getInstance(this.firestore,e):null))}}class qee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new UA(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $U{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new nl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new UA(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new UA(this._firestore,r))})}isEqual(e){return UB(this._delegate,e._delegate)}}class jb extends nl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $u(this.firestore,e):null}doc(e){try{return new $u(this.firestore,void 0===e?iR(this._delegate):iR(this._delegate,e))}catch(t){throw tl(t,"doc()","CollectionReference.doc()")}}add(e){return function dW(n,e){const t=di(n.firestore,Do),r=iR(n),i=pR(n.converter,e);return Rw(t,[aR(K_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,_o.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new $u(this.firestore,t))}isEqual(e){return bB(this._delegate,e._delegate)}withConverter(e){return new jb(this.firestore,this._delegate.withConverter(e?Py.getInstance(this.firestore,e):null))}}function ky(n){return di(n,xo)}class WU{constructor(...e){this._delegate=new Lf(...e)}static documentId(){return new WU(zo.keyField().canonicalString())}isEqual(e){return(e=(0,ut.m9)(e))instanceof Lf&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ny{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CW(){return new kF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ny(e)}static delete(){const e=function TW(){return new GT("deleteField")}();return e._methodName="FieldValue.delete",new Ny(e)}static arrayUnion(...e){const t=function AW(...n){return new z5("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ny(t)}static arrayRemove(...e){const t=function SW(...n){return new H5("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ny(t)}static increment(e){const t=function xW(n){return new G5("increment",n)}(e);return t._methodName="FieldValue.increment",new Ny(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Zee={Firestore:v9,GeoPoint:oR,Timestamp:go,Blob:LA,Transaction:w9,WriteBatch:b9,DocumentReference:$u,DocumentSnapshot:VA,Query:nl,QueryDocumentSnapshot:UA,QuerySnapshot:$U,CollectionReference:jb,FieldPath:WU,FieldValue:Ny,setLogLevel:function Wee(n){!function HN(n){ph.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Yee(n){(function Kee(n,e){n.INTERNAL.registerComponent(new ln.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Zee)))})(n,(e,t)=>new v9(e,t,new $ee)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Bee.Z);var Qee=W(3019),NP=W(3093),Xee=W(4552);class Jee extends _l.x{constructor(e=1/0,t=1/0,r=Xee.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let h=0;for(let p=1;p<r.length&&r[p]<=c;p+=2)h=p;h&&r.splice(0,h+1)}}}var ete=W(3020);function T9(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,ete.B)({connector:()=>new Jee(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function C9(n,e){return(0,M.m)(e)?(0,Ue.w)(()=>n,e):(0,Ue.w)(()=>n)}var qU=W(5137);const A9=new u.OlP("angularfire2.auth.use-emulator"),S9=new u.OlP("angularfire2.auth.settings"),x9=new u.OlP("angularfire2.auth.tenant-id"),D9=new u.OlP("angularfire2.auth.langugage-code"),M9=new u.OlP("angularfire2.auth.use-device-language"),R9=new u.OlP("angularfire.auth.persistence"),P9=(n,e,t,r,i,o,c,h)=>(0,Q.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,o&&p.useDeviceLanguage(),c)for(const[_,w]of Object.entries(c))p.settings[_]=w;return h&&p.setPersistence(h),p},[t,r,i,o,c,h]);let k9=(()=>{class n{constructor(t,r,i,o,c,h,p,_,w,D,F,$){const he=new _l.x,we=(0,Pn.of)(void 0).pipe((0,NP.Q)(c.outsideAngular),(0,Ue.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(W.bind(W,8661)))),(0,pe.U)(()=>(0,Q.on)(t,o,r)),(0,pe.U)(ve=>P9(ve,o,h,_,w,D,p,F)),T9({bufferSize:1,refCount:!1}));if(ts(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pn.of)(null);else{we.pipe(Nm()).subscribe();const gt=we.pipe((0,Ue.w)(Wt=>Wt.getRedirectResult().then(fn=>fn,()=>null)),$r.iC,T9({bufferSize:1,refCount:!1})),Dt=we.pipe((0,Ue.w)(Wt=>new To.y(fn=>({unsubscribe:o.runOutsideAngular(()=>Wt.onAuthStateChanged(In=>fn.next(In),In=>fn.error(In),()=>fn.complete()))})))),pt=we.pipe((0,Ue.w)(Wt=>new To.y(fn=>({unsubscribe:o.runOutsideAngular(()=>Wt.onIdTokenChanged(In=>fn.next(In),In=>fn.error(In),()=>fn.complete()))}))));this.authState=gt.pipe(C9(Dt),(0,qU.R)(c.outsideAngular),(0,NP.Q)(c.insideAngular)),this.user=gt.pipe(C9(pt),(0,qU.R)(c.outsideAngular),(0,NP.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,Ue.w)(Wt=>Wt?(0,Br.D)(Wt.getIdToken()):(0,Pn.of)(null))),this.idTokenResult=this.user.pipe((0,Ue.w)(Wt=>Wt?(0,Br.D)(Wt.getIdTokenResult()):(0,Pn.of)(null))),this.credential=(0,Qee.T)(gt,he,this.authState.pipe(fe(Wt=>!Wt))).pipe((0,pe.U)(Wt=>Wt?.user?Wt:null),(0,qU.R)(c.outsideAngular),(0,NP.Q)(c.insideAngular))}return(0,Q.pX)(this,we,o,{spy:{apply:(ve,gt,Dt)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&Dt.then(pt=>he.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q.Dh),u.LFG(Q.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG($r.HU),u.LFG(A9,8),u.LFG(S9,8),u.LFG(x9,8),u.LFG(D9,8),u.LFG(M9,8),u.LFG(R9,8),u.LFG(Tu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function N9(n,e){return function nte(n,e=Ve.z){return new To.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function ZU(n,e){return N9(n,e).pipe((0,pe.U)(t=>({payload:t,type:"query"})))}function OP(n,e){return ZU(n,e).pipe(cC(void 0),zU(),(0,pe.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const p=i.find(w=>w.doc.ref.isEqual(c.ref)),_=t?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function O9(n,e,t){return OP(n,t).pipe(ZR((r,i)=>function ite(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ote(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return KU(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return KU(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return KU(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),(0,jee.x)(),(0,pe.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function KU(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function F9(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class L9{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=OP(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pe.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(cC(void 0),zU(),fe(([r,i])=>i.length>0||!r),(0,pe.U)(([r,i])=>i),$r.iC)}auditTrail(e){return this.stateChanges(e).pipe(ZR((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=F9(e);return O9(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return ZU(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),$r.iC)}get(e){return(0,Br.D)(this.query.get(e)).pipe($r.iC)}add(e){return this.ref.add(e)}doc(e){return new V9(this.ref.doc(e),this.afs)}}class V9{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=U9(r,t);return new L9(i,o,this.afs)}snapshotChanges(){return function rte(n,e){return N9(n,e).pipe(cC(void 0),zU(),(0,pe.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Br.D)(this.ref.get(e)).pipe($r.iC)}}class ste{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?OP(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),fe(t=>t.length>0),$r.iC):OP(this.query,this.afs.schedulers.outsideAngular).pipe($r.iC)}auditTrail(e){return this.stateChanges(e).pipe(ZR((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=F9(e);return O9(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return ZU(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),$r.iC)}get(e){return(0,Br.D)(this.query.get(e)).pipe($r.iC)}}const ate=new u.OlP("angularfire2.enableFirestorePersistence"),cte=new u.OlP("angularfire2.firestore.persistenceSettings"),lte=new u.OlP("angularfire2.firestore.settings"),ute=new u.OlP("angularfire2.firestore.use-emulator");function U9(n,e=(t=>t)){return{query:e(n),ref:n}}let j9=(()=>{class n{constructor(t,r,i,o,c,h,p,_,w,D,F,$,he,we,ve,gt,Dt){this.schedulers=p;const pt=(0,Q.on)(t,h,r),Wt=w;D&&P9(pt,h,F,he,we,ve,$,gt),[this.firestore,this.persistenceEnabled$]=(0,Q.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const fn=h.runOutsideAngular(()=>pt.firestore());if(o&&fn.settings(o),Wt&&fn.useEmulator(...Wt),i&&!ts(c)){const In=()=>{try{return(0,Br.D)(fn.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(zr){return typeof console<"u"&&console.warn(zr),(0,Pn.of)(!1)}};return[fn,h.runOutsideAngular(In)]}return[fn,(0,Pn.of)(!1)]},[o,Wt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=U9(i,r),h=this.schedulers.ngZone.run(()=>o);return new L9(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new ste(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new V9(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q.Dh),u.LFG(Q.xv,8),u.LFG(ate,8),u.LFG(lte,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG($r.HU),u.LFG(cte,8),u.LFG(ute,8),u.LFG(k9,8),u.LFG(A9,8),u.LFG(S9,8),u.LFG(x9,8),u.LFG(D9,8),u.LFG(M9,8),u.LFG(R9,8),u.LFG(Tu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),B9=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}uploadProduct(t){this.firestore.collection("products").add({...t,id:this.firestore.createId()}).then(()=>{console.log("Success"),this.router.navigate(["/"])}).catch(r=>{console.log(r)})}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(j9),u.LFG(ca))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class z9{constructor(e,t,r,i){this.email=e,this.id=t,this._token=r,this._tokenExpirationDate=i}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}let jA=(()=>{class n{constructor(t,r){this.http=t,this.router=r,this.users=localStorage.getItem("users")||"",this.user=new Xl.X(null)}getUsers(){this.http.get("http://localhost:3000/users").subscribe(t=>this.objUsers=t)}signup(t){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:t.email,password:t.inputPassword,returnSecureToken:!0}).pipe(zf(this.handleError),(0,Da.b)(o=>{this.handleAuth(o.email,o.localId,o.idToken,+o.expiresIn)}))}handleError(t){return console.log(t.error.error.message),t.error}handleAuth(t,r,i,o){const c=new Date((new Date).getTime()+1e3*o),h=new z9(t,r,i,c);this.user.next(h),this.autoLogout(1e3*o),localStorage.setItem("loggedData",JSON.stringify(h))}login(t,r){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:t,password:r,returnSecureToken:!0}).pipe(zf(this.handleError),(0,Da.b)(i=>{this.handleAuth(i.email,i.localId,i.idToken,+i.expiresIn),this.user.next(i.idToken),this.router.navigate(["/admin"])}))}isLogged(){return localStorage.getItem("loggedData")}logout(){localStorage.removeItem("loggedData"),this.user.next(null),this.router.navigate(["/login"]),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}autoLogin(){const t=localStorage.getItem("loggedData"),r=t?JSON.parse(t):null;if(!r)return;const i=new z9(r.email,r.userId,r._token,new Date(r._tokenExpirationDate));if(i.token){const o=new Date(r._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(o),this.user.next(i)}}autoLogout(t){this.tokenExpirationTimer=setTimeout(()=>{this.logout()},t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(pc),u.LFG(ca))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dte(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.logout())}),u._uU(1," Logout "),u.qZA()}}function hte(n,e){1&n&&(u.TgZ(0,"button",6),u._uU(1," Login "),u.qZA())}let fte=(()=>{class n{constructor(t){this.auth=t,this.isAuth=!1}ngOnInit(){this.auth.user.subscribe(t=>{this.isAuth=!!t})}logout(){this.auth.logout()}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(jA))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:5,vars:2,consts:[[1,"bg-transparent"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-transparent"],[1,"container-fluid"],["class","btn  btn-outline-dark mx-auto",3,"click",4,"ngIf"],["class","btn  btn-outline-dark mx-auto","routerLink","/login",4,"ngIf"],[1,"btn","btn-outline-dark","mx-auto",3,"click"],["routerLink","/login",1,"btn","btn-outline-dark","mx-auto"]],template:function(r,i){1&r&&(u.TgZ(0,"header",0)(1,"nav",1)(2,"div",2),u.YNc(3,dte,2,0,"button",3),u.YNc(4,hte,2,0,"button",4),u.qZA()()()),2&r&&(u.xp6(3),u.Q6J("ngIf",i.isAuth),u.xp6(1),u.Q6J("ngIf",!i.isAuth))},dependencies:[Po,Yw]})}return n})(),pte=(()=>{class n{constructor(t){this.prodService=t,this.list=["smartphones","skincare","fragrances","laptops","groceries"]}formHandler(t){let r=t.form.value,i=[];i.push(r.images),console.log(i);let o={...r,images:i};console.log(o),this.prodService.uploadProduct(o)}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(B9))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-admin-panel"]],decls:18,vars:0,consts:[[1,"row"],[1,"col-2","position-fixed","h-100","bg-white","rounded"],[1,"py-3","mx-1"],[1,"mt-0","mb-3","mx-2"],["routerLink","/",1,"navbar-brand","fw-bold"],["src","\\assets\\logo.svg","alt","Anywhere-logo"],[1,"h4","fw-bold"],[1,"list-group"],["routerLink","product-list",1,"list-group-item"],["routerLink","add-product",1,"list-group-item"],["routerLink","add-category",1,"list-group-item"],[1,"col-8","mx-auto","rounded"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u._UZ(5,"img",5),u.TgZ(6,"span",6),u._uU(7," Anywhere App "),u.qZA()()(),u.TgZ(8,"ul",7)(9,"a",8),u._uU(10,"Product List"),u.qZA(),u.TgZ(11,"a",9),u._uU(12,"Add Product"),u.qZA(),u.TgZ(13,"a",10),u._uU(14,"Add Category"),u.qZA()()(),u._UZ(15,"app-header"),u.qZA(),u.TgZ(16,"div",11),u._UZ(17,"router-outlet"),u.qZA()())},dependencies:[o1,Yw,fte],styles:["#filterBar[_ngcontent-%COMP%]{position:fixed;left:4%;border-radius:10px;background-color:#feffff!important}"]})}return n})();function mte(n,e){if(1&n&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.error)}}let gte=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.error="",this.isEmail=!0}formOp(t){this.auth.login(t.value.email,t.value.password).subscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(jA),u.Y36(ca))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:2,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","text-white","my-0"],[1,"text-primary","fw-bolder","display-3"],[1,"h6","text-secondary","my-2"],["href","/signup",1,"text-decoration-none"],["id","box",1,"col-xl-6","col-lg-6","col-md-10","col-sm-12","my-5","rounded"],["id","form",3,"ngSubmit"],["authForm","ngForm"],["class","text-danger small",4,"ngIf"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","ngModel","","name","email","placeholder","Enter Email","email","","required","",1,"form-control","rounded-4","py-3"],["for","password",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","password","ngModel","","name","password","placeholder","Enter Password","required","","password","","minlength","8",1,"form-control","rounded-4","py-3"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["href","/signup",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"]],template:function(r,i){if(1&r){const o=u.EpF();u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"WELCOME BACK"),u.qZA(),u.TgZ(3,"h1",2),u._uU(4," Account Login "),u.TgZ(5,"span",3),u._uU(6,"."),u.qZA()(),u.TgZ(7,"p",4),u._uU(8,"Don't have an Account? "),u.TgZ(9,"a",5),u._uU(10,"Create New Account"),u.qZA()(),u.TgZ(11,"div",6)(12,"form",7,8),u.NdJ("ngSubmit",function(){u.CHM(o);const h=u.MAs(13);return u.KtG(i.formOp(h))}),u.YNc(14,mte,2,1,"span",9),u.TgZ(15,"div",10)(16,"label",11),u._uU(17,"Email"),u.qZA(),u._UZ(18,"input",12),u.qZA(),u.TgZ(19,"div",10)(20,"label",13),u._uU(21,"Password"),u.qZA(),u._UZ(22,"input",14),u.qZA(),u.TgZ(23,"div",15)(24,"a",16),u._uU(25,"Change Method"),u.qZA(),u.TgZ(26,"button",17),u._uU(27,"Next"),u.qZA()()()()()}if(2&r){const o=u.MAs(13);u.xp6(14),u.Q6J("ngIf",i.error),u.xp6(12),u.Q6J("disabled",!o.valid)}},dependencies:[Po,Ow,xm,Pw,kw,iC,SR,AR,eL,TR]})}return n})();function _te(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Enter a valid Email "),u.qZA())}function yte(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Email is required "),u.qZA())}function vte(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,_te,2,0,"span",14),u.YNc(2,yte,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("email").errors.email),u.xp6(1),u.Q6J("ngIf",t.authForm.get("email").errors.required)}}function wte(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Passoword is required "),u.qZA())}function bte(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Passoword should match the criteria and should be 8 chars long "),u.qZA())}function Ite(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,wte,2,0,"span",14),u.YNc(2,bte,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("inputPassword").errors.required),u.xp6(1),u.Q6J("ngIf",t.authForm.get("inputPassword").errors.pattern||t.authForm.get("inputPassword").errors.minlength)}}function Ete(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Confirm Passoword is required "),u.qZA())}function Tte(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Both password should match "),u.qZA())}function Cte(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,Ete,2,0,"span",14),u.YNc(2,Tte,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("confirmPassword").errors.required),u.xp6(1),u.Q6J("ngIf",t.ifMatched&&t.authForm.get("inputPassword").valid)}}let Ate=(()=>{class n{constructor(t){this.auth=t,this.confirmPassword="",this.inputPassword="",this.ifMatched=!0,this.passwordRegex=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/,this.isValid=!1,this.numEx=/^[A-Za-z]+$/}ngOnInit(){this.authForm=new J_({email:new gl(null,[aa.required,aa.email]),inputPassword:new gl(null,[aa.required,aa.pattern(this.passwordRegex)]),confirmPassword:new gl(null,[aa.required,aa.pattern(this.passwordRegex)])})}onSubmit(){console.log(this.authForm),this.auth.signup(this.authForm.value).subscribe()}passwordMatch(){this.ifMatched=this.confirmPassword===this.inputPassword}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(jA))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-sign-up"]],decls:39,vars:5,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","text-white"],[1,"text-primary","fw-bolder","display-4"],[1,"h6","text-secondary"],["routerLink","/login",1,"text-decoration-none"],[1,"col-xl-6","col-md-10","col-sm-12","my-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["id","",1,"text-danger"],[1,"col-11"],[1,"form-group",3,"has-error"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","formControlName","email","placeholder","Enter Email","required","","email","",1,"form-control","rounded-4","py-3"],["class","small text-danger",4,"ngIf"],["for","inputPassword",1,"col-sm-5","col-form-label","fw-semibold"],["title","A mixture of both uppercase and lowercase letters.\n  A mixture of letters and numbers.\n  Inclusion of at least one special character, e.g., ! @ # ? ]","data-bs-placement","bottom",1,"tt"],["type","password","id","inputPassword","formControlName","inputPassword","placeholder","Enter Password","required","","minlength","8","password","",1,"form-control","rounded-4","py-3",3,"ngModelChange"],["for","confirmPassword",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Re-enter Password","required","","minlength","8",1,"form-control","rounded-4","py-3",3,"ngModelChange"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["routerLink","/login",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"small","text-danger"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"START FOR FREE"),u.qZA(),u.TgZ(3,"h1",2),u._uU(4," Create new account "),u.TgZ(5,"span",3),u._uU(6,"."),u.qZA()(),u.TgZ(7,"p",4),u._uU(8," Already A Member? "),u.TgZ(9,"a",5),u._uU(10,"Log In"),u.qZA()(),u.TgZ(11,"div",6)(12,"form",7),u.NdJ("ngSubmit",function(){return i.onSubmit()}),u.TgZ(13,"div",8),u._UZ(14,"span",9),u.TgZ(15,"div",10)(16,"div",11)(17,"label",12),u._uU(18,"Email"),u.qZA(),u._UZ(19,"input",13),u.qZA(),u.YNc(20,vte,3,2,"span",14),u.qZA()(),u.TgZ(21,"div",10)(22,"div",11)(23,"label",15),u._uU(24,"Password"),u.qZA(),u.TgZ(25,"span",16)(26,"input",17),u.NdJ("ngModelChange",function(){return i.passwordMatch()}),u.qZA()()(),u.YNc(27,Ite,3,2,"span",14),u.qZA(),u.TgZ(28,"div",10)(29,"div",11)(30,"label",18),u._uU(31,"Confirm Password"),u.qZA(),u.TgZ(32,"input",19),u.NdJ("ngModelChange",function(){return i.passwordMatch()}),u.qZA()(),u.YNc(33,Cte,3,2,"span",14),u.qZA(),u.TgZ(34,"div",20)(35,"a",21),u._uU(36,"Change Method"),u.qZA(),u.TgZ(37,"button",22),u._uU(38," Create Account "),u.qZA()()()()()),2&r&&(u.xp6(12),u.Q6J("formGroup",i.authForm),u.xp6(8),u.Q6J("ngIf",!i.authForm.get("email").valid&&i.authForm.get("email").touched),u.xp6(7),u.Q6J("ngIf",!i.authForm.get("inputPassword").valid&&i.authForm.get("inputPassword").touched),u.xp6(6),u.Q6J("ngIf",!i.authForm.get("confirmPassword").valid&&i.authForm.get("confirmPassword").touched),u.xp6(4),u.Q6J("disabled",!i.authForm.valid||!i.ifMatched))},dependencies:[Po,Yw,Ow,xm,Pw,kw,iC,SR,AR,ty,Fw]})}return n})(),Ste=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(){return!!this.auth.isLogged()||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(jA),u.LFG(ca))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();(0,an.registerVersion)("firebase","10.4.0","app");let FP=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}getProducts(){return this.firestore.collection("products").valueChanges()}deleteProduct(t){this.firestore.collection("products",r=>r.where("id","==",t)).get().subscribe(r=>{r.forEach(i=>{i.ref.delete().then(()=>{console.log("deleted")})})})}getProductById(t){return this.firestore.collection("products",r=>r.where("id","==",t)).valueChanges()}updateProduct(t,r){this.firestore.collection("products",i=>i.where("id","==",t)).get().subscribe(i=>{i.forEach(o=>{o.ref.update(r).then(()=>{console.log("updated"),this.router.navigate(["admin"])})})})}getCategories(){return this.firestore.collection("categories").doc("UhXnpCPXIasl4tEGsBu7").valueChanges()}setCategories(t){return this.firestore.collection("categories").doc("UhXnpCPXIasl4tEGsBu7").set(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.LFG(j9),u.LFG(ca))};static#t=this.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-loader"]],decls:13,vars:0,consts:[[1,"loader"],[1,"bar1"],[1,"bar2"],[1,"bar3"],[1,"bar4"],[1,"bar5"],[1,"bar6"],[1,"bar7"],[1,"bar8"],[1,"bar9"],[1,"bar10"],[1,"bar11"],[1,"bar12"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),u.qZA())},styles:[".loader[_ngcontent-%COMP%]{position:relative;width:54px;height:54px;top:5em;border-radius:10px}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8%;height:24%;background:rgb(255,255,255);position:absolute;left:50%;top:30%;opacity:0;border-radius:50px;box-shadow:0 0 3px #0003;animation:_ngcontent-%COMP%_fade458 1s linear infinite}@keyframes _ngcontent-%COMP%_fade458{0%{opacity:1}to{opacity:.25}}.loader[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%]{transform:rotate(0) translateY(-130%);animation-delay:0s}.loader[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%]{transform:rotate(30deg) translateY(-130%);animation-delay:-1.1s}.loader[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{transform:rotate(60deg) translateY(-130%);animation-delay:-1s}.loader[_ngcontent-%COMP%]   .bar4[_ngcontent-%COMP%]{transform:rotate(90deg) translateY(-130%);animation-delay:-.9s}.loader[_ngcontent-%COMP%]   .bar5[_ngcontent-%COMP%]{transform:rotate(120deg) translateY(-130%);animation-delay:-.8s}.loader[_ngcontent-%COMP%]   .bar6[_ngcontent-%COMP%]{transform:rotate(150deg) translateY(-130%);animation-delay:-.7s}.loader[_ngcontent-%COMP%]   .bar7[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-130%);animation-delay:-.6s}.loader[_ngcontent-%COMP%]   .bar8[_ngcontent-%COMP%]{transform:rotate(210deg) translateY(-130%);animation-delay:-.5s}.loader[_ngcontent-%COMP%]   .bar9[_ngcontent-%COMP%]{transform:rotate(240deg) translateY(-130%);animation-delay:-.4s}.loader[_ngcontent-%COMP%]   .bar10[_ngcontent-%COMP%]{transform:rotate(270deg) translateY(-130%);animation-delay:-.3s}.loader[_ngcontent-%COMP%]   .bar11[_ngcontent-%COMP%]{transform:rotate(300deg) translateY(-130%);animation-delay:-.2s}.loader[_ngcontent-%COMP%]   .bar12[_ngcontent-%COMP%]{transform:rotate(330deg) translateY(-130%);animation-delay:-.1s}"]})}return n})();var Mte=W(3061),Rte=W.n(Mte);const Pte=["angularCropper"],kte=["image"],Nte=["cropperJsRoot"];function Ote(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij(" ",t.loadImageErrorText," ")}}function Fte(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",9)(1,"img",10,11),u.NdJ("load",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.imageLoadedS(i))})("error",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.imageLoadError(i))}),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("src",t.targetImg,u.LSH)}}function Lte(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.exportCanvas())}),u._uU(1," Crop "),u.qZA()}}function Vte(n,e){1&n&&(u.TgZ(0,"span",13),u._uU(1," Please crop the image before uploading."),u.qZA())}function Ute(n,e){if(1&n&&u._UZ(0,"img",14),2&n){const t=u.oxw();u.Q6J("src",t.croppedImage,u.LSH)}}let H9=(()=>{class n{constructor(){this.imageUrl="",this.cropperOptions={},this.export=new u.vpe,this.ready=new u.vpe,this.isLoading=!0,this.imageChangedEvent="",this.croppedImage="",this.base64=new u.vpe,this.croppedImageList=[]}ngOnChanges(){this.imageUrl&&(this.targetImg=this.imageUrl)}onImageUpload(t){this.croppedImage="",this.targetImg="";const r=t.target.files[0],i=new FileReader;i.readAsDataURL(r),i.onload=()=>{this.targetImg=i.result},this.isLoading=!1}ngOnDestroy(){this.cropper&&(this.cropper.destroy(),this.cropper=null)}imageLoadedS(t){this.loadError=!1;const r=t.target;this.imageElement=r,this.cropperOptions.checkCrossOrigin&&(r.crossOrigin="anonymous"),r.addEventListener("ready",()=>{this.ready.emit(!0),this.isLoading=!1,this.cropbox&&this.cropper.setCropBoxData(this.cropbox)});let i=NaN;if(this.settings){const{width:o,height:c}=this.settings;i=o/c}this.cropperOptions={aspectRatio:i,checkCrossOrigin:!0,...this.cropperOptions},this.cropper&&(this.cropper.destroy(),this.cropper=void 0),this.cropper=new(Rte())(r,this.cropperOptions),this.isLoading=!1}imageLoadError(t){this.loadError=!0,this.isLoading=!1}exportCanvas(t){const r=this.cropper.getImageData(),i=this.cropper.getCropBoxData(),o=this.cropper.getCroppedCanvas(),c={imageData:r,cropData:i};new Promise(p=>{o.toBlob(_=>{const w=new File([_],"png",{type:_.type}),D=new FileReader;D.onload=F=>{this.croppedImage=D.result,this.base64.emit(w)},D.onerror=()=>{},D.readAsDataURL(w)})}).then(p=>{this.export.emit({...c,...p})})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-angular-cropper"]],viewQuery:function(r,i){if(1&r&&(u.Gf(Pte,5),u.Gf(kte,7),u.Gf(Nte,5)),2&r){let o;u.iGM(o=u.CRH())&&(i.angularCropper=o.first),u.iGM(o=u.CRH())&&(i.image=o.first),u.iGM(o=u.CRH())&&(i.cropperJsRoot=o.first)}},inputs:{imageUrl:"imageUrl",settings:"settings",cropbox:"cropbox",loadImageErrorText:"loadImageErrorText",cropperOptions:"cropperOptions"},outputs:{export:"export",ready:"ready",base64:"base64"},features:[u.TTD],decls:10,vars:5,consts:[[1,"cropper-wrapper"],["for","image",1,"form-label"],["type","file","accept","image/png,image/jpeg,image/webp",1,"form-control",3,"change"],["class","alert alert-warning",4,"ngIf"],["class","cropper",4,"ngIf"],["type","button","class","btn btn-outline-primary btn-sm my-2",3,"click",4,"ngIf"],["class","small text-danger",4,"ngIf"],["alt","croppedImage","width","250px",3,"src",4,"ngIf"],[1,"alert","alert-warning"],[1,"cropper"],["alt","image",3,"src","load","error"],["image",""],["type","button",1,"btn","btn-outline-primary","btn-sm","my-2",3,"click"],[1,"small","text-danger"],["alt","croppedImage","width","250px",3,"src"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"label",1),u._uU(2,"Image"),u.qZA(),u.TgZ(3,"input",2),u.NdJ("change",function(c){return i.onImageUpload(c)}),u.qZA(),u.YNc(4,Ote,2,1,"div",3),u.YNc(5,Fte,3,1,"div",4),u.YNc(6,Lte,2,0,"button",5),u._UZ(7,"br"),u.YNc(8,Vte,2,0,"span",6),u.YNc(9,Ute,1,1,"img",7),u.qZA()),2&r&&(u.xp6(4),u.Q6J("ngIf",i.loadError),u.xp6(1),u.Q6J("ngIf",i.targetImg),u.xp6(1),u.Q6J("ngIf",i.targetImg),u.xp6(2),u.Q6J("ngIf",i.targetImg&&!i.croppedImage),u.xp6(1),u.Q6J("ngIf",i.croppedImage))},dependencies:[Po]})}return n})();function jte(n,e){1&n&&u._UZ(0,"app-loader")}function Bte(n,e){1&n&&(u.TgZ(0,"span",19),u._uU(1," Title is required "),u.qZA())}function zte(n,e){if(1&n&&(u.TgZ(0,"span",19),u.YNc(1,Bte,2,0,"span",8),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("title").errors.required)}}function Hte(n,e){if(1&n&&(u.TgZ(0,"option",20),u._uU(1),u.ALo(2,"uppercase"),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.hij(" ",u.lcZ(2,2,t)," ")}}function Gte(n,e){1&n&&(u.TgZ(0,"span",19),u._uU(1," Category is required "),u.qZA())}function $te(n,e){if(1&n&&(u.TgZ(0,"span",19),u.YNc(1,Gte,2,0,"span",8),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("category").errors.required)}}function Wte(n,e){1&n&&(u.TgZ(0,"span",19),u._uU(1," Price should only contain numbers. "),u.qZA())}function qte(n,e){1&n&&(u.TgZ(0,"span",19),u._uU(1," Price is required "),u.qZA())}function Zte(n,e){if(1&n&&(u.TgZ(0,"span",19),u.YNc(1,Wte,2,0,"span",8),u.YNc(2,qte,2,0,"span",8),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.required)}}function Kte(n,e){1&n&&(u.TgZ(0,"span",19),u._uU(1," Stock should only contain numbers. "),u.qZA())}function Yte(n,e){1&n&&(u.TgZ(0,"span",19),u._uU(1," Stock is required "),u.qZA())}function Qte(n,e){if(1&n&&(u.TgZ(0,"span",19),u.YNc(1,Kte,2,0,"span",8),u.YNc(2,Yte,2,0,"span",8),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.required)}}function Xte(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3)(1,"form",4),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.formHandler())}),u.TgZ(2,"div",5)(3,"label",6),u._uU(4,"Title"),u.qZA(),u._UZ(5,"input",7),u.YNc(6,zte,2,1,"span",8),u.qZA(),u.TgZ(7,"div",5)(8,"label",9),u._uU(9,"Category"),u.qZA(),u.TgZ(10,"select",10),u.YNc(11,Hte,3,4,"option",11),u.qZA(),u.YNc(12,$te,2,1,"span",8),u.qZA(),u.TgZ(13,"app-angular-cropper",12),u.NdJ("base64",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.angularCropperHandler(i))}),u.qZA(),u.TgZ(14,"div",5)(15,"label",13),u._uU(16,"Price"),u.qZA(),u._UZ(17,"input",14),u.YNc(18,Zte,3,2,"span",8),u.qZA(),u.TgZ(19,"div",5)(20,"label",15),u._uU(21,"Stock"),u.qZA(),u._UZ(22,"input",16),u.YNc(23,Qte,3,2,"span",8),u.qZA(),u._UZ(24,"div",17),u.TgZ(25,"button",18),u._uU(26," Add "),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("formGroup",t.productForm),u.xp6(5),u.Q6J("ngIf",!t.productForm.get("title").valid&&t.productForm.get("title").touched),u.xp6(5),u.Q6J("ngForOf",t.list),u.xp6(1),u.Q6J("ngIf",!t.productForm.get("category").valid&&t.productForm.get("category").touched),u.xp6(1),u.Q6J("imageUrl",t.targetImg),u.xp6(5),u.Q6J("ngIf",!t.productForm.get("price").valid&&t.productForm.get("price").touched),u.xp6(5),u.Q6J("ngIf",!t.productForm.get("stock").valid&&t.productForm.get("stock").touched),u.xp6(2),u.Q6J("disabled",!t.productForm.valid||!t.base64)}}let Jte=(()=>{class n{constructor(t,r){this.data=t,this.prodService=r,this.isLoading=!1,this.firebaseApp=(0,an.initializeApp)(pC_firebaseConfig),this.list=[],this.storage=vk(this.firebaseApp),this.numRegex=/\d+$/,this.targetUrl=""}ngOnInit(){this.productForm=new J_({title:new gl("",aa.required),category:new gl("",aa.required),price:new gl(null,[aa.required,aa.pattern(this.numRegex)]),stock:new gl(null,[aa.required,aa.pattern(this.numRegex)])}),this.data.getCategories().subscribe(t=>{this.list=Object.values(t)})}angularCropperHandler(t){this.base64=t}formHandler(){this.isLoading=!0;let t=this.productForm.value,r=[];_S(pg(this.storage,`images/${t.title}`),this.base64).then(o=>sv(o.ref)).then(o=>{r.push(o)}).then(()=>{let o={...t,images:r};this.prodService.uploadProduct(o)}).then(()=>{this.isLoading=!1})}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(FP),u.Y36(B9))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-product"]],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf"],["class","col-6 bg-white mx-auto rounded px-3 py-4",4,"ngIf"],[1,"col-6","bg-white","mx-auto","rounded","px-3","py-4"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","title",1,"form-label"],["type","text","formControlName","title","id","title",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","category",1,"form-label"],["formControlName","category","id","category","ngModel","general",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[3,"imageUrl","base64"],["for","price",1,"form-label"],["type","number","formControlName","price","id","price",1,"form-control"],["for","stock",1,"form-label"],["type","number","formControlName","stock","id","stock",1,"form-control"],[1,"col","my-2"],[1,"btn","btn-success",3,"disabled"],[1,"small","text-danger"],[3,"value"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div"),u.YNc(2,jte,1,0,"app-loader",1),u.qZA(),u.YNc(3,Xte,27,8,"div",2),u.qZA()),2&r&&(u.xp6(2),u.Q6J("ngIf",i.isLoading),u.xp6(1),u.Q6J("ngIf",!i.isLoading))},dependencies:[As,Po,Ow,iL,sL,xm,CR,rC,Pw,kw,ty,Fw,YU,H9,xr],styles:[':host{display:block}.cropper img{max-width:100%;max-height:100%;height:auto}.cropper-wrapper{position:relative;min-height:80px}.cropper-wrapper .loading-block{position:absolute;top:0;left:0;width:100%;height:100%}.cropper-wrapper .loading-block .spinner{width:31px;height:31px;margin:0 auto;border:2px solid rgba(97,100,193,.98);border-radius:50%;border-left-color:transparent;border-right-color:transparent;-webkit-animation:cssload-spin 425ms infinite linear;position:absolute;top:calc(50% - 15px);left:calc(50% - 15px);animation:cssload-spin 425ms infinite linear}@keyframes cssload-spin{to{transform:rotate(360deg)}}/*!\n * Cropper.js v1.4.1\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2018-07-15T09:54:43.167Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-wrap-box,.cropper-canvas,.cropper-drag-box,.cropper-crop-box,.cropper-modal{inset:0;position:absolute}.cropper-wrap-box,.cropper-canvas{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline-color:#3399ffbf;outline:1px solid #39f;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.3333333333%;left:0;top:33.3333333333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.3333333333%;top:0;width:33.3333333333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:before,.cropper-center:after{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width: 768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width: 992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width: 1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}\n'],encapsulation:2})}return n})();function ene(n,e){1&n&&(u.TgZ(0,"span",8),u._uU(1," category is required "),u.qZA())}function tne(n,e){1&n&&(u.TgZ(0,"span",8),u._uU(1," Category should be of minimum 3 chars. "),u.qZA())}function nne(n,e){if(1&n&&(u.TgZ(0,"span",8),u.YNc(1,ene,2,0,"span",6),u.YNc(2,tne,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.categoryForm.get("category").errors.required),u.xp6(1),u.Q6J("ngIf",t.categoryForm.get("category").errors.minlength)}}let rne=(()=>{class n{constructor(t,r){this.data=t,this.router=r}ngOnInit(){this.categoryForm=new J_({category:new gl("",aa.required)}),this.data.getCategories().subscribe(t=>{this.cat=Object.values(t)})}formHandler(){let t=this.categoryForm.value.category;console.log(t),this.cat.push(t),this.data.setCategories({...this.cat}),this.router.navigate(["/"])}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(FP),u.Y36(ca))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-category"]],decls:10,vars:3,consts:[[1,"container","mt-5"],[1,"col-6","bg-white","mx-auto","rounded","px-3","py-4"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","category",1,"form-label"],["type","text","formControlName","category","id","category",1,"form-control"],["class","small text-danger",4,"ngIf"],[1,"btn","btn-primary","my-3",3,"disabled"],[1,"small","text-danger"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2),u.NdJ("ngSubmit",function(){return i.formHandler()}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Category"),u.qZA(),u._UZ(6,"input",5),u.YNc(7,nne,3,2,"span",6),u.qZA(),u.TgZ(8,"button",7),u._uU(9," Add "),u.qZA()()()()),2&r&&(u.xp6(2),u.Q6J("formGroup",i.categoryForm),u.xp6(5),u.Q6J("ngIf",!i.categoryForm.get("category").valid&&i.categoryForm.get("category").touched),u.xp6(1),u.Q6J("disabled",!i.categoryForm.valid))},dependencies:[Po,Ow,xm,Pw,kw,ty,Fw]})}return n})();function ine(n,e){1&n&&u._UZ(0,"app-loader")}function one(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.ALo(3,"uppercase"),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td")(11,"button",7),u.NdJ("click",function(){const o=u.CHM(t).$implicit,c=u.oxw(2);return u.KtG(c.editProduct(o.id))}),u._UZ(12,"i",8),u.qZA(),u.TgZ(13,"button",7),u.NdJ("click",function(){const i=u.CHM(t),o=i.$implicit,c=i.index,h=u.oxw(2);return u.KtG(h.deleteProduct(o.id,c))}),u._UZ(14,"i",9),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(u.lcZ(3,4,t.title)),u.xp6(3),u.hij("$",t.price,""),u.xp6(2),u.Oqu(t.category),u.xp6(2),u.Oqu(t.stock)}}function sne(n,e){if(1&n&&(u.TgZ(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th",5),u._uU(5,"Title"),u.qZA(),u.TgZ(6,"th"),u._uU(7,"Price"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Category"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"QTY"),u.qZA(),u.TgZ(12,"th"),u._uU(13,"Actions"),u.qZA()()(),u.TgZ(14,"tbody"),u.YNc(15,one,15,6,"tr",6),u.qZA()()()),2&n){const t=u.oxw();u.xp6(15),u.Q6J("ngForOf",t.productsList)}}let ane=(()=>{class n{constructor(t,r){this.data=t,this.router=r}ngOnInit(){this.data.getProducts().subscribe(t=>this.productsList=t)}editProduct(t){this.router.navigate([`admin/edit-product/${t}`])}deleteProduct(t,r){this.productsList.splice(r,1),this.data.deleteProduct(t)}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(FP),u.Y36(ca))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-product-list"]],decls:3,vars:2,consts:[[1,"text-center","col-1","mx-auto"],[4,"ngIf"],["class","col-10 mx-auto bg-white p-3 mt-0 rounded",4,"ngIf"],[1,"col-10","mx-auto","bg-white","p-3","mt-0","rounded"],[1,"table"],[1,"col-5"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u.YNc(1,ine,1,0,"app-loader",1),u.qZA(),u.YNc(2,sne,16,1,"div",2)),2&r&&(u.xp6(1),u.Q6J("ngIf",!i.productsList),u.xp6(1),u.Q6J("ngIf",i.productsList))},dependencies:[As,Po,YU,xr]})}return n})();const cne=["cropperJsRoot"];function lne(n,e){1&n&&u._UZ(0,"app-loader")}function une(n,e){1&n&&(u.TgZ(0,"span",20),u._uU(1," Title is required "),u.qZA())}function dne(n,e){if(1&n&&(u.TgZ(0,"span",20),u.YNc(1,une,2,0,"span",9),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("title").errors.required)}}function hne(n,e){if(1&n&&(u.TgZ(0,"option",21),u._uU(1),u.ALo(2,"uppercase"),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.hij(" ",u.lcZ(2,2,t)," ")}}function fne(n,e){1&n&&(u.TgZ(0,"span",20),u._uU(1," Category is required "),u.qZA())}function pne(n,e){if(1&n&&(u.TgZ(0,"span",20),u.YNc(1,fne,2,0,"span",9),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("category").errors.required)}}function mne(n,e){1&n&&(u.TgZ(0,"span",20),u._uU(1," Price should only contain numbers. "),u.qZA())}function gne(n,e){1&n&&(u.TgZ(0,"span",20),u._uU(1," Price is required "),u.qZA())}function _ne(n,e){if(1&n&&(u.TgZ(0,"span",20),u.YNc(1,mne,2,0,"span",9),u.YNc(2,gne,2,0,"span",9),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.required)}}function yne(n,e){1&n&&(u.TgZ(0,"span",20),u._uU(1," Stock should only contain numbers. "),u.qZA())}function vne(n,e){1&n&&(u.TgZ(0,"span",20),u._uU(1," Stock is required "),u.qZA())}function wne(n,e){if(1&n&&(u.TgZ(0,"span",20),u.YNc(1,yne,2,0,"span",9),u.YNc(2,vne,2,0,"span",9),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.required)}}function bne(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",4)(1,"form",5),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.formHandler())}),u.TgZ(2,"div",6)(3,"label",7),u._uU(4,"Title"),u.qZA(),u._UZ(5,"input",8),u.YNc(6,dne,2,1,"span",9),u.qZA(),u.TgZ(7,"div",6)(8,"label",10),u._uU(9,"Category"),u.qZA(),u.TgZ(10,"select",11),u.YNc(11,hne,3,4,"option",12),u.qZA(),u.YNc(12,pne,2,1,"span",9),u.qZA(),u.TgZ(13,"app-angular-cropper",13),u.NdJ("base64",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.angularCropperHandler(i))}),u.qZA(),u.TgZ(14,"div",6)(15,"label",14),u._uU(16,"Price"),u.qZA(),u._UZ(17,"input",15),u.YNc(18,_ne,3,2,"span",9),u.qZA(),u.TgZ(19,"div",6)(20,"label",16),u._uU(21,"Stock"),u.qZA(),u._UZ(22,"input",17),u.YNc(23,wne,3,2,"span",9),u.qZA(),u._UZ(24,"div",18),u.TgZ(25,"button",19),u._uU(26," Edit "),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("formGroup",t.productForm),u.xp6(5),u.Q6J("ngIf",!t.productForm.get("title").valid&&t.productForm.get("title").touched),u.xp6(5),u.Q6J("ngForOf",t.list),u.xp6(1),u.Q6J("ngIf",!t.productForm.get("category").valid&&t.productForm.get("category").touched),u.xp6(1),u.Q6J("imageUrl",t.targetImg),u.xp6(5),u.Q6J("ngIf",!t.productForm.get("price").valid&&t.productForm.get("price").touched),u.xp6(5),u.Q6J("ngIf",!t.productForm.get("stock").valid&&t.productForm.get("stock").touched),u.xp6(2),u.Q6J("disabled",!t.productForm.valid||!t.base64)}}const Ine=[{path:"",redirectTo:"admin",pathMatch:"full"},{path:"admin",component:pte,canActivate:[Ste],children:[{path:"",redirectTo:"product-list",pathMatch:"full"},{path:"add-product",component:Jte},{path:"add-category",component:rne},{path:"product-list",component:ane},{path:"edit-product",children:[{path:":id",component:(()=>{class n{constructor(t,r){this.actRoute=t,this.data=r,this.isLoading=!1,this.productId="",this.numRegex=/\d+$/,this.list=[],this.firebaseApp=(0,an.initializeApp)(pC_firebaseConfig),this.storage=vk(this.firebaseApp)}ngOnInit(){this.isLoading=!0,this.actRoute.params.subscribe(t=>this.productId=t.id),this.productForm=new J_({title:new gl("",aa.required),category:new gl("",aa.required),price:new gl(null,[aa.required,aa.pattern(this.numRegex)]),stock:new gl(null,[aa.required,aa.pattern(this.numRegex)])}),this.data.getProductById(this.productId).subscribe(t=>{this.targetImg=t[0].images[0],this.product=t,this.productForm.patchValue({title:t[0].title,category:t[0].category,price:+t[0].price,stock:+t[0].stock})}),this.data.getCategories().subscribe(t=>{this.list=Object.values(t),this.isLoading=!1})}formHandler(){this.isLoading=!0;let t=this.productForm.value;const r=pg(this.storage,`images/${t.title}`);let i=[];_S(r,this.base64).then(o=>sv(o.ref)).then(o=>{i.push(o)}).then(()=>{let o={...t,images:i,id:this.productId};this.data.updateProduct(this.product[0].id,o)}).then(()=>{this.isLoading=!1})}angularCropperHandler(t){this.base64=t}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(ly),u.Y36(FP))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-edit-product"]],viewQuery:function(r,i){if(1&r&&u.Gf(cne,5),2&r){let o;u.iGM(o=u.CRH())&&(i.cropperJsRoot=o.first)}},decls:4,vars:2,consts:[[1,"container"],[1,"col-1","mx-auto"],[4,"ngIf"],["class","col-6 bg-white mx-auto rounded px-3 py-4",4,"ngIf"],[1,"col-6","bg-white","mx-auto","rounded","px-3","py-4"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","title",1,"form-label"],["type","text","formControlName","title","id","title",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","category",1,"form-label"],["formControlName","category","id","category",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[3,"imageUrl","base64"],["for","price",1,"form-label"],["type","number","formControlName","price","id","price",1,"form-control"],["for","stock",1,"form-label"],["type","number","formControlName","stock","id","stock",1,"form-control"],[1,"col","my-2"],[1,"btn","btn-success",3,"disabled"],[1,"small","text-danger"],[3,"value"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,lne,1,0,"app-loader",2),u.qZA(),u.YNc(3,bne,27,8,"div",3),u.qZA()),2&r&&(u.xp6(2),u.Q6J("ngIf",i.isLoading),u.xp6(1),u.Q6J("ngIf",!i.isLoading))},dependencies:[As,Po,Ow,iL,sL,xm,CR,rC,Pw,kw,ty,Fw,YU,H9,xr],styles:[':host{display:block}.cropper img{max-width:100%;max-height:100%;height:auto}.cropper-wrapper{position:relative;min-height:80px}.cropper-wrapper .loading-block{position:absolute;top:0;left:0;width:100%;height:100%}.cropper-wrapper .loading-block .spinner{width:31px;height:31px;margin:0 auto;border:2px solid rgba(97,100,193,.98);border-radius:50%;border-left-color:transparent;border-right-color:transparent;-webkit-animation:cssload-spin 425ms infinite linear;position:absolute;top:calc(50% - 15px);left:calc(50% - 15px);animation:cssload-spin 425ms infinite linear}@keyframes cssload-spin{to{transform:rotate(360deg)}}/*!\n* Cropper.js v1.4.1\n* https://fengyuanchen.github.io/cropperjs\n*\n* Copyright 2015-present Chen Fengyuan\n* Released under the MIT license\n*\n* Date: 2018-07-15T09:54:43.167Z\n*/.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-wrap-box,.cropper-canvas,.cropper-drag-box,.cropper-crop-box,.cropper-modal{inset:0;position:absolute}.cropper-wrap-box,.cropper-canvas{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline-color:#3399ffbf;outline:1px solid #39f;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.3333333333%;left:0;top:33.3333333333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.3333333333%;top:0;width:33.3333333333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:before,.cropper-center:after{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width: 768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width: 992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width: 1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}\n'],encapsulation:2})}return n})()}]}]},{path:"login",component:gte},{path:"signup",component:Ate}];let Ene=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n});static#n=this.\u0275inj=u.cJS({imports:[L3.forRoot(Ine),L3]})}return n})(),Tne=(()=>{class n{constructor(t){this.auth=t,this.title="eCom"}ngOnInit(){this.auth.autoLogin()}static#e=this.\u0275fac=function(r){return new(r||n)(u.Y36(jA))};static#t=this.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-fluid","ps-0","m-0"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u._UZ(1,"router-outlet"),u.qZA())},dependencies:[o1]})}return n})(),Cne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Jr]}),n})(),Ane=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=u.oAB({type:n,bootstrap:[Tne]});static#n=this.\u0275inj=u.cJS({imports:[F8,cl,Jd,Ene,Lq,k4,Cne,or,N7,L7,k8,W7,Q.hO,Vq,k4,O8,OW(()=>FW()),Q.hO.initializeApp(pC_firebaseConfig),ng(()=>g(pC_firebaseConfig))]})}return n})();qi().bootstrapModule(Ane).catch(n=>console.error(n))},9322:(pn,st)=>{var u;!function(){"use strict";var ie={}.hasOwnProperty;function Te(){for(var K=[],Ce=0;Ce<arguments.length;Ce++){var Ae=arguments[Ce];if(Ae){var Pe=typeof Ae;if("string"===Pe||"number"===Pe)K.push(Ae);else if(Array.isArray(Ae)){if(Ae.length){var Me=Te.apply(null,Ae);Me&&K.push(Me)}}else if("object"===Pe){if(Ae.toString!==Object.prototype.toString&&!Ae.toString.toString().includes("[native code]")){K.push(Ae.toString());continue}for(var Y in Ae)ie.call(Ae,Y)&&Ae[Y]&&K.push(Y)}}}return K.join(" ")}pn.exports?(Te.default=Te,pn.exports=Te):void 0!==(u=function(){return Te}.apply(st,[]))&&(pn.exports=u)}()},3061:function(pn){pn.exports=function(){"use strict";function st(ue,B){var X=Object.keys(ue);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(ue);B&&(G=G.filter(function(Fe){return Object.getOwnPropertyDescriptor(ue,Fe).enumerable})),X.push.apply(X,G)}return X}function W(ue){for(var B=1;B<arguments.length;B++){var X=null!=arguments[B]?arguments[B]:{};B%2?st(Object(X),!0).forEach(function(G){K(ue,G,X[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(X)):st(Object(X)).forEach(function(G){Object.defineProperty(ue,G,Object.getOwnPropertyDescriptor(X,G))})}return ue}function u(ue){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(ue)}function z(ue,B){for(var X=0;X<B.length;X++){var G=B[X];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(ue,Tt(G.key),G)}}function K(ue,B,X){return(B=Tt(B))in ue?Object.defineProperty(ue,B,{value:X,enumerable:!0,configurable:!0,writable:!0}):ue[B]=X,ue}function Ce(ue){return function Ae(ue){if(Array.isArray(ue))return Y(ue)}(ue)||function Pe(ue){if(typeof Symbol<"u"&&null!=ue[Symbol.iterator]||null!=ue["@@iterator"])return Array.from(ue)}(ue)||function Me(ue,B){if(ue){if("string"==typeof ue)return Y(ue,B);var X=Object.prototype.toString.call(ue).slice(8,-1);if("Object"===X&&ue.constructor&&(X=ue.constructor.name),"Map"===X||"Set"===X)return Array.from(ue);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return Y(ue,B)}}(ue)||function re(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(ue,B){(null==B||B>ue.length)&&(B=ue.length);for(var X=0,G=new Array(B);X<B;X++)G[X]=ue[X];return G}function Tt(ue){var B=function Ee(ue,B){if("object"!=typeof ue||null===ue)return ue;var X=ue[Symbol.toPrimitive];if(void 0!==X){var G=X.call(ue,B||"default");if("object"!=typeof G)return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===B?String:Number)(ue)}(ue,"string");return"symbol"==typeof B?B:String(B)}var Xe=typeof window<"u"&&typeof window.document<"u",bt=Xe?window:{},_t=!(!Xe||!bt.document.documentElement)&&"ontouchstart"in bt.document.documentElement,qt=!!Xe&&"PointerEvent"in bt,Ye="cropper",de="n",ht="ne",Ht="nw",hn="se",sr="sw",er="".concat(Ye,"-crop"),mr="".concat(Ye,"-disabled"),zn="".concat(Ye,"-hidden"),Cr="".concat(Ye,"-hide"),yr="".concat(Ye,"-invisible"),je="".concat(Ye,"-modal"),qe="".concat(Ye,"-move"),et="".concat(Ye,"Action"),Ge="".concat(Ye,"Preview"),vt="crop",Ot="crop",wr="cropend",me="cropmove",be="cropstart",xe="dblclick",ot=qt?"pointerdown":_t?"touchstart":"mousedown",En=qt?"pointermove":_t?"touchmove":"mousemove",$n=qt?"pointerup pointercancel":_t?"touchend touchcancel":"mouseup",hr="zoom",Dn="image/jpeg",Rt=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Xt=/^data:/,Wn=/^data:image\/jpeg;base64,/,Tn=/^img|canvas$/i,Ln={viewMode:0,dragMode:vt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},gi=Number.isNaN||bt.isNaN;function sn(ue){return"number"==typeof ue&&!gi(ue)}var ii=function(B){return B>0&&B<1/0};function Nn(ue){return typeof ue>"u"}function gr(ue){return"object"===u(ue)&&null!==ue}var bi=Object.prototype.hasOwnProperty;function Ir(ue){if(!gr(ue))return!1;try{var B=ue.constructor,X=B.prototype;return B&&X&&bi.call(X,"isPrototypeOf")}catch{return!1}}function Mr(ue){return"function"==typeof ue}var ei=Array.prototype.slice;function nt(ue){return Array.from?Array.from(ue):ei.call(ue)}function ge(ue,B){return ue&&Mr(B)&&(Array.isArray(ue)||sn(ue.length)?nt(ue).forEach(function(X,G){B.call(ue,X,G,ue)}):gr(ue)&&Object.keys(ue).forEach(function(X){B.call(ue,ue[X],X,ue)})),ue}var Ze=Object.assign||function(B){for(var X=arguments.length,G=new Array(X>1?X-1:0),Fe=1;Fe<X;Fe++)G[Fe-1]=arguments[Fe];return gr(B)&&G.length>0&&G.forEach(function(Ie){gr(Ie)&&Object.keys(Ie).forEach(function(Le){B[Le]=Ie[Le]})}),B},Bt=/\.\d*(?:0|9){12}\d*$/;function cn(ue){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Bt.test(ue)?Math.round(ue*B)/B:ue}var Cn=/^width|height|left|top|marginLeft|marginTop$/;function lr(ue,B){var X=ue.style;ge(B,function(G,Fe){Cn.test(Fe)&&sn(G)&&(G="".concat(G,"px")),X[Fe]=G})}function le(ue,B){if(B){if(sn(ue.length))return void ge(ue,function(G){le(G,B)});if(ue.classList)return void ue.classList.add(B);var X=ue.className.trim();X?X.indexOf(B)<0&&(ue.className="".concat(X," ").concat(B)):ue.className=B}}function J(ue,B){if(B){if(sn(ue.length))return void ge(ue,function(X){J(X,B)});if(ue.classList)return void ue.classList.remove(B);ue.className.indexOf(B)>=0&&(ue.className=ue.className.replace(B,""))}}function te(ue,B,X){if(B){if(sn(ue.length))return void ge(ue,function(G){te(G,B,X)});X?le(ue,B):J(ue,B)}}var q=/([a-z\d])([A-Z])/g;function ke(ue){return ue.replace(q,"$1-$2").toLowerCase()}function St(ue,B){return gr(ue[B])?ue[B]:ue.dataset?ue.dataset[B]:ue.getAttribute("data-".concat(ke(B)))}function Qt(ue,B,X){gr(X)?ue[B]=X:ue.dataset?ue.dataset[B]=X:ue.setAttribute("data-".concat(ke(B)),X)}var ce=/\s\s*/,De=function(){var ue=!1;if(Xe){var B=!1,X=function(){},G=Object.defineProperty({},"once",{get:function(){return ue=!0,B},set:function(Ie){B=Ie}});bt.addEventListener("test",X,G),bt.removeEventListener("test",X,G)}return ue}();function Qe(ue,B,X){var G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Fe=X;B.trim().split(ce).forEach(function(Ie){if(!De){var Le=ue.listeners;Le&&Le[Ie]&&Le[Ie][X]&&(Fe=Le[Ie][X],delete Le[Ie][X],0===Object.keys(Le[Ie]).length&&delete Le[Ie],0===Object.keys(Le).length&&delete ue.listeners)}ue.removeEventListener(Ie,Fe,G)})}function Vt(ue,B,X){var G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Fe=X;B.trim().split(ce).forEach(function(Ie){if(G.once&&!De){var Le=ue.listeners,It=void 0===Le?{}:Le;Fe=function(){delete It[Ie][X],ue.removeEventListener(Ie,Fe,G);for(var Nt=arguments.length,lt=new Array(Nt),Ct=0;Ct<Nt;Ct++)lt[Ct]=arguments[Ct];X.apply(ue,lt)},It[Ie]||(It[Ie]={}),It[Ie][X]&&ue.removeEventListener(Ie,It[Ie][X],G),It[Ie][X]=Fe,ue.listeners=It}ue.addEventListener(Ie,Fe,G)})}function Zt(ue,B,X){var G;return Mr(Event)&&Mr(CustomEvent)?G=new CustomEvent(B,{detail:X,bubbles:!0,cancelable:!0}):(G=document.createEvent("CustomEvent")).initCustomEvent(B,!0,!0,X),ue.dispatchEvent(G)}function Er(ue){var B=ue.getBoundingClientRect();return{left:B.left+(window.pageXOffset-document.documentElement.clientLeft),top:B.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ur=bt.location,ti=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ni(ue){var B=ue.match(ti);return null!==B&&(B[1]!==Ur.protocol||B[2]!==Ur.hostname||B[3]!==Ur.port)}function Ai(ue){var B="timestamp=".concat((new Date).getTime());return ue+(-1===ue.indexOf("?")?"?":"&")+B}function si(ue){var B=ue.rotate,X=ue.scaleX,G=ue.scaleY,Fe=ue.translateX,Ie=ue.translateY,Le=[];sn(Fe)&&0!==Fe&&Le.push("translateX(".concat(Fe,"px)")),sn(Ie)&&0!==Ie&&Le.push("translateY(".concat(Ie,"px)")),sn(B)&&0!==B&&Le.push("rotate(".concat(B,"deg)")),sn(X)&&1!==X&&Le.push("scaleX(".concat(X,")")),sn(G)&&1!==G&&Le.push("scaleY(".concat(G,")"));var It=Le.length?Le.join(" "):"none";return{WebkitTransform:It,msTransform:It,transform:It}}function Ni(ue,B){var X=ue.pageX,G=ue.pageY,Fe={endX:X,endY:G};return B?Fe:W({startX:X,startY:G},Fe)}function Jo(ue){var B=ue.aspectRatio,X=ue.height,G=ue.width,Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",Ie=ii(G),Le=ii(X);if(Ie&&Le){var It=X*B;"contain"===Fe&&It>G||"cover"===Fe&&It<G?X=G/B:G=X*B}else Ie?X=G/B:Le&&(G=X*B);return{width:G,height:X}}var Gs=String.fromCharCode;var Mc=/^data:.*,/;function Ts(ue){var X,B=new DataView(ue);try{var G,Fe,Ie;if(255===B.getUint8(0)&&216===B.getUint8(1))for(var Le=B.byteLength,It=2;It+1<Le;){if(255===B.getUint8(It)&&225===B.getUint8(It+1)){Fe=It;break}It+=1}if(Fe){var Nt=Fe+10;if("Exif"===function hs(ue,B,X){var G="";X+=B;for(var Fe=B;Fe<X;Fe+=1)G+=Gs(ue.getUint8(Fe));return G}(B,Fe+4,4)){var lt=B.getUint16(Nt);if(((G=18761===lt)||19789===lt)&&42===B.getUint16(Nt+2,G)){var Ct=B.getUint32(Nt+4,G);Ct>=8&&(Ie=Nt+Ct)}}}if(Ie){var Sr,fr,Kt=B.getUint16(Ie,G);for(fr=0;fr<Kt;fr+=1)if(274===B.getUint16(Sr=Ie+12*fr+2,G)){X=B.getUint16(Sr+=8,G),B.setUint16(Sr,1,G);break}}}catch{X=1}return X}var As={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var B=this.element,X=this.options,G=this.container,Fe=this.cropper,Ie=Number(X.minContainerWidth),Le=Number(X.minContainerHeight);le(Fe,zn),J(B,zn);var It={width:Math.max(G.offsetWidth,Ie>=0?Ie:200),height:Math.max(G.offsetHeight,Le>=0?Le:100)};this.containerData=It,lr(Fe,{width:It.width,height:It.height}),le(B,zn),J(Fe,zn)},initCanvas:function(){var B=this.containerData,X=this.imageData,G=this.options.viewMode,Fe=Math.abs(X.rotate)%180==90,Ie=Fe?X.naturalHeight:X.naturalWidth,Le=Fe?X.naturalWidth:X.naturalHeight,It=Ie/Le,Lt=B.width,Nt=B.height;B.height*It>B.width?3===G?Lt=B.height*It:Nt=B.width/It:3===G?Nt=B.width/It:Lt=B.height*It;var lt={aspectRatio:It,naturalWidth:Ie,naturalHeight:Le,width:Lt,height:Nt};this.canvasData=lt,this.limited=1===G||2===G,this.limitCanvas(!0,!0),lt.width=Math.min(Math.max(lt.width,lt.minWidth),lt.maxWidth),lt.height=Math.min(Math.max(lt.height,lt.minHeight),lt.maxHeight),lt.left=(B.width-lt.width)/2,lt.top=(B.height-lt.height)/2,lt.oldLeft=lt.left,lt.oldTop=lt.top,this.initialCanvasData=Ze({},lt)},limitCanvas:function(B,X){var G=this.options,Fe=this.containerData,Ie=this.canvasData,Le=this.cropBoxData,It=G.viewMode,Lt=Ie.aspectRatio,Nt=this.cropped&&Le;if(B){var lt=Number(G.minCanvasWidth)||0,Ct=Number(G.minCanvasHeight)||0;It>1?(lt=Math.max(lt,Fe.width),Ct=Math.max(Ct,Fe.height),3===It&&(Ct*Lt>lt?lt=Ct*Lt:Ct=lt/Lt)):It>0&&(lt?lt=Math.max(lt,Nt?Le.width:0):Ct?Ct=Math.max(Ct,Nt?Le.height:0):Nt&&((Ct=Le.height)*Lt>(lt=Le.width)?lt=Ct*Lt:Ct=lt/Lt));var Kt=Jo({aspectRatio:Lt,width:lt,height:Ct});Ct=Kt.height,Ie.minWidth=lt=Kt.width,Ie.minHeight=Ct,Ie.maxWidth=1/0,Ie.maxHeight=1/0}if(X)if(It>(Nt?0:1)){var Sr=Fe.width-Ie.width,fr=Fe.height-Ie.height;Ie.minLeft=Math.min(0,Sr),Ie.minTop=Math.min(0,fr),Ie.maxLeft=Math.max(0,Sr),Ie.maxTop=Math.max(0,fr),Nt&&this.limited&&(Ie.minLeft=Math.min(Le.left,Le.left+(Le.width-Ie.width)),Ie.minTop=Math.min(Le.top,Le.top+(Le.height-Ie.height)),Ie.maxLeft=Le.left,Ie.maxTop=Le.top,2===It&&(Ie.width>=Fe.width&&(Ie.minLeft=Math.min(0,Sr),Ie.maxLeft=Math.max(0,Sr)),Ie.height>=Fe.height&&(Ie.minTop=Math.min(0,fr),Ie.maxTop=Math.max(0,fr))))}else Ie.minLeft=-Ie.width,Ie.minTop=-Ie.height,Ie.maxLeft=Fe.width,Ie.maxTop=Fe.height},renderCanvas:function(B,X){var G=this.canvasData,Fe=this.imageData;if(X){var Ie=function rc(ue){var B=ue.width,X=ue.height,G=ue.degree;if(90==(G=Math.abs(G)%180))return{width:X,height:B};var Fe=G%90*Math.PI/180,Ie=Math.sin(Fe),Le=Math.cos(Fe),It=B*Le+X*Ie,Lt=B*Ie+X*Le;return G>90?{width:Lt,height:It}:{width:It,height:Lt}}({width:Fe.naturalWidth*Math.abs(Fe.scaleX||1),height:Fe.naturalHeight*Math.abs(Fe.scaleY||1),degree:Fe.rotate||0}),Le=Ie.width,It=Ie.height,Lt=G.width*(Le/G.naturalWidth),Nt=G.height*(It/G.naturalHeight);G.left-=(Lt-G.width)/2,G.top-=(Nt-G.height)/2,G.width=Lt,G.height=Nt,G.aspectRatio=Le/It,G.naturalWidth=Le,G.naturalHeight=It,this.limitCanvas(!0,!1)}(G.width>G.maxWidth||G.width<G.minWidth)&&(G.left=G.oldLeft),(G.height>G.maxHeight||G.height<G.minHeight)&&(G.top=G.oldTop),G.width=Math.min(Math.max(G.width,G.minWidth),G.maxWidth),G.height=Math.min(Math.max(G.height,G.minHeight),G.maxHeight),this.limitCanvas(!1,!0),G.left=Math.min(Math.max(G.left,G.minLeft),G.maxLeft),G.top=Math.min(Math.max(G.top,G.minTop),G.maxTop),G.oldLeft=G.left,G.oldTop=G.top,lr(this.canvas,Ze({width:G.width,height:G.height},si({translateX:G.left,translateY:G.top}))),this.renderImage(B),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(B){var X=this.canvasData,G=this.imageData,Fe=G.naturalWidth*(X.width/X.naturalWidth),Ie=G.naturalHeight*(X.height/X.naturalHeight);Ze(G,{width:Fe,height:Ie,left:(X.width-Fe)/2,top:(X.height-Ie)/2}),lr(this.image,Ze({width:G.width,height:G.height},si(Ze({translateX:G.left,translateY:G.top},G)))),B&&this.output()},initCropBox:function(){var B=this.options,X=this.canvasData,G=B.aspectRatio||B.initialAspectRatio,Fe=Number(B.autoCropArea)||.8,Ie={width:X.width,height:X.height};G&&(X.height*G>X.width?Ie.height=Ie.width/G:Ie.width=Ie.height*G),this.cropBoxData=Ie,this.limitCropBox(!0,!0),Ie.width=Math.min(Math.max(Ie.width,Ie.minWidth),Ie.maxWidth),Ie.height=Math.min(Math.max(Ie.height,Ie.minHeight),Ie.maxHeight),Ie.width=Math.max(Ie.minWidth,Ie.width*Fe),Ie.height=Math.max(Ie.minHeight,Ie.height*Fe),Ie.left=X.left+(X.width-Ie.width)/2,Ie.top=X.top+(X.height-Ie.height)/2,Ie.oldLeft=Ie.left,Ie.oldTop=Ie.top,this.initialCropBoxData=Ze({},Ie)},limitCropBox:function(B,X){var G=this.options,Fe=this.containerData,Ie=this.canvasData,Le=this.cropBoxData,It=this.limited,Lt=G.aspectRatio;if(B){var Nt=Number(G.minCropBoxWidth)||0,lt=Number(G.minCropBoxHeight)||0,Ct=It?Math.min(Fe.width,Ie.width,Ie.width+Ie.left,Fe.width-Ie.left):Fe.width,Kt=It?Math.min(Fe.height,Ie.height,Ie.height+Ie.top,Fe.height-Ie.top):Fe.height;Nt=Math.min(Nt,Fe.width),lt=Math.min(lt,Fe.height),Lt&&(Nt&&lt?lt*Lt>Nt?lt=Nt/Lt:Nt=lt*Lt:Nt?lt=Nt/Lt:lt&&(Nt=lt*Lt),Kt*Lt>Ct?Kt=Ct/Lt:Ct=Kt*Lt),Le.minWidth=Math.min(Nt,Ct),Le.minHeight=Math.min(lt,Kt),Le.maxWidth=Ct,Le.maxHeight=Kt}X&&(It?(Le.minLeft=Math.max(0,Ie.left),Le.minTop=Math.max(0,Ie.top),Le.maxLeft=Math.min(Fe.width,Ie.left+Ie.width)-Le.width,Le.maxTop=Math.min(Fe.height,Ie.top+Ie.height)-Le.height):(Le.minLeft=0,Le.minTop=0,Le.maxLeft=Fe.width-Le.width,Le.maxTop=Fe.height-Le.height))},renderCropBox:function(){var B=this.options,X=this.containerData,G=this.cropBoxData;(G.width>G.maxWidth||G.width<G.minWidth)&&(G.left=G.oldLeft),(G.height>G.maxHeight||G.height<G.minHeight)&&(G.top=G.oldTop),G.width=Math.min(Math.max(G.width,G.minWidth),G.maxWidth),G.height=Math.min(Math.max(G.height,G.minHeight),G.maxHeight),this.limitCropBox(!1,!0),G.left=Math.min(Math.max(G.left,G.minLeft),G.maxLeft),G.top=Math.min(Math.max(G.top,G.minTop),G.maxTop),G.oldLeft=G.left,G.oldTop=G.top,B.movable&&B.cropBoxMovable&&Qt(this.face,et,G.width>=X.width&&G.height>=X.height?"move":"all"),lr(this.cropBox,Ze({width:G.width,height:G.height},si({translateX:G.left,translateY:G.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Zt(this.element,Ot,this.getData())}},_i={initPreview:function(){var B=this.element,X=this.crossOrigin,G=this.options.preview,Fe=X?this.crossOriginUrl:this.url,Ie=B.alt||"The image to preview",Le=document.createElement("img");if(X&&(Le.crossOrigin=X),Le.src=Fe,Le.alt=Ie,this.viewBox.appendChild(Le),this.viewBoxImage=Le,G){var It=G;"string"==typeof G?It=B.ownerDocument.querySelectorAll(G):G.querySelector&&(It=[G]),this.previews=It,ge(It,function(Lt){var Nt=document.createElement("img");Qt(Lt,Ge,{width:Lt.offsetWidth,height:Lt.offsetHeight,html:Lt.innerHTML}),X&&(Nt.crossOrigin=X),Nt.src=Fe,Nt.alt=Ie,Nt.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Lt.innerHTML="",Lt.appendChild(Nt)})}},resetPreview:function(){ge(this.previews,function(B){var X=St(B,Ge);lr(B,{width:X.width,height:X.height}),B.innerHTML=X.html,function ne(ue,B){if(gr(ue[B]))try{delete ue[B]}catch{ue[B]=void 0}else if(ue.dataset)try{delete ue.dataset[B]}catch{ue.dataset[B]=void 0}else ue.removeAttribute("data-".concat(ke(B)))}(B,Ge)})},preview:function(){var B=this.imageData,X=this.canvasData,G=this.cropBoxData,Fe=G.width,Ie=G.height,Le=B.width,It=B.height,Lt=G.left-X.left-B.left,Nt=G.top-X.top-B.top;!this.cropped||this.disabled||(lr(this.viewBoxImage,Ze({width:Le,height:It},si(Ze({translateX:-Lt,translateY:-Nt},B)))),ge(this.previews,function(lt){var Ct=St(lt,Ge),Kt=Ct.width,Sr=Ct.height,fr=Kt,Zr=Sr,Rr=1;Fe&&(Zr=Ie*(Rr=Kt/Fe)),Ie&&Zr>Sr&&(fr=Fe*(Rr=Sr/Ie),Zr=Sr),lr(lt,{width:fr,height:Zr}),lr(lt.getElementsByTagName("img")[0],Ze({width:Le*Rr,height:It*Rr},si(Ze({translateX:-Lt*Rr,translateY:-Nt*Rr},B))))}))}},nu={bind:function(){var B=this.element,X=this.options,G=this.cropper;Mr(X.cropstart)&&Vt(B,be,X.cropstart),Mr(X.cropmove)&&Vt(B,me,X.cropmove),Mr(X.cropend)&&Vt(B,wr,X.cropend),Mr(X.crop)&&Vt(B,Ot,X.crop),Mr(X.zoom)&&Vt(B,hr,X.zoom),Vt(G,ot,this.onCropStart=this.cropStart.bind(this)),X.zoomable&&X.zoomOnWheel&&Vt(G,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),X.toggleDragModeOnDblclick&&Vt(G,xe,this.onDblclick=this.dblclick.bind(this)),Vt(B.ownerDocument,En,this.onCropMove=this.cropMove.bind(this)),Vt(B.ownerDocument,$n,this.onCropEnd=this.cropEnd.bind(this)),X.responsive&&Vt(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var B=this.element,X=this.options,G=this.cropper;Mr(X.cropstart)&&Qe(B,be,X.cropstart),Mr(X.cropmove)&&Qe(B,me,X.cropmove),Mr(X.cropend)&&Qe(B,wr,X.cropend),Mr(X.crop)&&Qe(B,Ot,X.crop),Mr(X.zoom)&&Qe(B,hr,X.zoom),Qe(G,ot,this.onCropStart),X.zoomable&&X.zoomOnWheel&&Qe(G,"wheel",this.onWheel,{passive:!1,capture:!0}),X.toggleDragModeOnDblclick&&Qe(G,xe,this.onDblclick),Qe(B.ownerDocument,En,this.onCropMove),Qe(B.ownerDocument,$n,this.onCropEnd),X.responsive&&Qe(window,"resize",this.onResize)}},Po={resize:function(){if(!this.disabled){var It,Lt,B=this.options,X=this.container,G=this.containerData,Fe=X.offsetWidth/G.width,Ie=X.offsetHeight/G.height,Le=Math.abs(Fe-1)>Math.abs(Ie-1)?Fe:Ie;1!==Le&&(B.restore&&(It=this.getCanvasData(),Lt=this.getCropBoxData()),this.render(),B.restore&&(this.setCanvasData(ge(It,function(Nt,lt){It[lt]=Nt*Le})),this.setCropBoxData(ge(Lt,function(Nt,lt){Lt[lt]=Nt*Le}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function _e(ue,B){return ue.classList?ue.classList.contains(B):ue.className.indexOf(B)>-1}(this.dragBox,er)?"move":vt)},wheel:function(B){var X=this,G=Number(this.options.wheelZoomRatio)||.1,Fe=1;this.disabled||(B.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){X.wheeling=!1},50),B.deltaY?Fe=B.deltaY>0?1:-1:B.wheelDelta?Fe=-B.wheelDelta/120:B.detail&&(Fe=B.detail>0?1:-1),this.zoom(-Fe*G,B)))},cropStart:function(B){var X=B.buttons,G=B.button;if(!(this.disabled||("mousedown"===B.type||"pointerdown"===B.type&&"mouse"===B.pointerType)&&(sn(X)&&1!==X||sn(G)&&0!==G||B.ctrlKey))){var Le,Fe=this.options,Ie=this.pointers;B.changedTouches?ge(B.changedTouches,function(It){Ie[It.identifier]=Ni(It)}):Ie[B.pointerId||0]=Ni(B),Le=Object.keys(Ie).length>1&&Fe.zoomable&&Fe.zoomOnTouch?"zoom":St(B.target,et),Rt.test(Le)&&!1!==Zt(this.element,be,{originalEvent:B,action:Le})&&(B.preventDefault(),this.action=Le,this.cropping=!1,"crop"===Le&&(this.cropping=!0,le(this.dragBox,je)))}},cropMove:function(B){var X=this.action;if(!this.disabled&&X){var G=this.pointers;B.preventDefault(),!1!==Zt(this.element,me,{originalEvent:B,action:X})&&(B.changedTouches?ge(B.changedTouches,function(Fe){Ze(G[Fe.identifier]||{},Ni(Fe,!0))}):Ze(G[B.pointerId||0]||{},Ni(B,!0)),this.change(B))}},cropEnd:function(B){if(!this.disabled){var X=this.action,G=this.pointers;B.changedTouches?ge(B.changedTouches,function(Fe){delete G[Fe.identifier]}):delete G[B.pointerId||0],X&&(B.preventDefault(),Object.keys(G).length||(this.action=""),this.cropping&&(this.cropping=!1,te(this.dragBox,je,this.cropped&&this.options.modal)),Zt(this.element,wr,{originalEvent:B,action:X}))}}},ic={change:function(B){var Xr,G=this.canvasData,Fe=this.containerData,Ie=this.cropBoxData,Le=this.pointers,It=this.action,Lt=this.options.aspectRatio,Nt=Ie.left,lt=Ie.top,Ct=Ie.width,Kt=Ie.height,Sr=Nt+Ct,fr=lt+Kt,Zr=0,Rr=0,xr=Fe.width,Hn=Fe.height,dr=!0;!Lt&&B.shiftKey&&(Lt=Ct&&Kt?Ct/Kt:1),this.limited&&(Rr=Ie.minTop,xr=(Zr=Ie.minLeft)+Math.min(Fe.width,G.width,G.left+G.width),Hn=Rr+Math.min(Fe.height,G.height,G.top+G.height));var fi=Le[Object.keys(Le)[0]],$t={x:fi.endX-fi.startX,y:fi.endY-fi.startY},Kr=function(Oi){switch(Oi){case"e":Sr+$t.x>xr&&($t.x=xr-Sr);break;case"w":Nt+$t.x<Zr&&($t.x=Zr-Nt);break;case de:lt+$t.y<Rr&&($t.y=Rr-lt);break;case"s":fr+$t.y>Hn&&($t.y=Hn-fr)}};switch(It){case"all":Nt+=$t.x,lt+=$t.y;break;case"e":if($t.x>=0&&(Sr>=xr||Lt&&(lt<=Rr||fr>=Hn))){dr=!1;break}Kr("e"),(Ct+=$t.x)<0&&(It="w",Nt-=Ct=-Ct),Lt&&(lt+=(Ie.height-(Kt=Ct/Lt))/2);break;case de:if($t.y<=0&&(lt<=Rr||Lt&&(Nt<=Zr||Sr>=xr))){dr=!1;break}Kr(de),lt+=$t.y,(Kt-=$t.y)<0&&(It="s",lt-=Kt=-Kt),Lt&&(Nt+=(Ie.width-(Ct=Kt*Lt))/2);break;case"w":if($t.x<=0&&(Nt<=Zr||Lt&&(lt<=Rr||fr>=Hn))){dr=!1;break}Kr("w"),Nt+=$t.x,(Ct-=$t.x)<0&&(It="e",Nt-=Ct=-Ct),Lt&&(lt+=(Ie.height-(Kt=Ct/Lt))/2);break;case"s":if($t.y>=0&&(fr>=Hn||Lt&&(Nt<=Zr||Sr>=xr))){dr=!1;break}Kr("s"),(Kt+=$t.y)<0&&(It=de,lt-=Kt=-Kt),Lt&&(Nt+=(Ie.width-(Ct=Kt*Lt))/2);break;case ht:if(Lt){if($t.y<=0&&(lt<=Rr||Sr>=xr)){dr=!1;break}Kr(de),lt+=$t.y,Ct=(Kt-=$t.y)*Lt}else Kr(de),Kr("e"),$t.x>=0?Sr<xr?Ct+=$t.x:$t.y<=0&&lt<=Rr&&(dr=!1):Ct+=$t.x,$t.y<=0?lt>Rr&&(Kt-=$t.y,lt+=$t.y):(Kt-=$t.y,lt+=$t.y);Ct<0&&Kt<0?(It=sr,lt-=Kt=-Kt,Nt-=Ct=-Ct):Ct<0?(It=Ht,Nt-=Ct=-Ct):Kt<0&&(It=hn,lt-=Kt=-Kt);break;case Ht:if(Lt){if($t.y<=0&&(lt<=Rr||Nt<=Zr)){dr=!1;break}Kr(de),lt+=$t.y,Nt+=Ie.width-(Ct=(Kt-=$t.y)*Lt)}else Kr(de),Kr("w"),$t.x<=0?Nt>Zr?(Ct-=$t.x,Nt+=$t.x):$t.y<=0&&lt<=Rr&&(dr=!1):(Ct-=$t.x,Nt+=$t.x),$t.y<=0?lt>Rr&&(Kt-=$t.y,lt+=$t.y):(Kt-=$t.y,lt+=$t.y);Ct<0&&Kt<0?(It=hn,lt-=Kt=-Kt,Nt-=Ct=-Ct):Ct<0?(It=ht,Nt-=Ct=-Ct):Kt<0&&(It=sr,lt-=Kt=-Kt);break;case sr:if(Lt){if($t.x<=0&&(Nt<=Zr||fr>=Hn)){dr=!1;break}Kr("w"),Nt+=$t.x,Kt=(Ct-=$t.x)/Lt}else Kr("s"),Kr("w"),$t.x<=0?Nt>Zr?(Ct-=$t.x,Nt+=$t.x):$t.y>=0&&fr>=Hn&&(dr=!1):(Ct-=$t.x,Nt+=$t.x),$t.y>=0?fr<Hn&&(Kt+=$t.y):Kt+=$t.y;Ct<0&&Kt<0?(It=ht,lt-=Kt=-Kt,Nt-=Ct=-Ct):Ct<0?(It=hn,Nt-=Ct=-Ct):Kt<0&&(It=Ht,lt-=Kt=-Kt);break;case hn:if(Lt){if($t.x>=0&&(Sr>=xr||fr>=Hn)){dr=!1;break}Kr("e"),Kt=(Ct+=$t.x)/Lt}else Kr("s"),Kr("e"),$t.x>=0?Sr<xr?Ct+=$t.x:$t.y>=0&&fr>=Hn&&(dr=!1):Ct+=$t.x,$t.y>=0?fr<Hn&&(Kt+=$t.y):Kt+=$t.y;Ct<0&&Kt<0?(It=Ht,lt-=Kt=-Kt,Nt-=Ct=-Ct):Ct<0?(It=sr,Nt-=Ct=-Ct):Kt<0&&(It=ht,lt-=Kt=-Kt);break;case"move":this.move($t.x,$t.y),dr=!1;break;case"zoom":this.zoom(function Vn(ue){var B=W({},ue),X=0;return ge(ue,function(G,Fe){delete B[Fe],ge(B,function(Ie){var Le=Math.abs(G.startX-Ie.startX),It=Math.abs(G.startY-Ie.startY),Lt=Math.abs(G.endX-Ie.endX),Nt=Math.abs(G.endY-Ie.endY),lt=Math.sqrt(Le*Le+It*It),Kt=(Math.sqrt(Lt*Lt+Nt*Nt)-lt)/lt;Math.abs(Kt)>Math.abs(X)&&(X=Kt)})}),X}(Le),B),dr=!1;break;case"crop":if(!$t.x||!$t.y){dr=!1;break}Xr=Er(this.cropper),Nt=fi.startX-Xr.left,lt=fi.startY-Xr.top,Ct=Ie.minWidth,Kt=Ie.minHeight,$t.x>0?It=$t.y>0?hn:ht:$t.x<0&&(Nt-=Ct,It=$t.y>0?sr:Ht),$t.y<0&&(lt-=Kt),this.cropped||(J(this.cropBox,zn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}dr&&(Ie.width=Ct,Ie.height=Kt,Ie.left=Nt,Ie.top=lt,this.action=It,this.renderCropBox()),ge(Le,function(Ii){Ii.startX=Ii.endX,Ii.startY=Ii.endY})}},Rc={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&le(this.dragBox,je),J(this.cropBox,zn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ze({},this.initialImageData),this.canvasData=Ze({},this.initialCanvasData),this.cropBoxData=Ze({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ze(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),J(this.dragBox,je),le(this.cropBox,zn)),this},replace:function(B){var X=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&B&&(this.isImg&&(this.element.src=B),X?(this.url=B,this.image.src=B,this.ready&&(this.viewBoxImage.src=B,ge(this.previews,function(G){G.getElementsByTagName("img")[0].src=B}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(B))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,J(this.cropper,mr)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,le(this.cropper,mr)),this},destroy:function(){var B=this.element;return B[Ye]?(B[Ye]=void 0,this.isImg&&this.replaced&&(B.src=this.originalUrl),this.uncreate(),this):this},move:function(B){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,G=this.canvasData,Fe=G.left,Ie=G.top;return this.moveTo(Nn(B)?B:Fe+Number(B),Nn(X)?X:Ie+Number(X))},moveTo:function(B){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,G=this.canvasData,Fe=!1;return B=Number(B),X=Number(X),this.ready&&!this.disabled&&this.options.movable&&(sn(B)&&(G.left=B,Fe=!0),sn(X)&&(G.top=X,Fe=!0),Fe&&this.renderCanvas(!0)),this},zoom:function(B,X){var G=this.canvasData;return B=Number(B),this.zoomTo(G.width*(B=B<0?1/(1-B):1+B)/G.naturalWidth,null,X)},zoomTo:function(B,X,G){var Fe=this.options,Ie=this.canvasData,Le=Ie.width,It=Ie.height,Lt=Ie.naturalWidth,Nt=Ie.naturalHeight;if((B=Number(B))>=0&&this.ready&&!this.disabled&&Fe.zoomable){var lt=Lt*B,Ct=Nt*B;if(!1===Zt(this.element,hr,{ratio:B,oldRatio:Le/Lt,originalEvent:G}))return this;if(G){var Kt=this.pointers,Sr=Er(this.cropper),fr=Kt&&Object.keys(Kt).length?function da(ue){var B=0,X=0,G=0;return ge(ue,function(Fe){B+=Fe.startX,X+=Fe.startY,G+=1}),{pageX:B/=G,pageY:X/=G}}(Kt):{pageX:G.pageX,pageY:G.pageY};Ie.left-=(fr.pageX-Sr.left-Ie.left)/Le*(lt-Le),Ie.top-=(fr.pageY-Sr.top-Ie.top)/It*(Ct-It)}else Ir(X)&&sn(X.x)&&sn(X.y)?(Ie.left-=(X.x-Ie.left)/Le*(lt-Le),Ie.top-=(X.y-Ie.top)/It*(Ct-It)):(Ie.left-=(lt-Le)/2,Ie.top-=(Ct-It)/2);Ie.width=lt,Ie.height=Ct,this.renderCanvas(!0)}return this},rotate:function(B){return this.rotateTo((this.imageData.rotate||0)+Number(B))},rotateTo:function(B){return sn(B=Number(B))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=B%360,this.renderCanvas(!0,!0)),this},scaleX:function(B){var X=this.imageData.scaleY;return this.scale(B,sn(X)?X:1)},scaleY:function(B){var X=this.imageData.scaleX;return this.scale(sn(X)?X:1,B)},scale:function(B){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,G=this.imageData,Fe=!1;return B=Number(B),X=Number(X),this.ready&&!this.disabled&&this.options.scalable&&(sn(B)&&(G.scaleX=B,Fe=!0),sn(X)&&(G.scaleY=X,Fe=!0),Fe&&this.renderCanvas(!0,!0)),this},getData:function(){var Le,B=arguments.length>0&&void 0!==arguments[0]&&arguments[0],X=this.options,G=this.imageData,Fe=this.canvasData,Ie=this.cropBoxData;if(this.ready&&this.cropped){var It=G.width/G.naturalWidth;if(ge(Le={x:Ie.left-Fe.left,y:Ie.top-Fe.top,width:Ie.width,height:Ie.height},function(lt,Ct){Le[Ct]=lt/It}),B){var Lt=Math.round(Le.y+Le.height),Nt=Math.round(Le.x+Le.width);Le.x=Math.round(Le.x),Le.y=Math.round(Le.y),Le.width=Nt-Le.x,Le.height=Lt-Le.y}}else Le={x:0,y:0,width:0,height:0};return X.rotatable&&(Le.rotate=G.rotate||0),X.scalable&&(Le.scaleX=G.scaleX||1,Le.scaleY=G.scaleY||1),Le},setData:function(B){var X=this.options,G=this.imageData,Fe=this.canvasData,Ie={};if(this.ready&&!this.disabled&&Ir(B)){var Le=!1;X.rotatable&&sn(B.rotate)&&B.rotate!==G.rotate&&(G.rotate=B.rotate,Le=!0),X.scalable&&(sn(B.scaleX)&&B.scaleX!==G.scaleX&&(G.scaleX=B.scaleX,Le=!0),sn(B.scaleY)&&B.scaleY!==G.scaleY&&(G.scaleY=B.scaleY,Le=!0)),Le&&this.renderCanvas(!0,!0);var It=G.width/G.naturalWidth;sn(B.x)&&(Ie.left=B.x*It+Fe.left),sn(B.y)&&(Ie.top=B.y*It+Fe.top),sn(B.width)&&(Ie.width=B.width*It),sn(B.height)&&(Ie.height=B.height*It),this.setCropBoxData(Ie)}return this},getContainerData:function(){return this.ready?Ze({},this.containerData):{}},getImageData:function(){return this.sized?Ze({},this.imageData):{}},getCanvasData:function(){var B=this.canvasData,X={};return this.ready&&ge(["left","top","width","height","naturalWidth","naturalHeight"],function(G){X[G]=B[G]}),X},setCanvasData:function(B){var X=this.canvasData,G=X.aspectRatio;return this.ready&&!this.disabled&&Ir(B)&&(sn(B.left)&&(X.left=B.left),sn(B.top)&&(X.top=B.top),sn(B.width)?(X.width=B.width,X.height=B.width/G):sn(B.height)&&(X.height=B.height,X.width=B.height*G),this.renderCanvas(!0)),this},getCropBoxData:function(){var X,B=this.cropBoxData;return this.ready&&this.cropped&&(X={left:B.left,top:B.top,width:B.width,height:B.height}),X||{}},setCropBoxData:function(B){var Fe,Ie,X=this.cropBoxData,G=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Ir(B)&&(sn(B.left)&&(X.left=B.left),sn(B.top)&&(X.top=B.top),sn(B.width)&&B.width!==X.width&&(Fe=!0,X.width=B.width),sn(B.height)&&B.height!==X.height&&(Ie=!0,X.height=B.height),G&&(Fe?X.height=X.width/G:Ie&&(X.width=X.height*G)),this.renderCropBox()),this},getCroppedCanvas:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var X=this.canvasData,G=function ds(ue,B,X,G){var Fe=B.aspectRatio,Ie=B.naturalWidth,Le=B.naturalHeight,It=B.rotate,Lt=void 0===It?0:It,Nt=B.scaleX,lt=void 0===Nt?1:Nt,Ct=B.scaleY,Kt=void 0===Ct?1:Ct,Sr=X.aspectRatio,fr=X.naturalWidth,Zr=X.naturalHeight,Rr=G.fillColor,xr=void 0===Rr?"transparent":Rr,Hn=G.imageSmoothingEnabled,dr=void 0===Hn||Hn,Xr=G.imageSmoothingQuality,fi=void 0===Xr?"low":Xr,$t=G.maxWidth,Kr=void 0===$t?1/0:$t,Ii=G.maxHeight,Oi=void 0===Ii?1/0:Ii,Wi=G.minWidth,co=void 0===Wi?0:Wi,Hr=G.minHeight,Jt=void 0===Hr?0:Hr,Un=document.createElement("canvas"),_r=Un.getContext("2d"),Di=Jo({aspectRatio:Sr,width:Kr,height:Oi}),ko=Jo({aspectRatio:Sr,width:co,height:Jt},"cover"),Vi=Math.min(Di.width,Math.max(ko.width,fr)),es=Math.min(Di.height,Math.max(ko.height,Zr)),Jr=Jo({aspectRatio:Fe,width:Kr,height:Oi}),bo=Jo({aspectRatio:Fe,width:co,height:Jt},"cover"),No=Math.min(Jr.width,Math.max(bo.width,Ie)),jn=Math.min(Jr.height,Math.max(bo.height,Le)),Ei=[-No/2,-jn/2,No,jn];return Un.width=cn(Vi),Un.height=cn(es),_r.fillStyle=xr,_r.fillRect(0,0,Vi,es),_r.save(),_r.translate(Vi/2,es/2),_r.rotate(Lt*Math.PI/180),_r.scale(lt,Kt),_r.imageSmoothingEnabled=dr,_r.imageSmoothingQuality=fi,_r.drawImage.apply(_r,[ue].concat(Ce(Ei.map(function(wl){return Math.floor(cn(wl))})))),_r.restore(),Un}(this.image,this.imageData,X,B);if(!this.cropped)return G;var Fe=this.getData(B.rounded),Ie=Fe.x,Le=Fe.y,It=Fe.width,Lt=Fe.height,Nt=G.width/Math.floor(X.naturalWidth);1!==Nt&&(Ie*=Nt,Le*=Nt,It*=Nt,Lt*=Nt);var lt=It/Lt,Ct=Jo({aspectRatio:lt,width:B.maxWidth||1/0,height:B.maxHeight||1/0}),Kt=Jo({aspectRatio:lt,width:B.minWidth||0,height:B.minHeight||0},"cover"),Sr=Jo({aspectRatio:lt,width:B.width||(1!==Nt?G.width:It),height:B.height||(1!==Nt?G.height:Lt)}),fr=Sr.width,Zr=Sr.height;fr=Math.min(Ct.width,Math.max(Kt.width,fr)),Zr=Math.min(Ct.height,Math.max(Kt.height,Zr));var Rr=document.createElement("canvas"),xr=Rr.getContext("2d");Rr.width=cn(fr),Rr.height=cn(Zr),xr.fillStyle=B.fillColor||"transparent",xr.fillRect(0,0,fr,Zr);var Hn=B.imageSmoothingEnabled,Xr=B.imageSmoothingQuality;xr.imageSmoothingEnabled=void 0===Hn||Hn,Xr&&(xr.imageSmoothingQuality=Xr);var Oi,Wi,co,Hr,Jt,Un,fi=G.width,$t=G.height,Kr=Ie,Ii=Le;Kr<=-It||Kr>fi?(Kr=0,Oi=0,co=0,Jt=0):Kr<=0?(co=-Kr,Kr=0,Jt=Oi=Math.min(fi,It+Kr)):Kr<=fi&&(co=0,Jt=Oi=Math.min(It,fi-Kr)),Oi<=0||Ii<=-Lt||Ii>$t?(Ii=0,Wi=0,Hr=0,Un=0):Ii<=0?(Hr=-Ii,Ii=0,Un=Wi=Math.min($t,Lt+Ii)):Ii<=$t&&(Hr=0,Un=Wi=Math.min(Lt,$t-Ii));var _r=[Kr,Ii,Oi,Wi];if(Jt>0&&Un>0){var Di=fr/It;_r.push(co*Di,Hr*Di,Jt*Di,Un*Di)}return xr.drawImage.apply(xr,[G].concat(Ce(_r.map(function(ko){return Math.floor(cn(ko))})))),Rr},setAspectRatio:function(B){var X=this.options;return!this.disabled&&!Nn(B)&&(X.aspectRatio=Math.max(0,B)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(B){var X=this.options,G=this.dragBox,Fe=this.face;if(this.ready&&!this.disabled){var Ie=B===vt,Le=X.movable&&"move"===B;X.dragMode=B=Ie||Le?B:"none",Qt(G,et,B),te(G,er,Ie),te(G,qe,Le),X.cropBoxMovable||(Qt(Fe,et,B),te(Fe,er,Ie),te(Fe,qe,Le))}return this}},ao=bt.Cropper,fa=function(){function ue(B){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function ie(ue,B){if(!(ue instanceof B))throw new TypeError("Cannot call a class as a function")}(this,ue),!B||!Tn.test(B.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=B,this.options=Ze({},Ln,Ir(X)&&X),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function Te(ue,B,X){return B&&z(ue.prototype,B),X&&z(ue,X),Object.defineProperty(ue,"prototype",{writable:!1}),ue}(ue,[{key:"init",value:function(){var Fe,X=this.element,G=X.tagName.toLowerCase();if(!X[Ye]){if(X[Ye]=this,"img"===G){if(this.isImg=!0,Fe=X.getAttribute("src")||"",this.originalUrl=Fe,!Fe)return;Fe=X.src}else"canvas"===G&&window.HTMLCanvasElement&&(Fe=X.toDataURL());this.load(Fe)}}},{key:"load",value:function(X){var G=this;if(X){this.url=X,this.imageData={};var Fe=this.element,Ie=this.options;if(!Ie.rotatable&&!Ie.scalable&&(Ie.checkOrientation=!1),!Ie.checkOrientation||!window.ArrayBuffer)return void this.clone();if(Xt.test(X))return void(Wn.test(X)?this.read(function ha(ue){var B=ue.replace(Mc,""),X=atob(B),G=new ArrayBuffer(X.length),Fe=new Uint8Array(G);return ge(Fe,function(Ie,Le){Fe[Le]=X.charCodeAt(Le)}),G}(X)):this.clone());var Le=new XMLHttpRequest,It=this.clone.bind(this);this.reloading=!0,this.xhr=Le,Le.onabort=It,Le.onerror=It,Le.ontimeout=It,Le.onprogress=function(){Le.getResponseHeader("content-type")!==Dn&&Le.abort()},Le.onload=function(){G.read(Le.response)},Le.onloadend=function(){G.reloading=!1,G.xhr=null},Ie.checkCrossOrigin&&ni(X)&&Fe.crossOrigin&&(X=Ai(X)),Le.open("GET",X,!0),Le.responseType="arraybuffer",Le.withCredentials="use-credentials"===Fe.crossOrigin,Le.send()}}},{key:"read",value:function(X){var G=this.options,Fe=this.imageData,Ie=Ts(X),Le=0,It=1,Lt=1;if(Ie>1){this.url=function fs(ue,B){for(var X=[],Fe=new Uint8Array(ue);Fe.length>0;)X.push(Gs.apply(null,nt(Fe.subarray(0,8192)))),Fe=Fe.subarray(8192);return"data:".concat(B,";base64,").concat(btoa(X.join("")))}(X,Dn);var Nt=function Cs(ue){var B=0,X=1,G=1;switch(ue){case 2:X=-1;break;case 3:B=-180;break;case 4:G=-1;break;case 5:B=90,G=-1;break;case 6:B=90;break;case 7:B=90,X=-1;break;case 8:B=-90}return{rotate:B,scaleX:X,scaleY:G}}(Ie);Le=Nt.rotate,It=Nt.scaleX,Lt=Nt.scaleY}G.rotatable&&(Fe.rotate=Le),G.scalable&&(Fe.scaleX=It,Fe.scaleY=Lt),this.clone()}},{key:"clone",value:function(){var X=this.element,G=this.url,Fe=X.crossOrigin,Ie=G;this.options.checkCrossOrigin&&ni(G)&&(Fe||(Fe="anonymous"),Ie=Ai(G)),this.crossOrigin=Fe,this.crossOriginUrl=Ie;var Le=document.createElement("img");Fe&&(Le.crossOrigin=Fe),Le.src=Ie||G,Le.alt=X.alt||"The image to crop",this.image=Le,Le.onload=this.start.bind(this),Le.onerror=this.stop.bind(this),le(Le,Cr),X.parentNode.insertBefore(Le,X.nextSibling)}},{key:"start",value:function(){var X=this,G=this.image;G.onload=null,G.onerror=null,this.sizing=!0;var Fe=bt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(bt.navigator.userAgent),Ie=function(Nt,lt){Ze(X.imageData,{naturalWidth:Nt,naturalHeight:lt,aspectRatio:Nt/lt}),X.initialImageData=Ze({},X.imageData),X.sizing=!1,X.sized=!0,X.build()};if(!G.naturalWidth||Fe){var Le=document.createElement("img"),It=document.body||document.documentElement;this.sizingImage=Le,Le.onload=function(){Ie(Le.width,Le.height),Fe||It.removeChild(Le)},Le.src=G.src,Fe||(Le.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",It.appendChild(Le))}else Ie(G.naturalWidth,G.naturalHeight)}},{key:"stop",value:function(){var X=this.image;X.onload=null,X.onerror=null,X.parentNode.removeChild(X),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var X=this.element,G=this.options,Fe=this.image,Ie=X.parentNode,Le=document.createElement("div");Le.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var It=Le.querySelector(".".concat(Ye,"-container")),Lt=It.querySelector(".".concat(Ye,"-canvas")),Nt=It.querySelector(".".concat(Ye,"-drag-box")),lt=It.querySelector(".".concat(Ye,"-crop-box")),Ct=lt.querySelector(".".concat(Ye,"-face"));this.container=Ie,this.cropper=It,this.canvas=Lt,this.dragBox=Nt,this.cropBox=lt,this.viewBox=It.querySelector(".".concat(Ye,"-view-box")),this.face=Ct,Lt.appendChild(Fe),le(X,zn),Ie.insertBefore(It,X.nextSibling),J(Fe,Cr),this.initPreview(),this.bind(),G.initialAspectRatio=Math.max(0,G.initialAspectRatio)||NaN,G.aspectRatio=Math.max(0,G.aspectRatio)||NaN,G.viewMode=Math.max(0,Math.min(3,Math.round(G.viewMode)))||0,le(lt,zn),G.guides||le(lt.getElementsByClassName("".concat(Ye,"-dashed")),zn),G.center||le(lt.getElementsByClassName("".concat(Ye,"-center")),zn),G.background&&le(It,"".concat(Ye,"-bg")),G.highlight||le(Ct,yr),G.cropBoxMovable&&(le(Ct,qe),Qt(Ct,et,"all")),G.cropBoxResizable||(le(lt.getElementsByClassName("".concat(Ye,"-line")),zn),le(lt.getElementsByClassName("".concat(Ye,"-point")),zn)),this.render(),this.ready=!0,this.setDragMode(G.dragMode),G.autoCrop&&this.crop(),this.setData(G.data),Mr(G.ready)&&Vt(X,"ready",G.ready,{once:!0}),Zt(X,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var X=this.cropper.parentNode;X&&X.removeChild(this.cropper),J(this.element,zn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ao,ue}},{key:"setDefaults",value:function(X){Ze(Ln,Ir(X)&&X)}}]),ue}();return Ze(fa.prototype,As,_i,nu,Po,ic,Rc),fa}()},691:(pn,st,W)=>{"use strict";W.r(st),W.d(st,{Children:()=>Ot,Component:()=>u.Component,Fragment:()=>u.Fragment,PureComponent:()=>qe,StrictMode:()=>_e,Suspense:()=>mt,SuspenseList:()=>ot,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>Ir,cloneElement:()=>Ze,createContext:()=>u.createContext,createElement:()=>u.createElement,createFactory:()=>ei,createPortal:()=>kn,createRef:()=>u.createRef,default:()=>Qt,findDOMNode:()=>cn,flushSync:()=>lr,forwardRef:()=>Mt,hydrate:()=>ar,isElement:()=>ke,isFragment:()=>ge,isValidElement:()=>nt,lazy:()=>ct,memo:()=>et,render:()=>Tn,startTransition:()=>le,unmountComponentAtNode:()=>Bt,unstable_batchedUpdates:()=>Cn,useCallback:()=>yt,useContext:()=>He,useDebugValue:()=>it,useDeferredValue:()=>J,useEffect:()=>qt,useErrorBoundary:()=>At,useId:()=>de,useImperativeHandle:()=>on,useInsertionEffect:()=>q,useLayoutEffect:()=>Ye,useMemo:()=>Ne,useReducer:()=>_t,useRef:()=>rn,useState:()=>bt,useSyncExternalStore:()=>St,useTransition:()=>te,version:()=>Mr});var ie,z,Te,K,u=W(4354),Ce=0,Ae=[],Pe=[],Me=u.options.__b,Y=u.options.__r,re=u.options.diffed,Ee=u.options.__c,Tt=u.options.unmount;function Xe(ne,ce){u.options.__h&&u.options.__h(z,ne,Ce||ce),Ce=0;var De=z.__H||(z.__H={__:[],__h:[]});return ne>=De.__.length&&De.__.push({__V:Pe}),De.__[ne]}function bt(ne){return Ce=1,_t(zn,ne)}function _t(ne,ce,De){var Qe=Xe(ie++,2);if(Qe.t=ne,!Qe.__c&&(Qe.__=[De?De(ce):zn(void 0,ce),function(Ur){var ti=Qe.__N?Qe.__N[0]:Qe.__[0],ni=Qe.t(ti,Ur);ti!==ni&&(Qe.__N=[ni,Qe.__[1]],Qe.__c.setState({}))}],Qe.__c=z,!z.u)){var Vt=function(Ur,ti,ni){if(!Qe.__c.__H)return!0;var Ai=Qe.__c.__H.__.filter(function(Vn){return Vn.__c});if(Ai.every(function(Vn){return!Vn.__N}))return!Zt||Zt.call(this,Ur,ti,ni);var si=!1;return Ai.forEach(function(Vn){if(Vn.__N){var Ni=Vn.__[0];Vn.__=Vn.__N,Vn.__N=void 0,Ni!==Vn.__[0]&&(si=!0)}}),!(!si&&Qe.__c.props===Ur)&&(!Zt||Zt.call(this,Ur,ti,ni))};z.u=!0;var Zt=z.shouldComponentUpdate,Er=z.componentWillUpdate;z.componentWillUpdate=function(Ur,ti,ni){if(this.__e){var Ai=Zt;Zt=void 0,Vt(Ur,ti,ni),Zt=Ai}Er&&Er.call(this,Ur,ti,ni)},z.shouldComponentUpdate=Vt}return Qe.__N||Qe.__}function qt(ne,ce){var De=Xe(ie++,3);!u.options.__s&&mr(De.__H,ce)&&(De.__=ne,De.i=ce,z.__H.__h.push(De))}function Ye(ne,ce){var De=Xe(ie++,4);!u.options.__s&&mr(De.__H,ce)&&(De.__=ne,De.i=ce,z.__h.push(De))}function rn(ne){return Ce=5,Ne(function(){return{current:ne}},[])}function on(ne,ce,De){Ce=6,Ye(function(){return"function"==typeof ne?(ne(ce()),function(){return ne(null)}):ne?(ne.current=ce(),function(){return ne.current=null}):void 0},null==De?De:De.concat(ne))}function Ne(ne,ce){var De=Xe(ie++,7);return mr(De.__H,ce)?(De.__V=ne(),De.i=ce,De.__h=ne,De.__V):De.__}function yt(ne,ce){return Ce=8,Ne(function(){return ne},ce)}function He(ne){var ce=z.context[ne.__c],De=Xe(ie++,9);return De.c=ne,ce?(null==De.__&&(De.__=!0,ce.sub(z)),ce.props.value):ne.__}function it(ne,ce){u.options.useDebugValue&&u.options.useDebugValue(ce?ce(ne):ne)}function At(ne){var ce=Xe(ie++,10),De=bt();return ce.__=ne,z.componentDidCatch||(z.componentDidCatch=function(Qe,Vt){ce.__&&ce.__(Qe,Vt),De[1](Qe)}),[De[0],function(){De[1](void 0)}]}function de(){var ne=Xe(ie++,11);if(!ne.__){for(var ce=z.__v;null!==ce&&!ce.__m&&null!==ce.__;)ce=ce.__;var De=ce.__m||(ce.__m=[0,0]);ne.__="P"+De[0]+"-"+De[1]++}return ne.__}function ht(){for(var ne;ne=Ae.shift();)if(ne.__P&&ne.__H)try{ne.__H.__h.forEach(sr),ne.__H.__h.forEach(er),ne.__H.__h=[]}catch(ce){ne.__H.__h=[],u.options.__e(ce,ne.__v)}}u.options.__b=function(ne){z=null,Me&&Me(ne)},u.options.__r=function(ne){Y&&Y(ne),ie=0;var ce=(z=ne.__c).__H;ce&&(Te===z?(ce.__h=[],z.__h=[],ce.__.forEach(function(De){De.__N&&(De.__=De.__N),De.__V=Pe,De.__N=De.i=void 0})):(ce.__h.forEach(sr),ce.__h.forEach(er),ce.__h=[],ie=0)),Te=z},u.options.diffed=function(ne){re&&re(ne);var ce=ne.__c;ce&&ce.__H&&(ce.__H.__h.length&&(1!==Ae.push(ce)&&K===u.options.requestAnimationFrame||((K=u.options.requestAnimationFrame)||hn)(ht)),ce.__H.__.forEach(function(De){De.i&&(De.__H=De.i),De.__V!==Pe&&(De.__=De.__V),De.i=void 0,De.__V=Pe})),Te=z=null},u.options.__c=function(ne,ce){ce.some(function(De){try{De.__h.forEach(sr),De.__h=De.__h.filter(function(Qe){return!Qe.__||er(Qe)})}catch(Qe){ce.some(function(Vt){Vt.__h&&(Vt.__h=[])}),ce=[],u.options.__e(Qe,De.__v)}}),Ee&&Ee(ne,ce)},u.options.unmount=function(ne){Tt&&Tt(ne);var ce,De=ne.__c;De&&De.__H&&(De.__H.__.forEach(function(Qe){try{sr(Qe)}catch(Vt){ce=Vt}}),De.__H=void 0,ce&&u.options.__e(ce,De.__v))};var Ht="function"==typeof requestAnimationFrame;function hn(ne){var ce,De=function(){clearTimeout(Qe),Ht&&cancelAnimationFrame(ce),setTimeout(ne)},Qe=setTimeout(De,100);Ht&&(ce=requestAnimationFrame(De))}function sr(ne){var ce=z,De=ne.__c;"function"==typeof De&&(ne.__c=void 0,De()),z=ce}function er(ne){var ce=z;ne.__c=ne.__(),z=ce}function mr(ne,ce){return!ne||ne.length!==ce.length||ce.some(function(De,Qe){return De!==ne[Qe]})}function zn(ne,ce){return"function"==typeof ce?ce(ne):ce}function Cr(ne,ce){for(var De in ce)ne[De]=ce[De];return ne}function yr(ne,ce){for(var De in ne)if("__source"!==De&&!(De in ce))return!0;for(var Qe in ce)if("__source"!==Qe&&ne[Qe]!==ce[Qe])return!0;return!1}function je(ne,ce){return ne===ce&&(0!==ne||1/ne==1/ce)||ne!=ne&&ce!=ce}function qe(ne){this.props=ne}function et(ne,ce){function De(Vt){var Zt=this.props.ref,Er=Zt==Vt.ref;return!Er&&Zt&&(Zt.call?Zt(null):Zt.current=null),ce?!ce(this.props,Vt)||!Er:yr(this.props,Vt)}function Qe(Vt){return this.shouldComponentUpdate=De,(0,u.createElement)(ne,Vt)}return Qe.displayName="Memo("+(ne.displayName||ne.name)+")",Qe.prototype.isReactComponent=!0,Qe.__f=!0,Qe}(qe.prototype=new u.Component).isPureReactComponent=!0,qe.prototype.shouldComponentUpdate=function(ne,ce){return yr(this.props,ne)||yr(this.state,ce)};var Ge=u.options.__b;u.options.__b=function(ne){ne.type&&ne.type.__f&&ne.ref&&(ne.props.ref=ne.ref,ne.ref=null),Ge&&Ge(ne)};var vt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Mt(ne){function ce(De){var Qe=Cr({},De);return delete Qe.ref,ne(Qe,De.ref||null)}return ce.$$typeof=vt,ce.render=ce,ce.prototype.isReactComponent=ce.__f=!0,ce.displayName="ForwardRef("+(ne.displayName||ne.name)+")",ce}var jt=function(ne,ce){return null==ne?null:(0,u.toChildArray)((0,u.toChildArray)(ne).map(ce))},Ot={map:jt,forEach:jt,count:function(ne){return ne?(0,u.toChildArray)(ne).length:0},only:function(ne){var ce=(0,u.toChildArray)(ne);if(1!==ce.length)throw"Children.only";return ce[0]},toArray:u.toChildArray},wr=u.options.__e;u.options.__e=function(ne,ce,De,Qe){if(ne.then)for(var Vt,Zt=ce;Zt=Zt.__;)if((Vt=Zt.__c)&&Vt.__c)return null==ce.__e&&(ce.__e=De.__e,ce.__k=De.__k),Vt.__c(ne,ce);wr(ne,ce,De,Qe)};var me=u.options.unmount;function be(ne,ce,De){return ne&&(ne.__c&&ne.__c.__H&&(ne.__c.__H.__.forEach(function(Qe){"function"==typeof Qe.__c&&Qe.__c()}),ne.__c.__H=null),null!=(ne=Cr({},ne)).__c&&(ne.__c.__P===De&&(ne.__c.__P=ce),ne.__c=null),ne.__k=ne.__k&&ne.__k.map(function(Qe){return be(Qe,ce,De)})),ne}function xe(ne,ce,De){return ne&&De&&(ne.__v=null,ne.__k=ne.__k&&ne.__k.map(function(Qe){return xe(Qe,ce,De)}),ne.__c&&ne.__c.__P===ce&&(ne.__e&&De.insertBefore(ne.__e,ne.__d),ne.__c.__e=!0,ne.__c.__P=De)),ne}function mt(){this.__u=0,this.t=null,this.__b=null}function Ft(ne){var ce=ne.__.__c;return ce&&ce.__a&&ce.__a(ne)}function ct(ne){var ce,De,Qe;function Vt(Zt){if(ce||(ce=ne()).then(function(Er){De=Er.default||Er},function(Er){Qe=Er}),Qe)throw Qe;if(!De)throw ce;return(0,u.createElement)(De,Zt)}return Vt.displayName="Lazy",Vt.__f=!0,Vt}function ot(){this.u=null,this.o=null}u.options.unmount=function(ne){var ce=ne.__c;ce&&ce.__R&&ce.__R(),ce&&!0===ne.__h&&(ne.type=null),me&&me(ne)},(mt.prototype=new u.Component).__c=function(ne,ce){var De=ce.__c,Qe=this;null==Qe.t&&(Qe.t=[]),Qe.t.push(De);var Vt=Ft(Qe.__v),Zt=!1,Er=function(){Zt||(Zt=!0,De.__R=null,Vt?Vt(Ur):Ur())};De.__R=Er;var Ur=function(){if(! --Qe.__u){if(Qe.state.__a){var ni=Qe.state.__a;Qe.__v.__k[0]=xe(ni,ni.__c.__P,ni.__c.__O)}var Ai;for(Qe.setState({__a:Qe.__b=null});Ai=Qe.t.pop();)Ai.forceUpdate()}},ti=!0===ce.__h;Qe.__u++||ti||Qe.setState({__a:Qe.__b=Qe.__v.__k[0]}),ne.then(Er,Er)},mt.prototype.componentWillUnmount=function(){this.t=[]},mt.prototype.render=function(ne,ce){if(this.__b){if(this.__v.__k){var De=document.createElement("div"),Qe=this.__v.__k[0].__c;this.__v.__k[0]=be(this.__b,De,Qe.__O=Qe.__P)}this.__b=null}var Vt=ce.__a&&(0,u.createElement)(u.Fragment,null,ne.fallback);return Vt&&(Vt.__h=null),[(0,u.createElement)(u.Fragment,null,ce.__a?null:ne.children),Vt]};var En=function(ne,ce,De){if(++De[1]===De[0]&&ne.o.delete(ce),ne.props.revealOrder&&("t"!==ne.props.revealOrder[0]||!ne.o.size))for(De=ne.u;De;){for(;De.length>3;)De.pop()();if(De[1]<De[0])break;ne.u=De=De[2]}};function $n(ne){return this.getChildContext=function(){return ne.context},ne.children}function Kn(ne){var ce=this,De=ne.i;ce.componentWillUnmount=function(){(0,u.render)(null,ce.l),ce.l=null,ce.i=null},ce.i&&ce.i!==De&&ce.componentWillUnmount(),ce.l||(ce.i=De,ce.l={nodeType:1,parentNode:De,childNodes:[],appendChild:function(Qe){this.childNodes.push(Qe),ce.i.appendChild(Qe)},insertBefore:function(Qe,Vt){this.childNodes.push(Qe),ce.i.appendChild(Qe)},removeChild:function(Qe){this.childNodes.splice(this.childNodes.indexOf(Qe)>>>1,1),ce.i.removeChild(Qe)}}),(0,u.render)((0,u.createElement)($n,{context:ce.context},ne.__v),ce.l)}function kn(ne,ce){var De=(0,u.createElement)(Kn,{__v:ne,i:ce});return De.containerInfo=ce,De}(ot.prototype=new u.Component).__a=function(ne){var ce=this,De=Ft(ce.__v),Qe=ce.o.get(ne);return Qe[0]++,function(Vt){var Zt=function(){ce.props.revealOrder?(Qe.push(Vt),En(ce,ne,Qe)):Vt()};De?De(Zt):Zt()}},ot.prototype.render=function(ne){this.u=null,this.o=new Map;var ce=(0,u.toChildArray)(ne.children);ne.revealOrder&&"b"===ne.revealOrder[0]&&ce.reverse();for(var De=ce.length;De--;)this.o.set(ce[De],this.u=[1,0,this.u]);return ne.children},ot.prototype.componentDidUpdate=ot.prototype.componentDidMount=function(){var ne=this;this.o.forEach(function(ce,De){En(ne,De,ce)})};var Je=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,hr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Dn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Rt=/[A-Z0-9]/g,Xt=typeof document<"u",Wn=function(ne){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(ne)};function Tn(ne,ce,De){return null==ce.__k&&(ce.textContent=""),(0,u.render)(ne,ce),"function"==typeof De&&De(),ne?ne.__c:null}function ar(ne,ce,De){return(0,u.hydrate)(ne,ce),"function"==typeof De&&De(),ne?ne.__c:null}u.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ne){Object.defineProperty(u.Component.prototype,ne,{configurable:!0,get:function(){return this["UNSAFE_"+ne]},set:function(ce){Object.defineProperty(this,ne,{configurable:!0,writable:!0,value:ce})}})});var Ar=u.options.event;function Ln(){}function tr(){return this.cancelBubble}function gi(){return this.defaultPrevented}u.options.event=function(ne){return Ar&&(ne=Ar(ne)),ne.persist=Ln,ne.isPropagationStopped=tr,ne.isDefaultPrevented=gi,ne.nativeEvent=ne};var sn,ii={enumerable:!1,configurable:!0,get:function(){return this.class}},Nn=u.options.vnode;u.options.vnode=function(ne){"string"==typeof ne.type&&function(ce){var De=ce.props,Qe=ce.type,Vt={};for(var Zt in De){var Er=De[Zt];if(!("value"===Zt&&"defaultValue"in De&&null==Er||Xt&&"children"===Zt&&"noscript"===Qe||"class"===Zt||"className"===Zt)){var Ur=Zt.toLowerCase();"defaultValue"===Zt&&"value"in De&&null==De.value?Zt="value":"download"===Zt&&!0===Er?Er="":"ondoubleclick"===Ur?Zt="ondblclick":"onchange"!==Ur||"input"!==Qe&&"textarea"!==Qe||Wn(De.type)?"onfocus"===Ur?Zt="onfocusin":"onblur"===Ur?Zt="onfocusout":Dn.test(Zt)?Zt=Ur:-1===Qe.indexOf("-")&&hr.test(Zt)?Zt=Zt.replace(Rt,"-$&").toLowerCase():null===Er&&(Er=void 0):Ur=Zt="oninput","oninput"===Ur&&Vt[Zt=Ur]&&(Zt="oninputCapture"),Vt[Zt]=Er}}"select"==Qe&&Vt.multiple&&Array.isArray(Vt.value)&&(Vt.value=(0,u.toChildArray)(De.children).forEach(function(ti){ti.props.selected=-1!=Vt.value.indexOf(ti.props.value)})),"select"==Qe&&null!=Vt.defaultValue&&(Vt.value=(0,u.toChildArray)(De.children).forEach(function(ti){ti.props.selected=Vt.multiple?-1!=Vt.defaultValue.indexOf(ti.props.value):Vt.defaultValue==ti.props.value})),De.class&&!De.className?(Vt.class=De.class,Object.defineProperty(Vt,"className",ii)):(De.className&&!De.class||De.class&&De.className)&&(Vt.class=Vt.className=De.className),ce.props=Vt}(ne),ne.$$typeof=Je,Nn&&Nn(ne)};var gr=u.options.__r;u.options.__r=function(ne){gr&&gr(ne),sn=ne.__c};var bi=u.options.diffed;u.options.diffed=function(ne){bi&&bi(ne);var ce=ne.props,De=ne.__e;null!=De&&"textarea"===ne.type&&"value"in ce&&ce.value!==De.value&&(De.value=null==ce.value?"":ce.value),sn=null};var Ir={ReactCurrentDispatcher:{current:{readContext:function(ne){return sn.__n[ne.__c].props.value}}}},Mr="17.0.2";function ei(ne){return u.createElement.bind(null,ne)}function nt(ne){return!!ne&&ne.$$typeof===Je}function ge(ne){return nt(ne)&&ne.type===u.Fragment}function Ze(ne){return nt(ne)?u.cloneElement.apply(null,arguments):ne}function Bt(ne){return!!ne.__k&&((0,u.render)(null,ne),!0)}function cn(ne){return ne&&(ne.base||1===ne.nodeType&&ne)||null}var Cn=function(ne,ce){return ne(ce)},lr=function(ne,ce){return ne(ce)},_e=u.Fragment;function le(ne){ne()}function J(ne){return ne}function te(){return[!1,le]}var q=Ye,ke=nt;function St(ne,ce){var De=ce(),Qe=bt({h:{__:De,v:ce}}),Vt=Qe[0].h,Zt=Qe[1];return Ye(function(){Vt.__=De,Vt.v=ce,je(Vt.__,ce())||Zt({h:Vt})},[ne,De,ce]),qt(function(){return je(Vt.__,Vt.v())||Zt({h:Vt}),ne(function(){je(Vt.__,Vt.v())||Zt({h:Vt})})},[ne]),De}var Qt={useState:bt,useId:de,useReducer:_t,useEffect:qt,useLayoutEffect:Ye,useInsertionEffect:Ye,useTransition:te,useDeferredValue:J,useSyncExternalStore:St,startTransition:le,useRef:rn,useImperativeHandle:on,useMemo:Ne,useCallback:yt,useContext:He,useDebugValue:it,version:"17.0.2",Children:Ot,render:Tn,hydrate:ar,unmountComponentAtNode:Bt,createPortal:kn,createElement:u.createElement,createContext:u.createContext,createFactory:ei,cloneElement:Ze,createRef:u.createRef,Fragment:u.Fragment,isValidElement:nt,isElement:nt,isFragment:ge,findDOMNode:cn,Component:u.Component,PureComponent:qe,memo:et,forwardRef:Mt,flushSync:lr,unstable_batchedUpdates:Cn,StrictMode:_e,Suspense:mt,SuspenseList:ot,lazy:ct,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ir}},4354:(pn,st,W)=>{"use strict";W.r(st),W.d(st,{Component:()=>on,Fragment:()=>rn,cloneElement:()=>Ot,createContext:()=>wr,createElement:()=>_t,createRef:()=>Ye,h:()=>_t,hydrate:()=>jt,isValidElement:()=>Te,options:()=>ie,render:()=>Mt,toChildArray:()=>ht});var u,ie,z,Te,K,Ce,Ae,Pe,Me,Y={},re=[],Ee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Tt=Array.isArray;function Xe(me,be){for(var xe in be)me[xe]=be[xe];return me}function bt(me){var be=me.parentNode;be&&be.removeChild(me)}function _t(me,be,xe){var mt,Ft,ct,ot={};for(ct in be)"key"==ct?mt=be[ct]:"ref"==ct?Ft=be[ct]:ot[ct]=be[ct];if(arguments.length>2&&(ot.children=arguments.length>3?u.call(arguments,2):xe),"function"==typeof me&&null!=me.defaultProps)for(ct in me.defaultProps)void 0===ot[ct]&&(ot[ct]=me.defaultProps[ct]);return qt(me,ot,mt,Ft,null)}function qt(me,be,xe,mt,Ft){var ct={type:me,props:be,key:xe,ref:mt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ft??++z};return null==Ft&&null!=ie.vnode&&ie.vnode(ct),ct}function Ye(){return{current:null}}function rn(me){return me.children}function on(me,be){this.props=me,this.context=be}function Ne(me,be){if(null==be)return me.__?Ne(me.__,me.__.__k.indexOf(me)+1):null;for(var xe;be<me.__k.length;be++)if(null!=(xe=me.__k[be])&&null!=xe.__e)return xe.__d||xe.__e;return"function"==typeof me.type?Ne(me):null}function yt(me){var be,xe;if(null!=(me=me.__)&&null!=me.__c){for(me.__e=me.__c.base=null,be=0;be<me.__k.length;be++)if(null!=(xe=me.__k[be])&&null!=xe.__e){me.__e=me.__c.base=xe.__e;break}return yt(me)}}function He(me){(!me.__d&&(me.__d=!0)&&K.push(me)&&!it.__r++||Ce!==ie.debounceRendering)&&((Ce=ie.debounceRendering)||Ae)(it)}function it(){var me,be,xe,mt,Ft,ct,ot,En,$n;for(K.sort(Pe);me=K.shift();)me.__d&&(be=K.length,mt=void 0,Ft=void 0,ct=void 0,En=(ot=(xe=me).__v).__e,($n=xe.__P)&&(mt=[],Ft=[],(ct=Xe({},ot)).__v=ot.__v+1,yr($n,ot,ct,xe.__n,void 0!==$n.ownerSVGElement,null!=ot.__h?[En]:null,mt,En??Ne(ot),ot.__h,Ft),je(mt,ot,Ft),ot.__e!=En&&yt(ot)),K.length>be&&K.sort(Pe));it.__r=0}function At(me,be,xe,mt,Ft,ct,ot,En,$n,Kn,kn){var Je,hr,Dn,Rt,Xt,Wn,Tn,ar,Ar,Ln=0,tr=mt&&mt.__k||re,gi=tr.length,sn=gi,ii=be.length;for(xe.__k=[],Je=0;Je<ii;Je++)null!=(Rt=xe.__k[Je]=null==(Rt=be[Je])||"boolean"==typeof Rt||"function"==typeof Rt?null:"string"==typeof Rt||"number"==typeof Rt||"bigint"==typeof Rt?qt(null,Rt,null,null,Rt):Tt(Rt)?qt(rn,{children:Rt},null,null,null):Rt.__b>0?qt(Rt.type,Rt.props,Rt.key,Rt.ref?Rt.ref:null,Rt.__v):Rt)?(Rt.__=xe,Rt.__b=xe.__b+1,-1===(ar=hn(Rt,tr,Tn=Je+Ln,sn))?Dn=Y:(Dn=tr[ar]||Y,tr[ar]=void 0,sn--),yr(me,Rt,Dn,Ft,ct,ot,En,$n,Kn,kn),Xt=Rt.__e,(hr=Rt.ref)&&Dn.ref!=hr&&(Dn.ref&&et(Dn.ref,null,Rt),kn.push(hr,Rt.__c||Xt,Rt)),null!=Xt&&(null==Wn&&(Wn=Xt),(Ar=Dn===Y||null===Dn.__v)?-1==ar&&Ln--:ar!==Tn&&(ar===Tn+1?Ln++:ar>Tn?sn>ii-Tn?Ln+=ar-Tn:Ln--:Ln=ar<Tn&&ar==Tn-1?ar-Tn:0),Tn=Je+Ln,"function"!=typeof Rt.type||ar===Tn&&Dn.__k!==Rt.__k?"function"==typeof Rt.type||ar===Tn&&!Ar?void 0!==Rt.__d?($n=Rt.__d,Rt.__d=void 0):$n=Xt.nextSibling:$n=Ht(me,Xt,$n):$n=de(Rt,$n,me),"function"==typeof xe.type&&(xe.__d=$n))):(Dn=tr[Je])&&null==Dn.key&&Dn.__e&&(Dn.__e==$n&&(Dn.__=mt,$n=Ne(Dn)),Ge(Dn,Dn,!1),tr[Je]=null);for(xe.__e=Wn,Je=gi;Je--;)null!=tr[Je]&&("function"==typeof xe.type&&null!=tr[Je].__e&&tr[Je].__e==xe.__d&&(xe.__d=tr[Je].__e.nextSibling),Ge(tr[Je],tr[Je]))}function de(me,be,xe){for(var mt,Ft=me.__k,ct=0;Ft&&ct<Ft.length;ct++)(mt=Ft[ct])&&(mt.__=me,be="function"==typeof mt.type?de(mt,be,xe):Ht(xe,mt.__e,be));return be}function ht(me,be){return be=be||[],null==me||"boolean"==typeof me||(Tt(me)?me.some(function(xe){ht(xe,be)}):be.push(me)),be}function Ht(me,be,xe){return null==xe||xe.parentNode!==me?me.insertBefore(be,null):be==xe&&null!=be.parentNode||me.insertBefore(be,xe),be.nextSibling}function hn(me,be,xe,mt){var Ft=me.key,ct=me.type,ot=xe-1,En=xe+1,$n=be[xe];if(null===$n||$n&&Ft==$n.key&&ct===$n.type)return xe;if(mt>(null!=$n?1:0))for(;ot>=0||En<be.length;){if(ot>=0){if(($n=be[ot])&&Ft==$n.key&&ct===$n.type)return ot;ot--}if(En<be.length){if(($n=be[En])&&Ft==$n.key&&ct===$n.type)return En;En++}}return-1}function er(me,be,xe){"-"===be[0]?me.setProperty(be,xe??""):me[be]=null==xe?"":"number"!=typeof xe||Ee.test(be)?xe:xe+"px"}function mr(me,be,xe,mt,Ft){var ct;e:if("style"===be)if("string"==typeof xe)me.style.cssText=xe;else{if("string"==typeof mt&&(me.style.cssText=mt=""),mt)for(be in mt)xe&&be in xe||er(me.style,be,"");if(xe)for(be in xe)mt&&xe[be]===mt[be]||er(me.style,be,xe[be])}else if("o"===be[0]&&"n"===be[1])ct=be!==(be=be.replace(/(PointerCapture)$|Capture$/,"$1")),be=be.toLowerCase()in me?be.toLowerCase().slice(2):be.slice(2),me.l||(me.l={}),me.l[be+ct]=xe,xe?mt?xe.u=mt.u:(xe.u=Date.now(),me.addEventListener(be,ct?Cr:zn,ct)):me.removeEventListener(be,ct?Cr:zn,ct);else if("dangerouslySetInnerHTML"!==be){if(Ft)be=be.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==be&&"height"!==be&&"href"!==be&&"list"!==be&&"form"!==be&&"tabIndex"!==be&&"download"!==be&&"rowSpan"!==be&&"colSpan"!==be&&"role"!==be&&be in me)try{me[be]=xe??"";break e}catch{}"function"==typeof xe||(null==xe||!1===xe&&"-"!==be[4]?me.removeAttribute(be):me.setAttribute(be,xe))}}function zn(me){var be=this.l[me.type+!1];if(me.t){if(me.t<=be.u)return}else me.t=Date.now();return be(ie.event?ie.event(me):me)}function Cr(me){return this.l[me.type+!0](ie.event?ie.event(me):me)}function yr(me,be,xe,mt,Ft,ct,ot,En,$n,Kn){var kn,Je,hr,Dn,Rt,Xt,Wn,Tn,ar,Ar,Ln,tr,gi,sn,ii,Nn=be.type;if(void 0!==be.constructor)return null;null!=xe.__h&&($n=xe.__h,En=be.__e=xe.__e,be.__h=null,ct=[En]),(kn=ie.__b)&&kn(be);e:if("function"==typeof Nn)try{if(Tn=be.props,ar=(kn=Nn.contextType)&&mt[kn.__c],Ar=kn?ar?ar.props.value:kn.__:mt,xe.__c?Wn=(Je=be.__c=xe.__c).__=Je.__E:("prototype"in Nn&&Nn.prototype.render?be.__c=Je=new Nn(Tn,Ar):(be.__c=Je=new on(Tn,Ar),Je.constructor=Nn,Je.render=vt),ar&&ar.sub(Je),Je.props=Tn,Je.state||(Je.state={}),Je.context=Ar,Je.__n=mt,hr=Je.__d=!0,Je.__h=[],Je._sb=[]),null==Je.__s&&(Je.__s=Je.state),null!=Nn.getDerivedStateFromProps&&(Je.__s==Je.state&&(Je.__s=Xe({},Je.__s)),Xe(Je.__s,Nn.getDerivedStateFromProps(Tn,Je.__s))),Dn=Je.props,Rt=Je.state,Je.__v=be,hr)null==Nn.getDerivedStateFromProps&&null!=Je.componentWillMount&&Je.componentWillMount(),null!=Je.componentDidMount&&Je.__h.push(Je.componentDidMount);else{if(null==Nn.getDerivedStateFromProps&&Tn!==Dn&&null!=Je.componentWillReceiveProps&&Je.componentWillReceiveProps(Tn,Ar),!Je.__e&&(null!=Je.shouldComponentUpdate&&!1===Je.shouldComponentUpdate(Tn,Je.__s,Ar)||be.__v===xe.__v)){for(be.__v!==xe.__v&&(Je.props=Tn,Je.state=Je.__s,Je.__d=!1),be.__e=xe.__e,be.__k=xe.__k,be.__k.forEach(function(gr){gr&&(gr.__=be)}),Ln=0;Ln<Je._sb.length;Ln++)Je.__h.push(Je._sb[Ln]);Je._sb=[],Je.__h.length&&ot.push(Je);break e}null!=Je.componentWillUpdate&&Je.componentWillUpdate(Tn,Je.__s,Ar),null!=Je.componentDidUpdate&&Je.__h.push(function(){Je.componentDidUpdate(Dn,Rt,Xt)})}if(Je.context=Ar,Je.props=Tn,Je.__P=me,Je.__e=!1,tr=ie.__r,gi=0,"prototype"in Nn&&Nn.prototype.render){for(Je.state=Je.__s,Je.__d=!1,tr&&tr(be),kn=Je.render(Je.props,Je.state,Je.context),sn=0;sn<Je._sb.length;sn++)Je.__h.push(Je._sb[sn]);Je._sb=[]}else do{Je.__d=!1,tr&&tr(be),kn=Je.render(Je.props,Je.state,Je.context),Je.state=Je.__s}while(Je.__d&&++gi<25);Je.state=Je.__s,null!=Je.getChildContext&&(mt=Xe(Xe({},mt),Je.getChildContext())),hr||null==Je.getSnapshotBeforeUpdate||(Xt=Je.getSnapshotBeforeUpdate(Dn,Rt)),At(me,Tt(ii=null!=kn&&kn.type===rn&&null==kn.key?kn.props.children:kn)?ii:[ii],be,xe,mt,Ft,ct,ot,En,$n,Kn),Je.base=be.__e,be.__h=null,Je.__h.length&&ot.push(Je),Wn&&(Je.__E=Je.__=null)}catch(gr){be.__v=null,($n||null!=ct)&&(be.__e=En,be.__h=!!$n,ct[ct.indexOf(En)]=null),ie.__e(gr,be,xe)}else null==ct&&be.__v===xe.__v?(be.__k=xe.__k,be.__e=xe.__e):be.__e=function qe(me,be,xe,mt,Ft,ct,ot,En,$n){var Kn,kn,Je,hr=xe.props,Dn=be.props,Rt=be.type,Xt=0;if("svg"===Rt&&(Ft=!0),null!=ct)for(;Xt<ct.length;Xt++)if((Kn=ct[Xt])&&"setAttribute"in Kn==!!Rt&&(Rt?Kn.localName===Rt:3===Kn.nodeType)){me=Kn,ct[Xt]=null;break}if(null==me){if(null===Rt)return document.createTextNode(Dn);me=Ft?document.createElementNS("http://www.w3.org/2000/svg",Rt):document.createElement(Rt,Dn.is&&Dn),ct=null,En=!1}if(null===Rt)hr===Dn||En&&me.data===Dn||(me.data=Dn);else{if(ct=ct&&u.call(me.childNodes),kn=(hr=xe.props||Y).dangerouslySetInnerHTML,Je=Dn.dangerouslySetInnerHTML,!En){if(null!=ct)for(hr={},Xt=0;Xt<me.attributes.length;Xt++)hr[me.attributes[Xt].name]=me.attributes[Xt].value;(Je||kn)&&(Je&&(kn&&Je.__html==kn.__html||Je.__html===me.innerHTML)||(me.innerHTML=Je&&Je.__html||""))}if(function sr(me,be,xe,mt,Ft){var ct;for(ct in xe)"children"===ct||"key"===ct||ct in be||mr(me,ct,null,xe[ct],mt);for(ct in be)Ft&&"function"!=typeof be[ct]||"children"===ct||"key"===ct||"value"===ct||"checked"===ct||xe[ct]===be[ct]||mr(me,ct,be[ct],xe[ct],mt)}(me,Dn,hr,Ft,En),Je)be.__k=[];else if(At(me,Tt(Xt=be.props.children)?Xt:[Xt],be,xe,mt,Ft&&"foreignObject"!==Rt,ct,ot,ct?ct[0]:xe.__k&&Ne(xe,0),En,$n),null!=ct)for(Xt=ct.length;Xt--;)null!=ct[Xt]&&bt(ct[Xt]);En||("value"in Dn&&void 0!==(Xt=Dn.value)&&(Xt!==me.value||"progress"===Rt&&!Xt||"option"===Rt&&Xt!==hr.value)&&mr(me,"value",Xt,hr.value,!1),"checked"in Dn&&void 0!==(Xt=Dn.checked)&&Xt!==me.checked&&mr(me,"checked",Xt,hr.checked,!1))}return me}(xe.__e,be,xe,mt,Ft,ct,ot,$n,Kn);(kn=ie.diffed)&&kn(be)}function je(me,be,xe){for(var mt=0;mt<xe.length;mt++)et(xe[mt],xe[++mt],xe[++mt]);ie.__c&&ie.__c(be,me),me.some(function(Ft){try{me=Ft.__h,Ft.__h=[],me.some(function(ct){ct.call(Ft)})}catch(ct){ie.__e(ct,Ft.__v)}})}function et(me,be,xe){try{"function"==typeof me?me(be):me.current=be}catch(mt){ie.__e(mt,xe)}}function Ge(me,be,xe){var mt,Ft;if(ie.unmount&&ie.unmount(me),(mt=me.ref)&&(mt.current&&mt.current!==me.__e||et(mt,null,be)),null!=(mt=me.__c)){if(mt.componentWillUnmount)try{mt.componentWillUnmount()}catch(ct){ie.__e(ct,be)}mt.base=mt.__P=null,me.__c=void 0}if(mt=me.__k)for(Ft=0;Ft<mt.length;Ft++)mt[Ft]&&Ge(mt[Ft],be,xe||"function"!=typeof me.type);xe||null==me.__e||bt(me.__e),me.__=me.__e=me.__d=void 0}function vt(me,be,xe){return this.constructor(me,xe)}function Mt(me,be,xe){var mt,Ft,ct,ot;ie.__&&ie.__(me,be),Ft=(mt="function"==typeof xe)?null:xe&&xe.__k||be.__k,ct=[],ot=[],yr(be,me=(!mt&&xe||be).__k=_t(rn,null,[me]),Ft||Y,Y,void 0!==be.ownerSVGElement,!mt&&xe?[xe]:Ft?null:be.firstChild?u.call(be.childNodes):null,ct,!mt&&xe?xe:Ft?Ft.__e:be.firstChild,mt,ot),je(ct,me,ot)}function jt(me,be){Mt(me,be,jt)}function Ot(me,be,xe){var mt,Ft,ct,ot,En=Xe({},me.props);for(ct in me.type&&me.type.defaultProps&&(ot=me.type.defaultProps),be)"key"==ct?mt=be[ct]:"ref"==ct?Ft=be[ct]:En[ct]=void 0===be[ct]&&void 0!==ot?ot[ct]:be[ct];return arguments.length>2&&(En.children=arguments.length>3?u.call(arguments,2):xe),qt(me.type,En,mt||me.key,Ft||me.ref,null)}function wr(me,be){var xe={__c:be="__cC"+Me++,__:me,Consumer:function(mt,Ft){return mt.children(Ft)},Provider:function(mt){var Ft,ct;return this.getChildContext||(Ft=[],(ct={})[be]=this,this.getChildContext=function(){return ct},this.shouldComponentUpdate=function(ot){this.props.value!==ot.value&&Ft.some(function(En){En.__e=!0,He(En)})},this.sub=function(ot){Ft.push(ot);var En=ot.componentWillUnmount;ot.componentWillUnmount=function(){Ft.splice(Ft.indexOf(ot),1),En&&En.call(ot)}}),mt.children}};return xe.Provider.__=xe.Consumer.contextType=xe}u=re.slice,ie={__e:function(me,be,xe,mt){for(var Ft,ct,ot;be=be.__;)if((Ft=be.__c)&&!Ft.__)try{if((ct=Ft.constructor)&&null!=ct.getDerivedStateFromError&&(Ft.setState(ct.getDerivedStateFromError(me)),ot=Ft.__d),null!=Ft.componentDidCatch&&(Ft.componentDidCatch(me,mt||{}),ot=Ft.__d),ot)return Ft.__E=Ft}catch(En){me=En}throw me}},z=0,Te=function(me){return null!=me&&void 0===me.constructor},on.prototype.setState=function(me,be){var xe;xe=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Xe({},this.state),"function"==typeof me&&(me=me(Xe({},xe),this.props)),me&&Xe(xe,me),null!=me&&this.__v&&(be&&this._sb.push(be),He(this))},on.prototype.forceUpdate=function(me){this.__v&&(this.__e=!0,me&&this.__h.push(me),He(this))},on.prototype.render=rn,K=[],Ae="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pe=function(me,be){return me.__v.__b-be.__v.__b},it.__r=0,Me=0},8138:(pn,st,W)=>{"use strict";W.r(st),W.d(st,{Fragment:()=>u.Fragment,jsx:()=>z,jsxDEV:()=>z,jsxs:()=>z});var u=W(4354),ie=0;function z(Te,K,Ce,Ae,Pe,Me){var Y,re,Ee={};for(re in K)"ref"==re?Y=K[re]:Ee[re]=K[re];var Tt={type:Te,props:Ee,key:Ce,ref:Y,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ie,__source:Pe,__self:Me};if("function"==typeof Te&&(Y=Te.defaultProps))for(re in Y)void 0===Ee[re]&&(Ee[re]=Y[re]);return u.options.vnode&&u.options.vnode(Tt),Tt}},5619:(pn,st,W)=>{"use strict";W.d(st,{X:()=>ie});var u=W(8645);class ie extends u.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const K=super._subscribe(Te);return!K.closed&&Te.next(this._value),K}getValue(){const{hasError:Te,thrownError:K,_value:Ce}=this;if(Te)throw K;return this._throwIfClosed(),Ce}next(Te){super.next(this._value=Te)}}},5592:(pn,st,W)=>{"use strict";W.d(st,{y:()=>Pe});var u=W(305),ie=W(7394),z=W(4850),Te=W(8407),K=W(2653),Ce=W(4674),Ae=W(1441);let Pe=(()=>{class Ee{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const bt=new Ee;return bt.source=this,bt.operator=Xe,bt}subscribe(Xe,bt,_t){const qt=function re(Ee){return Ee&&Ee instanceof u.Lv||function Y(Ee){return Ee&&(0,Ce.m)(Ee.next)&&(0,Ce.m)(Ee.error)&&(0,Ce.m)(Ee.complete)}(Ee)&&(0,ie.Nn)(Ee)}(Xe)?Xe:new u.Hp(Xe,bt,_t);return(0,Ae.x)(()=>{const{operator:Ye,source:rn}=this;qt.add(Ye?Ye.call(qt,rn):rn?this._subscribe(qt):this._trySubscribe(qt))}),qt}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(bt){Xe.error(bt)}}forEach(Xe,bt){return new(bt=Me(bt))((_t,qt)=>{const Ye=new u.Hp({next:rn=>{try{Xe(rn)}catch(on){qt(on),Ye.unsubscribe()}},error:qt,complete:_t});this.subscribe(Ye)})}_subscribe(Xe){var bt;return null===(bt=this.source)||void 0===bt?void 0:bt.subscribe(Xe)}[z.L](){return this}pipe(...Xe){return(0,Te.U)(Xe)(this)}toPromise(Xe){return new(Xe=Me(Xe))((bt,_t)=>{let qt;this.subscribe(Ye=>qt=Ye,Ye=>_t(Ye),()=>bt(qt))})}}return Ee.create=Tt=>new Ee(Tt),Ee})();function Me(Ee){var Tt;return null!==(Tt=Ee??K.config.Promise)&&void 0!==Tt?Tt:Promise}},8645:(pn,st,W)=>{"use strict";W.d(st,{x:()=>Ae});var u=W(5592),ie=W(7394);const Te=(0,W(2306).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=W(9039),Ce=W(1441);let Ae=(()=>{class Me extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const Ee=new Pe(this,this);return Ee.operator=re,Ee}_throwIfClosed(){if(this.closed)throw new Te}next(re){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(re)}})}error(re){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(re)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:Ee,isStopped:Tt,observers:Xe}=this;return Ee||Tt?ie.Lc:(this.currentObservers=null,Xe.push(re),new ie.w0(()=>{this.currentObservers=null,(0,K.P)(Xe,re)}))}_checkFinalizedStatuses(re){const{hasError:Ee,thrownError:Tt,isStopped:Xe}=this;Ee?re.error(Tt):Xe&&re.complete()}asObservable(){const re=new u.y;return re.source=this,re}}return Me.create=(Y,re)=>new Pe(Y,re),Me})();class Pe extends Ae{constructor(Y,re){super(),this.destination=Y,this.source=re}next(Y){var re,Ee;null===(Ee=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===Ee||Ee.call(re,Y)}error(Y){var re,Ee;null===(Ee=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===Ee||Ee.call(re,Y)}complete(){var Y,re;null===(re=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===re||re.call(Y)}_subscribe(Y){var re,Ee;return null!==(Ee=null===(re=this.source)||void 0===re?void 0:re.subscribe(Y))&&void 0!==Ee?Ee:ie.Lc}}},305:(pn,st,W)=>{"use strict";W.d(st,{Hp:()=>_t,Lv:()=>Ee});var u=W(4674),ie=W(7394),z=W(2653),Te=W(3894),K=W(2420);const Ce=Me("C",void 0,void 0);function Me(Ne,yt,He){return{kind:Ne,value:yt,error:He}}var Y=W(7599),re=W(1441);class Ee extends ie.w0{constructor(yt){super(),this.isStopped=!1,yt?(this.destination=yt,(0,ie.Nn)(yt)&&yt.add(this)):this.destination=on}static create(yt,He,it){return new _t(yt,He,it)}next(yt){this.isStopped?rn(function Pe(Ne){return Me("N",Ne,void 0)}(yt),this):this._next(yt)}error(yt){this.isStopped?rn(function Ae(Ne){return Me("E",void 0,Ne)}(yt),this):(this.isStopped=!0,this._error(yt))}complete(){this.isStopped?rn(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(yt){this.destination.next(yt)}_error(yt){try{this.destination.error(yt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Tt=Function.prototype.bind;function Xe(Ne,yt){return Tt.call(Ne,yt)}class bt{constructor(yt){this.partialObserver=yt}next(yt){const{partialObserver:He}=this;if(He.next)try{He.next(yt)}catch(it){qt(it)}}error(yt){const{partialObserver:He}=this;if(He.error)try{He.error(yt)}catch(it){qt(it)}else qt(yt)}complete(){const{partialObserver:yt}=this;if(yt.complete)try{yt.complete()}catch(He){qt(He)}}}class _t extends Ee{constructor(yt,He,it){let At;if(super(),(0,u.m)(yt)||!yt)At={next:yt??void 0,error:He??void 0,complete:it??void 0};else{let de;this&&z.config.useDeprecatedNextContext?(de=Object.create(yt),de.unsubscribe=()=>this.unsubscribe(),At={next:yt.next&&Xe(yt.next,de),error:yt.error&&Xe(yt.error,de),complete:yt.complete&&Xe(yt.complete,de)}):At=yt}this.destination=new bt(At)}}function qt(Ne){z.config.useDeprecatedSynchronousErrorHandling?(0,re.O)(Ne):(0,Te.h)(Ne)}function rn(Ne,yt){const{onStoppedNotification:He}=z.config;He&&Y.z.setTimeout(()=>He(Ne,yt))}const on={closed:!0,next:K.Z,error:function Ye(Ne){throw Ne},complete:K.Z}},7394:(pn,st,W)=>{"use strict";W.d(st,{Lc:()=>Ce,w0:()=>K,Nn:()=>Ae});var u=W(4674);const z=(0,W(2306).d)(Me=>function(re){Me(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((Ee,Tt)=>`${Tt+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var Te=W(9039);class K{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const Xe of re)Xe.remove(this);else re.remove(this);const{initialTeardown:Ee}=this;if((0,u.m)(Ee))try{Ee()}catch(Xe){Y=Xe instanceof z?Xe.errors:[Xe]}const{_finalizers:Tt}=this;if(Tt){this._finalizers=null;for(const Xe of Tt)try{Pe(Xe)}catch(bt){Y=Y??[],bt instanceof z?Y=[...Y,...bt.errors]:Y.push(bt)}}if(Y)throw new z(Y)}}add(Y){var re;if(Y&&Y!==this)if(this.closed)Pe(Y);else{if(Y instanceof K){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(Y)}}_hasParent(Y){const{_parentage:re}=this;return re===Y||Array.isArray(re)&&re.includes(Y)}_addParent(Y){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(Y),re):re?[re,Y]:Y}_removeParent(Y){const{_parentage:re}=this;re===Y?this._parentage=null:Array.isArray(re)&&(0,Te.P)(re,Y)}remove(Y){const{_finalizers:re}=this;re&&(0,Te.P)(re,Y),Y instanceof K&&Y._removeParent(this)}}K.EMPTY=(()=>{const Me=new K;return Me.closed=!0,Me})();const Ce=K.EMPTY;function Ae(Me){return Me instanceof K||Me&&"closed"in Me&&(0,u.m)(Me.remove)&&(0,u.m)(Me.add)&&(0,u.m)(Me.unsubscribe)}function Pe(Me){(0,u.m)(Me)?Me():Me.unsubscribe()}},2653:(pn,st,W)=>{"use strict";W.d(st,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(pn,st,W)=>{"use strict";W.d(st,{E:()=>ie});const ie=new(W(5592).y)(K=>K.complete())},2459:(pn,st,W)=>{"use strict";W.d(st,{D:()=>yt});var u=W(4829),ie=W(3093),z=W(5137),Ce=W(5592),Pe=W(4971),Me=W(4674),Y=W(7103);function Ee(He,it){if(!He)throw new Error("Iterable cannot be null");return new Ce.y(At=>{(0,Y.f)(At,it,()=>{const de=He[Symbol.asyncIterator]();(0,Y.f)(At,it,()=>{de.next().then(ht=>{ht.done?At.complete():At.next(ht.value)})},0,!0)})})}var Tt=W(8382),Xe=W(4026),bt=W(4266),_t=W(3664),qt=W(5726),Ye=W(9853),rn=W(541);function yt(He,it){return it?function Ne(He,it){if(null!=He){if((0,Tt.c)(He))return function Te(He,it){return(0,u.Xf)(He).pipe((0,z.R)(it),(0,ie.Q)(it))}(He,it);if((0,bt.z)(He))return function Ae(He,it){return new Ce.y(At=>{let de=0;return it.schedule(function(){de===He.length?At.complete():(At.next(He[de++]),At.closed||this.schedule())})})}(He,it);if((0,Xe.t)(He))return function K(He,it){return(0,u.Xf)(He).pipe((0,z.R)(it),(0,ie.Q)(it))}(He,it);if((0,qt.D)(He))return Ee(He,it);if((0,_t.T)(He))return function re(He,it){return new Ce.y(At=>{let de;return(0,Y.f)(At,it,()=>{de=He[Pe.h](),(0,Y.f)(At,it,()=>{let ht,Ht;try{({value:ht,done:Ht}=de.next())}catch(hn){return void At.error(hn)}Ht?At.complete():At.next(ht)},0,!0)}),()=>(0,Me.m)(de?.return)&&de.return()})}(He,it);if((0,rn.L)(He))return function on(He,it){return Ee((0,rn.Q)(He),it)}(He,it)}throw(0,Ye.z)(He)}(He,it):(0,u.Xf)(He)}},4829:(pn,st,W)=>{"use strict";W.d(st,{Xf:()=>Tt});var u=W(7582),ie=W(4266),z=W(4026),Te=W(5592),K=W(8382),Ce=W(5726),Ae=W(9853),Pe=W(3664),Me=W(541),Y=W(4674),re=W(3894),Ee=W(4850);function Tt(Ne){if(Ne instanceof Te.y)return Ne;if(null!=Ne){if((0,K.c)(Ne))return function Xe(Ne){return new Te.y(yt=>{const He=Ne[Ee.L]();if((0,Y.m)(He.subscribe))return He.subscribe(yt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,ie.z)(Ne))return function bt(Ne){return new Te.y(yt=>{for(let He=0;He<Ne.length&&!yt.closed;He++)yt.next(Ne[He]);yt.complete()})}(Ne);if((0,z.t)(Ne))return function _t(Ne){return new Te.y(yt=>{Ne.then(He=>{yt.closed||(yt.next(He),yt.complete())},He=>yt.error(He)).then(null,re.h)})}(Ne);if((0,Ce.D)(Ne))return Ye(Ne);if((0,Pe.T)(Ne))return function qt(Ne){return new Te.y(yt=>{for(const He of Ne)if(yt.next(He),yt.closed)return;yt.complete()})}(Ne);if((0,Me.L)(Ne))return function rn(Ne){return Ye((0,Me.Q)(Ne))}(Ne)}throw(0,Ae.z)(Ne)}function Ye(Ne){return new Te.y(yt=>{(function on(Ne,yt){var He,it,At,de;return(0,u.mG)(this,void 0,void 0,function*(){try{for(He=(0,u.KL)(Ne);!(it=yield He.next()).done;)if(yt.next(it.value),yt.closed)return}catch(ht){At={error:ht}}finally{try{it&&!it.done&&(de=He.return)&&(yield de.call(He))}finally{if(At)throw At.error}}yt.complete()})})(Ne,yt).catch(He=>yt.error(He))})}},3019:(pn,st,W)=>{"use strict";W.d(st,{T:()=>Ce});var u=W(7537),ie=W(4829),z=W(6232),Te=W(9940),K=W(2459);function Ce(...Ae){const Pe=(0,Te.yG)(Ae),Me=(0,Te._6)(Ae,1/0),Y=Ae;return Y.length?1===Y.length?(0,ie.Xf)(Y[0]):(0,u.J)(Me)((0,K.D)(Y,Pe)):z.E}},2096:(pn,st,W)=>{"use strict";W.d(st,{of:()=>z});var u=W(9940),ie=W(2459);function z(...Te){const K=(0,u.yG)(Te);return(0,ie.D)(Te,K)}},8251:(pn,st,W)=>{"use strict";W.d(st,{x:()=>ie});var u=W(305);function ie(Te,K,Ce,Ae,Pe){return new z(Te,K,Ce,Ae,Pe)}class z extends u.Lv{constructor(K,Ce,Ae,Pe,Me,Y){super(K),this.onFinalize=Me,this.shouldUnsubscribe=Y,this._next=Ce?function(re){try{Ce(re)}catch(Ee){K.error(Ee)}}:super._next,this._error=Pe?function(re){try{Pe(re)}catch(Ee){K.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(re){K.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},3997:(pn,st,W)=>{"use strict";W.d(st,{x:()=>Te});var u=W(2737),ie=W(9360),z=W(8251);function Te(Ce,Ae=u.y){return Ce=Ce??K,(0,ie.e)((Pe,Me)=>{let Y,re=!0;Pe.subscribe((0,z.x)(Me,Ee=>{const Tt=Ae(Ee);(re||!Ce(Y,Tt))&&(re=!1,Y=Tt,Me.next(Ee))}))})}function K(Ce,Ae){return Ce===Ae}},7398:(pn,st,W)=>{"use strict";W.d(st,{U:()=>z});var u=W(9360),ie=W(8251);function z(Te,K){return(0,u.e)((Ce,Ae)=>{let Pe=0;Ce.subscribe((0,ie.x)(Ae,Me=>{Ae.next(Te.call(K,Me,Pe++))}))})}},7537:(pn,st,W)=>{"use strict";W.d(st,{J:()=>z});var u=W(1631),ie=W(2737);function z(Te=1/0){return(0,u.z)(ie.y,Te)}},1631:(pn,st,W)=>{"use strict";W.d(st,{z:()=>Pe});var u=W(7398),ie=W(4829),z=W(9360),Te=W(7103),K=W(8251),Ae=W(4674);function Pe(Me,Y,re=1/0){return(0,Ae.m)(Y)?Pe((Ee,Tt)=>(0,u.U)((Xe,bt)=>Y(Ee,Xe,Tt,bt))((0,ie.Xf)(Me(Ee,Tt))),re):("number"==typeof Y&&(re=Y),(0,z.e)((Ee,Tt)=>function Ce(Me,Y,re,Ee,Tt,Xe,bt,_t){const qt=[];let Ye=0,rn=0,on=!1;const Ne=()=>{on&&!qt.length&&!Ye&&Y.complete()},yt=it=>Ye<Ee?He(it):qt.push(it),He=it=>{Xe&&Y.next(it),Ye++;let At=!1;(0,ie.Xf)(re(it,rn++)).subscribe((0,K.x)(Y,de=>{Tt?.(de),Xe?yt(de):Y.next(de)},()=>{At=!0},void 0,()=>{if(At)try{for(Ye--;qt.length&&Ye<Ee;){const de=qt.shift();bt?(0,Te.f)(Y,bt,()=>He(de)):He(de)}Ne()}catch(de){Y.error(de)}}))};return Me.subscribe((0,K.x)(Y,yt,()=>{on=!0,Ne()})),()=>{_t?.()}}(Ee,Tt,Me,re)))}},3093:(pn,st,W)=>{"use strict";W.d(st,{Q:()=>Te});var u=W(7103),ie=W(9360),z=W(8251);function Te(K,Ce=0){return(0,ie.e)((Ae,Pe)=>{Ae.subscribe((0,z.x)(Pe,Me=>(0,u.f)(Pe,K,()=>Pe.next(Me),Ce),()=>(0,u.f)(Pe,K,()=>Pe.complete(),Ce),Me=>(0,u.f)(Pe,K,()=>Pe.error(Me),Ce)))})}},3020:(pn,st,W)=>{"use strict";W.d(st,{B:()=>K});var u=W(4829),ie=W(8645),z=W(305),Te=W(9360);function K(Ae={}){const{connector:Pe=(()=>new ie.x),resetOnError:Me=!0,resetOnComplete:Y=!0,resetOnRefCountZero:re=!0}=Ae;return Ee=>{let Tt,Xe,bt,_t=0,qt=!1,Ye=!1;const rn=()=>{Xe?.unsubscribe(),Xe=void 0},on=()=>{rn(),Tt=bt=void 0,qt=Ye=!1},Ne=()=>{const yt=Tt;on(),yt?.unsubscribe()};return(0,Te.e)((yt,He)=>{_t++,!Ye&&!qt&&rn();const it=bt=bt??Pe();He.add(()=>{_t--,0===_t&&!Ye&&!qt&&(Xe=Ce(Ne,re))}),it.subscribe(He),!Tt&&_t>0&&(Tt=new z.Hp({next:At=>it.next(At),error:At=>{Ye=!0,rn(),Xe=Ce(on,Me,At),it.error(At)},complete:()=>{qt=!0,rn(),Xe=Ce(on,Y),it.complete()}}),(0,u.Xf)(yt).subscribe(Tt))})(Ee)}}function Ce(Ae,Pe,...Me){if(!0===Pe)return void Ae();if(!1===Pe)return;const Y=new z.Hp({next:()=>{Y.unsubscribe(),Ae()}});return(0,u.Xf)(Pe(...Me)).subscribe(Y)}},5137:(pn,st,W)=>{"use strict";W.d(st,{R:()=>ie});var u=W(9360);function ie(z,Te=0){return(0,u.e)((K,Ce)=>{Ce.add(z.schedule(()=>K.subscribe(Ce),Te))})}},4664:(pn,st,W)=>{"use strict";W.d(st,{w:()=>Te});var u=W(4829),ie=W(9360),z=W(8251);function Te(K,Ce){return(0,ie.e)((Ae,Pe)=>{let Me=null,Y=0,re=!1;const Ee=()=>re&&!Me&&Pe.complete();Ae.subscribe((0,z.x)(Pe,Tt=>{Me?.unsubscribe();let Xe=0;const bt=Y++;(0,u.Xf)(K(Tt,bt)).subscribe(Me=(0,z.x)(Pe,_t=>Pe.next(Ce?Ce(Tt,_t,bt,Xe++):_t),()=>{Me=null,Ee()}))},()=>{re=!0,Ee()}))})}},9397:(pn,st,W)=>{"use strict";W.d(st,{b:()=>K});var u=W(4674),ie=W(9360),z=W(8251),Te=W(2737);function K(Ce,Ae,Pe){const Me=(0,u.m)(Ce)||Ae||Pe?{next:Ce,error:Ae,complete:Pe}:Ce;return Me?(0,ie.e)((Y,re)=>{var Ee;null===(Ee=Me.subscribe)||void 0===Ee||Ee.call(Me);let Tt=!0;Y.subscribe((0,z.x)(re,Xe=>{var bt;null===(bt=Me.next)||void 0===bt||bt.call(Me,Xe),re.next(Xe)},()=>{var Xe;Tt=!1,null===(Xe=Me.complete)||void 0===Xe||Xe.call(Me),re.complete()},Xe=>{var bt;Tt=!1,null===(bt=Me.error)||void 0===bt||bt.call(Me,Xe),re.error(Xe)},()=>{var Xe,bt;Tt&&(null===(Xe=Me.unsubscribe)||void 0===Xe||Xe.call(Me)),null===(bt=Me.finalize)||void 0===bt||bt.call(Me)}))}):Te.y}},1954:(pn,st,W)=>{"use strict";W.d(st,{o:()=>K});var u=W(7394);class ie extends u.w0{constructor(Ae,Pe){super()}schedule(Ae,Pe=0){return this}}const z={setInterval(Ce,Ae,...Pe){const{delegate:Me}=z;return Me?.setInterval?Me.setInterval(Ce,Ae,...Pe):setInterval(Ce,Ae,...Pe)},clearInterval(Ce){const{delegate:Ae}=z;return(Ae?.clearInterval||clearInterval)(Ce)},delegate:void 0};var Te=W(9039);class K extends ie{constructor(Ae,Pe){super(Ae,Pe),this.scheduler=Ae,this.work=Pe,this.pending=!1}schedule(Ae,Pe=0){var Me;if(this.closed)return this;this.state=Ae;const Y=this.id,re=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(re,Y,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(re,this.id,Pe),this}requestAsyncId(Ae,Pe,Me=0){return z.setInterval(Ae.flush.bind(Ae,this),Me)}recycleAsyncId(Ae,Pe,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Pe;null!=Pe&&z.clearInterval(Pe)}execute(Ae,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Ae,Pe);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Pe){let Y,Me=!1;try{this.work(Ae)}catch(re){Me=!0,Y=re||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Pe}=this,{actions:Me}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Me,this),null!=Ae&&(this.id=this.recycleAsyncId(Pe,Ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(pn,st,W)=>{"use strict";W.d(st,{v:()=>z});var u=W(4552);class ie{constructor(K,Ce=ie.now){this.schedulerActionCtor=K,this.now=Ce}schedule(K,Ce=0,Ae){return new this.schedulerActionCtor(this,K).schedule(Ae,Ce)}}ie.now=u.l.now;class z extends ie{constructor(K,Ce=ie.now){super(K,Ce),this.actions=[],this._active=!1}flush(K){const{actions:Ce}=this;if(this._active)return void Ce.push(K);let Ae;this._active=!0;do{if(Ae=K.execute(K.state,K.delay))break}while(K=Ce.shift());if(this._active=!1,Ae){for(;K=Ce.shift();)K.unsubscribe();throw Ae}}}},6321:(pn,st,W)=>{"use strict";W.d(st,{P:()=>Te,z:()=>z});var u=W(1954);const z=new(W(2631).v)(u.o),Te=z},4552:(pn,st,W)=>{"use strict";W.d(st,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(pn,st,W)=>{"use strict";W.d(st,{z:()=>u});const u={setTimeout(ie,z,...Te){const{delegate:K}=u;return K?.setTimeout?K.setTimeout(ie,z,...Te):setTimeout(ie,z,...Te)},clearTimeout(ie){const{delegate:z}=u;return(z?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4971:(pn,st,W)=>{"use strict";W.d(st,{h:()=>ie});const ie=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pn,st,W)=>{"use strict";W.d(st,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(pn,st,W)=>{"use strict";W.d(st,{_6:()=>Ce,jO:()=>Te,yG:()=>K});var u=W(4674),ie=W(671);function z(Ae){return Ae[Ae.length-1]}function Te(Ae){return(0,u.m)(z(Ae))?Ae.pop():void 0}function K(Ae){return(0,ie.K)(z(Ae))?Ae.pop():void 0}function Ce(Ae,Pe){return"number"==typeof z(Ae)?Ae.pop():Pe}},9039:(pn,st,W)=>{"use strict";function u(ie,z){if(ie){const Te=ie.indexOf(z);0<=Te&&ie.splice(Te,1)}}W.d(st,{P:()=>u})},2306:(pn,st,W)=>{"use strict";function u(ie){const Te=ie(K=>{Error.call(K),K.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}W.d(st,{d:()=>u})},1441:(pn,st,W)=>{"use strict";W.d(st,{O:()=>Te,x:()=>z});var u=W(2653);let ie=null;function z(K){if(u.config.useDeprecatedSynchronousErrorHandling){const Ce=!ie;if(Ce&&(ie={errorThrown:!1,error:null}),K(),Ce){const{errorThrown:Ae,error:Pe}=ie;if(ie=null,Ae)throw Pe}}else K()}function Te(K){u.config.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=K)}},7103:(pn,st,W)=>{"use strict";function u(ie,z,Te,K=0,Ce=!1){const Ae=z.schedule(function(){Te(),Ce?ie.add(this.schedule(null,K)):this.unsubscribe()},K);if(ie.add(Ae),!Ce)return Ae}W.d(st,{f:()=>u})},2737:(pn,st,W)=>{"use strict";function u(ie){return ie}W.d(st,{y:()=>u})},4266:(pn,st,W)=>{"use strict";W.d(st,{z:()=>u});const u=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},5726:(pn,st,W)=>{"use strict";W.d(st,{D:()=>ie});var u=W(4674);function ie(z){return Symbol.asyncIterator&&(0,u.m)(z?.[Symbol.asyncIterator])}},4674:(pn,st,W)=>{"use strict";function u(ie){return"function"==typeof ie}W.d(st,{m:()=>u})},8382:(pn,st,W)=>{"use strict";W.d(st,{c:()=>z});var u=W(4850),ie=W(4674);function z(Te){return(0,ie.m)(Te[u.L])}},3664:(pn,st,W)=>{"use strict";W.d(st,{T:()=>z});var u=W(4971),ie=W(4674);function z(Te){return(0,ie.m)(Te?.[u.h])}},4026:(pn,st,W)=>{"use strict";W.d(st,{t:()=>ie});var u=W(4674);function ie(z){return(0,u.m)(z?.then)}},541:(pn,st,W)=>{"use strict";W.d(st,{L:()=>Te,Q:()=>z});var u=W(7582),ie=W(4674);function z(K){return(0,u.FC)(this,arguments,function*(){const Ae=K.getReader();try{for(;;){const{value:Pe,done:Me}=yield(0,u.qq)(Ae.read());if(Me)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Pe)}}finally{Ae.releaseLock()}})}function Te(K){return(0,ie.m)(K?.getReader)}},671:(pn,st,W)=>{"use strict";W.d(st,{K:()=>ie});var u=W(4674);function ie(z){return z&&(0,u.m)(z.schedule)}},9360:(pn,st,W)=>{"use strict";W.d(st,{A:()=>ie,e:()=>z});var u=W(4674);function ie(Te){return(0,u.m)(Te?.lift)}function z(Te){return K=>{if(ie(K))return K.lift(function(Ce){try{return Te(Ce,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(pn,st,W)=>{"use strict";function u(){}W.d(st,{Z:()=>u})},8407:(pn,st,W)=>{"use strict";W.d(st,{U:()=>z,z:()=>ie});var u=W(2737);function ie(...Te){return z(Te)}function z(Te){return 0===Te.length?u.y:1===Te.length?Te[0]:function(Ce){return Te.reduce((Ae,Pe)=>Pe(Ae),Ce)}}},3894:(pn,st,W)=>{"use strict";W.d(st,{h:()=>z});var u=W(2653),ie=W(7599);function z(Te){ie.z.setTimeout(()=>{const{onUnhandledError:K}=u.config;if(!K)throw Te;K(Te)})}},9853:(pn,st,W)=>{"use strict";function u(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(st,{z:()=>u})},5879:(pn,st,W)=>{"use strict";W.d(st,{$8M:()=>qd,$WT:()=>fi,$Z:()=>aN,AFp:()=>pv,ALo:()=>CD,AaK:()=>Ee,BQk:()=>Jv,CHM:()=>ps,CRH:()=>UD,EJc:()=>rw,EpF:()=>Qg,F$t:()=>wE,F4k:()=>Kl,FYo:()=>Nk,FiY:()=>at,Gf:()=>LD,GfV:()=>VS,GkF:()=>_E,Gpc:()=>bt,HDt:()=>j_,Hsn:()=>Xg,JOm:()=>$y,KtG:()=>Ol,LFG:()=>Qt,LSH:()=>gI,Lbi:()=>AI,Lck:()=>yf,MAs:()=>Tx,MMx:()=>Ou,MR2:()=>yg,NdJ:()=>t0,Ojb:()=>gv,OlP:()=>Ci,Oqu:()=>Zo,P3R:()=>CS,PXZ:()=>aw,Q6J:()=>jp,QGY:()=>e0,Qsj:()=>Ok,R0b:()=>ta,RDi:()=>ck,Rgc:()=>bh,SBq:()=>Ev,Sil:()=>rM,Suo:()=>VD,TTD:()=>Dl,TgZ:()=>Bp,Udp:()=>g0,VuI:()=>bm,X6Q:()=>xM,XFs:()=>Rt,Xpm:()=>Nt,Xq5:()=>ih,Xts:()=>_g,Y36:()=>xg,YKP:()=>N0,YNc:()=>Yv,Yjl:()=>xr,Yz7:()=>xe,Z0I:()=>ot,ZZ4:()=>wm,_Bn:()=>gD,_UZ:()=>hf,_c5:()=>XO,_uU:()=>Fx,aQg:()=>bw,c2e:()=>V_,cJS:()=>Ft,cg1:()=>wd,dDg:()=>pM,dqk:()=>Ln,eFA:()=>pm,eJc:()=>Z0,ekj:()=>fh,eoX:()=>mM,f3M:()=>ce,g9A:()=>mv,h0i:()=>_f,hGG:()=>RT,hij:()=>i_,iGM:()=>rT,ifc:()=>Ai,ip1:()=>tw,jDz:()=>vf,kL8:()=>I0,lG2:()=>Rr,lcZ:()=>wh,lqb:()=>Wl,lri:()=>pT,n5z:()=>Qh,oAB:()=>Sr,oxw:()=>r0,q4F:()=>Lk,qFp:()=>UT,qLn:()=>Jd,qOj:()=>Rp,qZA:()=>Yg,rWj:()=>fM,rg0:()=>uu,sBO:()=>vT,s_b:()=>cm,soG:()=>hm,tb:()=>gT,tp0:()=>ln,uIk:()=>Hv,vHH:()=>Ne,vpe:()=>md,wAp:()=>Us,xp6:()=>oN,ynx:()=>Xv,z2F:()=>Pf,zSh:()=>uv,zs3:()=>ql});var u=W(8645),ie=W(7394),z=W(5592),Te=W(3019),K=W(5619),Ce=W(2096),Ae=W(3020),Pe=W(4664),Me=W(3997);function Y(s){for(let a in s)if(s[a]===Y)return a;throw Error("Could not find renamed property on target object.")}function re(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function Ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Tt(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Xe=Y({__forward_ref__:Y});function bt(s){return s.__forward_ref__=bt,s.toString=function(){return Ee(this())},s}function _t(s){return qt(s)?s():s}function qt(s){return"function"==typeof s&&s.hasOwnProperty(Xe)&&s.__forward_ref__===bt}function Ye(s){return s&&!!s.\u0275providers}const on="https://g.co/ng/security#xss";class Ne extends Error{constructor(a,l){super(function yt(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,l)),this.code=a}}function He(s){return"string"==typeof s?s:null==s?"":String(s)}function Ht(s,a){throw new Ne(-201,!1)}function jt(s,a){null==s&&function Ot(s,a,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function xe(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ft(s){return{providers:s.providers||[],imports:s.imports||[]}}function ct(s){return En(s,kn)||En(s,hr)}function ot(s){return null!==ct(s)}function En(s,a){return s.hasOwnProperty(a)?s[a]:null}function Kn(s){return s&&(s.hasOwnProperty(Je)||s.hasOwnProperty(Dn))?s[Je]:null}const kn=Y({\u0275prov:Y}),Je=Y({\u0275inj:Y}),hr=Y({ngInjectableDef:Y}),Dn=Y({ngInjectorDef:Y});var Rt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(Rt||{});let Xt;function Tn(s){const a=Xt;return Xt=s,a}function ar(s,a,l){const d=ct(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Rt.Optional?null:void 0!==a?a:void Ht(Ee(s))}const Ln=globalThis,Bt={},cn="__NG_DI_FLAG__",Cn="ngTempTokenPath",_e=/\n/gm,J="__source";let te;function ke(s){const a=te;return te=s,a}function St(s,a=Rt.Default){if(void 0===te)throw new Ne(-203,!1);return null===te?ar(s,void 0,a):te.get(s,a&Rt.Optional?null:void 0,a)}function Qt(s,a=Rt.Default){return(function Wn(){return Xt}()||St)(_t(s),a)}function ce(s,a=Rt.Default){return Qt(s,De(a))}function De(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Qe(s){const a=[];for(let l=0;l<s.length;l++){const d=_t(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,!1);let f,m=Rt.Default;for(let v=0;v<d.length;v++){const I=d[v],P=Zt(I);"number"==typeof P?-1===P?f=I.token:m|=P:f=I}a.push(Qt(f,m))}else a.push(Qt(d))}return a}function Vt(s,a){return s[cn]=a,s.prototype[cn]=a,s}function Zt(s){return s[cn]}function ti(s){return{toString:s}.toString()}var ni=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ni||{}),Ai=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Ai||{});const si={},Vn=[],Ni=Y({\u0275cmp:Y}),da=Y({\u0275dir:Y}),Jo=Y({\u0275pipe:Y}),rc=Y({\u0275mod:Y}),ds=Y({\u0275fac:Y}),Gs=Y({__NG_ELEMENT_ID__:Y}),hs=Y({__NG_ENV_ID__:Y});function Mc(s,a,l){let d=s.length;for(;;){const f=s.indexOf(a,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}l=f+1}}function ha(s,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],v=l[d++],I=l[d++];s.setAttribute(a,v,I,m)}else{const m=f,v=l[++d];Ts(m)?s.setProperty(a,m,v):s.setAttribute(a,m,v),d++}}return d}function fs(s){return 3===s||4===s||6===s}function Ts(s){return 64===s.charCodeAt(0)}function Cs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||As(s,l,f,null,-1===l||2===l?a[++d]:null)}}return s}function As(s,a,l,d,f){let m=0,v=s.length;if(-1===a)v=-1;else for(;m<s.length;){const I=s[m++];if("number"==typeof I){if(I===a){v=-1;break}if(I>a){v=m-1;break}}}for(;m<s.length;){const I=s[m];if("number"==typeof I)break;if(I===l){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(s.splice(v,0,a),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}const _i="ng-template";function nu(s,a,l){let d=0,f=!0;for(;d<s.length;){let m=s[d++];if("string"==typeof m&&f){const v=s[d++];if(l&&"class"===m&&-1!==Mc(v.toLowerCase(),a,0))return!0}else{if(1===m){for(;d<s.length&&"string"==typeof(m=s[d++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Po(s){return 4===s.type&&s.value!==_i}function ic(s,a,l){return a===(4!==s.type||l?s.value:_i)}function Rc(s,a,l){let d=4;const f=s.attrs||[],m=function X(s){for(let a=0;a<s.length;a++)if(fs(s[a]))return a;return s.length}(f);let v=!1;for(let I=0;I<a.length;I++){const P=a[I];if("number"!=typeof P){if(!v)if(4&d){if(d=2|1&d,""!==P&&!ic(s,P,l)||""===P&&1===a.length){if(ao(d))return!1;v=!0}}else{const O=8&d?P:a[++I];if(8&d&&null!==s.attrs){if(!nu(s.attrs,O,l)){if(ao(d))return!1;v=!0}continue}const ae=fa(8&d?"class":P,f,Po(s),l);if(-1===ae){if(ao(d))return!1;v=!0;continue}if(""!==O){let Re;Re=ae>m?"":f[ae+1].toLowerCase();const ze=8&d?Re:null;if(ze&&-1!==Mc(ze,O,0)||2&d&&O!==Re){if(ao(d))return!1;v=!0}}}}else{if(!v&&!ao(d)&&!ao(P))return!1;if(v&&ao(P))continue;v=!1,d=P|1&d}}return ao(d)||v}function ao(s){return 0==(1&s)}function fa(s,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let m=!1;for(;f<a.length;){const v=a[f];if(v===s)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let I=a[++f];for(;"string"==typeof I;)I=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function G(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,s)}function ue(s,a,l=!1){for(let d=0;d<a.length;d++)if(Rc(s,a[d],l))return!0;return!1}function Fe(s,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function Ie(s,a){return s?":not("+a.trim()+")":a}function Le(s){let a=s[0],l=1,d=2,f="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const I=s[++l];f+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ao(v)&&(a+=Ie(m,f),f=""),d=v,m=m||!ao(d);l++}return""!==f&&(a+=Ie(m,f)),a}function Nt(s){return ti(()=>{const a=Kr(s),l={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ni.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Ai.Emulated,styles:s.styles||Vn,_:null,schemas:s.schemas||null,tView:null,id:""};Ii(l);const d=s.dependencies;return l.directiveDefs=Oi(d,!1),l.pipeDefs=Oi(d,!0),l.id=function co(s){let a=0;const l=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const f of l)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(l),l})}function Ct(s){return Hn(s)||dr(s)}function Kt(s){return null!==s}function Sr(s){return ti(()=>({type:s.type,bootstrap:s.bootstrap||Vn,declarations:s.declarations||Vn,imports:s.imports||Vn,exports:s.exports||Vn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Zr(s,a){if(null==s)return si;const l={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,a&&(a[f]=m)}return l}function Rr(s){return ti(()=>{const a=Kr(s);return Ii(a),a})}function xr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Hn(s){return s[Ni]||null}function dr(s){return s[da]||null}function Xr(s){return s[Jo]||null}function fi(s){const a=Hn(s)||dr(s)||Xr(s);return null!==a&&a.standalone}function $t(s,a){const l=s[rc]||null;if(!l&&!0===a)throw new Error(`Type ${Ee(s)} does not have '\u0275mod' property.`);return l}function Kr(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||si,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Vn,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zr(s.inputs,a),outputs:Zr(s.outputs)}}function Ii(s){s.features?.forEach(a=>a(s))}function Oi(s,a){if(!s)return null;const l=a?Xr:Ct;return()=>("function"==typeof s?s():s).map(d=>l(d)).filter(Kt)}const Hr=0,Jt=1,Un=2,_r=3,Di=4,ko=5,Vi=6,es=7,Jr=8,bo=9,No=10,jn=11,Ei=12,wl=13,ts=14,pi=15,oc=16,$o=17,lo=18,pa=19,sc=20,ma=21,ns=22,rl=23,Wo=24,vr=25,ga=1,$s=2,Xi=7,Ws=9,Fi=11;function uo(s){return Array.isArray(s)&&"object"==typeof s[ga]}function Ui(s){return Array.isArray(s)&&!0===s[ga]}function Ss(s){return 0!=(4&s.flags)}function ya(s){return s.componentOffset>-1}function rs(s){return 1==(1&s.flags)}function Oo(s){return!!s.template}function Oa(s){return 0!=(512&s[Un])}function xs(s,a){return s.hasOwnProperty(ds)?s[ds]:null}let S=null,R=!1;function N(s){const a=S;return S=s,a}const L={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ye(s){if(!Ms(s)||s.dirty){if(!s.producerMustRecompute(s)&&!ai(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function $e(s){s.dirty=!0,function We(s){if(void 0===s.liveConsumerNode)return;const a=R;R=!0;try{for(const l of s.liveConsumerNode)l.dirty||$e(l)}finally{R=a}}(s),s.consumerMarkedDirty?.(s)}function Rn(s){return s&&(s.nextProducerIndex=0),N(s)}function mn(s,a){if(N(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Ms(s))for(let l=s.nextProducerIndex;l<s.producerNode.length;l++)ji(s.producerNode[l],s.producerIndexOfThis[l]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function ai(s){Fo(s);for(let a=0;a<s.producerNode.length;a++){const l=s.producerNode[a],d=s.producerLastReadVersion[a];if(d!==l.version||(ye(l),d!==l.version))return!0}return!1}function ci(s){if(Fo(s),Ms(s))for(let a=0;a<s.producerNode.length;a++)ji(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function ji(s,a){if(function Al(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Fo(s),1===s.liveConsumerNode.length)for(let d=0;d<s.producerNode.length;d++)ji(s.producerNode[d],s.producerIndexOfThis[d]);const l=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[l],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[l],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const d=s.liveConsumerIndexOfThis[a],f=s.liveConsumerNode[a];Fo(f),f.producerIndexOfThis[d]=a}}function Ms(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Fo(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Nd=null;function uu(s){const a=N(null);try{return s()}finally{N(a)}}const Yu=()=>{},tp=(()=>({...L,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:Yu}))();class Hh{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Dl(){return Ml}function Ml(s){return s.type.prototype.ngOnChanges&&(s.setInput=Rs),du}function du(){const s=Rl(this),a=s?.current;if(a){const l=s.previous;if(l===si)s.previous=a;else for(let d in a)l[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Rs(s,a,l,d){const f=this.declaredInputs[l],m=Rl(s)||function Vd(s,a){return s[ol]=a}(s,{previous:si,current:null}),v=m.current||(m.current={}),I=m.previous,P=I[f];v[f]=new Hh(P&&P.currentValue,a,I===si),s[d]=a}Dl.ngInherit=!0;const ol="__ngSimpleChanges__";function Rl(s){return s[ol]||null}const Ps=function(s,a,l){};function Qr(s){for(;Array.isArray(s);)s=s[Hr];return s}function ba(s,a){return Qr(a[s])}function qo(s,a){return Qr(a[s.index])}function kl(s,a){return s.data[a]}function Oc(s,a){return s[a]}function Io(s,a){const l=a[s];return uo(l)?l:l[Hr]}function fc(s,a){return null==a?null:s[a]}function Gh(s){s[$o]=0}function Fc(s){1024&s[Un]||(s[Un]|=1024,eo(s,1))}function $h(s){1024&s[Un]&&(s[Un]&=-1025,eo(s,-1))}function eo(s,a){let l=s[_r];if(null===l)return;l[ko]+=a;let d=l;for(l=l[_r];null!==l&&(1===a&&1===d[ko]||-1===a&&0===d[ko]);)l[ko]+=a,d=l,l=l[_r]}const cr={lFrame:To(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zi(){return cr.bindingsEnabled}function Va(){return null!==cr.skipHydrationRootTNode}function kt(){return cr.lFrame.lView}function jr(){return cr.lFrame.tView}function ps(s){return cr.lFrame.contextLView=s,s[Jr]}function Ol(s){return cr.lFrame.contextLView=null,s}function Eo(){let s=mu();for(;null!==s&&64===s.type;)s=s.parent;return s}function mu(){return cr.lFrame.currentTNode}function Ia(s,a){const l=cr.lFrame;l.currentTNode=s,l.isParent=a}function Ju(){return cr.lFrame.isParent}function ed(){cr.lFrame.isParent=!1}function Ua(){return cr.lFrame.bindingIndex++}function gu(s,a){const l=cr.lFrame;l.bindingIndex=l.bindingRootIndex=s,_u(a)}function _u(s){cr.lFrame.currentDirectiveIndex=s}function Ll(){return cr.lFrame.currentQueryIndex}function Vl(s){cr.lFrame.currentQueryIndex=s}function rd(s){const a=s[Jt];return 2===a.type?a.declTNode:1===a.type?s[Vi]:null}function id(s,a,l){if(l&Rt.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||l&Rt.Host||(f=rd(m),null===f||(m=m[ts],10&f.type))););if(null===f)return!1;a=f,s=m}const d=cr.lFrame=Br();return d.currentTNode=a,d.lView=s,!0}function Pn(s){const a=Br(),l=s[Jt];cr.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Br(){const s=cr.lFrame,a=null===s?null:s.child;return null===a?To(s):a}function To(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function b(){const s=cr.lFrame;return cr.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const M=b;function T(){const s=b();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function fe(){return cr.lFrame.selectedIndex}function pe(s){cr.lFrame.selectedIndex=s}function Oe(){const s=cr.lFrame;return kl(s.tView,s.selectedIndex)}let _n=!0;function An(){return _n}function Qn(s){_n=s}function ur(s,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:O,ngOnDestroy:H}=m;v&&(s.contentHooks??=[]).push(-l,v),I&&((s.contentHooks??=[]).push(l,I),(s.contentCheckHooks??=[]).push(l,I)),P&&(s.viewHooks??=[]).push(-l,P),O&&((s.viewHooks??=[]).push(l,O),(s.viewCheckHooks??=[]).push(l,O)),null!=H&&(s.destroyHooks??=[]).push(l,H)}}function nr(s,a,l){Ki(s,a,3,l)}function On(s,a,l,d){(3&s[Un])===l&&Ki(s,a,l,d)}function mi(s,a){let l=s[Un];(3&l)===a&&(l&=8191,l+=1,s[Un]=l)}function Ki(s,a,l,d){const m=d??-1,v=a.length-1;let I=0;for(let P=void 0!==d?65535&s[$o]:0;P<v;P++)if("number"==typeof a[P+1]){if(I=a[P],null!=d&&I>=d)break}else a[P]<0&&(s[$o]+=65536),(I<m||-1==m)&&(Zs(s,l,a,P),s[$o]=(4294901760&s[$o])+P+2),P++}function Lo(s,a){Ps(4,s,a);const l=N(null);try{a.call(s)}finally{N(l),Ps(5,s,a)}}function Zs(s,a,l,d){const f=l[d]<0,m=l[d+1],I=s[f?-l[d]:l[d]];f?s[Un]>>13<s[$o]>>16&&(3&s[Un])===a&&(s[Un]+=8192,Lo(I,m)):Lo(I,m)}const to=-1;class ja{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function pc(s){return s!==to}function Lc(s){return 32767&s}function mc(s,a){let l=function Vc(s){return s>>16}(s),d=a;for(;l>0;)d=d[ts],l--;return d}let Ta=!0;function Uc(s){const a=Ta;return Ta=s,a}const Ca=255,li=5;let Ks=0;const Yi={};function Fr(s,a){const l=Ti(s,a);if(-1!==l)return l;const d=a[Jt];d.firstCreatePass&&(s.injectorIndex=a.length,Gr(d.data,s),Gr(a,null),Gr(d.blueprint,null));const f=yi(s,a),m=s.injectorIndex;if(pc(f)){const v=Lc(f),I=mc(f,a),P=I[Jt].data;for(let O=0;O<8;O++)a[m+O]=I[v+O]|P[v+O]}return a[m+8]=f,m}function Gr(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ti(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function yi(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=lp(f),null===d)return to;if(l++,f=f[ts],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return to}function Mi(s,a,l){!function gc(s,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Gs)&&(d=l[Gs]),null==d&&(d=l[Gs]=Ks++);const f=d&Ca;a.data[s+(f>>li)]|=1<<f}(s,a,l)}function ks(s,a,l){if(l&Rt.Optional||void 0!==s)return s;Ht()}function Ys(s,a,l,d){if(l&Rt.Optional&&void 0===d&&(d=null),!(l&(Rt.Self|Rt.Host))){const f=s[bo],m=Tn(void 0);try{return f?f.get(a,d,l&Rt.Optional):ar(a,d,l&Rt.Optional)}finally{Tn(m)}}return ks(d,0,l)}function Co(s,a,l,d=Rt.Default,f){if(null!==s){if(2048&a[Un]&&!(d&Rt.Self)){const v=function cp(s,a,l,d,f){let m=s,v=a;for(;null!==m&&null!==v&&2048&v[Un]&&!(512&v[Un]);){const I=ms(m,v,l,d|Rt.Self,Yi);if(I!==Yi)return I;let P=m.parent;if(!P){const O=v[sc];if(O){const H=O.get(l,Yi,d);if(H!==Yi)return H}P=lp(v),v=v[ts]}m=P}return f}(s,a,l,d,Yi);if(v!==Yi)return v}const m=ms(s,a,l,d,Yi);if(m!==Yi)return m}return Ys(a,l,d,f)}function ms(s,a,l,d,f){const m=function od(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Gs)?s[Gs]:void 0;return"number"==typeof a?a>=0?a&Ca:$l:a}(l);if("function"==typeof m){if(!id(a,s,d))return d&Rt.Host?ks(f,0,d):Ys(a,l,d,f);try{let v;if(v=m(d),null!=v||d&Rt.Optional)return v;Ht()}finally{M()}}else if("number"==typeof m){let v=null,I=Ti(s,a),P=to,O=d&Rt.Host?a[pi][Vi]:null;for((-1===I||d&Rt.SkipSelf)&&(P=-1===I?yi(s,a):a[I+8],P!==to&&Hl(d,!1)?(v=a[Jt],I=Lc(P),a=mc(P,a)):I=-1);-1!==I;){const H=a[Jt];if(Yh(m,I,H.data)){const ae=Wd(I,a,l,v,d,O);if(ae!==Yi)return ae}P=a[I+8],P!==to&&Hl(d,a[Jt].data[I+8]===O)&&Yh(m,I,a)?(v=H,I=Lc(P),a=mc(P,a)):I=-1}}return f}function Wd(s,a,l,d,f,m){const v=a[Jt],I=v.data[s+8],H=Ha(I,v,l,null==d?ya(I)&&Ta:d!=v&&0!=(3&I.type),f&Rt.Host&&m===I);return null!==H?Ga(a,v,H,I):Yi}function Ha(s,a,l,d,f){const m=s.providerIndexes,v=a.data,I=1048575&m,P=s.directiveStart,H=m>>20,Re=f?I+H:s.directiveEnd;for(let ze=d?I:I+H;ze<Re;ze++){const xt=v[ze];if(ze<P&&l===xt||ze>=P&&xt.type===l)return ze}if(f){const ze=v[P];if(ze&&Oo(ze)&&ze.type===l)return P}return null}function Ga(s,a,l,d){let f=s[l];const m=a.data;if(function Ul(s){return s instanceof ja}(f)){const v=f;v.resolving&&function At(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${l}`)}(function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():He(s)}(m[l]));const I=Uc(v.canSeeViewProviders);v.resolving=!0;const O=v.injectImpl?Tn(v.injectImpl):null;id(s,d,Rt.Default);try{f=s[l]=v.factory(void 0,m,s,d),a.firstCreatePass&&l>=d.directiveStart&&function Bn(s,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=Ml(a);(l.preOrderHooks??=[]).push(s,v),(l.preOrderCheckHooks??=[]).push(s,v)}f&&(l.preOrderHooks??=[]).push(0-s,f),m&&((l.preOrderHooks??=[]).push(s,m),(l.preOrderCheckHooks??=[]).push(s,m))}(l,m[l],a)}finally{null!==O&&Tn(O),Uc(I),v.resolving=!1,M()}}return f}function Yh(s,a,l){return!!(l[a+(s>>li)]&1<<s)}function Hl(s,a){return!(s&Rt.Self||s&Rt.Host&&a)}class po{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return Co(this._tNode,this._lView,a,De(d),l)}}function $l(){return new po(Eo(),kt())}function Qh(s){return ti(()=>{const a=s.prototype.constructor,l=a[ds]||jc(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[ds]||jc(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function jc(s){return qt(s)?()=>{const a=jc(_t(s));return a&&a()}:xs(s)}function lp(s){const a=s[Jt],l=a.type;return 2===l?a.declTNode:1===l?s[Vi]:null}function qd(s){return function Ri(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(fs(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(Eo(),s)}const sd="__parameters__";function V(s,a,l){return ti(()=>{const d=function k(s){return function(...l){if(s){const d=s(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return I.annotation=v,I;function I(P,O,H){const ae=P.hasOwnProperty(sd)?P[sd]:Object.defineProperty(P,sd,{value:[]})[sd];for(;ae.length<=H;)ae.push(null);return(ae[H]=ae[H]||[]).push(v),P}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}function wu(s,a){s.forEach(l=>Array.isArray(l)?wu(l,a):a(l))}function ad(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function $r(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Bc(s,a){const l=[];for(let d=0;d<s;d++)l.push(a);return l}function Wa(s,a,l){let d=Zd(s,a);return d>=0?s[1|d]=l:(d=~d,function Oy(s,a,l,d){let f=s.length;if(f==a)s.push(l,d);else if(1===f)s.push(d,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=l,s[a+1]=d}}(s,d,a,l)),d}function tg(s,a){const l=Zd(s,a);if(l>=0)return s[1|l]}function Zd(s,a){return function ng(s,a,l){let d=0,f=s.length>>l;for(;f!==d;){const m=d+(f-d>>1),v=s[m<<l];if(a===v)return m<<l;v>a?f=m:d=m+1}return~(f<<l)}(s,a,1)}const at=Vt(V("Optional"),8),ln=Vt(V("SkipSelf"),4);function Hy(s){return 128==(128&s.flags)}var $y=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}($y||{});const WP=/^>|^->|<!--|-->|--!>|<!-$/g,qP=/(<|>)/g,Wy="\u200b$1\u200b";const sg=new Map;let Kb=0;const Qb="__ngContext__";function Aa(s,a){uo(a)?(s[Qb]=a[pa],function qA(s){sg.set(s[pa],s)}(a)):s[Qb]=a}let Zy;function eI(s,a){return Zy(s,a)}function cg(s){const a=s[_r];return Ui(a)?a[_r]:a}function eS(s){return nI(s[Ei])}function tS(s){return nI(s[Di])}function nI(s){for(;null!==s&&!Ui(s);)s=s[Di];return s}function fp(s,a,l,d,f){if(null!=d){let m,v=!1;Ui(d)?m=d:uo(d)&&(v=!0,d=d[Hr]);const I=Qr(d);0===s&&null!==l?null==f?pp(a,l,I):ul(a,l,I,f||null,!0):1===s&&null!==l?ul(a,l,I,f||null,!0):2===s?function ev(s,a,l){const d=Qy(s,a);d&&function tk(s,a,l,d){s.removeChild(a,l,d)}(s,d,a,l)}(a,I,v):3===s&&a.destroyNode(I),null!=m&&function lS(s,a,l,d,f){const m=l[Xi];m!==Qr(l)&&fp(a,s,d,m,f);for(let I=Fi;I<l.length;I++){const P=l[I];tf(P[Jt],P,s,a,d,m)}}(a,s,m,l,f)}}function rI(s,a){return s.createComment(function Zb(s){return s.replace(WP,a=>a.replace(qP,Wy))}(a))}function Yd(s,a,l){return s.createElement(a,l)}function oI(s,a){const l=s[Ws],d=l.indexOf(a);$h(a),l.splice(d,1)}function Ky(s,a){if(s.length<=Fi)return;const l=Fi+a,d=s[l];if(d){const f=d[oc];null!==f&&f!==s&&oI(f,d),a>0&&(s[l-1][Di]=d[Di]);const m=$r(s,Fi+a);!function XP(s,a){tf(s,a,a[jn],2,null,null),a[Hr]=null,a[Vi]=null}(d[Jt],d);const v=m[lo];null!==v&&v.detachView(m[Jt]),d[_r]=null,d[Di]=null,d[Un]&=-129}return d}function sI(s,a){if(!(256&a[Un])){const l=a[jn];a[rl]&&ci(a[rl]),a[Wo]&&ci(a[Wo]),l.destroyNode&&tf(s,a,l,3,null,null),function ek(s){let a=s[Ei];if(!a)return ll(s[Jt],s);for(;a;){let l=null;if(uo(a))l=a[Ei];else{const d=a[Fi];d&&(l=d)}if(!l){for(;a&&!a[Di]&&a!==s;)uo(a)&&ll(a[Jt],a),a=a[_r];null===a&&(a=s),uo(a)&&ll(a[Jt],a),l=a&&a[Di]}a=l}}(a)}}function ll(s,a){if(!(256&a[Un])){a[Un]&=-129,a[Un]|=256,function Yy(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof ja)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const I=f[m[v]],P=m[v+1];Ps(4,I,P);try{P.call(I)}finally{Ps(5,I,P)}}else{Ps(4,f,m);try{m.call(f)}finally{Ps(5,f,m)}}}}}(s,a),function Eu(s,a){const l=s.cleanup,d=a[es];if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+3];v>=0?d[v]():d[-v].unsubscribe(),m+=2}else l[m].call(d[l[m+1]]);null!==d&&(a[es]=null);const f=a[ma];if(null!==f){a[ma]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(s,a),1===a[Jt].type&&a[jn].destroy();const l=a[oc];if(null!==l&&Ui(a[_r])){l!==a[_r]&&oI(l,a);const d=a[lo];null!==d&&d.detachView(s)}!function ZA(s){sg.delete(s[pa])}(a)}}function aI(s,a,l){return function iS(s,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[Hr];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=s.data[d.directiveStart+f];if(m===Ai.None||m===Ai.Emulated)return null}return qo(d,l)}}(s,a.parent,l)}function ul(s,a,l,d,f){s.insertBefore(a,l,d,f)}function pp(s,a,l){s.appendChild(a,l)}function cI(s,a,l,d,f){null!==d?ul(s,a,l,d,f):pp(s,a,l)}function Qy(s,a){return s.parentNode(a)}function oS(s,a,l){return lI(s,a,l)}let Xy,nv,rv,lI=function sS(s,a,l){return 40&s.type?qo(s,l):null};function mp(s,a,l,d){const f=aI(s,d,a),m=a[jn],I=oS(d.parent||a[Vi],d,a);if(null!=f)if(Array.isArray(l))for(let P=0;P<l.length;P++)cI(m,f,l[P],I,!1);else cI(m,f,l,I,!1);void 0!==Xy&&Xy(m,d,a,l,f)}function dg(s,a){if(null!==a){const l=a.type;if(3&l)return qo(a,s);if(4&l)return Jy(-1,s[a.index]);if(8&l){const d=a.child;if(null!==d)return dg(s,d);{const f=s[a.index];return Ui(f)?Jy(-1,f):Qr(f)}}if(32&l)return eI(a,s)()||Qr(s[a.index]);{const d=aS(s,a);return null!==d?Array.isArray(d)?d[0]:dg(cg(s[pi]),d):dg(s,a.next)}}return null}function aS(s,a){return null!==a?s[pi][Vi].projection[a.projection]:null}function Jy(s,a){const l=Fi+s+1;if(l<a.length){const d=a[l],f=d[Jt].firstChild;if(null!==f)return dg(d,f)}return a[Xi]}function ea(s,a,l,d,f,m,v){for(;null!=l;){const I=d[l.index],P=l.type;if(v&&0===a&&(I&&Aa(Qr(I),d),l.flags|=2),32!=(32&l.flags))if(8&P)ea(s,a,l.child,d,f,m,!1),fp(a,s,f,I,m);else if(32&P){const O=eI(l,d);let H;for(;H=O();)fp(a,s,f,H,m);fp(a,s,f,I,m)}else 16&P?nf(s,a,d,l,f,m):fp(a,s,f,I,m);l=v?l.projectionNext:l.next}}function tf(s,a,l,d,f,m){ea(l,d,s.firstChild,a,f,m,!1)}function nf(s,a,l,d,f,m){const v=l[pi],P=v[Vi].projection[d.projection];if(Array.isArray(P))for(let O=0;O<P.length;O++)fp(a,s,f,P[O],m);else{let O=P;const H=v[_r];Hy(d)&&(O.flags|=128),ea(s,a,O,H,f,m,!0)}}function dl(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function uS(s,a,l){const{mergedAttrs:d,classes:f,styles:m}=l;null!==d&&ha(s,a,d),null!==f&&dl(s,a,f),null!==m&&function sk(s,a,l){s.setAttribute(a,"style",l)}(s,a,m)}function ck(s){nv=s}function hS(s){return function iv(){if(void 0===rv&&(rv=null,Ln.trustedTypes))try{rv=Ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return rv}()?.createScriptURL(s)||s}class fS{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${on})`}}function hd(s){return s instanceof fS?s.changingThisBreaksApplicationSecurity:s}function hg(s,a){const l=function mS(s){return s instanceof fS&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${on})`)}return l===a}const yk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var yp=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(yp||{});function gI(s){const a=gg();return a?a.sanitize(yp.URL,s)||"":hg(s,"URL")?hd(s):function hI(s){return(s=String(s)).match(yk)?s:"unsafe:"+s}(He(s))}function So(s){const a=gg();if(a)return hS(a.sanitize(yp.RESOURCE_URL,s)||"");if(hg(s,"ResourceURL"))return hS(hd(s));throw new Ne(904,!1)}function CS(s,a,l){return function Tk(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?So:gI}(a,l)(s)}function gg(){const s=kt();return s&&s[No].sanitizer}class Ci{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=xe({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _g=new Ci("ENVIRONMENT_INITIALIZER"),AS=new Ci("INJECTOR",-1),Fs=new Ci("INJECTOR_DEF_TYPES");class vp{get(a,l=Bt){if(l===Bt){const d=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw d.name="NullInjectorError",d}return l}}function yg(s){return{\u0275providers:s}}function yI(...s){return{\u0275providers:vg(0,s),\u0275fromNgModule:!0}}function vg(s,...a){const l=[],d=new Set;let f;const m=v=>{l.push(v)};return wu(a,v=>{const I=v;wp(I,m,[],d)&&(f||=[],f.push(I))}),void 0!==f&&wg(f,m),l}function wg(s,a){for(let l=0;l<s.length;l++){const{ngModule:d,providers:f}=s[l];vI(f,m=>{a(m,d)})}}function wp(s,a,l,d){if(!(s=_t(s)))return!1;let f=null,m=Kn(s);const v=!m&&Hn(s);if(m||v){if(v&&!v.standalone)return!1;f=s}else{const P=s.ngModule;if(m=Kn(P),!m)return!1;f=P}const I=d.has(f);if(v){if(I)return!1;if(d.add(f),v.dependencies){const P="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const O of P)wp(O,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!I){let O;d.add(f);try{wu(m.imports,H=>{wp(H,a,l,d)&&(O||=[],O.push(H))})}finally{}void 0!==O&&wg(O,a)}if(!I){const O=xs(f)||(()=>new f);a({provide:f,useFactory:O,deps:Vn},f),a({provide:Fs,useValue:f,multi:!0},f),a({provide:_g,useValue:()=>Qt(f),multi:!0},f)}const P=m.providers;if(null!=P&&!I){const O=s;vI(P,H=>{a(H,O)})}}}return f!==s&&void 0!==s.providers}function vI(s,a){for(let l of s)Ye(l)&&(l=l.\u0275providers),Array.isArray(l)?vI(l,a):a(l)}const SS=Y({provide:String,useValue:Y});function wI(s){return null!==s&&"object"==typeof s&&SS in s}function Qd(s){return"function"==typeof s}const uv=new Ci("Set Injector scope."),dv={},Ak={};let bI;function hv(){return void 0===bI&&(bI=new vp),bI}class Wl{}class Ip extends Wl{get destroyed(){return this._destroyed}constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bg(a,v=>this.processProvider(v)),this.records.set(AS,Tp(void 0,this)),f.has("environment")&&this.records.set(Wl,Tp(void 0,this));const m=this.records.get(uv);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Fs.multi,Vn,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of a)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=ke(this),d=Tn(void 0);try{return a()}finally{ke(l),Tn(d)}}get(a,l=Bt,d=Rt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(hs))return a[hs](this);d=De(d);const m=ke(this),v=Tn(void 0);try{if(!(d&Rt.SkipSelf)){let P=this.records.get(a);if(void 0===P){const O=function Sk(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ci}(a)&&ct(a);P=O&&this.injectableDefInScope(O)?Tp(fv(a),dv):null,this.records.set(a,P)}if(null!=P)return this.hydrate(a,P)}return(d&Rt.Self?hv():this.parent).get(a,l=d&Rt.Optional&&l===Bt?null:l)}catch(I){if("NullInjectorError"===I.name){if((I[Cn]=I[Cn]||[]).unshift(Ee(a)),m)throw I;return function Er(s,a,l,d){const f=s[Cn];throw a[J]&&f.unshift(a[J]),s.message=function Ur(s,a,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=Ee(a);if(Array.isArray(a))f=a.map(Ee).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let I=a[v];m.push(v+":"+("string"==typeof I?JSON.stringify(I):Ee(I)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${s.replace(_e,"\n  ")}`}("\n"+s.message,f,l,d),s.ngTokenPath=f,s[Cn]=null,s}(I,a,"R3InjectorError",this.source)}throw I}finally{Tn(v),ke(m)}}resolveInjectorInitializers(){const a=ke(this),l=Tn(void 0);try{const f=this.get(_g.multi,Vn,Rt.Self);for(const m of f)m()}finally{ke(a),Tn(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(Ee(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(a){let l=Qd(a=_t(a))?a:_t(a&&a.provide);const d=function DS(s){return wI(s)?Tp(void 0,s.useValue):Tp(Ep(s),dv)}(a);if(Qd(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Tp(void 0,dv,!0),f.factory=()=>Qe(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===dv&&(l.value=Ak,l.value=l.factory()),"object"==typeof l.value&&l.value&&function TI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=_t(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function fv(s){const a=ct(s),l=null!==a?a.factory:xs(s);if(null!==l)return l;if(s instanceof Ci)throw new Ne(204,!1);if(s instanceof Function)return function II(s){const a=s.length;if(a>0)throw Bc(a,"?"),new Ne(204,!1);const l=function $n(s){return s&&(s[kn]||s[hr])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ne(204,!1)}function Ep(s,a,l){let d;if(Qd(s)){const f=_t(s);return xs(f)||fv(f)}if(wI(s))d=()=>_t(s.useValue);else if(function bp(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Qe(s.deps||[]));else if(function xS(s){return!(!s||!s.useExisting)}(s))d=()=>Qt(_t(s.useExisting));else{const f=_t(s&&(s.useClass||s.provide));if(!function EI(s){return!!s.deps}(s))return xs(f)||fv(f);d=()=>new f(...Qe(s.deps))}return d}function Tp(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function bg(s,a){for(const l of s)Array.isArray(l)?bg(l,a):l&&Ye(l)?bg(l.\u0275providers,a):a(l)}const pv=new Ci("AppId",{providedIn:"root",factory:()=>CI}),CI="ng",mv=new Ci("Platform Initializer"),AI=new Ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gv=new Ci("CSP nonce",{providedIn:"root",factory:()=>function _p(){if(void 0!==nv)return nv;if(typeof document<"u")return document;throw new Ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let kI=(s,a,l)=>null;function OI(s,a,l=!1){return kI(s,a,l)}class LI{}class Rk{}class kk{resolveComponentFactory(a){throw function _j(s){const a=Error(`No component factory found for ${Ee(s)}.`);return a.ngComponent=s,a}(a)}}let Cg=(()=>{class s{static#e=this.NULL=new kk}return s})();function VI(){return Tu(Eo(),kt())}function Tu(s,a){return new Ev(qo(s,a))}let Ev=(()=>{class s{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=VI}return s})();function UI(s){return s instanceof Ev?s.nativeElement:s}class Nk{}let Ok=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yj(){const s=kt(),l=Io(Eo().index,s);return(uo(l)?l:s)[jn]}()}return s})(),Fk=(()=>{class s{static#e=this.\u0275prov=xe({token:s,providedIn:"root",factory:()=>null})}return s})();class VS{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Lk=new VS("16.2.9"),US={};function HS(s,a=null,l=null,d){const f=GS(s,a,l,d);return f.resolveInjectorInitializers(),f}function GS(s,a=null,l=null,d,f=new Set){const m=[l||Vn,yI(s)];return d=d||("object"==typeof s?void 0:Ee(s)),new Ip(m,a||hv(),d||null,f)}let ql=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=Bt;static#t=this.NULL=new vp;static create(l,d){if(Array.isArray(l))return HS({name:""},d,l,"");{const f=l.name??"";return HS({name:f},l.parent,l.providers,f)}}static#n=this.\u0275prov=xe({token:s,providedIn:"any",factory:()=>Qt(AS)});static#r=this.__NG_ELEMENT_ID__=-1}return s})();function jI(s){return s.ngOriginalError}class Jd{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&jI(a);for(;l&&jI(l);)l=jI(l);return l||null}}function Cv(s){return a=>{setTimeout(s,void 0,a)}}const md=class BI extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,m=l||(()=>null),v=d;if(a&&"object"==typeof a){const P=a;f=P.next?.bind(P),m=P.error?.bind(P),v=P.complete?.bind(P)}this.__isAsync&&(m=Cv(m),f&&(f=Cv(f)),v&&(v=Cv(v)));const I=super.subscribe({next:f,error:m,complete:v});return a instanceof ie.w0&&a.add(I),I}};function Av(...s){}class ta{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new md(!1),this.onMicrotaskEmpty=new md(!1),this.onStable=new md(!1),this.onError=new md(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function zk(){const s="function"==typeof Ln.requestAnimationFrame;let a=Ln[s?"requestAnimationFrame":"setTimeout"],l=Ln[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Aj(s){const a=()=>{!function Cj(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qS(s),s.isCheckStableRunning=!0,zI(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qS(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,v,I)=>{if(function xj(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(I))return l.invokeTask(f,m,v,I);try{return Hk(s),l.invokeTask(f,m,v,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),Gk(s)}},onInvoke:(l,d,f,m,v,I,P)=>{try{return Hk(s),l.invoke(f,m,v,I,P)}finally{s.shouldCoalesceRunChangeDetection&&a(),Gk(s)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,qS(s),zI(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ta.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(ta.isInAngularZone())throw new Ne(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,Tj,Av,Av);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const Tj={};function zI(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qS(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Hk(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Gk(s){s._nesting--,zI(s)}class Sj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new md,this.onMicrotaskEmpty=new md,this.onStable=new md,this.onError=new md}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const $k=new Ci("",{providedIn:"root",factory:Wk});function Wk(){const s=ce(ta);let a=!0;const l=new z.y(f=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{f.next(a),f.complete()})}),d=new z.y(f=>{let m;s.runOutsideAngular(()=>{m=s.onStable.subscribe(()=>{ta.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const v=s.onUnstable.subscribe(()=>{ta.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),v.unsubscribe()}});return(0,Te.T)(l,d.pipe((0,Ae.B)()))}function eh(s){return s instanceof Function?s():s}let ZS=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=xe({token:s,providedIn:"root",factory:()=>new s})}return s})();function Sv(s){for(;s;){s[Un]|=64;const a=cg(s);if(Oa(s)&&!a)return s;s=a}return null}const Qk=new Ci("",{providedIn:"root",factory:()=>!1});let GI=null;function tN(s,a){return s[a]??iN()}function nN(s,a){const l=iN();l.producerNode?.length&&(s[a]=GI,l.lView=s,GI=rN())}const Vj={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Sv(s.lView)},lView:null};function rN(){return Object.create(Vj)}function iN(){return GI??=rN(),GI}const Nr={};function oN(s){sN(jr(),kt(),fe()+s,!1)}function sN(s,a,l,d){if(!d)if(3==(3&a[Un])){const m=s.preOrderCheckHooks;null!==m&&nr(a,m,l)}else{const m=s.preOrderHooks;null!==m&&On(a,m,0,l)}pe(l)}function xg(s,a=Rt.Default){const l=kt();return null===l?Qt(s,a):Co(Eo(),l,_t(s),a)}function aN(){throw new Error("invalid")}function $I(s,a,l,d,f,m,v,I,P,O,H){const ae=a.blueprint.slice();return ae[Hr]=f,ae[Un]=140|d,(null!==O||s&&2048&s[Un])&&(ae[Un]|=2048),Gh(ae),ae[_r]=ae[ts]=s,ae[Jr]=l,ae[No]=v||s&&s[No],ae[jn]=I||s&&s[jn],ae[bo]=P||s&&s[bo]||null,ae[Vi]=m,ae[pa]=function dd(){return Kb++}(),ae[ns]=H,ae[sc]=O,ae[pi]=2==a.type?s[pi]:ae,ae}function Dg(s,a,l,d,f){let m=s.data[a];if(null===m)m=function KS(s,a,l,d,f){const m=mu(),v=Ju(),P=s.data[a]=function dN(s,a,l,d,f,m){let v=a?a.injectorIndex:-1,I=0;return Va()&&(I|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,a,d,f);return null===s.firstChild&&(s.firstChild=P),null!==m&&(v?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P,P.prev=m)),P}(s,a,l,d,f),function op(){return cr.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const v=function Fl(){const s=cr.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Ia(m,!0),m}function xv(s,a,l,d){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function cN(s,a,l,d,f){const m=tN(a,rl),v=fe(),I=2&d;try{pe(-1),I&&a.length>vr&&sN(s,a,vr,!1),Ps(I?2:0,f);const O=I?m:null,H=Rn(O);try{null!==O&&(O.dirty=!1),l(d,f)}finally{mn(O,H)}}finally{I&&null===a[rl]&&nN(a,rl),pe(v),Ps(I?3:1,f)}}function YS(s,a,l){if(Ss(a)){const d=N(null);try{const m=a.directiveEnd;for(let v=a.directiveStart;v<m;v++){const I=s.data[v];I.contentQueries&&I.contentQueries(1,l[v],v)}}finally{N(d)}}}function WI(s,a,l){Zi()&&(function Cu(s,a,l,d){const f=l.directiveStart,m=l.directiveEnd;ya(l)&&function nx(s,a,l){const d=qo(a,s),f=Sn(l);let v=16;l.signals?v=4096:l.onPush&&(v=64);const I=rh(s,$I(s,f,null,v,d,a,null,s[No].rendererFactory.createRenderer(d,l),null,null,null));s[a.index]=I}(a,l,s.data[f+l.componentOffset]),s.firstCreatePass||Fr(l,a),Aa(d,a);const v=l.initialInputs;for(let I=f;I<m;I++){const P=s.data[I],O=Ga(a,s,I,l);Aa(O,a),null!==v&&YI(0,I-f,O,P,0,v),Oo(P)&&(Io(l.index,a)[Jr]=Ga(a,s,I,l))}}(s,a,l,qo(l,a)),64==(64&l.flags)&&Rv(s,a,l))}function Gc(s,a,l=qo){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],I=-1===v?l(a,s):s[v];s[f++]=I}}}function Sn(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Mg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function Mg(s,a,l,d,f,m,v,I,P,O,H){const ae=vr+d,Re=ae+f,ze=function Pr(s,a){const l=[];for(let d=0;d<a;d++)l.push(d<s?null:Nr);return l}(ae,Re),xt="function"==typeof O?O():O;return ze[Jt]={type:s,blueprint:ze,template:l,queries:null,viewQuery:I,declTNode:a,data:ze.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:P,consts:xt,incompleteFirstPass:!1,ssrId:H}}let QS=s=>null;function na(s,a,l,d){for(let f in s)if(s.hasOwnProperty(f)){l=null===l?{}:l;const m=s[f];null===d?Pg(l,a,f,m):d.hasOwnProperty(f)&&Pg(l,a,d[f],m)}return l}function Pg(s,a,l,d){s.hasOwnProperty(l)?s[l].push(a,d):s[l]=[a,d]}function Vs(s,a,l,d){if(Zi()){const f=null===d?null:{"":-1},m=function pN(s,a){const l=s.directiveRegistry;let d=null,f=null;if(l)for(let m=0;m<l.length;m++){const v=l[m];if(ue(a,v.selectors,!1))if(d||(d=[]),Oo(v))if(null!==v.findHostDirectiveDefs){const I=[];f=f||new Map,v.findHostDirectiveDefs(v,I,f),d.unshift(...I,v),nh(s,a,I.length)}else d.unshift(v),nh(s,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(s,l);let v,I;null===m?v=I=null:[v,I]=m,null!==v&&JS(s,a,l,v,f,I),f&&function ex(s,a,l){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new Ne(-301,!1);d.push(a[f],m)}}}(l,d,f)}l.mergedAttrs=Cs(l.mergedAttrs,l.attrs)}function JS(s,a,l,d,f,m){for(let O=0;O<d.length;O++)Mi(Fr(l,a),s,d[O].type);!function tx(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}(l,s.data.length,d.length);for(let O=0;O<d.length;O++){const H=d[O];H.providersResolver&&H.providersResolver(H)}let v=!1,I=!1,P=xv(s,a,d.length,null);for(let O=0;O<d.length;O++){const H=d[O];l.mergedAttrs=Cs(l.mergedAttrs,H.hostAttrs),mN(s,l,a,P,H),KI(P,H,f),null!==H.contentQueries&&(l.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(l.flags|=64);const ae=H.type.prototype;!v&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((s.preOrderHooks??=[]).push(l.index),v=!0),!I&&(ae.ngOnChanges||ae.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(l.index),I=!0),P++}!function Ls(s,a,l){const f=a.directiveEnd,m=s.data,v=a.attrs,I=[];let P=null,O=null;for(let H=a.directiveStart;H<f;H++){const ae=m[H],Re=l?l.get(ae):null,xt=Re?Re.outputs:null;P=na(ae.inputs,H,P,Re?Re.inputs:null),O=na(ae.outputs,H,O,xt);const en=null===P||null===v||Po(a)?null:QI(P,H,v);I.push(en)}null!==P&&(P.hasOwnProperty("class")&&(a.flags|=8),P.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=I,a.inputs=P,a.outputs=O}(s,l,m)}function Rv(s,a,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,v=function sp(){return cr.lFrame.currentDirectiveIndex}();try{pe(m);for(let I=d;I<f;I++){const P=s.data[I],O=a[I];_u(I),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&fN(P,O)}}finally{pe(-1),_u(v)}}function fN(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function nh(s,a,l){a.componentOffset=l,(s.components??=[]).push(a.index)}function KI(s,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=s;Oo(a)&&(l[""]=s)}}function mN(s,a,l,d,f){s.data[d]=f;const m=f.factory||(f.factory=xs(f.type)),v=new ja(m,Oo(f),xg);s.blueprint[d]=v,l[d]=v,function kg(s,a,l,d,f){const m=f.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const I=~a.index;(function Mv(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(v)!=I&&v.push(I),v.push(l,d,m)}}(s,a,d,xv(s,l,f.hostVars,Nr),f)}function hl(s,a,l,d,f,m){const v=qo(s,a);!function Ng(s,a,l,d,f,m,v){if(null==m)s.removeAttribute(a,f,l);else{const I=null==v?He(m):v(m,d||"",f);s.setAttribute(a,f,I,l)}}(a[jn],v,m,s.value,l,d,f)}function YI(s,a,l,d,f,m){const v=m[a];if(null!==v)for(let I=0;I<v.length;)Pv(d,l,v[I++],v[I++],v[I++])}function Pv(s,a,l,d,f){const m=N(null);try{const v=s.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(f=v[d].call(a,f)),null!==s.setInput?s.setInput(a,f,l,d):a[d]=f}finally{N(m)}}function QI(s,a,l){let d=null,f=0;for(;f<l.length;){const m=l[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===d&&(d=[]);const v=s[m];for(let I=0;I<v.length;I+=2)if(v[I]===a){d.push(m,v[I+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function XI(s,a,l,d){return[s,!0,!1,a,null,0,d,l,null,null,null]}function rx(s,a){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const m=l[d+1];if(-1!==m){const v=s.data[m];Vl(l[d]),v.contentQueries(2,a[m],m)}}}function rh(s,a){return s[Ei]?s[wl][Di]=a:s[Ei]=a,s[wl]=a,a}function JI(s,a,l){Vl(0);const d=N(null);try{a(s,l)}finally{N(d)}}function ix(s){return s[es]||(s[es]=[])}function ox(s){return s.cleanup||(s.cleanup=[])}function Nv(s,a){const l=s[bo],d=l?l.get(Jd,null):null;d&&d.handleError(a)}function eE(s,a,l,d,f){for(let m=0;m<l.length;){const v=l[m++],I=l[m++];Pv(s.data[v],a[v],d,I,f)}}function sx(s,a){const l=Io(a,s),d=l[Jt];!function ax(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])}(d,l);const f=l[Hr];null!==f&&null===l[ns]&&(l[ns]=OI(f,l[bo])),xp(d,l,l[Jr])}function xp(s,a,l){Pn(a);try{const d=s.viewQuery;null!==d&&JI(1,d,l);const f=s.template;null!==f&&cN(s,a,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&rx(s,a),s.staticViewQueries&&JI(2,s.viewQuery,l);const m=s.components;null!==m&&function tE(s,a){for(let l=0;l<a.length;l++)sx(s,a[l])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Un]&=-5,T()}}let Ov=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(l,d,f){const m=typeof Zone>"u"?null:Zone.current,v=function Ku(s,a,l){const d=Object.create(tp);l&&(d.consumerAllowSignalWrites=!0),d.fn=s,d.schedule=a;const f=v=>{d.cleanupFn=v};return d.ref={notify:()=>$e(d),run:()=>{if(d.dirty=!1,d.hasRun&&!ai(d))return;d.hasRun=!0;const v=Rn(d);try{d.cleanupFn(),d.cleanupFn=Yu,d.fn(f)}finally{mn(d,v)}},cleanup:()=>d.cleanupFn()},d.ref}(l,O=>{this.all.has(O)&&this.queue.set(O,m)},f);let I;this.all.add(v),v.notify();const P=()=>{v.cleanup(),I?.(),this.all.delete(v),this.queue.delete(v)};return I=d?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[l,d]of this.queue)this.queue.delete(l),d?d.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=xe({token:s,providedIn:"root",factory:()=>new s})}return s})();function Dp(s,a,l){let d=l?s.styles:null,f=l?s.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const I=a[v];"number"==typeof I?m=I:1==m?f=Tt(f,I):2==m&&(d=Tt(d,I+": "+a[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=f:s.classesWithoutHost=f}function Mp(s,a,l,d,f=!1){for(;null!==l;){const m=a[l.index];null!==m&&d.push(Qr(m)),Ui(m)&&rE(m,d);const v=l.type;if(8&v)Mp(s,a,l.child,d);else if(32&v){const I=eI(l,a);let P;for(;P=I();)d.push(P)}else if(16&v){const I=aS(a,l);if(Array.isArray(I))d.push(...I);else{const P=cg(a[pi]);Mp(P[Jt],P,I,d,!0)}}l=f?l.projectionNext:l.next}return d}function rE(s,a){for(let l=Fi;l<s.length;l++){const d=s[l],f=d[Jt].firstChild;null!==f&&Mp(d[Jt],d,f,a)}s[Xi]!==s[Hr]&&a.push(s[Xi])}function Fv(s,a,l,d=!0){const f=a[No],m=f.rendererFactory,v=f.afterRenderEventManager;m.begin?.(),v?.begin();try{Lv(s,a,s.template,l)}catch(P){throw d&&Nv(a,P),P}finally{m.end?.(),f.effectManager?.flush(),v?.end()}}function Lv(s,a,l,d){const f=a[Un];if(256!=(256&f)){a[No].effectManager?.flush(),Pn(a);try{Gh(a),function Gd(s){return cr.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&cN(s,a,l,2,d);const v=3==(3&f);if(v){const O=s.preOrderCheckHooks;null!==O&&nr(a,O,null)}else{const O=s.preOrderHooks;null!==O&&On(a,O,0,null),mi(a,0)}if(function _N(s){for(let a=eS(s);null!==a;a=tS(a)){if(!a[$s])continue;const l=a[Ws];for(let d=0;d<l.length;d++){Fc(l[d])}}}(a),iE(a,2),null!==s.contentQueries&&rx(s,a),v){const O=s.contentCheckHooks;null!==O&&nr(a,O)}else{const O=s.contentHooks;null!==O&&On(a,O,1),mi(a,1)}!function Uj(s,a){const l=s.hostBindingOpCodes;if(null===l)return;const d=tN(a,Wo);try{for(let f=0;f<l.length;f++){const m=l[f];if(m<0)pe(~m);else{const v=m,I=l[++f],P=l[++f];gu(I,v),d.dirty=!1;const O=Rn(d);try{P(2,a[v])}finally{mn(d,O)}}}}finally{null===a[Wo]&&nN(a,Wo),pe(-1)}}(s,a);const I=s.components;null!==I&&Uv(a,I,0);const P=s.viewQuery;if(null!==P&&JI(2,P,d),v){const O=s.viewCheckHooks;null!==O&&nr(a,O)}else{const O=s.viewHooks;null!==O&&On(a,O,2),mi(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Un]&=-73,$h(a)}finally{T()}}}function iE(s,a){for(let l=eS(s);null!==l;l=tS(l))for(let d=Fi;d<l.length;d++)Vv(l[d],a)}function oE(s,a,l){Vv(Io(a,s),l)}function Vv(s,a){if(!function jd(s){return 128==(128&s[Un])}(s))return;const l=s[Jt],d=s[Un];if(80&d&&0===a||1024&d||2===a)Lv(l,s,l.template,s[Jr]);else if(s[ko]>0){iE(s,1);const f=l.components;null!==f&&Uv(s,f,1)}}function Uv(s,a,l){for(let d=0;d<a.length;d++)oE(s,a[d],l)}class Uo{get rootNodes(){const a=this._lView,l=a[Jt];return Mp(l,a,l.firstChild,[])}constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jr]}set context(a){this._lView[Jr]=a}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[_r];if(Ui(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(Ky(a,d),$r(l,d))}this._attachedToViewContainer=!1}sI(this._lView[Jt],this._lView)}onDestroy(a){!function al(s,a){if(256==(256&s[Un]))throw new Ne(911,!1);null===s[ma]&&(s[ma]=[]),s[ma].push(a)}(this._lView,a)}markForCheck(){Sv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){this._lView[Un]|=128}detectChanges(){Fv(this._lView[Jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nS(s,a){tf(s,a,a[jn],2,null,null)}(this._lView[Jt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=a}}class ra extends Uo{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Fv(a[Jt],a,a[Jr],!1)}checkNoChanges(){}get context(){return null}}class Fg extends Cg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Hn(a);return new Lg(l,this.ngModule)}}function jv(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class vN{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){d=De(d);const f=this.injector.get(a,US,d);return f!==US||l===US?f:this.parentInjector.get(a,l,d)}}class Lg extends Rk{get inputs(){const a=this.componentDef,l=a.inputTransforms,d=jv(a.inputs);if(null!==l)for(const f of d)l.hasOwnProperty(f.propName)&&(f.transform=l[f.propName]);return d}get outputs(){return jv(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function It(s){return s.map(Le).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,d,f){let m=(f=f||this.ngModule)instanceof Wl?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new vN(a,m):a,I=v.get(Nk,null);if(null===I)throw new Ne(407,!1);const ae={rendererFactory:I,sanitizer:v.get(Fk,null),effectManager:v.get(Ov,null),afterRenderEventManager:v.get(ZS,null)},Re=I.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",xt=d?function Dv(s,a,l,d){const m=d.get(Qk,!1)||l===Ai.ShadowDom,v=s.selectRootElement(a,m);return function Rg(s){QS(s)}(v),v}(Re,d,this.componentDef.encapsulation,v):Yd(Re,ze,function yN(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(ze)),Jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let zt=null;null!==xt&&(zt=OI(xt,v,!0));const Tr=Mg(0,null,null,1,0,null,null,null,null,null,null),Vr=$I(null,Tr,null,Jn,null,null,ae,Re,v,null,zt);let xi,xa;Pn(Vr);try{const Bu=this.componentDef;let Em,q_=null;Bu.findHostDirectiveDefs?(Em=[],q_=new Map,Bu.findHostDirectiveDefs(Bu,Em,q_),Em.push(Bu)):Em=[Bu];const rF=function wN(s,a){const l=s[Jt],d=vr;return s[d]=a,Dg(l,d,2,"#host",null)}(Vr,xt),jT=function bN(s,a,l,d,f,m,v){const I=f[Jt];!function IN(s,a,l,d){for(const f of s)a.mergedAttrs=Cs(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Dp(a,a.mergedAttrs,!0),null!==l&&uS(d,l,a))}(d,s,a,v);let P=null;null!==a&&(P=OI(a,f[bo]));const O=m.rendererFactory.createRenderer(a,l);let H=16;l.signals?H=4096:l.onPush&&(H=64);const ae=$I(f,Sn(l),null,H,f[s.index],s,m,O,null,null,P);return I.firstCreatePass&&nh(I,s,d.length-1),rh(f,ae),f[s.index]=ae}(rF,xt,Bu,Em,Vr,ae,Re);xa=kl(Tr,vr),xt&&function Ug(s,a,l,d){if(d)ha(s,l,["ng-version",Lk.full]);else{const{attrs:f,classes:m}=function Lt(s){const a=[],l=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++d]):8===f&&l.push(m);else{if(!ao(f))break;f=m}d++}return{attrs:a,classes:l}}(a.selectors[0]);f&&ha(s,l,f),m&&m.length>0&&dl(s,l,m.join(" "))}}(Re,Bu,xt,d),void 0!==l&&function sE(s,a,l){const d=s.projection=[];for(let f=0;f<a.length;f++){const m=l[f];d.push(null!=m?Array.from(m):null)}}(xa,this.ngContentSelectors,l),xi=function Vg(s,a,l,d,f,m){const v=Eo(),I=f[Jt],P=qo(v,f);JS(I,f,v,l,null,d);for(let H=0;H<l.length;H++)Aa(Ga(f,I,v.directiveStart+H,v),f);Rv(I,f,v),P&&Aa(P,f);const O=Ga(f,I,v.directiveStart+v.componentOffset,v);if(s[Jr]=f[Jr]=O,null!==m)for(const H of m)H(O,a);return YS(I,v,s),O}(jT,Bu,Em,q_,Vr,[ux]),xp(Tr,Vr,null)}finally{T()}return new lx(this.componentType,xi,Tu(xa,Vr),Vr,xa)}}class lx extends LI{constructor(a,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new ra(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const m=this._rootLView;eE(m[Jt],m,f,a,l),this.previousInputValues.set(a,l),Sv(Io(this._tNode.index,m))}}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ux(){const s=Eo();ur(kt()[Jt],s)}function Rp(s){let a=function dx(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;a;){let f;if(Oo(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ne(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const v=s;v.inputs=Pp(s.inputs),v.inputTransforms=Pp(s.inputTransforms),v.declaredInputs=Pp(s.declaredInputs),v.outputs=Pp(s.outputs);const I=f.hostBindings;I&&jg(s,I);const P=f.viewQuery,O=f.contentQueries;if(P&&hx(s,P),O&&EN(s,O),re(s.inputs,f.inputs),re(s.declaredInputs,f.declaredInputs),re(s.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),re(v.inputTransforms,f.inputTransforms)),Oo(f)&&f.data.animation){const H=s.data;H.animation=(H.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const I=m[v];I&&I.ngInherit&&I(s),I===Rp&&(l=!1)}}a=Object.getPrototypeOf(a)}!function aE(s){let a=0,l=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Cs(f.hostAttrs,l=Cs(l,f.hostAttrs))}}(d)}function Pp(s){return s===si?{}:s===Vn?[]:s}function hx(s,a){const l=s.viewQuery;s.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function EN(s,a){const l=s.contentQueries;s.contentQueries=l?(d,f,m)=>{a(d,f,m),l(d,f,m)}:a}function jg(s,a){const l=s.hostBindings;s.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}function ih(s){const a=s.inputConfig,l={};for(const d in a)if(a.hasOwnProperty(d)){const f=a[d];Array.isArray(f)&&f[2]&&(l[d]=f[2])}s.inputTransforms=l}function af(s){return!!zv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function zv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _s(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function Hv(s,a,l,d){const f=kt();return _s(f,Ua(),a)&&(jr(),hl(Oe(),f,s,a,l,d)),Hv}function Yv(s,a,l,d,f,m,v,I){const P=kt(),O=jr(),H=s+vr,ae=O.firstCreatePass?function pE(s,a,l,d,f,m,v,I,P){const O=a.consts,H=Dg(a,s,4,v||null,fc(O,I));Vs(a,l,H,fc(O,P)),ur(a,H);const ae=H.tView=Mg(2,H,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,O,null);return null!==a.queries&&(a.queries.template(a,H),ae.queries=a.queries.embeddedTView(H)),H}(H,O,P,a,l,d,f,m,v):O.data[H];Ia(ae,!1);const Re=mE(O,P,ae,s);An()&&mp(O,P,Re,ae),Aa(Re,P),rh(P,P[H]=XI(Re,P,Re,ae)),rs(ae)&&WI(O,P,ae),null!=v&&Gc(P,ae,I)}let mE=function gE(s,a,l,d){return Qn(!0),a[jn].createComment("")};function Tx(s){return Oc(function Zh(){return cr.lFrame.contextLView}(),vr+s)}function jp(s,a,l){const d=kt();return _s(d,Ua(),a)&&function $c(s,a,l,d,f,m,v,I){const P=qo(a,l);let H,O=a.inputs;!I&&null!=O&&(H=O[d])?(eE(s,l,H,d,f),ya(a)&&function XS(s,a){const l=Io(a,s);16&l[Un]||(l[Un]|=64)}(l,a.index)):3&a.type&&(d=function th(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(P,d,f))}(jr(),Oe(),d,s,a,d[jn],l,!1),jp}function df(s,a,l,d,f){const v=f?"class":"style";eE(s,l,a.inputs[v],v,d)}function Bp(s,a,l,d){const f=kt(),m=jr(),v=vr+s,I=f[jn],P=m.firstCreatePass?function Qv(s,a,l,d,f,m){const v=a.consts,P=Dg(a,s,2,d,fc(v,f));return Vs(a,l,P,fc(v,m)),null!==P.attrs&&Dp(P,P.attrs,!1),null!==P.mergedAttrs&&Dp(P,P.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,P),P}(v,m,f,a,l,d):m.data[v],O=zp(m,f,P,I,a,s);f[v]=O;const H=rs(P);return Ia(P,!0),uS(I,O,P),32!=(32&P.flags)&&An()&&mp(m,f,O,P),0===function pu(){return cr.lFrame.elementDepthCount}()&&Aa(O,f),function qi(){cr.lFrame.elementDepthCount++}(),H&&(WI(m,f,P),YS(m,P,f)),null!==d&&Gc(f,P),Bp}function Yg(){let s=Eo();Ju()?ed():(s=s.parent,Ia(s,!1));const a=s;(function cl(s){return cr.skipHydrationRootTNode===s})(a)&&function Hd(){cr.skipHydrationRootTNode=null}(),function Wh(){cr.lFrame.elementDepthCount--}();const l=jr();return l.firstCreatePass&&(ur(l,s),Ss(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function jl(s){return 0!=(8&s.flags)}(a)&&df(l,a,kt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function za(s){return 0!=(16&s.flags)}(a)&&df(l,a,kt(),a.stylesWithoutHost,!1),Yg}function hf(s,a,l,d){return Bp(s,a,l,d),Yg(),hf}let zp=(s,a,l,d,f,m)=>(Qn(!0),Yd(d,f,function qn(){return cr.lFrame.currentNamespace}()));function Xv(s,a,l){const d=kt(),f=jr(),m=s+vr,v=f.firstCreatePass?function Cx(s,a,l,d,f){const m=a.consts,v=fc(m,d),I=Dg(a,s,8,"ng-container",v);return null!==v&&Dp(I,v,!0),Vs(a,l,I,fc(m,f)),null!==a.queries&&a.queries.elementStart(a,I),I}(m,f,d,a,l):f.data[m];Ia(v,!0);const I=yE(f,d,v,s);return d[m]=I,An()&&mp(f,d,I,v),Aa(I,d),rs(v)&&(WI(f,d,v),YS(f,v,d)),null!=l&&Gc(d,v),Xv}function Jv(){let s=Eo();const a=jr();return Ju()?ed():(s=s.parent,Ia(s,!1)),a.firstCreatePass&&(ur(a,s),Ss(s)&&a.queries.elementEnd(s)),Jv}function _E(s,a,l){return Xv(s,a,l),Jv(),_E}let yE=(s,a,l,d)=>(Qn(!0),rI(a[jn],""));function Qg(){return kt()}function e0(s){return!!s&&"function"==typeof s.then}function Kl(s){return!!s&&"function"==typeof s.subscribe}function t0(s,a,l,d){const f=kt(),m=jr(),v=Eo();return function n0(s,a,l,d,f,m,v){const I=rs(d),O=s.firstCreatePass&&ox(s),H=a[Jr],ae=ix(a);let Re=!0;if(3&d.type||v){const en=qo(d,a),vn=v?v(en):en,Jn=ae.length,zt=v?Vr=>v(Qr(Vr[d.index])):d.index;let Tr=null;if(!v&&I&&(Tr=function Dx(s,a,l,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===l&&f[m+1]===d){const I=a[es],P=f[m+2];return I.length>P?I[P]:null}"string"==typeof v&&(m+=2)}return null}(s,a,f,d.index)),null!==Tr)(Tr.__ngLastListenerFn__||Tr).__ngNextListenerFn__=m,Tr.__ngLastListenerFn__=m,Re=!1;else{m=vE(d,a,H,m,!1);const Vr=l.listen(vn,f,m);ae.push(m,Vr),O&&O.push(f,zt,Jn,Jn+1)}}else m=vE(d,a,H,m,!1);const ze=d.outputs;let xt;if(Re&&null!==ze&&(xt=ze[f])){const en=xt.length;if(en)for(let vn=0;vn<en;vn+=2){const xi=a[xt[vn]][xt[vn+1]].subscribe(m),xa=ae.length;ae.push(m,xi),O&&O.push(f,d.index,xa,-(xa+1))}}}(m,f,f[jn],v,s,a,d),t0}function Hp(s,a,l,d){try{return Ps(6,a,l),!1!==l(d)}catch(f){return Nv(s,f),!1}finally{Ps(7,a,l)}}function vE(s,a,l,d,f){return function m(v){if(v===Function)return d;Sv(s.componentOffset>-1?Io(s.index,a):a);let P=Hp(a,l,d,v),O=m.__ngNextListenerFn__;for(;O;)P=Hp(a,l,O,v)&&P,O=O.__ngNextListenerFn__;return f&&!1===P&&v.preventDefault(),P}}function r0(s=1){return function U(s){return(cr.lFrame.contextLView=function oe(s,a){for(;s>0;)a=a[ts],s--;return a}(s,cr.lFrame.contextLView))[Jr]}(s)}function o0(s,a){let l=null;const d=function B(s){const a=s.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?ue(s,m,!0):Fe(d,m))return f}else l=f}return l}function wE(s){const a=kt()[pi][Vi];if(!a.projection){const d=a.projection=Bc(s?s.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=s?o0(m,s):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function Xg(s,a=0,l){const d=kt(),f=jr(),m=Dg(f,vr+s,16,null,l||null);null===m.projection&&(m.projection=a),ed(),(!d[ns]||Va())&&32!=(32&m.flags)&&function ik(s,a,l){nf(a[jn],0,a,l,aI(s,l,a),oS(l.parent||a[Vi],l,a))}(f,d,m)}function e_(s,a){return s<<17|a<<2}function yc(s){return s>>17&32767}function l0(s){return 2|s}function hh(s){return(131068&s)>>2}function $p(s,a){return-131069&s|a<<2}function u0(s){return 1|s}function d0(s,a,l,d,f){const m=s[l+1],v=null===a;let I=d?yc(m):hh(m),P=!1;for(;0!==I&&(!1===P||v);){const H=s[I+1];ki(s[I],a)&&(P=!0,s[I+1]=d?u0(H):l0(H)),I=d?yc(H):hh(H)}P&&(s[l+1]=d?l0(m):u0(m))}function ki(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Zd(s,a)>=0}function g0(s,a,l){return Ql(s,a,l,!1),g0}function fh(s,a){return Ql(s,a,null,!0),fh}function Ql(s,a,l,d){const f=kt(),m=jr(),v=function qs(s){const a=cr.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}(2);m.firstUpdatePass&&function r_(s,a,l,d){const f=s.data;if(null===f[l+1]){const m=f[fe()],v=function Nx(s,a){return a>=s.expandoStartIndex}(s,l);(function Yn(s,a){return 0!=(s.flags&(a?8:16))})(m,d)&&null===a&&!v&&(a=!1),a=function BN(s,a,l,d){const f=function nd(s){const a=cr.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=Pu(l=ss(null,s,a,l,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==f)if(l=ss(f,s,a,l,d),null===m){let P=function zN(s,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==hh(d))return s[yc(d)]}(s,a,d);void 0!==P&&Array.isArray(P)&&(P=ss(null,s,a,P[1],d),P=Pu(P,a.attrs,d),function Zp(s,a,l,d){s[yc(l?a.classBindings:a.styleBindings)]=d}(s,a,d,P))}else m=function Ox(s,a,l){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Pu(d,s[m].hostAttrs,l);return Pu(d,a.attrs,l)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,d),function UN(s,a,l,d,f,m){let v=m?a.classBindings:a.styleBindings,I=yc(v),P=hh(v);s[d]=l;let H,O=!1;if(Array.isArray(l)?(H=l[1],(null===H||Zd(l,H)>0)&&(O=!0)):H=l,f)if(0!==P){const Re=yc(s[I+1]);s[d+1]=e_(Re,I),0!==Re&&(s[Re+1]=$p(s[Re+1],d)),s[I+1]=function Px(s,a){return 131071&s|a<<17}(s[I+1],d)}else s[d+1]=e_(I,0),0!==I&&(s[I+1]=$p(s[I+1],d)),I=d;else s[d+1]=e_(P,0),0===I?I=d:s[P+1]=$p(s[P+1],d),P=d;O&&(s[d+1]=l0(s[d+1])),d0(s,H,d,!0),d0(s,H,d,!1),function Yl(s,a,l,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Zd(m,a)>=0&&(l[d+1]=u0(l[d+1]))}(a,H,s,d,m),v=e_(I,P),m?a.classBindings=v:a.styleBindings=v}(f,m,a,l,v,d)}}(m,s,v,d),a!==Nr&&_s(f,v,a)&&function Bo(s,a,l,d,f,m,v,I){if(!(3&a.type))return;const P=s.data,O=P[I+1],H=function qc(s){return 1==(1&s)}(O)?Zc(P,a,l,f,hh(O),v):void 0;Kp(H)||(Kp(m)||function Rx(s){return 2==(2&s)}(O)&&(m=Zc(P,null,l,f,I,v)),function ok(s,a,l,d,f){if(a)f?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:$y.DashCase;null==f?s.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=$y.Important),s.setStyle(l,d,f,m))}}(d,v,ba(fe(),l),f,m))}(m,m.data[fe()],f,f[jn],s,f[v+1]=function Fn(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Ee(hd(s)))),s}(a,l),d,v)}function ss(s,a,l,d,f){let m=null;const v=l.directiveEnd;let I=l.directiveStylingLast;for(-1===I?I=l.directiveStart:I++;I<v&&(m=a[I],d=Pu(d,m.hostAttrs,f),m!==s);)I++;return null!==s&&(l.directiveStylingLast=I),d}function Pu(s,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wa(s,v,!!l||a[++m]))}return void 0===s?null:s}function Zc(s,a,l,d,f,m){const v=null===a;let I;for(;f>0;){const P=s[f],O=Array.isArray(P),H=O?P[1]:P,ae=null===H;let Re=l[f+1];Re===Nr&&(Re=ae?Vn:void 0);let ze=ae?tg(Re,d):H===d?Re:void 0;if(O&&!Kp(ze)&&(ze=tg(P,d)),Kp(ze)&&(I=ze,v))return I;const xt=s[f+1];f=v?yc(xt):hh(xt)}if(null!==a){let P=m?a.residualClasses:a.residualStyles;null!=P&&(I=tg(P,d))}return I}function Kp(s){return void 0!==s}function Fx(s,a=""){const l=kt(),d=jr(),f=s+vr,m=d.firstCreatePass?Dg(d,f,1,a,null):d.data[f],v=wn(d,l,m,a,s);l[f]=v,An()&&mp(d,l,v,m),Ia(m,!1)}let wn=(s,a,l,d,f)=>(Qn(!0),function Os(s,a){return s.createText(a)}(a[jn],d));function Zo(s){return i_("",s,""),Zo}function i_(s,a,l){const d=kt(),f=function sh(s,a,l,d){return _s(s,Ua(),l)?a+He(l)+d:Nr}(d,s,a,l);return f!==Nr&&function Au(s,a,l){const d=ba(a,s);!function lg(s,a,l){s.setValue(a,l)}(s[jn],d,l)}(d,fe(),f),i_}const oa=void 0;var a_=["en",[["a","p"],["AM","PM"],oa],[["AM","PM"],oa,oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oa,"{1} 'at' {0}",oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KN(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Kc={};function wd(s){const a=function c_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=$x(a);if(l)return l;const d=a.split("-")[0];if(l=$x(d),l)return l;if("en"===d)return a_;throw new Ne(701,!1)}function I0(s){return wd(s)[Us.PluralCase]}function $x(s){return s in Kc||(Kc[s]=Ln.ng&&Ln.ng.common&&Ln.ng.common.locales&&Ln.ng.common.locales[s]),Kc[s]}var Us=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Us||{});const Ko="en-US";let OE=Ko;function P0(s,a,l,d,f){if(s=_t(s),Array.isArray(s))for(let m=0;m<s.length;m++)P0(s[m],a,l,d,f);else{const m=jr(),v=kt(),I=Eo();let P=Qd(s)?s:_t(s.provide);const O=Ep(s),H=1048575&I.providerIndexes,ae=I.directiveStart,Re=I.providerIndexes>>20;if(Qd(s)||!s.multi){const ze=new ja(O,f,xg),xt=HE(P,a,f?H:H+Re,ae);-1===xt?(Mi(Fr(I,v),m,P),zE(m,s,a.length),a.push(P),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(ze),v.push(ze)):(l[xt]=ze,v[xt]=ze)}else{const ze=HE(P,a,H+Re,ae),xt=HE(P,a,H,H+Re),vn=xt>=0&&l[xt];if(f&&!vn||!f&&!(ze>=0&&l[ze])){Mi(Fr(I,v),m,P);const Jn=function dO(s,a,l,d,f){const m=new ja(s,l,xg);return m.multi=[],m.index=a,m.componentProviders=0,pD(m,f,d&&!l),m}(f?uO:mD,l.length,f,d,O);!f&&vn&&(l[xt].providerFactory=Jn),zE(m,s,a.length,0),a.push(P),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(Jn),v.push(Jn)}else zE(m,s,ze>-1?ze:xt,pD(l[f?xt:ze],O,!f&&d));!f&&d&&vn&&l[xt].componentProviders++}}}function zE(s,a,l,d){const f=Qd(a),m=function lv(s){return!!s.useClass}(a);if(f||m){const P=(m?_t(a.useClass):a).prototype.ngOnDestroy;if(P){const O=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const H=O.indexOf(l);-1===H?O.push(l,[d,P]):O[H+1].push(d,P)}else O.push(l,P)}}}function pD(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function HE(s,a,l,d){for(let f=l;f<d;f++)if(a[f]===s)return f;return-1}function mD(s,a,l,d){return k0(this.multi,[])}function uO(s,a,l,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Ga(l,l[Jt],this.providerFactory.index,d);m=I.slice(0,v),k0(f,m);for(let P=v;P<I.length;P++)m.push(I[P])}else m=[],k0(f,m);return m}function k0(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function gD(s,a=[]){return l=>{l.providersResolver=(d,f)=>function fD(s,a,l){const d=jr();if(d.firstCreatePass){const f=Oo(s);P0(l,d.data,d.blueprint,f,!0),P0(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class _f{}class N0{}function yf(s,a){return new nm(s,a??null,[])}class nm extends _f{constructor(a,l,d){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fg(this);const f=$t(a);this._bootstrapComponents=eh(f.bootstrap),this._r3Injector=GS(a,l,[{provide:_f,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver},...d],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class rm extends N0{constructor(a){super(),this.moduleType=a}create(a){return new nm(this.moduleType,a,[])}}class GE extends _f{constructor(a){super(),this.componentFactoryResolver=new Fg(this),this.instance=null;const l=new Ip([...a.providers,{provide:_f,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver}],a.parent||hv(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Ou(s,a,l=null){return new GE({providers:s,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let yD=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const d=vg(0,l.type),f=d.length>0?Ou([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,f)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=xe({token:s,providedIn:"environment",factory:()=>new s(Qt(Wl))})}return s})();function vf(s){s.getStandaloneInjector=a=>a.get(yD).getOrCreateStandaloneInjector(s)}function j0(s,a,l,d,f,m){const v=a+l;return _s(s,v,f)?function Zl(s,a,l){return s[a]=l}(s,v+1,m?d.call(m,f):d(f)):function E_(s,a){const l=s[a];return l===Nr?void 0:l}(s,v+1)}function CD(s,a){const l=jr();let d;const f=s+vr;l.firstCreatePass?(d=function mO(s,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(s===d.name)return d}}(a,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks??=[]).push(f,d.onDestroy)):d=l.data[f];const m=d.factory||(d.factory=xs(d.type)),I=Tn(xg);try{const P=Uc(!1),O=m();return Uc(P),function FN(s,a,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=d}(l,kt(),f,O),O}finally{Tn(I)}}function wh(s,a,l){const d=s+vr,f=kt(),m=Oc(f,d);return function sm(s,a){return s[Jt].data[a].pure}(f,d)?j0(f,function ho(){const s=cr.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}(),a,m.transform,l,m):m.transform(l)}function xD(){return this._results[Symbol.iterator]()}class bf{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new md)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=bf.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=xD)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=function no(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function $a(s,a,l){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=a[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function _o(s,a,l,d=!0){const f=a[Jt];if(function iI(s,a,l,d){const f=Fi+d,m=l.length;d>0&&(l[f-1][Di]=a),d<m-Fi?(a[Di]=l[f],ad(l,Fi+d,a)):(l.push(a),a[Di]=null),a[_r]=l;const v=a[oc];null!==v&&l!==v&&function rS(s,a){const l=s[Ws];a[pi]!==a[_r][_r][pi]&&(s[$s]=!0),null===l?s[Ws]=[a]:l.push(a)}(v,a);const I=a[lo];null!==I&&I.insertView(s),a[Un]|=128}(f,a,s,l),d){const m=Jy(l,s),v=a[jn],I=Qy(v,s[Xi]);null!==I&&function JP(s,a,l,d,f,m){d[Hr]=f,d[Vi]=a,tf(s,d,l,1,f,m)}(f,s[Vi],v,a,I,m)}}let bh=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=A_}return s})();const DD=bh,yO=class extends DD{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,d){const f=function _O(s,a,l,d){const f=a.tView,I=$I(s,f,l,4096&s[Un]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);I[oc]=s[a.index];const O=s[lo];return null!==O&&(I[lo]=O.createEmbeddedView(f)),xp(f,I,l),I}(this._declarationLView,this._declarationTContainer,a,{injector:l,hydrationInfo:d});return new Uo(f)}};function A_(){return B0(Eo(),kt())}function B0(s,a){return 4&s.type?new yO(a,s,Tu(s,a)):null}let cm=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=vO}return s})();function vO(){return eT(Eo(),kt())}const wO=cm,Yo=class extends wO{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const a=yi(this._hostTNode,this._hostLView);if(pc(a)){const l=mc(a,this._hostLView),d=Lc(a);return new po(l[Jt].data[d+8],l)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=oi(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-Fi}createEmbeddedView(a,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const I=a.createEmbeddedViewImpl(l||{},m,null);return this.insertImpl(I,f,false),I}createComponent(a,l,d,f,m){const v=a&&!function _c(s){return"function"==typeof s}(a);let I;if(v)I=l;else{const en=l||{};I=en.index,d=en.injector,f=en.projectableNodes,m=en.environmentInjector||en.ngModuleRef}const P=v?a:new Lg(Hn(a)),O=d||this.parentInjector;if(!m&&null==P.ngModule){const vn=(v?O:this.parentInjector).get(Wl,null);vn&&(m=vn)}Hn(P.componentType??{});const ze=P.create(O,f,null,m);return this.insertImpl(ze.hostView,I,false),ze}insert(a,l){return this.insertImpl(a,l,!1)}insertImpl(a,l,d){const f=a._lView;if(function hu(s){return Ui(s[_r])}(f)){const P=this.indexOf(a);if(-1!==P)this.detach(P);else{const O=f[_r],H=new Yo(O,O[Vi],O[_r]);H.detach(H.indexOf(a))}}const v=this._adjustIndex(l),I=this._lContainer;return _o(I,f,v,!d),a.attachToViewContainerRef(),ad(H0(I),v,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=oi(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=Ky(this._lContainer,l);d&&($r(H0(this._lContainer),l),sI(d[Jt],d))}detach(a){const l=this._adjustIndex(a,-1),d=Ky(this._lContainer,l);return d&&null!=$r(H0(this._lContainer),l)?new Uo(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function oi(s){return s[8]}function H0(s){return s[8]||(s[8]=[])}function eT(s,a){let l;const d=a[s.index];return Ui(d)?l=d:(l=XI(d,a,null,s),a[s.index]=l,rh(a,l)),x_(l,a,s,d),new Yo(l,s,a)}let x_=function nT(s,a,l,d){if(s[Xi])return;let f;f=8&l.type?Qr(d):function tT(s,a){const l=s[jn],d=l.createComment(""),f=qo(a,s);return ul(l,Qy(l,f),d,function rk(s,a){return s.nextSibling(a)}(l,f),!1),d}(a,l),s[Xi]=f};class G0{constructor(a){this.queryList=a,this.matches=null}clone(){return new G0(this.queryList)}setDirty(){this.queryList.setDirty()}}class D_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new D_(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==BD(a,l).matches&&this.queries[l].setDirty()}}class lm{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class Ef{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Ef(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Tf{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Tf(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,l,$0(l,m)),this.matchTNodeWithReadOption(a,l,Ha(l,a,m,!1,!1))}else d===bh?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Ha(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Ev||f===cm||f===bh&&4&l.type)this.addMatch(l.index,-2);else{const m=Ha(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function $0(s,a){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function ND(s,a,l,d){return-1===l?function kD(s,a){return 11&s.type?Tu(s,a):4&s.type?B0(s,a):null}(a,s):-2===l?function OD(s,a,l){return l===Ev?Tu(a,s):l===bh?B0(a,s):l===cm?eT(a,s):void 0}(s,a,d):Ga(s,s[Jt],l,a)}function FD(s,a,l,d){const f=a[lo].queries[d];if(null===f.matches){const m=s.data,v=l.matches,I=[];for(let P=0;P<v.length;P+=2){const O=v[P];I.push(O<0?null:ND(a,m[O],v[P+1],l.metadata.read))}f.matches=I}return f.matches}function W0(s,a,l,d){const f=s.queries.getByIndex(l),m=f.matches;if(null!==m){const v=FD(s,a,f,l);for(let I=0;I<m.length;I+=2){const P=m[I];if(P>0)d.push(v[I/2]);else{const O=m[I+1],H=a[-P];for(let ae=Fi;ae<H.length;ae++){const Re=H[ae];Re[oc]===Re[_r]&&W0(Re[Jt],Re,O,d)}if(null!==H[Ws]){const ae=H[Ws];for(let Re=0;Re<ae.length;Re++){const ze=ae[Re];W0(ze[Jt],ze,O,d)}}}}}return d}function rT(s){const a=kt(),l=jr(),d=Ll();Vl(d+1);const f=BD(l,d);if(s.dirty&&function Nl(s){return 4==(4&s[Un])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?W0(l,a,d,[]):FD(l,a,f,d);s.reset(m,UI),s.notifyOnChanges()}return!0}return!1}function LD(s,a,l){const d=jr();d.firstCreatePass&&(Cf(d,new lm(s,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),q0(d,kt(),a)}function VD(s,a,l,d){const f=jr();if(f.firstCreatePass){const m=Eo();Cf(f,new lm(a,l,d),m.index),function jD(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}q0(f,kt(),l)}function UD(){return function IO(s,a){return s[lo].queries[a].queryList}(kt(),Ll())}function q0(s,a,l){const d=new bf(4==(4&l));(function uN(s,a,l,d){const f=ix(a);f.push(l),s.firstCreatePass&&ox(s).push(d,f.length-1)})(s,a,d,d.destroy),null===a[lo]&&(a[lo]=new D_),a[lo].queries.push(new G0(d))}function Cf(s,a,l){null===s.queries&&(s.queries=new Ef),s.queries.track(new Tf(a,l))}function BD(s,a){return s.queries.getByIndex(a)}function Z0(s){return!!$t(s)}const tw=new Ci("Application Initializer");let nw=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=ce(tw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const f of this.appInits){const m=f();if(e0(m))l.push(m);else if(Kl(m)){const v=new Promise((I,P)=>{m.subscribe({complete:I,error:P})});l.push(v)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),V_=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const hm=new Ci("LocaleId",{providedIn:"root",factory:()=>ce(hm,Rt.Optional|Rt.SkipSelf)||function OO(){return typeof $localize<"u"&&$localize.locale||Ko}()}),rw=new Ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let j_=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new K.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class B_{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let rM=(()=>{class s{compileModuleSync(l){return new rm(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=eh($t(l).declarations).reduce((v,I)=>{const P=Hn(I);return P&&v.push(new Lg(P)),v},[]);return new B_(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const pT=new Ci(""),fM=new Ci("");let z_,pM=(()=>{class s{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,z_||(function zO(s){z_=s}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ta.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}static#e=this.\u0275fac=function(d){return new(d||s)(Qt(ta),Qt(mM),Qt(fM))};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac})}return s})(),mM=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return z_?.findTestabilityInTree(this,l,d)??null}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),so=null;const gM=new Ci("AllowMultipleToken"),mT=new Ci("PlatformDestroyListeners"),gT=new Ci("appBootstrapListener");class aw{constructor(a,l){this.name=a,this.token=l}}function pm(s,a,l=[]){const d=`Platform: ${a}`,f=new Ci(d);return(m=[])=>{let v=dw();if(!v||v.injector.get(gM,!1)){const I=[...l,...m,{provide:f,useValue:!0}];s?s(I):function GO(s){if(so&&!so.get(gM,!1))throw new Ne(400,!1);(function yM(){!function Od(s){Nd=s}(()=>{throw new Ne(600,!1)})})(),so=s;const a=s.get(IM);(function cw(s){s.get(mv,null)?.forEach(l=>l())})(s)}(function uw(s=[],a){return ql.create({name:a,providers:[{provide:uv,useValue:"platform"},{provide:mT,useValue:new Set([()=>so=null])},...s]})}(I,d))}return function lw(s){const a=dw();if(!a)throw new Ne(401,!1);return a}()}}function dw(){return so?.get(IM)??null}let IM=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function EM(s="zone.js",a){return"noop"===s?new Sj:"zone.js"===s?new ta(a):s}(d?.ngZone,function _T(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return f.run(()=>{const m=function _D(s,a,l){return new nm(s,a,l)}(l.moduleType,this.injector,function H_(s){return[{provide:ta,useFactory:s},{provide:_g,multi:!0,useFactory:()=>{const a=ce(gm,{optional:!0});return()=>a.initialize()}},{provide:CM,useFactory:mm},{provide:$k,useFactory:Wk}]}(()=>f)),v=m.injector.get(Jd,null);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:P=>{v.handleError(P)}});m.onDestroy(()=>{fw(this._modules,m),I.unsubscribe()})}),function hw(s,a,l){try{const d=l();return e0(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(v,f,()=>{const I=m.injector.get(nw);return I.runInitializers(),I.donePromise.then(()=>(function qx(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(OE=s.toLowerCase().replace(/_/g,"-"))}(m.injector.get(hm,Ko)||Ko),this._moduleDoBootstrap(m),m))})})}bootstrapModule(l,d=[]){const f=TM({},d);return function HO(s,a,l){const d=new rm(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(Pf);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Ne(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(mT,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||s)(Qt(ql))};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function TM(s,a){return Array.isArray(a)?a.reduce(TM,s):{...s,...a}}let Pf=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(CM),this.zoneIsStable=ce($k),this.componentTypes=[],this.components=[],this.isStable=ce(j_).hasPendingTasks.pipe((0,Pe.w)(l=>l?(0,Ce.of)(!1):this.zoneIsStable),(0,Me.x)(),(0,Ae.B)()),this._injector=ce(Wl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof Rk;if(!this._injector.get(nw).done)throw!f&&fi(l),new Ne(405,!1);let v;v=f?l:this._injector.get(Cg).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const I=function sw(s){return s.isBoundToModule}(v)?void 0:this._injector.get(_f),O=v.create(ql.NULL,[],d||v.selector,I),H=O.location.nativeElement,ae=O.injector.get(pT,null);return ae?.registerApplication(H),O.onDestroy(()=>{this.detachView(O.hostView),fw(this.components,O),ae?.unregisterApplication(H)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;fw(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(gT,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>fw(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ne(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function fw(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}const CM=new Ci("",{providedIn:"root",factory:()=>ce(Jd).handleError.bind(void 0)});function mm(){const s=ce(ta),a=ce(Jd);return l=>s.runOutsideAngular(()=>a.handleError(l))}let gm=(()=>{class s{constructor(){this.zone=ce(ta),this.applicationRef=ce(Pf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=xe({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function xM(){return!1}let vT=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=RM}return s})();function RM(s){return function PM(s,a,l){if(ya(s)&&!l){const d=Io(s.index,a);return new Uo(d,d)}return 47&s.type?new Uo(a[pi],a):null}(Eo(),kt(),16==(16&s))}class LM{constructor(){}supports(a){return af(a)}create(a){return new KO(a)}}const ZO=(s,a)=>a;class KO{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ZO}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<UM(d,f,m)?l:d,I=UM(v,f,m),P=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{m||(m=[]);const O=I-f,H=P-f;if(O!=H){for(let Re=0;Re<O;Re++){const ze=Re<m.length?m[Re]:m[Re]=0,xt=ze+Re;H<=xt&&xt<O&&(m[Re]=ze+1)}m[v.previousIndex]=H-O}}I!==P&&a(v,I,P)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!af(a))throw new Ne(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let I=0;I<this.length;I++)m=a[I],v=this._trackByFn(I,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,I)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,I),d=!0),l=l._next}else f=0,function Bg(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Symbol.iterator]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,I=>{v=this._trackByFn(f,I),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,I,v,f)),Object.is(l.item,I)||this._addIdentityChange(l,I)):(l=this._mismatch(l,I,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new YO(l,d),m,f),a}_verifyReinsertion(a,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new VM),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VM),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class YO{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ST{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class VM{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new ST,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UM(s,a,l){const d=s.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class ym{constructor(){}supports(a){return a instanceof Map||zv(a)}create(){return new xT}}class xT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||zv(a)))throw new Ne(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new vm(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class vm{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yw(){return new wm([new LM])}let wm=(()=>{class s{static#e=this.\u0275prov=xe({token:s,providedIn:"root",factory:yw});constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||yw()),deps:[[s,new ln,new at]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Ne(901,!1)}}return s})();function ww(){return new bw([new ym])}let bw=(()=>{class s{static#e=this.\u0275prov=xe({token:s,providedIn:"root",factory:ww});constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||ww()),deps:[[s,new ln,new at]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Ne(901,!1)}}return s})();const XO=pm(null,"core",[]);let RT=(()=>{class s{constructor(l){}static#e=this.\u0275fac=function(d){return new(d||s)(Qt(Pf))};static#t=this.\u0275mod=Sr({type:s});static#n=this.\u0275inj=Ft({})}return s})();function bm(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function UT(s){const a=Hn(s);if(!a)return null;const l=new Lg(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(pn,st,W)=>{"use strict";W.d(st,{Z:()=>bt});var u=W(9058),ie=W(4537),z=W(7592),Te=W(7879);class K{constructor(qt,Ye){this._delegate=qt,this.firebase=Ye,(0,z._addComponent)(qt,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=qt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qt){this._delegate.automaticDataCollectionEnabled=qt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qt=>{this._delegate.checkDestroyed(),qt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(qt,Ye=z._DEFAULT_ENTRY_NAME){var rn;this._delegate.checkDestroyed();const on=this._delegate.container.getProvider(qt);return!on.isInitialized()&&"EXPLICIT"===(null===(rn=on.getComponent())||void 0===rn?void 0:rn.instantiationMode)&&on.initialize(),on.getImmediate({identifier:Ye})}_removeServiceInstance(qt,Ye=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qt).clearInstance(Ye)}_addComponent(qt){(0,z._addComponent)(this._delegate,qt)}_addOrOverwriteComponent(qt){(0,z._addOrOverwriteComponent)(this._delegate,qt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Me(){const _t=function Pe(_t){const qt={},Ye={__esModule:!0,initializeApp:function Ne(At,de={}){const ht=z.initializeApp(At,de);if((0,u.r3)(qt,ht.name))return qt[ht.name];const Ht=new _t(ht,Ye);return qt[ht.name]=Ht,Ht},app:on,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function He(At){const de=At.name,ht=de.replace("-compat","");if(z._registerComponent(At)&&"PUBLIC"===At.type){const Ht=(hn=on())=>{if("function"!=typeof hn[ht])throw Ae.create("invalid-app-argument",{appName:de});return hn[ht]()};void 0!==At.serviceProps&&(0,u.ZB)(Ht,At.serviceProps),Ye[ht]=Ht,_t.prototype[ht]=function(...hn){return this._getService.bind(this,de).apply(this,At.multipleInstances?hn:[])}}return"PUBLIC"===At.type?Ye[ht]:null},removeApp:function rn(At){delete qt[At]},useAsService:function it(At,de){return"serverAuth"===de?null:de},modularAPIs:z}};function on(At){if(!(0,u.r3)(qt,At=At||z._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:At});return qt[At]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function yt(){return Object.keys(qt).map(At=>qt[At])}}),on.App=_t,Ye}(K);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function qt(Ye){(0,u.ZB)(_t,Ye)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),_t}(),re=new Te.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=Y;!function Xe(_t){(0,z.registerVersion)("@firebase/app-compat","0.2.13",_t)}()},7592:(pn,st,W)=>{"use strict";W.r(st),W.d(st,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Ft,_DEFAULT_ENTRY_NAME:()=>je,_addComponent:()=>vt,_addOrOverwriteComponent:()=>Mt,_apps:()=>et,_clearComponents:()=>me,_components:()=>Ge,_getProvider:()=>Ot,_registerComponent:()=>jt,_removeServiceInstance:()=>wr,deleteApp:()=>$n,getApp:()=>ot,getApps:()=>En,initializeApp:()=>ct,onLog:()=>Je,registerVersion:()=>kn,setLogLevel:()=>hr});var u=W(5861),ie=W(4537),z=W(7879),Te=W(9058),K=W(1878);class Ce{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ae(nt){const ge=nt.getComponent();return"VERSION"===ge?.type}(Ze)){const Bt=Ze.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Pe="@firebase/app",Y=new z.Yd("@firebase/app"),je="[DEFAULT]",qe={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Ge=new Map;function vt(nt,ge){try{nt.container.addComponent(ge)}catch(Ze){Y.debug(`Component ${ge.name} failed to register with FirebaseApp ${nt.name}`,Ze)}}function Mt(nt,ge){nt.container.addOrOverwriteComponent(ge)}function jt(nt){const ge=nt.name;if(Ge.has(ge))return Y.debug(`There were multiple attempts to register component ${ge}.`),!1;Ge.set(ge,nt);for(const Ze of et.values())vt(Ze,nt);return!0}function Ot(nt,ge){const Ze=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),nt.container.getProvider(ge)}function wr(nt,ge,Ze=je){Ot(nt,ge).clearInstance(Ze)}function me(){Ge.clear()}const xe=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mt{constructor(ge,Ze,Bt){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw xe.create("app-deleted",{appName:this._name})}}const Ft="9.23.0";function ct(nt,ge={}){let Ze=nt;"object"!=typeof ge&&(ge={name:ge});const Bt=Object.assign({name:je,automaticDataCollectionEnabled:!1},ge),cn=Bt.name;if("string"!=typeof cn||!cn)throw xe.create("bad-app-name",{appName:String(cn)});if(Ze||(Ze=(0,Te.aH)()),!Ze)throw xe.create("no-options");const Cn=et.get(cn);if(Cn){if((0,Te.vZ)(Ze,Cn.options)&&(0,Te.vZ)(Bt,Cn.config))return Cn;throw xe.create("duplicate-app",{appName:cn})}const lr=new ie.H0(cn);for(const le of Ge.values())lr.addComponent(le);const _e=new mt(Ze,Bt,lr);return et.set(cn,_e),_e}function ot(nt=je){const ge=et.get(nt);if(!ge&&nt===je&&(0,Te.aH)())return ct();if(!ge)throw xe.create("no-app",{appName:nt});return ge}function En(){return Array.from(et.values())}function $n(nt){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(nt){const ge=nt.name;et.has(ge)&&(et.delete(ge),yield Promise.all(nt.container.getProviders().map(Ze=>Ze.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function kn(nt,ge,Ze){var Bt;let cn=null!==(Bt=qe[nt])&&void 0!==Bt?Bt:nt;Ze&&(cn+=`-${Ze}`);const Cn=cn.match(/\s|\//),lr=ge.match(/\s|\//);if(Cn||lr){const _e=[`Unable to register library "${cn}" with version "${ge}":`];return Cn&&_e.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),Cn&&lr&&_e.push("and"),lr&&_e.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void Y.warn(_e.join(" "))}jt(new ie.wA(`${cn}-version`,()=>({library:cn,version:ge}),"VERSION"))}function Je(nt,ge){if(null!==nt&&"function"!=typeof nt)throw xe.create("invalid-log-argument");(0,z.Am)(nt,ge)}function hr(nt){(0,z.Ub)(nt)}const Dn="firebase-heartbeat-database",Rt=1,Xt="firebase-heartbeat-store";let Wn=null;function Tn(){return Wn||(Wn=(0,K.X3)(Dn,Rt,{upgrade:(nt,ge)=>{0===ge&&nt.createObjectStore(Xt)}}).catch(nt=>{throw xe.create("idb-open",{originalErrorMessage:nt.message})})),Wn}function Ar(){return(Ar=(0,u.Z)(function*(nt){try{return yield(yield Tn()).transaction(Xt).objectStore(Xt).get(gi(nt))}catch(ge){if(ge instanceof Te.ZR)Y.warn(ge.message);else{const Ze=xe.create("idb-get",{originalErrorMessage:ge?.message});Y.warn(Ze.message)}}})).apply(this,arguments)}function Ln(nt,ge){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(nt,ge){try{const Bt=(yield Tn()).transaction(Xt,"readwrite");yield Bt.objectStore(Xt).put(ge,gi(nt)),yield Bt.done}catch(Ze){if(Ze instanceof Te.ZR)Y.warn(Ze.message);else{const Bt=xe.create("idb-set",{originalErrorMessage:Ze?.message});Y.warn(Bt.message)}}})).apply(this,arguments)}function gi(nt){return`${nt.name}!${nt.options.appId}`}class Nn{constructor(ge){this.container=ge,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Ir(Ze),this._heartbeatsCachePromise=this._storage.read().then(Bt=>(this._heartbeatsCache=Bt,Bt))}triggerHeartbeat(){var ge=this;return(0,u.Z)(function*(){const Bt=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cn=gr();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==cn&&!ge._heartbeatsCache.heartbeats.some(Cn=>Cn.date===cn))return ge._heartbeatsCache.heartbeats.push({date:cn,agent:Bt}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(Cn=>{const lr=new Date(Cn.date).valueOf();return Date.now()-lr<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,u.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const Ze=gr(),{heartbeatsToSend:Bt,unsentEntries:cn}=function bi(nt,ge=1024){const Ze=[];let Bt=nt.slice();for(const cn of nt){const Cn=Ze.find(lr=>lr.agent===cn.agent);if(Cn){if(Cn.dates.push(cn.date),Mr(Ze)>ge){Cn.dates.pop();break}}else if(Ze.push({agent:cn.agent,dates:[cn.date]}),Mr(Ze)>ge){Ze.pop();break}Bt=Bt.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:Bt}}(ge._heartbeatsCache.heartbeats),Cn=(0,Te.L)(JSON.stringify({version:2,heartbeats:Bt}));return ge._heartbeatsCache.lastSentHeartbeatDate=Ze,cn.length>0?(ge._heartbeatsCache.heartbeats=cn,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),Cn})()}}function gr(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,u.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function ar(nt){return Ar.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var Ze=this;return(0,u.Z)(function*(){var Bt;if(yield Ze._canUseIndexedDBPromise){const Cn=yield Ze.read();return Ln(Ze.app,{lastSentHeartbeatDate:null!==(Bt=ge.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Cn.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var Ze=this;return(0,u.Z)(function*(){var Bt;if(yield Ze._canUseIndexedDBPromise){const Cn=yield Ze.read();return Ln(Ze.app,{lastSentHeartbeatDate:null!==(Bt=ge.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...ge.heartbeats]})}})()}}function Mr(nt){return(0,Te.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function ei(nt){jt(new ie.wA("platform-logger",ge=>new Ce(ge),"PRIVATE")),jt(new ie.wA("heartbeat",ge=>new Nn(ge),"PRIVATE")),kn(Pe,"0.9.13",nt),kn(Pe,"0.9.13","esm2017"),kn("fire-js","")}("")},4097:(pn,st,W)=>{"use strict";W.d(st,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=W(7592);(0,u.registerVersion)("firebase","9.23.0","app")},120:(pn,st,W)=>{"use strict";W.d(st,{Z:()=>u.Z});var u=W(3399);u.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(pn,st,W)=>{"use strict";W.r(st);var u=W(5861),ie=W(3399),z=W(6710),Te=W(9058),Ae=(W(7592),W(7879),W(4537));function Pe(){return window}function re(){return re=(0,u.Z)(function*(J,te,q){var ke;const{BuildInfo:St}=Pe();(0,z.as)(te.sessionId,"AuthEvent did not contain a session ID");const Qt=yield function Ye(J){return rn.apply(this,arguments)}(te.sessionId),ne={};return(0,z.at)()?ne.ibi=St.packageName:(0,z.au)()?ne.apn=St.packageName:(0,z.av)(J,"operation-not-supported-in-this-environment"),St.displayName&&(ne.appDisplayName=St.displayName),ne.sessionId=Qt,(0,z.aw)(J,q,te.type,void 0,null!==(ke=te.eventId)&&void 0!==ke?ke:void 0,ne)}),re.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(J){const{BuildInfo:te}=Pe(),q={};(0,z.at)()?q.iosBundleId=te.packageName:(0,z.au)()?q.androidPackageName=te.packageName:(0,z.av)(J,"operation-not-supported-in-this-environment"),yield(0,z.ax)(J,q)})).apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(J,te,q){const{cordova:ke}=Pe();let St=()=>{};try{yield new Promise((Qt,ne)=>{let ce=null;function De(){var Zt;Qt();const Er=null===(Zt=ke.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Er&&Er(),"function"==typeof q?.close&&q.close()}function Qe(){ce||(ce=window.setTimeout(()=>{ne((0,z.az)(J,"redirect-cancelled-by-user"))},2e3))}function Vt(){"visible"===document?.visibilityState&&Qe()}te.addPassiveListener(De),document.addEventListener("resume",Qe,!1),(0,z.au)()&&document.addEventListener("visibilitychange",Vt,!1),St=()=>{te.removePassiveListener(De),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",Vt,!1),ce&&window.clearTimeout(ce)}})}finally{St()}})).apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(J){const te=function on(J){if((0,z.as)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const te=new ArrayBuffer(J.length),q=new Uint8Array(te);for(let ke=0;ke<J.length;ke++)q[ke]=J.charCodeAt(ke);return q}(J),q=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(q)).map(St=>St.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class yt extends z.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(te)),super.onEvent(te)}initialized(){var te=this;return(0,u.Z)(function*(){yield te.initPromise})()}}function At(J){return de.apply(this,arguments)}function de(){return(de=(0,u.Z)(function*(J){const te=yield hn()._get(sr(J));return te&&(yield hn()._remove(sr(J))),te})).apply(this,arguments)}function Ht(){const J=[];for(let q=0;q<20;q++){const ke=Math.floor(62*Math.random());J.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ke))}return J.join("")}function hn(){return(0,z.aC)(z.b)}function sr(J){return(0,z.aD)("authEvent",J.config.apiKey,J.name)}function zn(J){if(!J?.includes("?"))return{};const[te,...q]=J.split("?");return(0,Te.zd)(q.join("?"))}const je=class yr{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aE,this._overrideRedirectResult=z.aF}_initialize(te){var q=this;return(0,u.Z)(function*(){const ke=te._key();let St=q.eventManagers.get(ke);return St||(St=new yt(te),q.eventManagers.set(ke,St),q.attachCallbackListeners(te,St)),St})()}_openPopup(te){(0,z.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,q,ke,St){var Qt=this;return(0,u.Z)(function*(){!function qt(J){var te,q,ke,St,Qt,ne,ce,De,Qe,Vt;const Zt=Pe();(0,z.aA)("function"==typeof(null===(te=Zt?.universalLinks)||void 0===te?void 0:te.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aA)(typeof(null===(q=Zt?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aA)("function"==typeof(null===(Qt=null===(St=null===(ke=Zt?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===St?void 0:St.browsertab)||void 0===Qt?void 0:Qt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aA)("function"==typeof(null===(De=null===(ce=null===(ne=Zt?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===De?void 0:De.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aA)("function"==typeof(null===(Vt=null===(Qe=Zt?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===Vt?void 0:Vt.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const ne=yield Qt._initialize(te);yield ne.initialized(),ne.resetRedirect(),(0,z.aG)(),yield Qt._originValidation(te);const ce=function He(J,te,q=null){return{type:te,eventId:q,urlResponse:null,sessionId:Ht(),postBody:null,tenantId:J.tenantId,error:(0,z.az)(J,"no-auth-event")}}(te,ke,St);yield function it(J,te){return hn()._set(sr(J),te)}(te,ce);const De=yield function Y(J,te,q){return re.apply(this,arguments)}(te,ce,q),Qe=yield function Xe(J){const{cordova:te}=Pe();return new Promise(q=>{te.plugins.browsertab.isAvailable(ke=>{let St=null;ke?te.plugins.browsertab.openUrl(J):St=te.InAppBrowser.open(J,(0,z.ay)()?"_blank":"_system","location=yes"),q(St)})})}(De);return function bt(J,te,q){return _t.apply(this,arguments)}(te,ne,Qe)})()}_isIframeWebStorageSupported(te,q){throw new Error("Method not implemented.")}_originValidation(te){const q=te._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function Ee(J){return Tt.apply(this,arguments)}(te)),this.originValidationPromises[q]}attachCallbackListeners(te,q){const{universalLinks:ke,handleOpenURL:St,BuildInfo:Qt}=Pe(),ne=setTimeout((0,u.Z)(function*(){yield At(te),q.onEvent(qe())}),500),ce=function(){var Vt=(0,u.Z)(function*(Zt){clearTimeout(ne);const Er=yield At(te);let Ur=null;Er&&Zt?.url&&(Ur=function ht(J,te){var q,ke;const St=function mr(J){const te=zn(J),q=te.link?decodeURIComponent(te.link):void 0,ke=zn(q).link,St=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return zn(St).link||St||ke||q||J}(te);if(St.includes("/__/auth/callback")){const Qt=zn(St),ne=Qt.firebaseError?function er(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(Qt.firebaseError)):null,ce=null===(ke=null===(q=ne?.code)||void 0===q?void 0:q.split("auth/"))||void 0===ke?void 0:ke[1],De=ce?(0,z.az)(ce):null;return De?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:St,postBody:null}}return null}(Er,Zt.url)),q.onEvent(Ur||qe())});return function(Er){return Vt.apply(this,arguments)}}();typeof ke<"u"&&"function"==typeof ke.subscribe&&ke.subscribe(null,ce);const De=St,Qe=`${Qt.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var Vt=(0,u.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Qe)&&ce({url:Zt}),"function"==typeof De)try{De(Zt)}catch(Er){console.error(Er)}});return function(Zt){return Vt.apply(this,arguments)}}()}};function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.az)("no-auth-event")}}function jt(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function wr(J=(0,Te.z$)()){return!("file:"!==jt()&&"ionic:"!==jt()&&"capacitor:"!==jt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ft(){try{const J=self.localStorage,te=z.aL();if(J)return J.setItem(te,"1"),J.removeItem(te),!function mt(J=(0,Te.z$)()){return function be(){return(0,Te.w1)()&&11===document?.documentMode}()||function xe(J=(0,Te.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,Te.hl)()}catch{return ct()&&(0,Te.hl)()}return!1}function ct(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ot(){return(function Ot(){return"http:"===jt()||"https:"===jt()}()||(0,Te.ru)()||wr())&&!function me(){return(0,Te.b$)()||(0,Te.UG)()}()&&Ft()&&!ct()}function En(){return wr()&&typeof document<"u"}function Kn(){return(Kn=(0,u.Z)(function*(){return!!En()&&new Promise(J=>{const te=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),J(!0)})})})).apply(this,arguments)}const Je={LOCAL:"local",NONE:"none",SESSION:"session"},hr=z.aA,Dn="persistence";function Xt(J){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(J){yield J._initializationPromise;const te=ar(),q=z.aD(Dn,J.config.apiKey,J.name);te&&te.setItem(q,J._getPersistence())})).apply(this,arguments)}function ar(){var J;try{return(null===(J=function kn(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const Ar=z.aA;class Ln{constructor(){this.browserResolver=z.aC(z.k),this.cordovaResolver=z.aC(je),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aE,this._overrideRedirectResult=z.aF}_initialize(te){var q=this;return(0,u.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,q,ke,St){var Qt=this;return(0,u.Z)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openPopup(te,q,ke,St)})()}_openRedirect(te,q,ke,St){var Qt=this;return(0,u.Z)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openRedirect(te,q,ke,St)})()}_isIframeWebStorageSupported(te,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,q)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return En()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ar(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,u.Z)(function*(){if(te.underlyingResolver)return;const q=yield function $n(){return Kn.apply(this,arguments)}();te.underlyingResolver=q?te.cordovaResolver:te.browserResolver})()}}function tr(J){return J.unwrap()}function sn(J){return Nn(J)}function Nn(J){const{_tokenResponse:te}=J instanceof Te.ZR?J.customData:J;if(!te)return null;if(!(J instanceof Te.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return z.P.credentialFromResult(J);const q=te.providerId;if(!q||q===z.p.PASSWORD)return null;let ke;switch(q){case z.p.GOOGLE:ke=z.V;break;case z.p.FACEBOOK:ke=z.U;break;case z.p.GITHUB:ke=z.W;break;case z.p.TWITTER:ke=z.Z;break;default:const{oauthIdToken:St,oauthAccessToken:Qt,oauthTokenSecret:ne,pendingToken:ce,nonce:De}=te;return Qt||ne||St||ce?ce?q.startsWith("saml.")?z.aO._create(q,ce):z.L._fromParams({providerId:q,signInMethod:q,pendingToken:ce,idToken:St,accessToken:Qt}):new z.X(q).credential({idToken:St,accessToken:Qt,rawNonce:De}):null}return J instanceof Te.ZR?ke.credentialFromError(J):ke.credentialFromResult(J)}function gr(J,te){return te.catch(q=>{throw q instanceof Te.ZR&&function ii(J,te){var q;const ke=null===(q=te.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new Mr(J,z.aq(J,te));else if(ke){const St=Nn(te),Qt=te;St&&(Qt.credential=St,Qt.tenantId=ke.tenantId||void 0,Qt.email=ke.email||void 0,Qt.phoneNumber=ke.phoneNumber||void 0)}}(J,q),q}).then(q=>{const St=q.user;return{operationType:q.operationType,credential:sn(q),additionalUserInfo:z.ao(q),user:ei.getOrCreate(St)}})}function bi(J,te){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(J,te){const q=yield te;return{verificationId:q.verificationId,confirm:ke=>gr(J,q.confirm(ke))}})).apply(this,arguments)}class Mr{constructor(te,q){this.resolver=q,this.auth=function gi(J){return J.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return gr(tr(this.auth),this.resolver.resolveSignIn(te))}}class ei{constructor(te){this._delegate=te,this.multiFactor=z.ar(te)}static getOrCreate(te){return ei.USER_MAP.has(te)||ei.USER_MAP.set(te,new ei(te)),ei.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var q=this;return(0,u.Z)(function*(){return gr(q.auth,z.a0(q._delegate,te))})()}linkWithPhoneNumber(te,q){var ke=this;return(0,u.Z)(function*(){return bi(ke.auth,z.l(ke._delegate,te,q))})()}linkWithPopup(te){var q=this;return(0,u.Z)(function*(){return gr(q.auth,z.d(q._delegate,te,Ln))})()}linkWithRedirect(te){var q=this;return(0,u.Z)(function*(){return yield Xt(z.aH(q.auth)),z.g(q._delegate,te,Ln)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var q=this;return(0,u.Z)(function*(){return gr(q.auth,z.a1(q._delegate,te))})()}reauthenticateWithPhoneNumber(te,q){return bi(this.auth,z.r(this._delegate,te,q))}reauthenticateWithPopup(te){return gr(this.auth,z.e(this._delegate,te,Ln))}reauthenticateWithRedirect(te){var q=this;return(0,u.Z)(function*(){return yield Xt(z.aH(q.auth)),z.h(q._delegate,te,Ln)})()}sendEmailVerification(te){return z.ae(this._delegate,te)}unlink(te){var q=this;return(0,u.Z)(function*(){return yield z.an(q._delegate,te),q})()}updateEmail(te){return z.aj(this._delegate,te)}updatePassword(te){return z.ak(this._delegate,te)}updatePhoneNumber(te){return z.u(this._delegate,te)}updateProfile(te){return z.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,q){return z.af(this._delegate,te,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ei.USER_MAP=new WeakMap;const nt=z.aA;let ge=(()=>{class J{constructor(q,ke){if(this.app=q,ke.isInitialized())return this._delegate=ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:St}=q.options;nt(St,"invalid-api-key",{appName:q.name}),nt(St,"invalid-api-key",{appName:q.name});const Qt=typeof window<"u"?Ln:void 0;this._delegate=ke.initialize({options:{persistence:Bt(St,q.name),popupRedirectResolver:Qt}}),this._delegate._updateErrorMap(z.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,ke){z.I(this._delegate,q,ke)}applyActionCode(q){return z.a5(this._delegate,q)}checkActionCode(q){return z.a6(this._delegate,q)}confirmPasswordReset(q,ke){return z.a4(this._delegate,q,ke)}createUserWithEmailAndPassword(q,ke){var St=this;return(0,u.Z)(function*(){return gr(St._delegate,z.a8(St._delegate,q,ke))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return z.ad(this._delegate,q)}isSignInWithEmailLink(q){return z.ab(this._delegate,q)}getRedirectResult(){var q=this;return(0,u.Z)(function*(){nt(ot(),q._delegate,"operation-not-supported-in-this-environment");const ke=yield z.j(q._delegate,Ln);return ke?gr(q._delegate,Promise.resolve(ke)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function et(J,te){(0,z.aH)(J)._logFramework(te)}(this._delegate,q)}onAuthStateChanged(q,ke,St){const{next:Qt,error:ne,complete:ce}=Ze(q,ke,St);return this._delegate.onAuthStateChanged(Qt,ne,ce)}onIdTokenChanged(q,ke,St){const{next:Qt,error:ne,complete:ce}=Ze(q,ke,St);return this._delegate.onIdTokenChanged(Qt,ne,ce)}sendSignInLinkToEmail(q,ke){return z.aa(this._delegate,q,ke)}sendPasswordResetEmail(q,ke){return z.a3(this._delegate,q,ke||void 0)}setPersistence(q){var ke=this;return(0,u.Z)(function*(){let St;switch(function Rt(J,te){hr(Object.values(Je).includes(te),J,"invalid-persistence-type"),(0,Te.b$)()?hr(te!==Je.SESSION,J,"unsupported-persistence-type"):(0,Te.UG)()?hr(te===Je.NONE,J,"unsupported-persistence-type"):ct()?hr(te===Je.NONE||te===Je.LOCAL&&(0,Te.hl)(),J,"unsupported-persistence-type"):hr(te===Je.NONE||Ft(),J,"unsupported-persistence-type")}(ke._delegate,q),q){case Je.SESSION:St=z.a;break;case Je.LOCAL:St=(yield z.aC(z.i)._isAvailable())?z.i:z.b;break;case Je.NONE:St=z.N;break;default:return z.av("argument-error",{appName:ke._delegate.name})}return ke._delegate.setPersistence(St)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return gr(this._delegate,z._(this._delegate))}signInWithCredential(q){return gr(this._delegate,z.$(this._delegate,q))}signInWithCustomToken(q){return gr(this._delegate,z.a2(this._delegate,q))}signInWithEmailAndPassword(q,ke){return gr(this._delegate,z.a9(this._delegate,q,ke))}signInWithEmailLink(q,ke){return gr(this._delegate,z.ac(this._delegate,q,ke))}signInWithPhoneNumber(q,ke){return bi(this._delegate,z.s(this._delegate,q,ke))}signInWithPopup(q){var ke=this;return(0,u.Z)(function*(){return nt(ot(),ke._delegate,"operation-not-supported-in-this-environment"),gr(ke._delegate,z.c(ke._delegate,q,Ln))})()}signInWithRedirect(q){var ke=this;return(0,u.Z)(function*(){return nt(ot(),ke._delegate,"operation-not-supported-in-this-environment"),yield Xt(ke._delegate),z.f(ke._delegate,q,Ln)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return z.a7(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=Je,J})();function Ze(J,te,q){let ke=J;"function"!=typeof J&&({next:ke,error:te,complete:q}=J);const St=ke;return{next:ne=>St(ne&&ei.getOrCreate(ne)),error:te,complete:q}}function Bt(J,te){const q=function Tn(J,te){const q=ar();if(!q)return[];const ke=z.aD(Dn,J,te);switch(q.getItem(ke)){case Je.NONE:return[z.N];case Je.LOCAL:return[z.i,z.a];case Je.SESSION:return[z.a];default:return[]}}(J,te);if(typeof self<"u"&&!q.includes(z.i)&&q.push(z.i),typeof window<"u")for(const ke of[z.b,z.a])q.includes(ke)||q.push(ke);return q.includes(z.N)||q.push(z.N),q}class cn{constructor(){this.providerId="phone",this._delegate=new z.P(tr(ie.Z.auth()))}static credential(te,q){return z.P.credential(te,q)}verifyPhoneNumber(te,q){return this._delegate.verifyPhoneNumber(te,q)}unwrap(){return this._delegate}}cn.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,cn.PROVIDER_ID=z.P.PROVIDER_ID;const Cn=z.aA;class lr{constructor(te,q,ke=ie.Z.app()){var St;Cn(null===(St=ke.options)||void 0===St?void 0:St.apiKey,"invalid-api-key",{appName:ke.name}),this._delegate=new z.R(te,q,ke.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(J){J.INTERNAL.registerComponent(new Ae.wA("auth-compat",te=>{const q=te.getProvider("app-compat").getImmediate(),ke=te.getProvider("auth");return new ge(q,ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.Q,FacebookAuthProvider:z.U,GithubAuthProvider:z.W,GoogleAuthProvider:z.V,OAuthProvider:z.X,SAMLAuthProvider:z.Y,PhoneAuthProvider:cn,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:lr,TwitterAuthProvider:z.Z,Auth:ge,AuthCredential:z.J,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.4.2")}(ie.Z)},4303:(pn,st,W)=>{"use strict";W.r(st),W.d(st,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Ft,_DEFAULT_ENTRY_NAME:()=>je,_addComponent:()=>vt,_addOrOverwriteComponent:()=>Mt,_apps:()=>et,_clearComponents:()=>me,_components:()=>Ge,_getProvider:()=>Ot,_registerComponent:()=>jt,_removeServiceInstance:()=>wr,deleteApp:()=>$n,getApp:()=>ot,getApps:()=>En,initializeApp:()=>ct,onLog:()=>Je,registerVersion:()=>kn,setLogLevel:()=>hr});var u=W(5861),ie=W(4537),z=W(7879),Te=W(9058),K=W(1878);class Ce{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Ae(nt){const ge=nt.getComponent();return"VERSION"===ge?.type}(Ze)){const Bt=Ze.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Pe="@firebase/app",Y=new z.Yd("@firebase/app"),je="[DEFAULT]",qe={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Ge=new Map;function vt(nt,ge){try{nt.container.addComponent(ge)}catch(Ze){Y.debug(`Component ${ge.name} failed to register with FirebaseApp ${nt.name}`,Ze)}}function Mt(nt,ge){nt.container.addOrOverwriteComponent(ge)}function jt(nt){const ge=nt.name;if(Ge.has(ge))return Y.debug(`There were multiple attempts to register component ${ge}.`),!1;Ge.set(ge,nt);for(const Ze of et.values())vt(Ze,nt);return!0}function Ot(nt,ge){const Ze=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),nt.container.getProvider(ge)}function wr(nt,ge,Ze=je){Ot(nt,ge).clearInstance(Ze)}function me(){Ge.clear()}const xe=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mt{constructor(ge,Ze,Bt){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw xe.create("app-deleted",{appName:this._name})}}const Ft="10.4.0";function ct(nt,ge={}){let Ze=nt;"object"!=typeof ge&&(ge={name:ge});const Bt=Object.assign({name:je,automaticDataCollectionEnabled:!1},ge),cn=Bt.name;if("string"!=typeof cn||!cn)throw xe.create("bad-app-name",{appName:String(cn)});if(Ze||(Ze=(0,Te.aH)()),!Ze)throw xe.create("no-options");const Cn=et.get(cn);if(Cn){if((0,Te.vZ)(Ze,Cn.options)&&(0,Te.vZ)(Bt,Cn.config))return Cn;throw xe.create("duplicate-app",{appName:cn})}const lr=new ie.H0(cn);for(const le of Ge.values())lr.addComponent(le);const _e=new mt(Ze,Bt,lr);return et.set(cn,_e),_e}function ot(nt=je){const ge=et.get(nt);if(!ge&&nt===je&&(0,Te.aH)())return ct();if(!ge)throw xe.create("no-app",{appName:nt});return ge}function En(){return Array.from(et.values())}function $n(nt){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(nt){const ge=nt.name;et.has(ge)&&(et.delete(ge),yield Promise.all(nt.container.getProviders().map(Ze=>Ze.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function kn(nt,ge,Ze){var Bt;let cn=null!==(Bt=qe[nt])&&void 0!==Bt?Bt:nt;Ze&&(cn+=`-${Ze}`);const Cn=cn.match(/\s|\//),lr=ge.match(/\s|\//);if(Cn||lr){const _e=[`Unable to register library "${cn}" with version "${ge}":`];return Cn&&_e.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),Cn&&lr&&_e.push("and"),lr&&_e.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void Y.warn(_e.join(" "))}jt(new ie.wA(`${cn}-version`,()=>({library:cn,version:ge}),"VERSION"))}function Je(nt,ge){if(null!==nt&&"function"!=typeof nt)throw xe.create("invalid-log-argument");(0,z.Am)(nt,ge)}function hr(nt){(0,z.Ub)(nt)}const Dn="firebase-heartbeat-database",Rt=1,Xt="firebase-heartbeat-store";let Wn=null;function Tn(){return Wn||(Wn=(0,K.X3)(Dn,Rt,{upgrade:(nt,ge)=>{0===ge&&nt.createObjectStore(Xt)}}).catch(nt=>{throw xe.create("idb-open",{originalErrorMessage:nt.message})})),Wn}function Ar(){return(Ar=(0,u.Z)(function*(nt){try{return yield(yield Tn()).transaction(Xt).objectStore(Xt).get(gi(nt))}catch(ge){if(ge instanceof Te.ZR)Y.warn(ge.message);else{const Ze=xe.create("idb-get",{originalErrorMessage:ge?.message});Y.warn(Ze.message)}}})).apply(this,arguments)}function Ln(nt,ge){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(nt,ge){try{const Bt=(yield Tn()).transaction(Xt,"readwrite");yield Bt.objectStore(Xt).put(ge,gi(nt)),yield Bt.done}catch(Ze){if(Ze instanceof Te.ZR)Y.warn(Ze.message);else{const Bt=xe.create("idb-set",{originalErrorMessage:Ze?.message});Y.warn(Bt.message)}}})).apply(this,arguments)}function gi(nt){return`${nt.name}!${nt.options.appId}`}class Nn{constructor(ge){this.container=ge,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Ir(Ze),this._heartbeatsCachePromise=this._storage.read().then(Bt=>(this._heartbeatsCache=Bt,Bt))}triggerHeartbeat(){var ge=this;return(0,u.Z)(function*(){const Bt=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cn=gr();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==cn&&!ge._heartbeatsCache.heartbeats.some(Cn=>Cn.date===cn))return ge._heartbeatsCache.heartbeats.push({date:cn,agent:Bt}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(Cn=>{const lr=new Date(Cn.date).valueOf();return Date.now()-lr<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,u.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const Ze=gr(),{heartbeatsToSend:Bt,unsentEntries:cn}=function bi(nt,ge=1024){const Ze=[];let Bt=nt.slice();for(const cn of nt){const Cn=Ze.find(lr=>lr.agent===cn.agent);if(Cn){if(Cn.dates.push(cn.date),Mr(Ze)>ge){Cn.dates.pop();break}}else if(Ze.push({agent:cn.agent,dates:[cn.date]}),Mr(Ze)>ge){Ze.pop();break}Bt=Bt.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:Bt}}(ge._heartbeatsCache.heartbeats),Cn=(0,Te.L)(JSON.stringify({version:2,heartbeats:Bt}));return ge._heartbeatsCache.lastSentHeartbeatDate=Ze,cn.length>0?(ge._heartbeatsCache.heartbeats=cn,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),Cn})()}}function gr(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,u.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function ar(nt){return Ar.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var Ze=this;return(0,u.Z)(function*(){var Bt;if(yield Ze._canUseIndexedDBPromise){const Cn=yield Ze.read();return Ln(Ze.app,{lastSentHeartbeatDate:null!==(Bt=ge.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Cn.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var Ze=this;return(0,u.Z)(function*(){var Bt;if(yield Ze._canUseIndexedDBPromise){const Cn=yield Ze.read();return Ln(Ze.app,{lastSentHeartbeatDate:null!==(Bt=ge.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...ge.heartbeats]})}})()}}function Mr(nt){return(0,Te.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function ei(nt){jt(new ie.wA("platform-logger",ge=>new Ce(ge),"PRIVATE")),jt(new ie.wA("heartbeat",ge=>new Nn(ge),"PRIVATE")),kn(Pe,"0.9.19",nt),kn(Pe,"0.9.19","esm2017"),kn("fire-js","")}("")},4537:(pn,st,W)=>{"use strict";W.d(st,{H0:()=>Pe,wA:()=>z});var u=W(5861),ie=W(9058);class z{constructor(Y,re,Ee){this.name=Y,this.instanceFactory=re,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const Te="[DEFAULT]";class K{constructor(Y,re){this.name=Y,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const re=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(re)){const Ee=new ie.BH;if(this.instancesDeferred.set(re,Ee),this.isInitialized(re)||this.shouldAutoInitialize())try{const Tt=this.getOrInitializeService({instanceIdentifier:re});Tt&&Ee.resolve(Tt)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(Y){var re;const Ee=this.normalizeInstanceIdentifier(Y?.identifier),Tt=null!==(re=Y?.optional)&&void 0!==re&&re;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(Tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Xe){if(Tt)return null;throw Xe}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Ae(Me){return"EAGER"===Me.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[re,Ee]of this.instancesDeferred.entries()){const Tt=this.normalizeInstanceIdentifier(re);try{const Xe=this.getOrInitializeService({instanceIdentifier:Tt});Ee.resolve(Xe)}catch{}}}}clearInstance(Y=Te){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,u.Z)(function*(){const re=Array.from(Y.instances.values());yield Promise.all([...re.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...re.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=Te){return this.instances.has(Y)}getOptions(Y=Te){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:re={}}=Y,Ee=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Tt=this.getOrInitializeService({instanceIdentifier:Ee,options:re});for(const[Xe,bt]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Xe)&&bt.resolve(Tt);return Tt}onInit(Y,re){var Ee;const Tt=this.normalizeInstanceIdentifier(re),Xe=null!==(Ee=this.onInitCallbacks.get(Tt))&&void 0!==Ee?Ee:new Set;Xe.add(Y),this.onInitCallbacks.set(Tt,Xe);const bt=this.instances.get(Tt);return bt&&Y(bt,Tt),()=>{Xe.delete(Y)}}invokeOnInitCallbacks(Y,re){const Ee=this.onInitCallbacks.get(re);if(Ee)for(const Tt of Ee)try{Tt(Y,re)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:re={}}){let Ee=this.instances.get(Y);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=Y,Me===Te?void 0:Me),options:re}),this.instances.set(Y,Ee),this.instancesOptions.set(Y,re),this.invokeOnInitCallbacks(Ee,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Ee)}catch{}var Me;return Ee||null}normalizeInstanceIdentifier(Y=Te){return this.component?this.component.multipleInstances?Y:Te:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const re=this.getProvider(Y.name);if(re.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);re.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const re=new K(Y,this);return this.providers.set(Y,re),re}getProviders(){return Array.from(this.providers.values())}}},7879:(pn,st,W)=>{"use strict";W.d(st,{Am:()=>Me,Ub:()=>Pe,Yd:()=>Ae,in:()=>ie});const u=[];var ie=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(ie||{});const z={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Te=ie.INFO,K={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Ce=(Y,re,...Ee)=>{if(re<Y.logLevel)return;const Tt=(new Date).toISOString(),Xe=K[re];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Xe](`[${Tt}]  ${Y.name}:`,...Ee)};class Ae{constructor(re){this.name=re,this._logLevel=Te,this._logHandler=Ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in ie))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?z[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...re),this._logHandler(this,ie.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...re),this._logHandler(this,ie.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...re),this._logHandler(this,ie.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...re),this._logHandler(this,ie.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...re),this._logHandler(this,ie.ERROR,...re)}}function Pe(Y){u.forEach(re=>{re.setLogLevel(Y)})}function Me(Y,re){for(const Ee of u){let Tt=null;re&&re.level&&(Tt=z[re.level]),Ee.userLogHandler=null===Y?null:(Xe,bt,..._t)=>{const qt=_t.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");bt>=(Tt??Xe.logLevel)&&Y({level:ie[bt].toLowerCase(),message:qt,args:_t,type:Xe.name})}}}},1878:(pn,st,W)=>{"use strict";W.d(st,{X3:()=>on});var u=W(5861);const ie=(de,ht)=>ht.some(Ht=>de instanceof Ht);let z,Te;const Ae=new WeakMap,Pe=new WeakMap,Me=new WeakMap,Y=new WeakMap,re=new WeakMap;let Xe={get(de,ht,Ht){if(de instanceof IDBTransaction){if("done"===ht)return Pe.get(de);if("objectStoreNames"===ht)return de.objectStoreNames||Me.get(de);if("store"===ht)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return Ye(de[ht])},set:(de,ht,Ht)=>(de[ht]=Ht,!0),has:(de,ht)=>de instanceof IDBTransaction&&("done"===ht||"store"===ht)||ht in de};function qt(de){return"function"==typeof de?function _t(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...ht){return de.apply(rn(this),ht),Ye(Ae.get(this))}:function(...ht){return Ye(de.apply(rn(this),ht))}:function(ht,...Ht){const hn=de.call(rn(this),ht,...Ht);return Me.set(hn,ht.sort?ht.sort():[ht]),Ye(hn)}}(de):(de instanceof IDBTransaction&&function Tt(de){if(Pe.has(de))return;const ht=new Promise((Ht,hn)=>{const sr=()=>{de.removeEventListener("complete",er),de.removeEventListener("error",mr),de.removeEventListener("abort",mr)},er=()=>{Ht(),sr()},mr=()=>{hn(de.error||new DOMException("AbortError","AbortError")),sr()};de.addEventListener("complete",er),de.addEventListener("error",mr),de.addEventListener("abort",mr)});Pe.set(de,ht)}(de),ie(de,function K(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Xe):de)}function Ye(de){if(de instanceof IDBRequest)return function Ee(de){const ht=new Promise((Ht,hn)=>{const sr=()=>{de.removeEventListener("success",er),de.removeEventListener("error",mr)},er=()=>{Ht(Ye(de.result)),sr()},mr=()=>{hn(de.error),sr()};de.addEventListener("success",er),de.addEventListener("error",mr)});return ht.then(Ht=>{Ht instanceof IDBCursor&&Ae.set(Ht,de)}).catch(()=>{}),re.set(ht,de),ht}(de);if(Y.has(de))return Y.get(de);const ht=qt(de);return ht!==de&&(Y.set(de,ht),re.set(ht,de)),ht}const rn=de=>re.get(de);function on(de,ht,{blocked:Ht,upgrade:hn,blocking:sr,terminated:er}={}){const mr=indexedDB.open(de,ht),zn=Ye(mr);return hn&&mr.addEventListener("upgradeneeded",Cr=>{hn(Ye(mr.result),Cr.oldVersion,Cr.newVersion,Ye(mr.transaction),Cr)}),Ht&&mr.addEventListener("blocked",Cr=>Ht(Cr.oldVersion,Cr.newVersion,Cr)),zn.then(Cr=>{er&&Cr.addEventListener("close",()=>er()),sr&&Cr.addEventListener("versionchange",yr=>sr(yr.oldVersion,yr.newVersion,yr))}).catch(()=>{}),zn}const yt=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],it=new Map;function At(de,ht){if(!(de instanceof IDBDatabase)||ht in de||"string"!=typeof ht)return;if(it.get(ht))return it.get(ht);const Ht=ht.replace(/FromIndex$/,""),hn=ht!==Ht,sr=He.includes(Ht);if(!(Ht in(hn?IDBIndex:IDBObjectStore).prototype)||!sr&&!yt.includes(Ht))return;const er=function(){var mr=(0,u.Z)(function*(zn,...Cr){const yr=this.transaction(zn,sr?"readwrite":"readonly");let je=yr.store;return hn&&(je=je.index(Cr.shift())),(yield Promise.all([je[Ht](...Cr),sr&&yr.done]))[0]});return function(Cr){return mr.apply(this,arguments)}}();return it.set(ht,er),er}!function bt(de){Xe=de(Xe)}(de=>({...de,get:(ht,Ht,hn)=>At(ht,Ht)||de.get(ht,Ht,hn),has:(ht,Ht)=>!!At(ht,Ht)||de.has(ht,Ht)}))},5861:(pn,st,W)=>{"use strict";function u(z,Te,K,Ce,Ae,Pe,Me){try{var Y=z[Pe](Me),re=Y.value}catch(Ee){return void K(Ee)}Y.done?Te(re):Promise.resolve(re).then(Ce,Ae)}function ie(z){return function(){var Te=this,K=arguments;return new Promise(function(Ce,Ae){var Pe=z.apply(Te,K);function Me(re){u(Pe,Ce,Ae,Me,Y,"next",re)}function Y(re){u(Pe,Ce,Ae,Me,Y,"throw",re)}Me(void 0)})}}W.d(st,{Z:()=>ie})},7582:(pn,st,W)=>{"use strict";function Te(je,qe){var et={};for(var Ge in je)Object.prototype.hasOwnProperty.call(je,Ge)&&qe.indexOf(Ge)<0&&(et[Ge]=je[Ge]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var vt=0;for(Ge=Object.getOwnPropertySymbols(je);vt<Ge.length;vt++)qe.indexOf(Ge[vt])<0&&Object.prototype.propertyIsEnumerable.call(je,Ge[vt])&&(et[Ge[vt]]=je[Ge[vt]])}return et}function Ee(je,qe,et,Ge){return new(et||(et=Promise))(function(Mt,jt){function Ot(be){try{me(Ge.next(be))}catch(xe){jt(xe)}}function wr(be){try{me(Ge.throw(be))}catch(xe){jt(xe)}}function me(be){be.done?Mt(be.value):function vt(Mt){return Mt instanceof et?Mt:new et(function(jt){jt(Mt)})}(be.value).then(Ot,wr)}me((Ge=Ge.apply(je,qe||[])).next())})}function Ne(je){return this instanceof Ne?(this.v=je,this):new Ne(je)}function yt(je,qe,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt,Ge=et.apply(je,qe||[]),Mt=[];return vt={},jt("next"),jt("throw"),jt("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function jt(mt){Ge[mt]&&(vt[mt]=function(Ft){return new Promise(function(ct,ot){Mt.push([mt,Ft,ct,ot])>1||Ot(mt,Ft)})})}function Ot(mt,Ft){try{!function wr(mt){mt.value instanceof Ne?Promise.resolve(mt.value.v).then(me,be):xe(Mt[0][2],mt)}(Ge[mt](Ft))}catch(ct){xe(Mt[0][3],ct)}}function me(mt){Ot("next",mt)}function be(mt){Ot("throw",mt)}function xe(mt,Ft){mt(Ft),Mt.shift(),Mt.length&&Ot(Mt[0][0],Mt[0][1])}}function it(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,qe=je[Symbol.asyncIterator];return qe?qe.call(je):(je=function _t(je){var qe="function"==typeof Symbol&&Symbol.iterator,et=qe&&je[qe],Ge=0;if(et)return et.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&Ge>=je.length&&(je=void 0),{value:je&&je[Ge++],done:!je}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),et={},Ge("next"),Ge("throw"),Ge("return"),et[Symbol.asyncIterator]=function(){return this},et);function Ge(Mt){et[Mt]=je[Mt]&&function(jt){return new Promise(function(Ot,wr){!function vt(Mt,jt,Ot,wr){Promise.resolve(wr).then(function(me){Mt({value:me,done:Ot})},jt)}(Ot,wr,(jt=je[Mt](jt)).done,jt.value)})}}}W.d(st,{FC:()=>yt,KL:()=>it,_T:()=>Te,mG:()=>Ee,qq:()=>Ne}),"function"==typeof SuppressedError&&SuppressedError}},pn=>{pn(pn.s=6524)}]);