(self.webpackChunkeCom=self.webpackChunkeCom||[]).push([[179],{6304:(nn,et,W)=>{"use strict";W.d(et,{Dh:()=>De,GT:()=>_e,cc:()=>We,hO:()=>mt,on:()=>q,pX:()=>$,xv:()=>Ae});var u=W(5879),te=W(120),B=W(2793);nn=W.hmd(nn);const ve=["ngOnDestroy"],$=(lt,Bt,Ht,Se={})=>new Proxy(lt,{get:(ut,Ve)=>Ht.runOutsideAngular(()=>{var tt;if(lt[Ve])return!(null===(tt=Se?.spy)||void 0===tt)&&tt.get&&Se.spy.get(Ve,lt[Ve]),lt[Ve];if(ve.indexOf(Ve)>-1)return()=>{};const vt=Bt.toPromise().then(ae=>{const ct=ae&&ae[Ve];return"function"==typeof ct?ct.bind(ae):ct&&ct.then?ct.then(Pt=>Ht.run(()=>Pt)):Ht.run(()=>ct)});return new Proxy(()=>{},{get:(ae,ct)=>vt[ct],apply:(ae,ct,Pt)=>vt.then(rn=>{var Yn;const $n=rn&&rn(...Pt);return!(null===(Yn=Se?.spy)||void 0===Yn)&&Yn.apply&&Se.spy.apply(Ve,Pt,$n),$n})})})}),_e=(lt,Bt)=>{Bt.forEach(Ht=>{Object.getOwnPropertyNames(Ht.prototype||Ht).forEach(Se=>{Object.defineProperty(lt.prototype,Se,Object.getOwnPropertyDescriptor(Ht.prototype||Ht,Se))})})};class we{constructor(Bt){return Bt}}const De=new u.OlP("angularfire2.app.options"),Ae=new u.OlP("angularfire2.app.name");function q(lt,Bt,Ht){const ut="object"==typeof Ht&&Ht||{};ut.name=ut.name||"string"==typeof Ht&&Ht||"[DEFAULT]";const tt=te.Z.apps.filter(vt=>vt&&vt.name===ut.name)[0]||Bt.runOutsideAngular(()=>te.Z.initializeApp(lt,ut));try{JSON.stringify(lt)!==JSON.stringify(tt.options)&&ee("error",`${tt.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(tt)}const ee=(lt,...Bt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[lt](...Bt)},ye={provide:we,useFactory:q,deps:[De,u.R0b,[new u.FiY,Ae]]};let mt=(()=>{class lt{constructor(Ht){te.Z.registerVersion("angularfire",B.q4.full,"core"),te.Z.registerVersion("angularfire",B.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,Ht.toString())}static initializeApp(Ht,Se){return{ngModule:lt,providers:[{provide:De,useValue:Ht},{provide:Ae,useValue:Se}]}}}return lt.\u0275fac=function(Ht){return new(Ht||lt)(u.LFG(u.Lbi))},lt.\u0275mod=u.oAB({type:lt}),lt.\u0275inj=u.cJS({providers:[ye]}),lt})();function We(lt,Bt,Ht,Se,ut){const[,Ve,tt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===lt)||[];if(Ve)return function yt(lt,Bt){try{return lt.toString()===Bt.toString()}catch{return lt===Bt}}(ut,tt)||(kt("error",`${Bt} was already initialized on the ${Ht} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),kt("warn",{is:ut,was:tt})),Ve;{const vt=Se();return globalThis.\u0275AngularfireInstanceCache.push([lt,vt,ut]),vt}}const ht=!!nn.hot,kt=(lt,...Bt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[lt](...Bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(nn,et,W)=>{"use strict";W.d(et,{q4:()=>ei,iC:()=>fd,fc:()=>Dp,HU:()=>os,vb:()=>ih,JM:()=>oc,u3:()=>kc});var u=W(5879),te=W(4097),B=W(5861),ve=W(4303),$=W(9058),_e=W(4537),we=W(7879);const De=(C,k)=>k.some(L=>C instanceof L);let Ae,q;const mt=new WeakMap,We=new WeakMap,yt=new WeakMap,ht=new WeakMap,kt=new WeakMap;let Ht={get(C,k,L){if(C instanceof IDBTransaction){if("done"===k)return We.get(C);if("objectStoreNames"===k)return C.objectStoreNames||yt.get(C);if("store"===k)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return tt(C[k])},set:(C,k,L)=>(C[k]=L,!0),has:(C,k)=>C instanceof IDBTransaction&&("done"===k||"store"===k)||k in C};function Ve(C){return"function"==typeof C?function ut(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...k){return C.apply(vt(this),k),tt(mt.get(this))}:function(...k){return tt(C.apply(vt(this),k))}:function(k,...L){const ne=C.call(vt(this),k,...L);return yt.set(ne,k.sort?k.sort():[k]),tt(ne)}}(C):(C instanceof IDBTransaction&&function Bt(C){if(We.has(C))return;const k=new Promise((L,ne)=>{const be=()=>{C.removeEventListener("complete",Pe),C.removeEventListener("error",ot),C.removeEventListener("abort",ot)},Pe=()=>{L(),be()},ot=()=>{ne(C.error||new DOMException("AbortError","AbortError")),be()};C.addEventListener("complete",Pe),C.addEventListener("error",ot),C.addEventListener("abort",ot)});We.set(C,k)}(C),De(C,function ee(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ht):C)}function tt(C){if(C instanceof IDBRequest)return function lt(C){const k=new Promise((L,ne)=>{const be=()=>{C.removeEventListener("success",Pe),C.removeEventListener("error",ot)},Pe=()=>{L(tt(C.result)),be()},ot=()=>{ne(C.error),be()};C.addEventListener("success",Pe),C.addEventListener("error",ot)});return k.then(L=>{L instanceof IDBCursor&&mt.set(L,C)}).catch(()=>{}),kt.set(k,C),k}(C);if(ht.has(C))return ht.get(C);const k=Ve(C);return k!==C&&(ht.set(C,k),kt.set(k,C)),k}const vt=C=>kt.get(C),Pt=["get","getKey","getAll","getAllKeys","count"],rn=["put","add","delete","clear"],Yn=new Map;function $n(C,k){if(!(C instanceof IDBDatabase)||k in C||"string"!=typeof k)return;if(Yn.get(k))return Yn.get(k);const L=k.replace(/FromIndex$/,""),ne=k!==L,be=rn.includes(L);if(!(L in(ne?IDBIndex:IDBObjectStore).prototype)||!be&&!Pt.includes(L))return;const Pe=function(){var ot=(0,B.Z)(function*(Wt,...$t){const Cn=this.transaction(Wt,be?"readwrite":"readonly");let Zn=Cn.store;return ne&&(Zn=Zn.index($t.shift())),(yield Promise.all([Zn[L](...$t),be&&Cn.done]))[0]});return function($t){return ot.apply(this,arguments)}}();return Yn.set(k,Pe),Pe}!function Se(C){Ht=C(Ht)}(C=>({...C,get:(k,L,ne)=>$n(k,L)||C.get(k,L,ne),has:(k,L)=>!!$n(k,L)||C.has(k,L)}));const er="@firebase/installations",Kn="0.6.4",fr=1e4,tr=`w:${Kn}`,Ne="FIS_v2",ze="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,Mt=new $.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function At(C){return C instanceof $.ZR&&C.code.includes("request-failed")}function lr({projectId:C}){return`${ze}/projects/${C}/installations`}function ue(C){return{token:C.token,requestStatus:2,expiresIn:dn(C.expiresIn),creationTime:Date.now()}}function pe(C,k){return Te.apply(this,arguments)}function Te(){return(Te=(0,B.Z)(function*(C,k){const ne=(yield k.json()).error;return Mt.create("request-failed",{requestName:C,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function st({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function nt(C){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,B.Z)(function*(C){const k=yield C();return k.status>=500&&k.status<600?C():k})).apply(this,arguments)}function dn(C){return Number(C.replace("s","000"))}function vn(){return(vn=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:k},{fid:L}){const ne=lr(C),be=st(C),Pe=k.getImmediate({optional:!0});if(Pe){const Cn=yield Pe.getHeartbeatsHeader();Cn&&be.append("x-firebase-client",Cn)}const Wt={method:"POST",headers:be,body:JSON.stringify({fid:L,authVersion:Ne,appId:C.appId,sdkVersion:tr})},$t=yield nt(()=>fetch(ne,Wt));if($t.ok){const Cn=yield $t.json();return{fid:Cn.fid||L,registrationStatus:2,refreshToken:Cn.refreshToken,authToken:ue(Cn.authToken)}}throw yield pe("Create Installation",$t)})).apply(this,arguments)}function He(C){return new Promise(k=>{setTimeout(k,C)})}const _n=/^[cdef][\w-]{21}$/,Et="";function Ft(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const L=function Dn(C){return function Jn(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return _n.test(L)?L:Et}catch{return Et}}function hn(C){return`${C.appName}!${C.appId}`}const qn=new Map;function pr(C,k){const L=hn(C);ni(L,k),function zn(C,k){const L=function In(){return!Br&&"BroadcastChannel"in self&&(Br=new BroadcastChannel("[Firebase] FID Change"),Br.onmessage=C=>{ni(C.data.key,C.data.fid)}),Br}();L&&L.postMessage({key:C,fid:k}),function _r(){0===qn.size&&Br&&(Br.close(),Br=null)}()}(L,k)}function ni(C,k){const L=qn.get(C);if(L)for(const ne of L)ne(k)}let Br=null;const li="firebase-installations-database",vr=1,ri="firebase-installations-store";let Sr=null;function qe(){return Sr||(Sr=function ae(C,k,{blocked:L,upgrade:ne,blocking:be,terminated:Pe}={}){const ot=indexedDB.open(C,k),Wt=tt(ot);return ne&&ot.addEventListener("upgradeneeded",$t=>{ne(tt(ot.result),$t.oldVersion,$t.newVersion,tt(ot.transaction))}),L&&ot.addEventListener("blocked",()=>L()),Wt.then($t=>{Pe&&$t.addEventListener("close",()=>Pe()),be&&$t.addEventListener("versionchange",()=>be())}).catch(()=>{}),Wt}(li,vr,{upgrade:(C,k)=>{0===k&&C.createObjectStore(ri)}})),Sr}function me(C,k){return it.apply(this,arguments)}function it(){return(it=(0,B.Z)(function*(C,k){const L=hn(C),be=(yield qe()).transaction(ri,"readwrite"),Pe=be.objectStore(ri),ot=yield Pe.get(L);return yield Pe.put(k,L),yield be.done,(!ot||ot.fid!==k.fid)&&pr(C,k.fid),k})).apply(this,arguments)}function St(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,B.Z)(function*(C){const k=hn(C),ne=(yield qe()).transaction(ri,"readwrite");yield ne.objectStore(ri).delete(k),yield ne.done})).apply(this,arguments)}function fn(C,k){return ar.apply(this,arguments)}function ar(){return(ar=(0,B.Z)(function*(C,k){const L=hn(C),be=(yield qe()).transaction(ri,"readwrite"),Pe=be.objectStore(ri),ot=yield Pe.get(L),Wt=k(ot);return void 0===Wt?yield Pe.delete(L):yield Pe.put(Wt,L),yield be.done,Wt&&(!ot||ot.fid!==Wt.fid)&&pr(C,Wt.fid),Wt})).apply(this,arguments)}function de(C){return ce.apply(this,arguments)}function ce(){return ce=(0,B.Z)(function*(C){let k;const L=yield fn(C.appConfig,ne=>{const be=function Y(C){return se(C||{fid:Ft(),registrationStatus:0})}(ne),Pe=function X(C,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Mt.create("app-offline"))};const L={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ne=function G(C,k){return xe.apply(this,arguments)}(C,L);return{installationEntry:L,registrationPromise:ne}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:_t(C)}:{installationEntry:k}}(C,be);return k=Pe.registrationPromise,Pe.installationEntry});return L.fid===Et?{installationEntry:yield k}:{installationEntry:L,registrationPromise:k}}),ce.apply(this,arguments)}function xe(){return xe=(0,B.Z)(function*(C,k){try{const L=yield function Fn(C,k){return vn.apply(this,arguments)}(C,k);return me(C.appConfig,L)}catch(L){throw At(L)&&409===L.customData.serverCode?yield St(C.appConfig):yield me(C.appConfig,{fid:k.fid,registrationStatus:0}),L}}),xe.apply(this,arguments)}function _t(C){return jt.apply(this,arguments)}function jt(){return(jt=(0,B.Z)(function*(C){let k=yield J(C.appConfig);for(;1===k.registrationStatus;)yield He(100),k=yield J(C.appConfig);if(0===k.registrationStatus){const{installationEntry:L,registrationPromise:ne}=yield de(C);return ne||L}return k})).apply(this,arguments)}function J(C){return fn(C,k=>{if(!k)throw Mt.create("installation-not-found");return se(k)})}function se(C){return function Ce(C){return 1===C.registrationStatus&&C.registrationTime+fr<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Ot(){return(Ot=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:k},L){const ne=function Lt(C,{fid:k}){return`${lr(C)}/${k}/authTokens:generate`}(C,L),be=function Ct(C,{refreshToken:k}){const L=st(C);return L.append("Authorization",function Mn(C){return`${Ne} ${C}`}(k)),L}(C,L),Pe=k.getImmediate({optional:!0});if(Pe){const Cn=yield Pe.getHeartbeatsHeader();Cn&&be.append("x-firebase-client",Cn)}const Wt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:tr,appId:C.appId}})},$t=yield nt(()=>fetch(ne,Wt));if($t.ok)return ue(yield $t.json());throw yield pe("Generate Auth Token",$t)})).apply(this,arguments)}function ur(C){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,B.Z)(function*(C,k=!1){let L;const ne=yield fn(C.appConfig,Pe=>{if(!ts(Pe))throw Mt.create("not-registered");const ot=Pe.authToken;if(!k&&function $a(C){return 2===C.requestStatus&&!function pl(C){const k=Date.now();return k<C.creationTime||C.creationTime+C.expiresIn<k+Ze}(C)}(ot))return Pe;if(1===ot.requestStatus)return L=function xr(C,k){return kr.apply(this,arguments)}(C,k),Pe;{if(!navigator.onLine)throw Mt.create("app-offline");const Wt=function Wc(C){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:k})}(Pe);return L=function di(C,k){return wn.apply(this,arguments)}(C,Wt),Wt}});return L?yield L:ne.authToken}),Ar.apply(this,arguments)}function kr(){return(kr=(0,B.Z)(function*(C,k){let L=yield gi(C.appConfig);for(;1===L.authToken.requestStatus;)yield He(100),L=yield gi(C.appConfig);const ne=L.authToken;return 0===ne.requestStatus?ur(C,k):ne})).apply(this,arguments)}function gi(C){return fn(C,k=>{if(!ts(k))throw Mt.create("not-registered");return function xo(C){return 1===C.requestStatus&&C.requestTime+fr<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function wn(){return wn=(0,B.Z)(function*(C,k){try{const L=yield function Xe(C,k){return Ot.apply(this,arguments)}(C,k),ne=Object.assign(Object.assign({},k),{authToken:L});return yield me(C.appConfig,ne),L}catch(L){if(!At(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const ne=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield me(C.appConfig,ne)}else yield St(C.appConfig);throw L}}),wn.apply(this,arguments)}function ts(C){return void 0!==C&&2===C.registrationStatus}function Mo(){return(Mo=(0,B.Z)(function*(C){const k=C,{installationEntry:L,registrationPromise:ne}=yield de(k);return ne?ne.catch(console.error):ur(k).catch(console.error),L.fid})).apply(this,arguments)}function qa(){return qa=(0,B.Z)(function*(C,k=!1){const L=C;return yield function Ro(C){return Wo.apply(this,arguments)}(L),(yield ur(L,k)).token}),qa.apply(this,arguments)}function Wo(){return(Wo=(0,B.Z)(function*(C){const{registrationPromise:k}=yield de(C);k&&(yield k)})).apply(this,arguments)}function Tc(C){return Mt.create("missing-app-config-values",{valueName:C})}const Cc="installations",Ac=C=>{const k=C.getProvider("app").getImmediate(),L=function ps(C){if(!C||!C.options)throw Tc("App Configuration");if(!C.name)throw Tc("App Name");const k=["projectId","apiKey","appId"];for(const L of k)if(!C.options[L])throw Tc(L);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(k);return{app:k,appConfig:L,heartbeatServiceProvider:(0,ve._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},ba=C=>{const k=C.getProvider("app").getImmediate(),L=(0,ve._getProvider)(k,Cc).getImmediate();return{getId:()=>function Wa(C){return Mo.apply(this,arguments)}(L),getToken:be=>function ml(C){return qa.apply(this,arguments)}(L,be)}};(function Ia(){(0,ve._registerComponent)(new _e.wA(Cc,Ac,"PUBLIC")),(0,ve._registerComponent)(new _e.wA("installations-internal",ba,"PRIVATE"))})(),(0,ve.registerVersion)(er,Kn),(0,ve.registerVersion)(er,Kn,"esm2017");const yl="@firebase/remote-config",Hi=new $.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Un{constructor(k,L,ne,be){this.client=k,this.storage=L,this.storageCache=ne,this.logger=be}isCachedDataFresh(k,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-L,be=ne<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${be}.`),be}fetch(k){var L=this;return(0,B.Z)(function*(){const[ne,be]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(be&&L.isCachedDataFresh(k.cacheMaxAgeMillis,ne))return be;k.eTag=be&&be.eTag;const Pe=yield L.client.fetch(k),ot=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&ot.push(L.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(ot),Pe})()}}function Mr(C=navigator){return C.languages&&C.languages[0]||C.language}class Ts{constructor(k,L,ne,be,Pe,ot){this.firebaseInstallations=k,this.sdkVersion=L,this.namespace=ne,this.projectId=be,this.apiKey=Pe,this.appId=ot}fetch(k){var L=this;return(0,B.Z)(function*(){const[ne,be]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,Wt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},$t={sdk_version:L.sdkVersion,app_instance_id:ne,app_instance_id_token:be,app_id:L.appId,language_code:Mr()},Cn={method:"POST",headers:Wt,body:JSON.stringify($t)},Zn=fetch(ot,Cn),Nn=new Promise((ua,ki)=>{k.signal.addEventListener(()=>{const Hl=new Error("The operation was aborted.");Hl.name="AbortError",ki(Hl)})});let so;try{yield Promise.race([Zn,Nn]),so=yield Zn}catch(ua){let ki="fetch-client-network";throw"AbortError"===ua?.name&&(ki="fetch-timeout"),Hi.create(ki,{originalErrorMessage:ua?.message})}let Yi=so.status;const pi=so.headers.get("ETag")||void 0;let pd,Vo;if(200===so.status){let ua;try{ua=yield so.json()}catch(ki){throw Hi.create("fetch-client-parse",{originalErrorMessage:ki?.message})}pd=ua.entries,Vo=ua.state}if("INSTANCE_STATE_UNSPECIFIED"===Vo?Yi=500:"NO_CHANGE"===Vo?Yi=304:("NO_TEMPLATE"===Vo||"EMPTY_CONFIG"===Vo)&&(pd={}),304!==Yi&&200!==Yi)throw Hi.create("fetch-status",{httpStatus:Yi});return{status:Yi,eTag:pi,config:pd}})()}}class Xo{constructor(k,L){this.client=k,this.storage=L}fetch(k){var L=this;return(0,B.Z)(function*(){const ne=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(k,ne)})()}attemptFetch(k,{throttleEndTimeMillis:L,backoffCount:ne}){var be=this;return(0,B.Z)(function*(){yield function Po(C,k){return new Promise((L,ne)=>{const be=Math.max(k-Date.now(),0),Pe=setTimeout(L,be);C.addEventListener(()=>{clearTimeout(Pe),ne(Hi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,L);try{const Pe=yield be.client.fetch(k);return yield be.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function ns(C){if(!(C instanceof $.ZR&&C.customData))return!1;const k=Number(C.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Pe))throw Pe;const ot={throttleEndTimeMillis:Date.now()+(0,$.$s)(ne),backoffCount:ne+1};return yield be.storage.setThrottleMetadata(ot),be.attemptFetch(k,ot)}})()}}class Qs{constructor(k,L,ne,be,Pe){this.app=k,this._client=L,this._storageCache=ne,this._storage=be,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function En(C,k){const L=C.target.error||void 0;return Hi.create(k,{originalErrorMessage:L&&L?.message})}const ui="app_namespace_store";class Ya{constructor(k,L,ne,be=function zr(){return new Promise((C,k)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=ne=>{k(En(ne,"storage-open"))},L.onsuccess=ne=>{C(ne.target.result)},L.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ui,{keyPath:"compositeKey"})}}catch(L){k(Hi.create("storage-open",{originalErrorMessage:L?.message}))}})}()){this.appId=k,this.appName=L,this.namespace=ne,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var L=this;return(0,B.Z)(function*(){const ne=yield L.openDbPromise;return new Promise((be,Pe)=>{const Wt=ne.transaction([ui],"readonly").objectStore(ui),$t=L.createCompositeKey(k);try{const Cn=Wt.get($t);Cn.onerror=Zn=>{Pe(En(Zn,"storage-get"))},Cn.onsuccess=Zn=>{const Nn=Zn.target.result;be(Nn?Nn.value:void 0)}}catch(Cn){Pe(Hi.create("storage-get",{originalErrorMessage:Cn?.message}))}})})()}set(k,L){var ne=this;return(0,B.Z)(function*(){const be=yield ne.openDbPromise;return new Promise((Pe,ot)=>{const $t=be.transaction([ui],"readwrite").objectStore(ui),Cn=ne.createCompositeKey(k);try{const Zn=$t.put({compositeKey:Cn,value:L});Zn.onerror=Nn=>{ot(En(Nn,"storage-set"))},Zn.onsuccess=()=>{Pe()}}catch(Zn){ot(Hi.create("storage-set",{originalErrorMessage:Zn?.message}))}})})()}delete(k){var L=this;return(0,B.Z)(function*(){const ne=yield L.openDbPromise;return new Promise((be,Pe)=>{const Wt=ne.transaction([ui],"readwrite").objectStore(ui),$t=L.createCompositeKey(k);try{const Cn=Wt.delete($t);Cn.onerror=Zn=>{Pe(En(Zn,"storage-delete"))},Cn.onsuccess=()=>{be()}}catch(Cn){Pe(Hi.create("storage-delete",{originalErrorMessage:Cn?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Cs{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,B.Z)(function*(){const L=k.storage.getLastFetchStatus(),ne=k.storage.getLastSuccessfulFetchTimestampMillis(),be=k.storage.getActiveConfig(),Pe=yield L;Pe&&(k.lastFetchStatus=Pe);const ot=yield ne;ot&&(k.lastSuccessfulFetchTimestampMillis=ot);const Wt=yield be;Wt&&(k.activeConfig=Wt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function ea(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,B.Z)(function*(){if(!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}!function Gi(){(0,ve._registerComponent)(new _e.wA("remote-config",function C(k,{instanceIdentifier:L}){const ne=k.getProvider("app").getImmediate(),be=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Hi.create("registration-window");if(!(0,$.hl)())throw Hi.create("indexed-db-unavailable");const{projectId:Pe,apiKey:ot,appId:Wt}=ne.options;if(!Pe)throw Hi.create("registration-project-id");if(!ot)throw Hi.create("registration-api-key");if(!Wt)throw Hi.create("registration-app-id");const $t=new Ya(Wt,ne.name,L=L||"firebase"),Cn=new Cs($t),Zn=new we.Yd(yl);Zn.logLevel=we.in.ERROR;const Nn=new Ts(be,ve.SDK_VERSION,L,Pe,ot,Wt),so=new Xo(Nn,$t),Yi=new Un(so,$t,Cn,Zn),pi=new Qs(ne,Yi,Cn,$t,Zn);return function hi(C){const k=(0,$.m9)(C);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(pi),pi},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(yl,"0.4.4"),(0,ve.registerVersion)(yl,"0.4.4","esm2017")}();const Qc=(C,k)=>k.some(L=>C instanceof L);let As,Qn;const ko=new WeakMap,Li=new WeakMap,Vi=new WeakMap,No=new WeakMap,na=new WeakMap;let $i={get(C,k,L){if(C instanceof IDBTransaction){if("done"===k)return Li.get(C);if("objectStoreNames"===k)return C.objectStoreNames||Vi.get(C);if("store"===k)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return Ls(C[k])},set:(C,k,L)=>(C[k]=L,!0),has:(C,k)=>C instanceof IDBTransaction&&("done"===k||"store"===k)||k in C};function ra(C){return"function"==typeof C?function fo(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ta(){return Qn||(Qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...k){return C.apply(ms(this),k),Ls(ko.get(this))}:function(...k){return Ls(C.apply(ms(this),k))}:function(k,...L){const ne=C.call(ms(this),k,...L);return Vi.set(ne,k.sort?k.sort():[k]),Ls(ne)}}(C):(C instanceof IDBTransaction&&function au(C){if(Li.has(C))return;const k=new Promise((L,ne)=>{const be=()=>{C.removeEventListener("complete",Pe),C.removeEventListener("error",ot),C.removeEventListener("abort",ot)},Pe=()=>{L(),be()},ot=()=>{ne(C.error||new DOMException("AbortError","AbortError")),be()};C.addEventListener("complete",Pe),C.addEventListener("error",ot),C.addEventListener("abort",ot)});Li.set(C,k)}(C),Qc(C,function Il(){return As||(As=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,$i):C)}function Ls(C){if(C instanceof IDBRequest)return function fi(C){const k=new Promise((L,ne)=>{const be=()=>{C.removeEventListener("success",Pe),C.removeEventListener("error",ot)},Pe=()=>{L(Ls(C.result)),be()},ot=()=>{ne(C.error),be()};C.addEventListener("success",Pe),C.addEventListener("error",ot)});return k.then(L=>{L instanceof IDBCursor&&ko.set(L,C)}).catch(()=>{}),na.set(k,C),k}(C);if(No.has(C))return No.get(C);const k=ra(C);return k!==C&&(No.set(C,k),na.set(k,C)),k}const ms=C=>na.get(C);function Ta(C,k,{blocked:L,upgrade:ne,blocking:be,terminated:Pe}={}){const ot=indexedDB.open(C,k),Wt=Ls(ot);return ne&&ot.addEventListener("upgradeneeded",$t=>{ne(Ls(ot.result),$t.oldVersion,$t.newVersion,Ls(ot.transaction))}),L&&ot.addEventListener("blocked",()=>L()),Wt.then($t=>{Pe&&$t.addEventListener("close",()=>Pe()),be&&$t.addEventListener("versionchange",()=>be())}).catch(()=>{}),Wt}function ia(C,{blocked:k}={}){const L=indexedDB.deleteDatabase(C);return k&&L.addEventListener("blocked",()=>k()),Ls(L).then(()=>{})}const El=["get","getKey","getAll","getAllKeys","count"],Dc=["put","add","delete","clear"],Tl=new Map;function Sc(C,k){if(!(C instanceof IDBDatabase)||k in C||"string"!=typeof k)return;if(Tl.get(k))return Tl.get(k);const L=k.replace(/FromIndex$/,""),ne=k!==L,be=Dc.includes(L);if(!(L in(ne?IDBIndex:IDBObjectStore).prototype)||!be&&!El.includes(L))return;const Pe=function(){var ot=(0,B.Z)(function*(Wt,...$t){const Cn=this.transaction(Wt,be?"readwrite":"readonly");let Zn=Cn.store;return ne&&(Zn=Zn.index($t.shift())),(yield Promise.all([Zn[L](...$t),be&&Cn.done]))[0]});return function($t){return ot.apply(this,arguments)}}();return Tl.set(k,Pe),Pe}!function _i(C){$i=C($i)}(C=>({...C,get:(k,L,ne)=>Sc(k,L)||C.get(k,L,ne),has:(k,L)=>!!Sc(k,L)||C.has(k,L)}));const Xa="/firebase-messaging-sw.js",Ca="/firebase-cloud-messaging-push-scope",Hd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cu="https://fcmregistrations.googleapis.com/v1",Er="google.c.a.c_id",Ju="google.c.a.c_l",Gd="google.c.a.ts";var ec=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(ec||{});function Vs(C){const k=new Uint8Array(C);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lu(C){const L=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(L),be=new Uint8Array(ne.length);for(let Pe=0;Pe<ne.length;++Pe)be[Pe]=ne.charCodeAt(Pe);return be}const tc="fcm_token_details_db",nc=5,$d="fcm_token_object_Store";function Al(){return Al=(0,B.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(tc))return null;let k=null;return(yield Ta(tc,nc,{upgrade:(ne=(0,B.Z)(function*(be,Pe,ot,Wt){var $t;if(Pe<2||!be.objectStoreNames.contains($d))return;const Cn=Wt.objectStore($d),Zn=yield Cn.index("fcmSenderId").get(C);if(yield Cn.clear(),Zn)if(2===Pe){const Nn=Zn;if(!Nn.auth||!Nn.p256dh||!Nn.endpoint)return;k={token:Nn.fcmToken,createTime:null!==($t=Nn.createTime)&&void 0!==$t?$t:Date.now(),subscriptionOptions:{auth:Nn.auth,p256dh:Nn.p256dh,endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:"string"==typeof Nn.vapidKey?Nn.vapidKey:Vs(Nn.vapidKey)}}}else if(3===Pe){const Nn=Zn;k={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Vs(Nn.auth),p256dh:Vs(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Vs(Nn.vapidKey)}}}else if(4===Pe){const Nn=Zn;k={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Vs(Nn.auth),p256dh:Vs(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Vs(Nn.vapidKey)}}}}),function(Pe,ot,Wt,$t){return ne.apply(this,arguments)})})).close(),yield ia(tc),yield ia("fcm_vapid_details_db"),yield ia("undefined"),function po(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:k}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var ne}),Al.apply(this,arguments)}const sa="firebase-messaging-database",Xc=1,gs="firebase-messaging-store";let S=null;function R(){return S||(S=Ta(sa,Xc,{upgrade:(C,k)=>{0===k&&C.createObjectStore(gs)}})),S}function N(C){return V.apply(this,arguments)}function V(){return V=(0,B.Z)(function*(C){const k=Oe(C),ne=yield(yield R()).transaction(gs).objectStore(gs).get(k);if(ne)return ne;{const be=yield function Cl(C){return Al.apply(this,arguments)}(C.appConfig.senderId);if(be)return yield Q(C,be),be}}),V.apply(this,arguments)}function Q(C,k){return he.apply(this,arguments)}function he(){return(he=(0,B.Z)(function*(C,k){const L=Oe(C),be=(yield R()).transaction(gs,"readwrite");return yield be.objectStore(gs).put(k,L),yield be.done,k})).apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(C){const k=Oe(C),ne=(yield R()).transaction(gs,"readwrite");yield ne.objectStore(gs).delete(k),yield ne.done})).apply(this,arguments)}function Oe({appConfig:C}){return C.appId}const Yt=new $.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Or(C,k){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,B.Z)(function*(C,k){const L=yield uu(C),ne=Jc(k),be={method:"POST",headers:L,body:JSON.stringify(ne)};let Pe;try{Pe=yield(yield fetch(Dl(C.appConfig),be)).json()}catch(ot){throw Yt.create("token-subscribe-failed",{errorInfo:ot?.toString()})}if(Pe.error)throw Yt.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Yt.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function yi(){return(yi=(0,B.Z)(function*(C,k){const L=yield uu(C),ne=Jc(k.subscriptionOptions),be={method:"PATCH",headers:L,body:JSON.stringify(ne)};let Pe;try{Pe=yield(yield fetch(`${Dl(C.appConfig)}/${k.token}`,be)).json()}catch(ot){throw Yt.create("token-update-failed",{errorInfo:ot?.toString()})}if(Pe.error)throw Yt.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Yt.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function go(C,k){return _s.apply(this,arguments)}function _s(){return(_s=(0,B.Z)(function*(C,k){const ne={method:"DELETE",headers:yield uu(C)};try{const Pe=yield(yield fetch(`${Dl(C.appConfig)}/${k}`,ne)).json();if(Pe.error)throw Yt.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(be){throw Yt.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Dl({projectId:C}){return`${cu}/projects/${C}/registrations`}function uu(C){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,B.Z)(function*({appConfig:C,installations:k}){const L=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function Jc({p256dh:C,auth:k,endpoint:L,vapidKey:ne}){const be={web:{endpoint:L,auth:k,p256dh:C}};return ne!==Hd&&(be.web.applicationPubKey=ne),be}const ed=6048e5;function ef(){return ef=(0,B.Z)(function*(C){const k=yield function hu(C,k){return td.apply(this,arguments)}(C.swRegistration,C.vapidKey),L={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:k.endpoint,auth:Vs(k.getKey("auth")),p256dh:Vs(k.getKey("p256dh"))},ne=yield N(C.firebaseDependencies);if(ne){if(function Yd(C,k){return k.vapidKey===C.vapidKey&&k.endpoint===C.endpoint&&k.auth===C.auth&&k.p256dh===C.p256dh}(ne.subscriptionOptions,L))return Date.now()>=ne.createTime+ed?function Zd(C,k){return du.apply(this,arguments)}(C,{token:ne.token,createTime:Date.now(),subscriptionOptions:L}):ne.token;try{yield go(C.firebaseDependencies,ne.token)}catch(be){console.warn(be)}return Ml(C.firebaseDependencies,L)}return Ml(C.firebaseDependencies,L)}),ef.apply(this,arguments)}function xl(){return xl=(0,B.Z)(function*(C){const k=yield N(C.firebaseDependencies);k&&(yield go(C.firebaseDependencies,k.token),yield function Fe(C){return Ke.apply(this,arguments)}(C.firebaseDependencies));const L=yield C.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()}),xl.apply(this,arguments)}function du(){return du=(0,B.Z)(function*(C,k){try{const L=yield function mo(C,k){return yi.apply(this,arguments)}(C.firebaseDependencies,k),ne=Object.assign(Object.assign({},k),{token:L,createTime:Date.now()});return yield Q(C.firebaseDependencies,ne),L}catch(L){throw yield function qd(C){return xl.apply(this,arguments)}(C),L}}),du.apply(this,arguments)}function Ml(C,k){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,B.Z)(function*(C,k){const ne={token:yield Or(C,k),createTime:Date.now(),subscriptionOptions:k};return yield Q(C,ne),ne.token})).apply(this,arguments)}function td(){return(td=(0,B.Z)(function*(C,k){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lu(k)})})).apply(this,arguments)}function fu(C){const k={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function xc(C,k){if(!k.notification)return;C.notification={};const L=k.notification.title;L&&(C.notification.title=L);const ne=k.notification.body;ne&&(C.notification.body=ne);const be=k.notification.image;be&&(C.notification.image=be);const Pe=k.notification.icon;Pe&&(C.notification.icon=Pe)}(k,C),function vp(C,k){k.data&&(C.data=k.data)}(k,C),function pu(C,k){var L,ne,be,Pe,ot;if(!(k.fcmOptions||null!==(L=k.notification)&&void 0!==L&&L.click_action))return;C.fcmOptions={};const Wt=null!==(be=null===(ne=k.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==be?be:null===(Pe=k.notification)||void 0===Pe?void 0:Pe.click_action;Wt&&(C.fcmOptions.link=Wt);const $t=null===(ot=k.fcmOptions)||void 0===ot?void 0:ot.analytics_label;$t&&(C.fcmOptions.analyticsLabel=$t)}(k,C),k}function rd(C,k){const L=[];for(let ne=0;ne<C.length;ne++)L.push(C.charAt(ne)),ne<k.length&&L.push(k.charAt(ne));return L.join("")}function id(C){return Yt.create("missing-app-config-values",{valueName:C})}rd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class tf{constructor(k,L,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function wp(C){if(!C||!C.options)throw id("App Configuration Object");if(!C.name)throw id("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:L}=C;for(const ne of k)if(!L[ne])throw id(ne);return{appName:C.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:be,installations:L,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function Pl(){return(Pl=(0,B.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Xa,{scope:Ca}),C.swRegistration.update().catch(()=>{})}catch(k){throw Yt.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function _o(){return(_o=(0,B.Z)(function*(C,k){if(!k&&!C.swRegistration&&(yield function Rl(C){return Pl.apply(this,arguments)}(C)),k||!C.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Yt.create("invalid-sw-registration");C.swRegistration=k}})).apply(this,arguments)}function kl(){return(kl=(0,B.Z)(function*(C,k){k?C.vapidKey=k:C.vapidKey||(C.vapidKey=Hd)})).apply(this,arguments)}function tl(){return tl=(0,B.Z)(function*(C,k){if(!navigator)throw Yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yt.create("permission-blocked");return yield function el(C,k){return kl.apply(this,arguments)}(C,k?.vapidKey),yield function mu(C,k){return _o.apply(this,arguments)}(C,k?.serviceWorkerRegistration),function Wd(C){return ef.apply(this,arguments)}(C)}),tl.apply(this,arguments)}function yo(){return(yo=(0,B.Z)(function*(C,k,L){const ne=function Xd(C){switch(C){case ec.NOTIFICATION_CLICKED:return"notification_open";case ec.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:L[Er],message_name:L[Ju],message_time:L[Gd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tr(){return Tr=(0,B.Z)(function*(C,k){const L=k.data;if(!L.isFirebaseMessaging)return;C.onMessageHandler&&L.messageType===ec.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(fu(L)):C.onMessageHandler.next(fu(L)));const ne=L.data;(function nd(C){return"object"==typeof C&&!!C&&Er in C})(ne)&&"1"===ne["google.c.a.e"]&&(yield function bp(C,k,L){return yo.apply(this,arguments)}(C,L.messageType,ne))}),Tr.apply(this,arguments)}const rc="@firebase/messaging",Ds=C=>{const k=new tf(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function Nl(C,k){return Tr.apply(this,arguments)}(k,L)),k},Ip=C=>{const k=C.getProvider("messaging").getImmediate();return{getToken:ne=>function Qd(C,k){return tl.apply(this,arguments)}(k,ne)}};function Mc(){return rs.apply(this,arguments)}function rs(){return(rs=(0,B.Z)(function*(){try{yield(0,$.eu)()}catch{return!1}return typeof window<"u"&&(0,$.hl)()&&(0,$.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ol(){(0,ve._registerComponent)(new _e.wA("messaging",Ds,"PUBLIC")),(0,ve._registerComponent)(new _e.wA("messaging-internal",Ip,"PRIVATE")),(0,ve.registerVersion)(rc,"0.12.4"),(0,ve.registerVersion)(rc,"0.12.4","esm2017")}();const nl="analytics",eh="firebase_id",Hn="origin",_u=6e4,Ep="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yu="https://www.googletagmanager.com/gtag/js",Si=new we.Yd("@firebase/analytics"),xi=new $.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Da(C){if(!C.startsWith(yu)){const k=xi.create("invalid-gtag-resource",{gtagURL:C});return Si.warn(k.message),""}return C}function rl(C){return Promise.all(C.map(k=>k.catch(L=>L)))}function Tt(){return(Tt=(0,B.Z)(function*(C,k,L,ne,be,Pe){const ot=ne[be];try{if(ot)yield k[ot];else{const $t=(yield rl(L)).find(Cn=>Cn.measurementId===be);$t&&(yield k[$t.appId])}}catch(Wt){Si.error(Wt)}C("config",be,Pe)})).apply(this,arguments)}function Xs(){return(Xs=(0,B.Z)(function*(C,k,L,ne,be){try{let Pe=[];if(be&&be.send_to){let ot=be.send_to;Array.isArray(ot)||(ot=[ot]);const Wt=yield rl(L);for(const $t of ot){const Cn=Wt.find(Nn=>Nn.measurementId===$t),Zn=Cn&&k[Cn.appId];if(!Zn){Pe=[];break}Pe.push(Zn)}}0===Pe.length&&(Pe=Object.values(k)),yield Promise.all(Pe),C("event",ne,be||{})}catch(Pe){Si.error(Pe)}})).apply(this,arguments)}const Vl=30,ad=new class od{constructor(k={},L=1e3){this.throttleMetadata=k,this.intervalMillis=L}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,L){this.throttleMetadata[k]=L}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function cf(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function cd(){return(cd=(0,B.Z)(function*(C){var k;const{appId:L,apiKey:ne}=C,be={method:"GET",headers:cf(ne)},Pe=Ep.replace("{app-id}",L),ot=yield fetch(Pe,be);if(200!==ot.status&&304!==ot.status){let Wt="";try{const $t=yield ot.json();null!==(k=$t.error)&&void 0!==k&&k.message&&(Wt=$t.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:ot.status,responseMessage:Wt})}return ot.json()})).apply(this,arguments)}function ca(){return(ca=(0,B.Z)(function*(C,k=ad,L){const{appId:ne,apiKey:be,measurementId:Pe}=C.options;if(!ne)throw xi.create("no-app-id");if(!be){if(Pe)return{measurementId:Pe,appId:ne};throw xi.create("no-api-key")}const ot=k.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wt=new ld;return setTimeout((0,B.Z)(function*(){Wt.abort()}),void 0!==L?L:_u),rh({appId:ne,apiKey:be,measurementId:Pe},ot,Wt,k)})).apply(this,arguments)}function rh(C,k,L){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,B.Z)(function*(C,{throttleEndTimeMillis:k,backoffCount:L},ne,be=ad){var Pe;const{appId:ot,measurementId:Wt}=C;try{yield function Us(C,k){return new Promise((L,ne)=>{const be=Math.max(k-Date.now(),0),Pe=setTimeout(L,be);C.addEventListener(()=>{clearTimeout(Pe),ne(xi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(ne,k)}catch($t){if(Wt)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:ot,measurementId:Wt};throw $t}try{const $t=yield function lf(C){return cd.apply(this,arguments)}(C);return be.deleteThrottleMetadata(ot),$t}catch($t){const Cn=$t;if(!function uf(C){if(!(C instanceof $.ZR&&C.customData))return!1;const k=Number(C.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Cn)){if(be.deleteThrottleMetadata(ot),Wt)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${Cn?.message}]`),{appId:ot,measurementId:Wt};throw $t}const Zn=503===Number(null===(Pe=Cn?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,$.$s)(L,be.intervalMillis,Vl):(0,$.$s)(L,be.intervalMillis),Nn={throttleEndTimeMillis:Date.now()+Zn,backoffCount:L+1};return be.setThrottleMetadata(ot,Nn),Si.debug(`Calling attemptFetch again in ${Zn} millis`),rh(C,Nn,ne,be)}}),Sa.apply(this,arguments)}class ld{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let wu,T;function bu(){return(bu=(0,B.Z)(function*(C,k,L,ne,be){if(be&&be.global)C("event",L,ne);else{const Pe=yield k;C("event",L,Object.assign(Object.assign({},ne),{send_to:Pe}))}})).apply(this,arguments)}function Ie(){return(Ie=(0,B.Z)(function*(){if(!(0,$.hl)())return Si.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,$.eu)()}catch(C){return Si.warn(xi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ue(){return Ue=(0,B.Z)(function*(C,k,L,ne,be,Pe,ot){var Wt;const $t=function ji(C){return ca.apply(this,arguments)}(C);$t.then(Yi=>{L[Yi.measurementId]=Yi.appId,C.options.measurementId&&Yi.measurementId!==C.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yi=>Si.error(Yi)),k.push($t);const Cn=function fe(){return Ie.apply(this,arguments)}().then(Yi=>{if(Yi)return ne.getId()}),[Zn,Nn]=yield Promise.all([$t,Cn]);(function vu(C){const k=window.document.getElementsByTagName("script");for(const L of Object.values(k))if(L.src&&L.src.includes(yu)&&L.src.includes(C))return L;return null})(Pe)||function af(C,k){const L=function sd(C,k){let L;return window.trustedTypes&&(L=window.trustedTypes.createPolicy(C,k)),L}("firebase-js-sdk-policy",{createScriptURL:Da}),ne=document.createElement("script"),be=`${yu}?l=${C}&id=${k}`;ne.src=L?L?.createScriptURL(be):be,ne.async=!0,document.head.appendChild(ne)}(Pe,Zn.measurementId),T&&(be("consent","default",T),function j(C){T=C}(void 0)),be("js",new Date);const so=null!==(Wt=ot?.config)&&void 0!==Wt?Wt:{};return so[Hn]="firebase",so.update=!0,null!=Nn&&(so[eh]=Nn),be("config",Zn.measurementId,so),wu&&(be("set",wu),function ie(C){wu=C}(void 0)),Zn.measurementId}),Ue.apply(this,arguments)}class bt{constructor(k){this.app=k}_delete(){return delete Ge[this.app.options.appId],Promise.resolve()}}let Ge={},ln=[];const Tn={};let Rn,Qt,Jt="dataLayer",Wn=!1;function Rr(C,k,L){!function Sn(){const C=[];if((0,$.ru)()&&C.push("This is a browser extension environment."),(0,$.zI)()||C.push("Cookies are not available."),C.length>0){const k=C.map((ne,be)=>`(${be+1}) ${ne}`).join(" "),L=xi.create("invalid-analytics-context",{errorInfo:k});Si.warn(L.message)}}();const ne=C.options.appId;if(!ne)throw xi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw xi.create("no-api-key");Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ge[ne])throw xi.create("already-exists",{id:ne});if(!Wn){!function th(C){let k=[];Array.isArray(window[C])?k=window[C]:window[C]=k}(Jt);const{wrappedGtag:Pe,gtagCore:ot}=function is(C,k,L,ne,be){let Pe=function(...ot){window[ne].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Pe=window[be]),window[be]=function Ll(C,k,L,ne){function Pe(){return Pe=(0,B.Z)(function*(ot,...Wt){try{if("event"===ot){const[$t,Cn]=Wt;yield function yr(C,k,L,ne,be){return Xs.apply(this,arguments)}(C,k,L,$t,Cn)}else if("config"===ot){const[$t,Cn]=Wt;yield function nh(C,k,L,ne,be,Pe){return Tt.apply(this,arguments)}(C,k,L,ne,$t,Cn)}else if("consent"===ot){const[$t]=Wt;C("consent","update",$t)}else if("get"===ot){const[$t,Cn,Zn]=Wt;C("get",$t,Cn,Zn)}else if("set"===ot){const[$t]=Wt;C("set",$t)}else C(ot,...Wt)}catch($t){Si.error($t)}}),Pe.apply(this,arguments)}return function be(ot){return Pe.apply(this,arguments)}}(Pe,C,k,L),{gtagCore:Pe,wrappedGtag:window[be]}}(Ge,ln,Tn,Jt,"gtag");Qt=Pe,Rn=ot,Wn=!0}return Ge[ne]=function Me(C,k,L,ne,be,Pe,ot){return Ue.apply(this,arguments)}(C,ln,Tn,k,Rn,Jt,L),new bt(C)}function js(){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,B.Z)(function*(){if((0,$.ru)()||!(0,$.zI)()||!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}const Ma="@firebase/analytics";!function qr(){(0,ve._registerComponent)(new _e.wA(nl,(k,{options:L})=>Rr(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,ve._registerComponent)(new _e.wA("analytics-internal",function C(k){try{const L=k.getProvider(nl).getImmediate();return{logEvent:(ne,be,Pe)=>function qi(C,k,L,ne){C=(0,$.m9)(C),function Tp(C,k,L,ne,be){return bu.apply(this,arguments)}(Qt,Ge[C.app.options.appId],k,L,ne).catch(be=>Si.error(be))}(L,ne,be,Pe)}}catch(L){throw xi.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,ve.registerVersion)(Ma,"0.10.0"),(0,ve.registerVersion)(Ma,"0.10.0","esm2017")}();var ss=W(1954),Ri=W(2631);const Bs=new class Zi extends Ri.v{}(class to extends ss.o{constructor(k,L){super(k,L),this.scheduler=k,this.work=L}schedule(k,L=0){return L>0?super.schedule(k,L):(this.delay=L,this.state=k,this.scheduler.flush(this),this)}execute(k,L){return L>0||this.closed?super.execute(k,L):this._execute(k,L)}requestAsyncId(k,L,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(k,L,ne):(k.flush(this),0)}});var Lo=W(6321),Hr=W(5592),no=W(9397),Gn=W(3093),nr=W(5137);const ei=new u.GfV("7.6.1"),Vr="__angularfire_symbol__analyticsIsSupportedValue",Zr="__angularfire_symbol__analyticsIsSupported",si="__angularfire_symbol__remoteConfigIsSupportedValue",ro="__angularfire_symbol__remoteConfigIsSupported",ys="__angularfire_symbol__messagingIsSupportedValue",Ki="__angularfire_symbol__messagingIsSupported";function oc(C,k,L){if(k){if(1===k.length)return k[0];const Pe=k.filter(ot=>ot.app===L);if(1===Pe.length)return Pe[0]}return L.container.getProvider(C).getImmediate({optional:!0})}globalThis[Zr]||(globalThis[Zr]=js().then(C=>globalThis[Vr]=C).catch(()=>globalThis[Vr]=!1)),globalThis[Ki]||(globalThis[Ki]=Mc().then(C=>globalThis[ys]=C).catch(()=>globalThis[ys]=!1)),globalThis[ro]||(globalThis[ro]=ea().then(C=>globalThis[si]=C).catch(()=>globalThis[si]=!1));const ih=(C,k)=>{const L=k?[k]:(0,te.C6)(),ne=[];return L.forEach(be=>{be.container.getProvider(C).instances.forEach(ot=>{ne.includes(ot)||ne.push(ot)})}),ne};function Bl(){}class zs{constructor(k,L=Bs){this.zone=k,this.delegate=L}now(){return this.delegate.now()}schedule(k,L,ne){const be=this.zone;return this.delegate.schedule(function(ot){be.runGuarded(()=>{k.apply(this,[ot])})},L,ne)}}class Cp{constructor(k){this.zone=k,this.task=null}call(k,L){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl)),L.pipe((0,no.b)({next:ne,complete:ne,error:ne})).subscribe(k).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let os=(()=>{class C{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new zs(Zone.current)),this.insideAngular=L.run(()=>new zs(Zone.current,Lo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(L){return new(L||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function wo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ac(C){return wo().ngZone.run(()=>C())}function Dp(C){return C.pipe((0,Gn.Q)(wo().outsideAngular))}function fd(C){return wo(),function Eu(C){return function(L){return(L=L.lift(new Cp(C.ngZone))).pipe((0,nr.R)(C.outsideAngular),(0,Gn.Q)(C.insideAngular))}}(wo())(C)}const zl=(C,k)=>function(){const ne=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),ac(()=>C.apply(void 0,ne))},kc=(C,k)=>function(){let L;const ne=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof ne[Pe]&&(k&&(L||(L=ac(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bl,{},Bl,Bl)))),ne[Pe]=zl(ne[Pe],L));const be=function Ap(C){return wo().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ne));if(!k){if(be instanceof Hr.y){const Pe=wo();return be.pipe((0,nr.R)(Pe.outsideAngular),(0,Gn.Q)(Pe.insideAngular))}return ac(()=>be)}return be instanceof Hr.y?be.pipe(fd):be instanceof Promise?ac(()=>new Promise((Pe,ot)=>be.then(Wt=>ac(()=>Pe(Wt)),Wt=>ac(()=>ot(Wt))))):"function"==typeof be&&L?function(){return setTimeout(()=>{L&&"scheduled"===L.state&&L.invoke()},10),be.apply(this,arguments)}:ac(()=>be)}},6710:(nn,et,W)=>{"use strict";W.d(et,{$:()=>Xa,A:()=>ee,D:()=>We,I:()=>gl,J:()=>Ac,L:()=>zt,N:()=>fn,P:()=>Me,Q:()=>Ya,R:()=>jl,U:()=>Qa,V:()=>ea,W:()=>Fs,X:()=>Jo,Y:()=>Il,Z:()=>ta,_:()=>na,a:()=>gu,a0:()=>Hd,a1:()=>Er,a2:()=>Aa,a3:()=>$d,a4:()=>Al,a5:()=>sa,a6:()=>gs,a7:()=>R,a8:()=>V,a9:()=>he,aA:()=>ae,aB:()=>Zr,aC:()=>St,aD:()=>ar,aE:()=>no,aF:()=>Pc,aG:()=>la,aH:()=>ii,aL:()=>Rc,aO:()=>As,aa:()=>Fe,ab:()=>Oe,ac:()=>gn,ad:()=>mo,ae:()=>go,af:()=>Dl,ai:()=>ed,aj:()=>ef,ak:()=>qd,an:()=>fo,ao:()=>xc,aq:()=>kl,ar:()=>rc,as:()=>Pt,at:()=>se,au:()=>_t,av:()=>Se,aw:()=>Nn,ax:()=>Ki,ay:()=>Ce,az:()=>ut,b:()=>Fl,c:()=>Qt,d:()=>Rr,e:()=>Ln,f:()=>Ma,g:()=>Zi,h:()=>ss,i:()=>aa,j:()=>Lo,k:()=>Vo,l:()=>il,m:()=>Hl,p:()=>De,r:()=>D,s:()=>vi,u:()=>fe});var u=W(5861),te=W(9058),B=W(7592),ve=W(7582),$=W(7879),_e=W(4537);const De={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},yt=function mt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ht=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new $.Yd("@firebase/auth");function Ht(E,..._){lt.logLevel<=$.in.ERROR&&lt.error(`Auth (${B.SDK_VERSION}): ${E}`,..._)}function Se(E,..._){throw vt(E,..._)}function ut(E,..._){return vt(E,..._)}function Ve(E,_,y){const M=Object.assign(Object.assign({},yt()),{[_]:y});return new te.LL("auth","Firebase",M).create(_,{appName:E.name})}function tt(E,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&Se(E,"argument-error"),Ve(E,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(E,..._){if("string"!=typeof E){const y=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=E.name),E._errorFactory.create(y,...M)}return ht.create(E,..._)}function ae(E,_,...y){if(!E)throw vt(_,...y)}function ct(E){const _="INTERNAL ASSERTION FAILED: "+E;throw Ht(_),new Error(_)}function Pt(E,_){E||ct(_)}function rn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Yn(){return"http:"===$n()||"https:"===$n()}function $n(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class fr{constructor(_,y){this.shortDelay=_,this.longDelay=y,Pt(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return function er(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Yn()||(0,te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tr(E,_){Pt(E.emulator,"Emulator should always be set here");const{url:y}=E.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class Ne{static initialize(_,y,M){this.fetchImpl=_,y&&(this.headersImpl=y),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new fr(3e4,6e4);function Le(E,_){return E.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:E.tenantId}):_}function ft(E,_,y,M){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(E,_,y,M,U={}){return Mt(E,U,(0,u.Z)(function*(){let K={},Re={};M&&("GET"===_?Re=M:K={body:JSON.stringify(M)});const Je=(0,te.xO)(Object.assign({key:E.config.apiKey},Re)).slice(1),Gt=yield E._getAdditionalHeaders();return Gt["Content-Type"]="application/json",E.languageCode&&(Gt["X-Firebase-Locale"]=E.languageCode),Ne.fetch()(pe(E,E.config.apiHost,y,Je),Object.assign({method:_,headers:Gt,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function Mt(E,_,y){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(E,_,y){E._canInitEmulator=!1;const M=Object.assign(Object.assign({},ze),_);try{const U=new Te(E),K=yield Promise.race([y(),U.promise]);U.clearNetworkTimeout();const Re=yield K.json();if("needConfirmation"in Re)throw st(E,"account-exists-with-different-credential",Re);if(K.ok&&!("errorMessage"in Re))return Re;{const Je=K.ok?Re.errorMessage:Re.error.message,[Gt,Kt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw st(E,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Gt)throw st(E,"email-already-in-use",Re);if("USER_DISABLED"===Gt)throw st(E,"user-disabled",Re);const Pn=M[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(Kt)throw Ve(E,Pn,Kt);Se(E,Pn)}}catch(U){if(U instanceof te.ZR)throw U;Se(E,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function lr(E,_,y,M){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.Z)(function*(E,_,y,M,U={}){const K=yield ft(E,_,y,M,U);return"mfaPendingCredential"in K&&Se(E,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function pe(E,_,y,M){const U=`${_}${y}?${M}`;return E.config.emulator?tr(E.config,U):`${E.config.apiScheme}://${U}`}class Te{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,M)=>{this.timer=setTimeout(()=>M(ut(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function st(E,_,y){const M={appName:E.name};y.email&&(M.email=y.email),y.phoneNumber&&(M.phoneNumber=y.phoneNumber);const U=ut(E,_,M);return U.customData._tokenResponse=y,U}function nt(){return(nt=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function vn(E){if(E)try{const _=new Date(Number(E));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function _n(){return(_n=(0,u.Z)(function*(E,_=!1){const y=(0,te.m9)(E),M=yield y.getIdToken(_),U=Ft(M);ae(U&&U.exp&&U.auth_time&&U.iat,y.auth,"internal-error");const K="object"==typeof U.firebase?U.firebase:void 0,Re=K?.sign_in_provider;return{claims:U,token:M,authTime:vn(Et(U.auth_time)),issuedAtTime:vn(Et(U.iat)),expirationTime:vn(Et(U.exp)),signInProvider:Re||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function Et(E){return 1e3*Number(E)}function Ft(E){const[_,y,M]=E.split(".");if(void 0===_||void 0===y||void 0===M)return Ht("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,te.tV)(y);return U?JSON.parse(U):(Ht("Failed to decode base64 JWT payload"),null)}catch(U){return Ht("Caught error parsing JWT payload as JSON",U?.toString()),null}}function hn(E,_){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(E,_,y=!1){if(y)return _;try{return yield _}catch(M){throw M instanceof te.ZR&&function pr({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(M)&&E.auth.currentUser===E&&(yield E.auth.signOut()),M}})).apply(this,arguments)}class bn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const U=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),M)}iteration(){var _=this;return(0,u.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&_.schedule(!0))}_.schedule()})()}}class Bn{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(E){return zn.apply(this,arguments)}function zn(){return zn=(0,u.Z)(function*(E){var _;const y=E.auth,M=yield E.getIdToken(),U=yield hn(E,function Mn(E,_){return Fn.apply(this,arguments)}(y,{idToken:M}));ae(U?.users.length,y,"internal-error");const K=U.users[0];E._notifyReloadListener(K);const Re=null!==(_=K.providerUserInfo)&&void 0!==_&&_.length?function li(E){return E.map(_=>{var{providerId:y}=_,M=(0,ve._T)(_,["providerId"]);return{providerId:y,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(K.providerUserInfo):[],Je=function _r(E,_){return[...E.filter(M=>!_.some(U=>U.providerId===M.providerId)),..._]}(E.providerData,Re),Pn=!!E.isAnonymous&&!(E.email&&K.passwordHash||Je?.length),wr={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:Je,metadata:new Bn(K.createdAt,K.lastLoginAt),isAnonymous:Pn};Object.assign(E,wr)}),zn.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(E){const _=(0,te.m9)(E);yield ni(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(E,_){const y=yield Mt(E,{},(0,u.Z)(function*(){const M=(0,te.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:U,apiKey:K}=E.config,Re=pe(E,U,"/v1/token",`key=${K}`),Je=yield E._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",Ne.fetch()(Re,{method:"POST",headers:Je,body:M})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ae(_.idToken,"internal-error"),ae(typeof _.idToken<"u","internal-error"),ae(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Dn(E){const _=Ft(E);return ae(_,"internal-error"),ae(typeof _.exp<"u","internal-error"),ae(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var M=this;return(0,u.Z)(function*(){return ae(!M.accessToken||M.refreshToken,_,"user-token-expired"),y||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var M=this;return(0,u.Z)(function*(){const{accessToken:U,refreshToken:K,expiresIn:Re}=yield function vr(E,_){return ri.apply(this,arguments)}(_,y);M.updateTokensAndExpiration(U,K,Number(Re))})()}updateTokensAndExpiration(_,y,M){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,y){const{refreshToken:M,accessToken:U,expirationTime:K}=y,Re=new Sr;return M&&(ae("string"==typeof M,"internal-error",{appName:_}),Re.refreshToken=M),U&&(ae("string"==typeof U,"internal-error",{appName:_}),Re.accessToken=U),K&&(ae("number"==typeof K,"internal-error",{appName:_}),Re.expirationTime=K),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Sr,this.toJSON())}_performRefresh(){return ct("not implemented")}}function qe(E,_){ae("string"==typeof E||typeof E>"u","internal-error",{appName:_})}class me{constructor(_){var{uid:y,auth:M,stsTokenManager:U}=_,K=(0,ve._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=M,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new Bn(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,u.Z)(function*(){const M=yield hn(y,y.stsTokenManager.getToken(y.auth,_));return ae(M,y.auth,"internal-error"),y.accessToken!==M&&(y.accessToken=M,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),M})()}getIdTokenResult(_){return function Jn(E){return _n.apply(this,arguments)}(this,_)}reload(){return function Br(E){return In.apply(this,arguments)}(this)}_assign(_){this!==_&&(ae(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const y=new me(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(_){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var M=this;return(0,u.Z)(function*(){let U=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),U=!0),y&&(yield ni(M)),yield M.auth._persistUserIfCurrent(M),U&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,u.Z)(function*(){const y=yield _.getIdToken();return yield hn(_,function Ct(E,_){return nt.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var M,U,K,Re,Je,Gt,Kt,Pn;const wr=null!==(M=y.displayName)&&void 0!==M?M:void 0,bo=null!==(U=y.email)&&void 0!==U?U:void 0,cc=null!==(K=y.phoneNumber)&&void 0!==K?K:void 0,Gl=null!==(Re=y.photoURL)&&void 0!==Re?Re:void 0,Qy=null!==(Je=y.tenantId)&&void 0!==Je?Je:void 0,df=null!==(Gt=y._redirectEventId)&&void 0!==Gt?Gt:void 0,md=null!==(Kt=y.createdAt)&&void 0!==Kt?Kt:void 0,gd=null!==(Pn=y.lastLoginAt)&&void 0!==Pn?Pn:void 0,{uid:Mp,emailVerified:hf,isAnonymous:lc,providerData:ch,stsTokenManager:Cu}=y;ae(Mp&&Cu,_,"internal-error");const ff=Sr.fromJSON(this.name,Cu);ae("string"==typeof Mp,_,"internal-error"),qe(wr,_.name),qe(bo,_.name),ae("boolean"==typeof hf,_,"internal-error"),ae("boolean"==typeof lc,_,"internal-error"),qe(cc,_.name),qe(Gl,_.name),qe(Qy,_.name),qe(df,_.name),qe(md,_.name),qe(gd,_.name);const Au=new me({uid:Mp,auth:_,email:bo,emailVerified:hf,displayName:wr,isAnonymous:lc,photoURL:Gl,phoneNumber:cc,tenantId:Qy,stsTokenManager:ff,createdAt:md,lastLoginAt:gd});return ch&&Array.isArray(ch)&&(Au.providerData=ch.map(Rp=>Object.assign({},Rp))),df&&(Au._redirectEventId=df),Au}static _fromIdTokenResponse(_,y,M=!1){return(0,u.Z)(function*(){const U=new Sr;U.updateFromServerResponse(y);const K=new me({uid:y.localId,auth:_,stsTokenManager:U,isAnonymous:M});return yield ni(K),K})()}}const it=new Map;function St(E){Pt(E instanceof Function,"Expected a class definition");let _=it.get(E);return _?(Pt(_ instanceof E,"Instance stored in cache mismatched with class"),_):(_=new E,it.set(E,_),_)}const fn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,M){var U=this;return(0,u.Z)(function*(){U.storage[y]=M})()}_get(y){var M=this;return(0,u.Z)(function*(){const U=M.storage[y];return void 0===U?null:U})()}_remove(y){var M=this;return(0,u.Z)(function*(){delete M.storage[y]})()}_addListener(y,M){}_removeListener(y,M){}}return E.type="NONE",E})();function ar(E,_,y){return`firebase:${E}:${_}:${y}`}class de{constructor(_,y,M){this.persistence=_,this.auth=y,this.userKey=M;const{config:U,name:K}=this.auth;this.fullUserKey=ar(this.userKey,U.apiKey,K),this.fullPersistenceKey=ar("persistence",U.apiKey,K),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?me._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,u.Z)(function*(){if(y.persistence===_)return;const M=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,M?y.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,M="authUser"){return(0,u.Z)(function*(){if(!y.length)return new de(St(fn),_,M);const U=(yield Promise.all(y.map(function(){var Kt=(0,u.Z)(function*(Pn){if(yield Pn._isAvailable())return Pn});return function(Pn){return Kt.apply(this,arguments)}}()))).filter(Kt=>Kt);let K=U[0]||St(fn);const Re=ar(M,_.config.apiKey,_.name);let Je=null;for(const Kt of y)try{const Pn=yield Kt._get(Re);if(Pn){const wr=me._fromJSON(_,Pn);Kt!==K&&(Je=wr),K=Kt;break}}catch{}const Gt=U.filter(Kt=>Kt._shouldAllowMigration);return K._shouldAllowMigration&&Gt.length?(K=Gt[0],Je&&(yield K._set(Re,Je.toJSON())),yield Promise.all(y.map(function(){var Kt=(0,u.Z)(function*(Pn){if(Pn!==K)try{yield Pn._remove(Re)}catch{}});return function(Pn){return Kt.apply(this,arguments)}}())),new de(K,_,M)):new de(K,_,M)})()}}function ce(E){const _=E.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(xe(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Y(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(jt(_))return"Blackberry";if(J(_))return"Webos";if(X(_))return"Safari";if((_.includes("chrome/")||G(_))&&!_.includes("edge/"))return"Chrome";if(_t(_))return"Android";{const M=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Y(E=(0,te.z$)()){return/firefox\//i.test(E)}function X(E=(0,te.z$)()){const _=E.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function G(E=(0,te.z$)()){return/crios\//i.test(E)}function xe(E=(0,te.z$)()){return/iemobile/i.test(E)}function _t(E=(0,te.z$)()){return/android/i.test(E)}function jt(E=(0,te.z$)()){return/blackberry/i.test(E)}function J(E=(0,te.z$)()){return/webos/i.test(E)}function se(E=(0,te.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Ce(E=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Lt(E=(0,te.z$)()){return se(E)||_t(E)||J(E)||jt(E)||/windows phone/i.test(E)||xe(E)}function Ar(E,_=[]){let y;switch(E){case"Browser":y=ce((0,te.z$)());break;case"Worker":y=`${ce((0,te.z$)())}-${E}`;break;default:y=E}const M=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${M}`}function kr(){return(kr=(0,u.Z)(function*(E){return(yield ft(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gi(E,_){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(E,_){return ft(E,"GET","/v2/recaptchaConfig",Le(E,_))})).apply(this,arguments)}function wn(E){return void 0!==E&&void 0!==E.getResponse}function ts(E){return void 0!==E&&void 0!==E.enterprise}class $a{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Wc(E){return new Promise((_,y)=>{const M=document.createElement("script");M.setAttribute("src",E),M.onload=_,M.onerror=U=>{const K=ut("internal-error");K.customData=U,y(K)},M.type="text/javascript",M.charset="UTF-8",function pl(){var E,_;return null!==(_=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==_?_:document}().appendChild(M)})}function xo(E){return`__${E}${Math.floor(1e6*Math.random())}`}class qa{constructor(_){this.type="recaptcha-enterprise",this.auth=ii(_)}verify(_="verify",y=!1){var M=this;return(0,u.Z)(function*(){function K(){return K=(0,u.Z)(function*(Je){if(!y){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var Gt=(0,u.Z)(function*(Kt,Pn){gi(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wr=>{if(void 0!==wr.recaptchaKey){const bo=new $a(wr);return null==Je.tenantId?Je._agentRecaptchaConfig=bo:Je._tenantRecaptchaConfigs[Je.tenantId]=bo,Kt(bo.siteKey)}Pn(new Error("recaptcha Enterprise site key undefined"))}).catch(wr=>{Pn(wr)})});return function(Kt,Pn){return Gt.apply(this,arguments)}}())}),K.apply(this,arguments)}function Re(Je,Gt,Kt){const Pn=window.grecaptcha;ts(Pn)?Pn.enterprise.ready(()=>{Pn.enterprise.execute(Je,{action:_}).then(wr=>{Gt(wr)}).catch(()=>{Gt("NO_RECAPTCHA")})}):Kt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Je,Gt)=>{(function U(Je){return K.apply(this,arguments)})(M.auth).then(Kt=>{if(!y&&ts(window.grecaptcha))Re(Kt,Je,Gt);else{if(typeof window>"u")return void Gt(new Error("RecaptchaVerifier is only supported in browser"));Wc("https://www.google.com/recaptcha/enterprise.js?render="+Kt).then(()=>{Re(Kt,Je,Gt)}).catch(Pn=>{Gt(Pn)})}}).catch(Kt=>{Gt(Kt)})})})()}}function Ro(E,_,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(E,_,y,M=!1){const U=new qa(E);let K;try{K=yield U.verify(y)}catch{K=yield U.verify(y,!0)}const Re=Object.assign({},_);return Object.assign(Re,M?{captchaResp:K}:{captchaResponse:K}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}class qo{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const M=K=>new Promise((Re,Je)=>{try{Re(_(K))}catch(Gt){Je(Gt)}});M.onAbort=y,this.queue.push(M);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,u.Z)(function*(){if(y.auth.currentUser===_)return;const M=[];try{for(const U of y.queue)yield U(_),U.onAbort&&M.push(U.onAbort)}catch(U){M.reverse();for(const K of M)try{K()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class Zo{constructor(_,y,M,U){this.app=_,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=M,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jd(this),this.idTokenSubscription=new jd(this),this.beforeStateQueue=new qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ht,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(_,y){var M=this;return y&&(this._popupRedirectResolver=St(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var U,K;if(!M._deleted&&(M.persistenceManager=yield de.create(M,_),!M._deleted)){if(null!==(U=M._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(y),M.lastNotifiedUid=(null===(K=M.currentUser)||void 0===K?void 0:K.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,u.Z)(function*(){var M;const U=yield y.assertedPersistence.getCurrentUser();let K=U,Re=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Je=null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId,Gt=K?._redirectEventId,Kt=yield y.tryRedirectSignIn(_);(!Je||Je===Gt)&&Kt?.user&&(K=Kt.user,Re=!0)}if(!K)return y.directlySetCurrentUser(null);if(!K._redirectEventId){if(Re)try{yield y.beforeStateQueue.runMiddleware(K)}catch(Je){K=U,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Je))}return K?y.reloadAndSetCurrentUserOrClear(K):y.directlySetCurrentUser(null)}return ae(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===K._redirectEventId?y.directlySetCurrentUser(K):y.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(_){var y=this;return(0,u.Z)(function*(){let M=null;try{M=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,u.Z)(function*(){try{yield ni(_)}catch(M){if("auth/network-request-failed"!==M?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Kn(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,u.Z)(function*(){const M=_?(0,te.m9)(_):null;return M&&ae(M.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(M&&M._clone(y))})()}_updateCurrentUser(_,y=!1){var M=this;return(0,u.Z)(function*(){if(!M._deleted)return _&&ae(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),y||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,u.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(St(_))}))}initializeRecaptchaConfig(){var _=this;return(0,u.Z)(function*(){const y=yield gi(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new $a(y);null==_.tenantId?_._agentRecaptchaConfig=M:_._tenantRecaptchaConfigs[_.tenantId]=M,M.emailPasswordEnabled&&new qa(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new te.LL("auth","Firebase",_())}onAuthStateChanged(_,y,M){return this.registerStateListener(this.authStateSubscription,_,y,M)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,M){return this.registerStateListener(this.idTokenSubscription,_,y,M)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var M=this;return(0,u.Z)(function*(){const U=yield M.getOrInitRedirectPersistenceManager(y);return null===_?U.removeCurrentUser():U.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const M=_&&St(_)||y._popupRedirectResolver;ae(M,y,"argument-error"),y.redirectPersistenceManager=yield de.create(y,[St(M._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,u.Z)(function*(){var M,U;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(M=y._currentUser)||void 0===M?void 0:M._redirectEventId)===_?y._currentUser:(null===(U=y.redirectUser)||void 0===U?void 0:U._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,u.Z)(function*(){if(_===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,M,U){if(this._deleted)return()=>{};const K="function"==typeof y?y:y.next.bind(y),Re=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(Re,this,"internal-error"),Re.then(()=>K(this.currentUser)),"function"==typeof y?_.addObserver(y,M,U):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==_&&y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh(),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var y;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const U=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();U&&(M["X-Firebase-Client"]=U);const K=yield _._getAppCheckToken();return K&&(M["X-Firebase-AppCheck"]=K),M})()}_getAppCheckToken(){var _=this;return(0,u.Z)(function*(){var y;const M=yield null===(y=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return M?.error&&function Bt(E,..._){lt.logLevel<=$.in.WARN&&lt.warn(`Auth (${B.SDK_VERSION}): ${E}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function ii(E){return(0,te.m9)(E)}class jd{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,te.ne)(y=>this.observer=y)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gl(E,_,y){const M=ii(E);ae(M._canInitEmulator,M,"emulator-config-failed"),ae(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const U=!!y?.disableWarnings,K=ps(_),{host:Re,port:Je}=function Tc(E){const _=ps(E),y=/(\/\/)?([^?#/]+)/.exec(E.substr(_.length));if(!y)return{host:"",port:null};const M=y[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(M);if(U){const K=U[1];return{host:K,port:Cc(M.substr(K.length+1))}}{const[K,Re]=M.split(":");return{host:K,port:Cc(Re)}}}(_);M.config.emulator={url:`${K}//${Re}${null===Je?"":`:${Je}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Re,port:Je,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function _l(){function E(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function ps(E){const _=E.indexOf(":");return _<0?"":E.substr(0,_+1)}function Cc(E){if(!E)return null;const _=Number(E);return isNaN(_)?null:_}class Ac{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return ct("not implemented")}_getIdTokenResponse(_){return ct("not implemented")}_linkToIdToken(_,y){return ct("not implemented")}_getReauthenticationResolver(_){return ct("not implemented")}}function ba(E,_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:resetPassword",Le(E,_))})).apply(this,arguments)}function yl(E,_){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:update",Le(E,_))})).apply(this,arguments)}function Kc(E,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signInWithPassword",Le(E,_))})).apply(this,arguments)}function Yc(E,_){return vl.apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:sendOobCode",Le(E,_))})).apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(E,_){return Yc(E,_)})).apply(this,arguments)}function Za(E,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(E,_){return Yc(E,_)})).apply(this,arguments)}function Ai(E,_){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(E,_){return Yc(E,_)})).apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(E,_){return Yc(E,_)})).apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signInWithEmailLink",Le(E,_))})).apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signInWithEmailLink",Le(E,_))})).apply(this,arguments)}class Ea extends Ac{constructor(_,y,M,U=null){super("password",M),this._email=_,this._password=y,this._tenantId=U}static _fromEmailAndPassword(_,y){return new Ea(_,y,"password")}static _fromEmailAndCode(_,y,M=null){return new Ea(_,y,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,u.Z)(function*(){var M;switch(y.signInMethod){case"password":const U={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=_._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const K=yield Ro(_,U,"signInWithPassword");return Kc(_,K)}return Kc(_,U).catch(function(){var K=(0,u.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield Ro(_,U,"signInWithPassword");return Kc(_,Je)}return Promise.reject(Re)});return function(Re){return K.apply(this,arguments)}}());case"emailLink":return function Ys(E,_){return Di.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:Se(_,"internal-error")}})()}_linkToIdToken(_,y){var M=this;return(0,u.Z)(function*(){switch(M.signInMethod){case"password":return yl(_,{idToken:y,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function zd(E,_){return bl.apply(this,arguments)}(_,{idToken:y,email:M._email,oobCode:M._password});default:Se(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Yo(E,_){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signInWithIdp",Le(E,_))})).apply(this,arguments)}class zt extends Ac{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new zt(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:U}=y,K=(0,ve._T)(y,["providerId","signInMethod"]);if(!M||!U)return null;const Re=new zt(M,U);return Re.idToken=K.idToken||void 0,Re.accessToken=K.accessToken||void 0,Re.secret=K.secret,Re.nonce=K.nonce,Re.pendingToken=K.pendingToken||null,Re}_getIdTokenResponse(_){return Yo(_,this.buildRequest())}_linkToIdToken(_,y){const M=this.buildRequest();return M.idToken=y,Yo(_,M)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Yo(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,te.xO)(y)}return _}}function Mr(){return(Mr=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:sendVerificationCode",Le(E,_))})).apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signInWithPhoneNumber",Le(E,_))})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(E,_){const y=yield lr(E,"POST","/v1/accounts:signInWithPhoneNumber",Le(E,_));if(y.temporaryProof)throw st(E,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Nr={USER_NOT_FOUND:"user-not-found"};function Qs(){return(Qs=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signInWithPhoneNumber",Le(E,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Nr)})).apply(this,arguments)}class En extends Ac{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new En({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new En({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function Ts(E,_){return Po.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function ns(E,_){return Xo.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Ns(E,_){return Qs.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:M,verificationCode:U}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:M,code:U}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:M,phoneNumber:U,temporaryProof:K}=_;return M||y||U||K?new En({verificationId:y,verificationCode:M,phoneNumber:U,temporaryProof:K}):null}}class Os{constructor(_){var y,M,U,K,Re,Je;const Gt=(0,te.zd)((0,te.pd)(_)),Kt=null!==(y=Gt.apiKey)&&void 0!==y?y:null,Pn=null!==(M=Gt.oobCode)&&void 0!==M?M:null,wr=function ui(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Gt.mode)&&void 0!==U?U:null);ae(Kt&&Pn&&wr,"argument-error"),this.apiKey=Kt,this.operation=wr,this.code=Pn,this.continueUrl=null!==(K=Gt.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(Re=Gt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(Je=Gt.tenantId)&&void 0!==Je?Je:null}static parseLink(_){const y=function Xu(E){const _=(0,te.zd)((0,te.pd)(E)).link,y=_?(0,te.zd)((0,te.pd)(_)).deep_link_id:null,M=(0,te.zd)((0,te.pd)(E)).deep_link_id;return(M?(0,te.zd)((0,te.pd)(M)).link:null)||M||y||_||E}(_);try{return new Os(y)}catch{return null}}}let Ya=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(y,M){return Ea._fromEmailAndPassword(y,M)}static credentialWithLink(y,M){const U=Os.parseLink(M);return ae(U,"argument-error"),Ea._fromEmailAndCode(y,U.code,U.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Cs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Gi extends Cs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Jo extends Gi{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return ae("providerId"in y&&"signInMethod"in y,"argument-error"),zt._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ae(_.idToken||_.accessToken,"argument-error"),zt._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Jo.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Jo.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:M,oauthTokenSecret:U,pendingToken:K,nonce:Re,providerId:Je}=_;if(!M&&!U&&!y&&!K||!Je)return null;try{return new Jo(Je)._credential({idToken:y,accessToken:M,nonce:Re,pendingToken:K})}catch{return null}}}let Qa=(()=>{class E extends Gi{constructor(){super("facebook.com")}static credential(y){return zt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ea=(()=>{class E extends Gi{constructor(){super("google.com"),this.addScope("profile")}static credential(y,M){return zt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:M})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:M,oauthAccessToken:U}=y;if(!M&&!U)return null;try{return E.credential(M,U)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Fs=(()=>{class E extends Gi{constructor(){super("github.com")}static credential(y){return zt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class As extends Ac{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return Yo(_,this.buildRequest())}_linkToIdToken(_,y){const M=this.buildRequest();return M.idToken=y,Yo(_,M)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Yo(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:U,pendingToken:K}=y;return M&&U&&K&&M===U?new As(M,K):null}static _create(_,y){return new As(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Il extends Cs{constructor(_){ae(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Il.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Il.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=As.fromJSON(_);return ae(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:M}=_;if(!y||!M)return null;try{return As._create(M,y)}catch{return null}}}let ta=(()=>{class E extends Gi{constructor(){super("twitter.com")}static credential(y,M){return zt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:M})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:M,oauthTokenSecret:U}=y;if(!M||!U)return null;try{return E.credential(M,U)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function ko(E,_){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signUp",Le(E,_))})).apply(this,arguments)}class Vi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,M,U=!1){return(0,u.Z)(function*(){const K=yield me._fromIdTokenResponse(_,M,U),Re=No(M);return new Vi({user:K,providerId:Re,_tokenResponse:M,operationType:y})})()}static _forOperation(_,y,M){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const U=No(M);return new Vi({user:_,providerId:U,_tokenResponse:M,operationType:y})})()}}function No(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function na(E){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(E){var _;const y=ii(E);if(yield y._initializationPromise,null!==(_=y.currentUser)&&void 0!==_&&_.isAnonymous)return new Vi({user:y.currentUser,providerId:null,operationType:"signIn"});const M=yield ko(y,{returnSecureToken:!0}),U=yield Vi._fromIdTokenResponse(y,"signIn",M,!0);return yield y._updateCurrentUser(U.user),U})).apply(this,arguments)}class au extends te.ZR{constructor(_,y,M,U){var K;super(y.code,y.message),this.operationType=M,this.user=U,Object.setPrototypeOf(this,au.prototype),this.customData={appName:_.name,tenantId:null!==(K=_.tenantId)&&void 0!==K?K:void 0,_serverResponse:y.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,y,M,U){return new au(_,y,M,U)}}function $i(E,_,y,M){return("reauthenticate"===_?y._getReauthenticationResolver(E):y._getIdTokenResponse(E)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?au._fromErrorAndOperation(E,K,_,M):K})}function _i(E){return new Set(E.map(({providerId:_})=>_).filter(_=>!!_))}function fo(E,_){return ra.apply(this,arguments)}function ra(){return ra=(0,u.Z)(function*(E,_){const y=(0,te.m9)(E);yield Ta(!0,y,_);const{providerUserInfo:M}=yield function Ye(E,_){return dn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),U=_i(M||[]);return y.providerData=y.providerData.filter(K=>U.has(K.providerId)),U.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),ra.apply(this,arguments)}function Ls(E,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(E,_,y=!1){const M=yield hn(E,_._linkToIdToken(E.auth,yield E.getIdToken()),y);return Vi._forOperation(E,"link",M)})).apply(this,arguments)}function Ta(E,_,y){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(E,_,y){yield ni(_);const U=!1===E?"provider-already-linked":"no-such-provider";ae(_i(_.providerData).has(y)===E,_.auth,U)})).apply(this,arguments)}function El(E,_){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,u.Z)(function*(E,_,y=!1){const{auth:M}=E,U="reauthenticate";try{const K=yield hn(E,$i(M,U,_,E),y);ae(K.idToken,M,"internal-error");const Re=Ft(K.idToken);ae(Re,M,"internal-error");const{sub:Je}=Re;return ae(E.uid===Je,M,"user-mismatch"),Vi._forOperation(E,U,K)}catch(K){throw"auth/user-not-found"===K?.code&&Se(M,"user-mismatch"),K}})).apply(this,arguments)}function Tl(E,_){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(E,_,y=!1){const M="signIn",U=yield $i(E,M,_),K=yield Vi._fromIdTokenResponse(E,M,U);return y||(yield E._updateCurrentUser(K.user)),K})).apply(this,arguments)}function Xa(E,_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(E,_){return Tl(ii(E),_)})).apply(this,arguments)}function Hd(E,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(E,_){const y=(0,te.m9)(E);return yield Ta(!1,y,_.providerId),Ls(y,_)})).apply(this,arguments)}function Er(E,_){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(E,_){return El((0,te.m9)(E),_)})).apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(E,_){return lr(E,"POST","/v1/accounts:signInWithCustomToken",Le(E,_))})).apply(this,arguments)}function Aa(E,_){return ec.apply(this,arguments)}function ec(){return ec=(0,u.Z)(function*(E,_){const y=ii(E),M=yield function Gd(E,_){return Ja.apply(this,arguments)}(y,{token:_,returnSecureToken:!0}),U=yield Vi._fromIdTokenResponse(y,"signIn",M);return yield y._updateCurrentUser(U.user),U}),ec.apply(this,arguments)}class Vs{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?lu._fromServerResponse(_,y):"totpInfo"in y?tc._fromServerResponse(_,y):Se(_,"internal-error")}}class lu extends Vs{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new lu(y)}}class tc extends Vs{constructor(_){super("totp",_)}static _fromServerResponse(_,y){return new tc(y)}}function nc(E,_,y){var M;ae((null===(M=y.url)||void 0===M?void 0:M.length)>0,E,"invalid-continue-uri"),ae(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ae(y.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(ae(y.android.packageName.length>0,E,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function $d(E,_,y){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,u.Z)(function*(E,_,y){var M;const U=ii(E),K={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=U._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Re=yield Ro(U,K,"getOobCode",!0);y&&nc(U,Re,y),yield Za(U,Re)}else y&&nc(U,K,y),yield Za(U,K).catch(function(){var Re=(0,u.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Gt=yield Ro(U,K,"getOobCode",!0);y&&nc(U,Gt,y),yield Za(U,Gt)}});return function(Je){return Re.apply(this,arguments)}}())}),Cl.apply(this,arguments)}function Al(E,_,y){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(E,_,y){yield ba((0,te.m9)(E),{oobCode:_,newPassword:y})})).apply(this,arguments)}function sa(E,_){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,u.Z)(function*(E,_){yield function Bd(E,_){return zi.apply(this,arguments)}((0,te.m9)(E),{oobCode:_})}),Xc.apply(this,arguments)}function gs(E,_){return S.apply(this,arguments)}function S(){return(S=(0,u.Z)(function*(E,_){const y=(0,te.m9)(E),M=yield ba(y,{oobCode:_}),U=M.requestType;switch(ae(U,y,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(M.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(M.mfaInfo,y,"internal-error");default:ae(M.email,y,"internal-error")}let K=null;return M.mfaInfo&&(K=Vs._fromServerResponse(ii(y),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:K},operation:U}})).apply(this,arguments)}function R(E,_){return N.apply(this,arguments)}function N(){return(N=(0,u.Z)(function*(E,_){const{data:y}=yield gs((0,te.m9)(E),_);return y.email})).apply(this,arguments)}function V(E,_,y){return Q.apply(this,arguments)}function Q(){return Q=(0,u.Z)(function*(E,_,y){var M;const U=ii(E),K={returnSecureToken:!0,email:_,password:y,clientType:"CLIENT_TYPE_WEB"};let Re;if(null!==(M=U._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Kt=yield Ro(U,K,"signUpPassword");Re=ko(U,Kt)}else Re=ko(U,K).catch(function(){var Kt=(0,u.Z)(function*(Pn){if("auth/missing-recaptcha-token"===Pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wr=yield Ro(U,K,"signUpPassword");return ko(U,wr)}return Promise.reject(Pn)});return function(Pn){return Kt.apply(this,arguments)}}());const Je=yield Re.catch(Kt=>Promise.reject(Kt)),Gt=yield Vi._fromIdTokenResponse(U,"signIn",Je);return yield U._updateCurrentUser(Gt.user),Gt}),Q.apply(this,arguments)}function he(E,_,y){return Xa((0,te.m9)(E),Ya.credential(_,y))}function Fe(E,_,y){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,u.Z)(function*(E,_,y){var M;const U=ii(E),K={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function Re(Je,Gt){ae(Gt.handleCodeInApp,U,"argument-error"),Gt&&nc(U,Je,Gt)}if(null!==(M=U._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Je=yield Ro(U,K,"getOobCode",!0);Re(Je,y),yield Ai(U,Je)}else Re(K,y),yield Ai(U,K).catch(function(){var Je=(0,u.Z)(function*(Gt){if("auth/missing-recaptcha-token"!==Gt.code)return Promise.reject(Gt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Kt=yield Ro(U,K,"getOobCode",!0);Re(Kt,y),yield Ai(U,Kt)}});return function(Gt){return Je.apply(this,arguments)}}())}),Ke.apply(this,arguments)}function Oe(E,_){const y=Os.parseLink(_);return"EMAIL_SIGNIN"===y?.operation}function gn(E,_,y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E),U=Ya.credentialWithLink(_,y||rn());return ae(U._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Xa(M,U)})).apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:createAuthUri",Le(E,_))})).apply(this,arguments)}function mo(E,_){return yi.apply(this,arguments)}function yi(){return yi=(0,u.Z)(function*(E,_){const M={identifier:_,continueUri:Yn()?rn():"http://localhost"},{signinMethods:U}=yield function Or(E,_){return Fr.apply(this,arguments)}((0,te.m9)(E),M);return U||[]}),yi.apply(this,arguments)}function go(E,_){return _s.apply(this,arguments)}function _s(){return _s=(0,u.Z)(function*(E,_){const y=(0,te.m9)(E),U={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};_&&nc(y.auth,U,_);const{email:K}=yield function wl(E,_){return Ko.apply(this,arguments)}(y.auth,U);K!==E.email&&(yield E.reload())}),_s.apply(this,arguments)}function Dl(E,_,y){return uu.apply(this,arguments)}function uu(){return uu=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:_};y&&nc(M.auth,K,y);const{email:Re}=yield function $r(E,_){return hi.apply(this,arguments)}(M.auth,K);Re!==E.email&&(yield E.reload())}),uu.apply(this,arguments)}function Jc(){return(Jc=(0,u.Z)(function*(E,_){return ft(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ed(E,_){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,u.Z)(function*(E,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const M=(0,te.m9)(E),K={idToken:yield M.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},Re=yield hn(M,function Sl(E,_){return Jc.apply(this,arguments)}(M.auth,K));M.displayName=Re.displayName||null,M.photoURL=Re.photoUrl||null;const Je=M.providerData.find(({providerId:Gt})=>"password"===Gt);Je&&(Je.displayName=M.displayName,Je.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Re)}),Wd.apply(this,arguments)}function ef(E,_){return xl((0,te.m9)(E),_,null)}function qd(E,_){return xl((0,te.m9)(E),null,_)}function xl(E,_,y){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,u.Z)(function*(E,_,y){const{auth:M}=E,K={idToken:yield E.getIdToken(),returnSecureToken:!0};_&&(K.email=_),y&&(K.password=y);const Re=yield hn(E,yl(M,K));yield E._updateTokensIfNecessary(Re,!0)})).apply(this,arguments)}class Ml{constructor(_,y,M={}){this.isNewUser=_,this.providerId=y,this.profile=M}}class Kd extends Ml{constructor(_,y,M,U){super(_,y,M),this.username=U}}class hu extends Ml{constructor(_,y){super(_,"facebook.com",y)}}class td extends Kd{constructor(_,y){super(_,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Yd extends Ml{constructor(_,y){super(_,"google.com",y)}}class fu extends Kd{constructor(_,y,M){super(_,"twitter.com",y,M)}}function xc(E){const{user:_,_tokenResponse:y}=E;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function du(E){var _,y;if(!E)return null;const{providerId:M}=E,U=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},K=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!M&&E?.idToken){const Re=null===(y=null===(_=Ft(E.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(Re)return new Ml(K,"anonymous"!==Re&&"custom"!==Re?Re:null)}if(!M)return null;switch(M){case"facebook.com":return new hu(K,U);case"github.com":return new td(K,U);case"google.com":return new Yd(K,U);case"twitter.com":return new fu(K,U,E.screenName||null);case"custom":case"anonymous":return new Ml(K,null);default:return new Ml(K,M,U)}}(y)}class _o{constructor(_,y,M){this.type=_,this.credential=y,this.auth=M}static _fromIdtoken(_,y){return new _o("enroll",_,y)}static _fromMfaPendingCredential(_){return new _o("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,M;if(_?.multiFactorSession){if(null!==(y=_.multiFactorSession)&&void 0!==y&&y.pendingCredential)return _o._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return _o._fromIdtoken(_.multiFactorSession.idToken)}return null}}class el{constructor(_,y,M){this.session=_,this.hints=y,this.signInResolver=M}static _fromError(_,y){const M=ii(_),U=y.customData._serverResponse,K=(U.mfaInfo||[]).map(Je=>Vs._fromServerResponse(M,Je));ae(U.mfaPendingCredential,M,"internal-error");const Re=_o._fromMfaPendingCredential(U.mfaPendingCredential);return new el(Re,K,function(){var Je=(0,u.Z)(function*(Gt){const Kt=yield Gt._process(M,Re);delete U.mfaInfo,delete U.mfaPendingCredential;const Pn=Object.assign(Object.assign({},U),{idToken:Kt.idToken,refreshToken:Kt.refreshToken});switch(y.operationType){case"signIn":const wr=yield Vi._fromIdTokenResponse(M,y.operationType,Pn);return yield M._updateCurrentUser(wr.user),wr;case"reauthenticate":return ae(y.user,M,"internal-error"),Vi._forOperation(y.user,y.operationType,Pn);default:Se(M,"internal-error")}});return function(Gt){return Je.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,u.Z)(function*(){return y.signInResolver(_)})()}}function kl(E,_){var y;const M=(0,te.m9)(E),U=_;return ae(_.customData.operationType,M,"argument-error"),ae(null===(y=U.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,M,"argument-error"),el._fromError(M,U)}class Nl{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(M=>Vs._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new Nl(_)}getSession(){var _=this;return(0,u.Z)(function*(){return _o._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,y){var M=this;return(0,u.Z)(function*(){const U=_,K=yield M.getSession(),Re=yield hn(M.user,U._process(M.user.auth,K,y));return yield M.user._updateTokensIfNecessary(Re),M.user.reload()})()}unenroll(_){var y=this;return(0,u.Z)(function*(){const M="string"==typeof _?_:_.uid,U=yield y.user.getIdToken();try{const K=yield hn(y.user,function Xd(E,_){return ft(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Le(E,_))}(y.user.auth,{idToken:U,mfaEnrollmentId:M}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Re})=>Re!==M),yield y.user._updateTokensIfNecessary(K),yield y.user.reload()}catch(K){throw K}})()}}const Tr=new WeakMap;function rc(E){const _=(0,te.m9)(E);return Tr.has(_)||Tr.set(_,Nl._fromUser(_)),Tr.get(_)}const oa="__sak";class Ds{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(oa,"1"),this.storage.removeItem(oa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fl=(()=>{class E extends Ds{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,M)=>this.onStorageEvent(y,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ip(){const E=(0,te.z$)();return X(E)||se(E)}()&&function ur(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Lt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const M of Object.keys(this.listeners)){const U=this.storage.getItem(M),K=this.localCache[M];U!==K&&y(M,K,U)}}onStorageEvent(y,M=!1){if(!y.key)return void this.forAllChangedKeys((Je,Gt,Kt)=>{this.notifyListeners(Je,Kt)});const U=y.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(U);if(y.newValue!==Je)null!==y.newValue?this.storage.setItem(U,y.newValue):this.storage.removeItem(U);else if(this.localCache[U]===y.newValue&&!M)return}const K=()=>{const Je=this.storage.getItem(U);!M&&this.localCache[U]===Je||this.notifyListeners(U,Je)},Re=this.storage.getItem(U);!function Ot(){return(0,te.w1)()&&10===document.documentMode}()||Re===y.newValue||y.newValue===y.oldValue?K():setTimeout(K,10)}notifyListeners(y,M){this.localCache[y]=M;const U=this.listeners[y];if(U)for(const K of Array.from(U))K(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,M,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:M,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(M)}_removeListener(y,M){this.listeners[y]&&(this.listeners[y].delete(M),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,M){var U=()=>super._set,K=this;return(0,u.Z)(function*(){yield U().call(K,y,M),K.localCache[y]=JSON.stringify(M)})()}_get(y){var M=()=>super._get,U=this;return(0,u.Z)(function*(){const K=yield M().call(U,y);return U.localCache[y]=JSON.stringify(K),K})()}_remove(y){var M=()=>super._remove,U=this;return(0,u.Z)(function*(){yield M().call(U,y),delete U.localCache[y]})()}}return E.type="LOCAL",E})(),gu=(()=>{class E extends Ds{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,M){}_removeListener(y,M){}}return E.type="SESSION",E})();let nf=(()=>{class E{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const M=this.receivers.find(K=>K.isListeningto(y));if(M)return M;const U=new E(y);return this.receivers.push(U),U}isListeningto(y){return this.eventTarget===y}handleEvent(y){var M=this;return(0,u.Z)(function*(){const U=y,{eventId:K,eventType:Re,data:Je}=U.data,Gt=M.handlersMap[Re];if(!Gt?.size)return;U.ports[0].postMessage({status:"ack",eventId:K,eventType:Re});const Kt=Array.from(Gt).map(function(){var wr=(0,u.Z)(function*(bo){return bo(U.origin,Je)});return function(bo){return wr.apply(this,arguments)}}()),Pn=yield function ic(E){return Promise.all(E.map(function(){var _=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(M){return{fulfilled:!1,reason:M}}});return function(y){return _.apply(this,arguments)}}()))}(Kt);U.ports[0].postMessage({status:"done",eventId:K,eventType:Re,response:Pn})})()}_subscribe(y,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(M)}_unsubscribe(y,M){this.handlersMap[y]&&M&&this.handlersMap[y].delete(M),(!M||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Rc(E="",_=10){let y="";for(let M=0;M<_;M++)y+=Math.floor(10*Math.random());return E+y}class rf{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,M=50){var U=this;return(0,u.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let Re,Je;return new Promise((Gt,Kt)=>{const Pn=Rc("",20);K.port1.start();const wr=setTimeout(()=>{Kt(new Error("unsupported_event"))},M);Je={messageChannel:K,onMessage(bo){const cc=bo;if(cc.data.eventId===Pn)switch(cc.data.status){case"ack":clearTimeout(wr),Re=setTimeout(()=>{Kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Gt(cc.data.response);break;default:clearTimeout(wr),clearTimeout(Re),Kt(new Error("invalid_response"))}}},U.handlers.add(Je),K.port1.addEventListener("message",Je.onMessage),U.target.postMessage({eventType:_,eventId:Pn,data:y},[K.port2])}).finally(()=>{Je&&U.removeMessageHandler(Je)})})()}}function Ui(){return window}function eh(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function _u(){return(_u=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Si="firebaseLocalStorageDb",xi="firebaseLocalStorage",Da="fbase_key";class rl{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function sd(E,_){return E.transaction([xi],_?"readwrite":"readonly").objectStore(xi)}function th(){const E=indexedDB.open(Si,1);return new Promise((_,y)=>{E.addEventListener("error",()=>{y(E.error)}),E.addEventListener("upgradeneeded",()=>{const M=E.result;try{M.createObjectStore(xi,{keyPath:Da})}catch(U){y(U)}}),E.addEventListener("success",(0,u.Z)(function*(){const M=E.result;M.objectStoreNames.contains(xi)?_(M):(M.close(),yield function af(){const E=indexedDB.deleteDatabase(Si);return new rl(E).toPromise()}(),_(yield th()))}))})}function nh(E,_,y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(E,_,y){const M=sd(E,!0).put({[Da]:_,value:y});return new rl(M).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(E,_){const y=sd(E,!1).get(_),M=yield new rl(y).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Ll(E,_){const y=sd(E,!0).delete(_);return new rl(y).toPromise()}const aa=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield th()),y.db})()}_withRetries(y){var M=this;return(0,u.Z)(function*(){let U=0;for(;;)try{const K=yield M._openDb();return yield y(K)}catch(K){if(U++>3)throw K;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return eh()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=nf._getInstance(function yu(){return eh()?self:null}()),y.receiver._subscribe("keyChanged",function(){var M=(0,u.Z)(function*(U,K){return{keyProcessed:(yield y._poll()).includes(K.key)}});return function(U,K){return M.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var M=(0,u.Z)(function*(U,K){return["keyChanged"]});return function(U,K){return M.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var M,U;if(y.activeServiceWorker=yield function Hn(){return _u.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new rf(y.activeServiceWorker);const K=yield y.sender._send("ping",{},800);K&&null!==(M=K[0])&&void 0!==M&&M.fulfilled&&null!==(U=K[0])&&void 0!==U&&U.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var M=this;return(0,u.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Ep(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:y},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield th();return yield nh(y,oa,"1"),yield Ll(y,oa),!0}catch{}return!1})()}_withPendingWrite(y){var M=this;return(0,u.Z)(function*(){M.pendingWrites++;try{yield y()}finally{M.pendingWrites--}})()}_set(y,M){var U=this;return(0,u.Z)(function*(){return U._withPendingWrite((0,u.Z)(function*(){return yield U._withRetries(K=>nh(K,y,M)),U.localCache[y]=M,U.notifyServiceWorker(y)}))})()}_get(y){var M=this;return(0,u.Z)(function*(){const U=yield M._withRetries(K=>function yr(E,_){return Xs.apply(this,arguments)}(K,y));return M.localCache[y]=U,U})()}_remove(y){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(U=>Ll(U,y)),delete M.localCache[y],M.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const M=yield y._withRetries(Re=>{const Je=sd(Re,!1).getAll();return new rl(Je).toPromise()});if(!M)return[];if(0!==y.pendingWrites)return[];const U=[],K=new Set;for(const{fbase_key:Re,value:Je}of M)K.add(Re),JSON.stringify(y.localCache[Re])!==JSON.stringify(Je)&&(y.notifyListeners(Re,Je),U.push(Re));for(const Re of Object.keys(y.localCache))y.localCache[Re]&&!K.has(Re)&&(y.notifyListeners(Re,null),U.push(Re));return U})()}notifyListeners(y,M){this.localCache[y]=M;const U=this.listeners[y];if(U)for(const K of Array.from(U))K(M)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(M)}_removeListener(y,M){this.listeners[y]&&(this.listeners[y].delete(M),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),ji=1e12;class ca{constructor(_){this.auth=_,this.counter=ji,this._widgets=new Map}render(_,y){const M=this.counter;return this._widgets.set(M,new rh(_,this.auth.name,y||{})),this.counter++,M}reset(_){var y;const M=_||ji;null===(y=this._widgets.get(M))||void 0===y||y.delete(),this._widgets.delete(M)}getResponse(_){var y;return(null===(y=this._widgets.get(_||ji))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,u.Z)(function*(){var M;return null===(M=y._widgets.get(_||ji))||void 0===M||M.execute(),""})()}}class rh{constructor(_,y,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof _?document.getElementById(_):_;ae(U,"argument-error",{appName:y}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sa(E){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<E;M++)_.push(y.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Us=xo("rcb"),uf=new fr(3e4,6e4);class wu{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Ui().grecaptcha)||void 0===_||!_.render)}load(_,y=""){return ae(function Tp(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(y),_,"argument-error"),this.shouldResolveImmediately(y)&&wn(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((M,U)=>{const K=Ui().setTimeout(()=>{U(ut(_,"network-request-failed"))},uf.get());Ui()[Us]=()=>{Ui().clearTimeout(K),delete Ui()[Us];const Je=Ui().grecaptcha;if(!Je||!wn(Je))return void U(ut(_,"internal-error"));const Gt=Je.render;Je.render=(Kt,Pn)=>{const wr=Gt(Kt,Pn);return this.counter++,wr},this.hostLanguage=y,M(Je)},Wc(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:Us,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(K),U(ut(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var y;return!(null===(y=Ui().grecaptcha)||void 0===y||!y.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bu{load(_){return(0,u.Z)(function*(){return new ca(_)})()}clearedOneInstance(){}}const ud="recaptcha",Ul={theme:"light",type:"image"};class jl{constructor(_,y=Object.assign({},Ul),M){this.parameters=y,this.type=ud,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ii(M),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof _?document.getElementById(_):_;ae(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bu:new wu,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(y)||new Promise(K=>{const Re=Je=>{Je&&(_.tokenChangeListeners.delete(Re),K(Je))};_.tokenChangeListeners.add(Re),_.isInvisible&&M.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(M=>M(y)),"function"==typeof _)_(y);else if("string"==typeof _){const M=Ui()[_];"function"==typeof M&&M(y)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const M=document.createElement("div");y.appendChild(M),y=M}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){ae(Yn()&&!eh(),_.auth,"internal-error"),yield function dd(){let E=null;return new Promise(_=>{"complete"!==document.readyState?(E=()=>_(),window.addEventListener("load",E)):_()}).catch(_=>{throw E&&window.removeEventListener("load",E),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function xr(E){return kr.apply(this,arguments)}(_.auth);ae(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hd{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=En._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function vi(E,_,y){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(E,_,y){const M=ii(E),U=yield j(M,_,(0,te.m9)(y));return new hd(U,K=>Xa(M,K))})).apply(this,arguments)}function il(E,_,y){return b.apply(this,arguments)}function b(){return(b=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E);yield Ta(!1,M,"phone");const U=yield j(M.auth,_,(0,te.m9)(y));return new hd(U,K=>Hd(M,K))})).apply(this,arguments)}function D(E,_,y){return T.apply(this,arguments)}function T(){return(T=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E),U=yield j(M.auth,_,(0,te.m9)(y));return new hd(U,K=>Er(M,K))})).apply(this,arguments)}function j(E,_,y){return ie.apply(this,arguments)}function ie(){return ie=(0,u.Z)(function*(E,_,y){var M;const U=yield y.verify();try{let K;if(ae("string"==typeof U,E,"argument-error"),ae(y.type===ud,E,"argument-error"),K="string"==typeof _?{phoneNumber:_}:_,"session"in K){const Re=K.session;if("phoneNumber"in K)return ae("enroll"===Re.type,E,"internal-error"),(yield function Qd(E,_){return ft(E,"POST","/v2/accounts/mfaEnrollment:start",Le(E,_))}(E,{idToken:Re.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{ae("signin"===Re.type,E,"internal-error");const Je=(null===(M=K.multiFactorHint)||void 0===M?void 0:M.uid)||K.multiFactorUid;return ae(Je,E,"missing-multi-factor-info"),(yield function od(E,_){return ft(E,"POST","/v2/accounts/mfaSignIn:start",Le(E,_))}(E,{mfaPendingCredential:Re.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Re}=yield function Un(E,_){return Mr.apply(this,arguments)}(E,{phoneNumber:K.phoneNumber,recaptchaToken:U});return Re}}finally{y._reset()}}),ie.apply(this,arguments)}function fe(E,_){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(E,_){yield Ls((0,te.m9)(E),_)})).apply(this,arguments)}let Me=(()=>{class E{constructor(y){this.providerId=E.PROVIDER_ID,this.auth=ii(y)}verifyPhoneNumber(y,M){return j(this.auth,y,(0,te.m9)(M))}static credential(y,M){return En._fromVerification(y,M)}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:M,temporaryProof:U}=y;return M&&U?En._fromTokenResponse(M,U):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ue(E,_){return _?St(_):(ae(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class bt extends Ac{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Yo(_,this._buildIdpRequest())}_linkToIdToken(_,y){return Yo(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return Yo(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function Ge(E){return Tl(E.auth,new bt(E),E.bypassAuthState)}function ln(E){const{auth:_,user:y}=E;return ae(y,_,"internal-error"),El(y,new bt(E),E.bypassAuthState)}function Tn(E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(E){const{auth:_,user:y}=E;return ae(y,_,"internal-error"),Ls(y,new bt(E),E.bypassAuthState)})).apply(this,arguments)}class en{constructor(_,y,M,U,K=!1){this.auth=_,this.resolver=M,this.user=U,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,u.Z)(function*(M,U){_.pendingPromise={resolve:M,reject:U};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(K){_.reject(K)}});return function(M,U){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,u.Z)(function*(){const{urlResponse:M,sessionId:U,postBody:K,tenantId:Re,error:Je,type:Gt}=_;if(Je)return void y.reject(Je);const Kt={auth:y.auth,requestUri:M,sessionId:U,tenantId:Re||void 0,postBody:K||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Gt)(Kt))}catch(Pn){y.reject(Pn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Ge;case"linkViaPopup":case"linkViaRedirect":return Tn;case"reauthViaPopup":case"reauthViaRedirect":return ln;default:Se(this.auth,"internal-error")}}resolve(_){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rn=new fr(2e3,1e4);function Qt(E,_,y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(E,_,y){const M=ii(E);tt(E,_,Cs);const U=Ue(M,y);return new Bi(M,"signInViaPopup",_,U).executeNotNull()})).apply(this,arguments)}function Ln(E,_,y){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E);tt(M.auth,_,Cs);const U=Ue(M.auth,y);return new Bi(M.auth,"reauthViaPopup",_,U,M).executeNotNull()})).apply(this,arguments)}function Rr(E,_,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E);tt(M.auth,_,Cs);const U=Ue(M.auth,y);return new Bi(M.auth,"linkViaPopup",_,U,M).executeNotNull()})).apply(this,arguments)}let Bi=(()=>{class E extends en{constructor(y,M,U,K,Re){super(y,M,K,Re),this.provider=U,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const M=yield y.execute();return ae(M,y.auth,"internal-error"),M})()}onExecution(){var y=this;return(0,u.Z)(function*(){Pt(1===y.filter.length,"Popup operations only handle one event");const M=Rc();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],M),y.authWindow.associatedEvent=M,y.resolver._originValidation(y.auth).catch(U=>{y.reject(U)}),y.resolver._isIframeWebStorageSupported(y.auth,U=>{U||y.reject(ut(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const y=()=>{var M,U;this.pollId=null!==(U=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Rn.get())};y()}}return E.currentPopupAction=null,E})();const js="pendingRedirect",Wi=new Map;class Oo extends en{constructor(_,y,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,u.Z)(function*(){let M=Wi.get(y.auth._key());if(!M){try{const K=(yield function xa(E,_){return Js.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;M=()=>Promise.resolve(K)}catch(U){M=()=>Promise.reject(U)}Wi.set(y.auth._key(),M)}return y.bypassAuthState||Wi.set(y.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,M=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(M,_);if("unknown"!==_.type){if(_.eventId){const U=yield M.auth._redirectUserForId(_.eventId);if(U)return M.user=U,y().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Js(){return(Js=(0,u.Z)(function*(E,_){const y=Iu(_),M=qi(E);if(!(yield M._isAvailable()))return!1;const U="true"===(yield M._get(y));return yield M._remove(y),U})).apply(this,arguments)}function eo(E,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(E,_){return qi(E)._set(Iu(_),"true")})).apply(this,arguments)}function la(){Wi.clear()}function Pc(E,_){Wi.set(E._key(),_)}function qi(E){return St(E._redirectPersistence)}function Iu(E){return ar(js,E.config.apiKey,E.name)}function Ma(E,_,y){return function wi(E,_,y){return qr.apply(this,arguments)}(E,_,y)}function qr(){return(qr=(0,u.Z)(function*(E,_,y){const M=ii(E);tt(E,_,Cs),yield M._initializationPromise;const U=Ue(M,y);return yield eo(U,M),U._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function ss(E,_,y){return function to(E,_,y){return Ri.apply(this,arguments)}(E,_,y)}function Ri(){return(Ri=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E);tt(M.auth,_,Cs),yield M.auth._initializationPromise;const U=Ue(M.auth,y);yield eo(U,M.auth);const K=yield nr(M);return U._openRedirect(M.auth,_,"reauthViaRedirect",K)})).apply(this,arguments)}function Zi(E,_,y){return function Bs(E,_,y){return Lr.apply(this,arguments)}(E,_,y)}function Lr(){return(Lr=(0,u.Z)(function*(E,_,y){const M=(0,te.m9)(E);tt(M.auth,_,Cs),yield M.auth._initializationPromise;const U=Ue(M.auth,y);yield Ta(!1,M,_.providerId),yield eo(U,M.auth);const K=yield nr(M);return U._openRedirect(M.auth,_,"linkViaRedirect",K)})).apply(this,arguments)}function Lo(E,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(E,_){return yield ii(E)._initializationPromise,no(E,_,!1)})).apply(this,arguments)}function no(E,_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(E,_,y=!1){const M=ii(E),U=Ue(M,_),Re=yield new Oo(M,U,y).execute();return Re&&!y&&(delete Re.user._redirectEventId,yield M._persistUserIfCurrent(Re.user),yield M._setRedirectUser(null,_)),Re})).apply(this,arguments)}function nr(E){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(E){const _=Rc(`${E.uid}:::`);return E._redirectEventId=_,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),_})).apply(this,arguments)}class Zr{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(y=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function ys(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ro(E);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var M;if(_.error&&!ro(_)){const U=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";y.onError(ut(this.auth,U))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const M=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(si(_))}saveEventToCache(_){this.cachedEventUids.add(si(_)),this.lastProcessedEventTime=Date.now()}}function si(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(_=>_).join("-")}function ro({type:E,error:_}){return"unknown"===E&&"auth/no-auth-event"===_?.code}function Ki(E){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(E,_={}){return ft(E,"GET","/v1/projects",_)})).apply(this,arguments)}const Xn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,io=/^https?/;function oc(){return(oc=(0,u.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:_}=yield Ki(E);for(const y of _)try{if(ih(y))return}catch{}Se(E,"unauthorized-domain")})).apply(this,arguments)}function ih(E){const _=rn(),{protocol:y,hostname:M}=new URL(_);if(E.startsWith("chrome-extension://")){const Re=new URL(E);return""===Re.hostname&&""===M?"chrome-extension:"===y&&E.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&Re.hostname===M}if(!io.test(y))return!1;if(Xn.test(E))return M===E;const U=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(M)}const Bl=new fr(3e4,6e4);function zs(){const E=Ui().___jsl;if(E?.H)for(const _ of Object.keys(E.H))if(E.H[_].r=E.H[_].r||[],E.H[_].L=E.H[_].L||[],E.H[_].r=[...E.H[_].L],E.CP)for(let y=0;y<E.CP.length;y++)E.CP[y]=null}let os=null;const Ap=new fr(5e3,15e3),ac="__/auth/iframe",Dp="emulator/auth/iframe",Eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eu(E){const _=E.config;ae(_.authDomain,E,"auth-domain-config-required");const y=_.emulator?tr(_,Dp):`https://${E.config.authDomain}/${ac}`,M={apiKey:_.apiKey,appName:E.name,v:B.SDK_VERSION},U=fd.get(E.config.apiHost);U&&(M.eid=U);const K=E._getFrameworks();return K.length&&(M.fw=K.join(",")),`${y}?${(0,te.xO)(M).slice(1)}`}function kc(){return kc=(0,u.Z)(function*(E){const _=yield function wo(E){return os=os||function Cp(E){return new Promise((_,y)=>{var M,U,K;function Re(){zs(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{zs(),y(ut(E,"network-request-failed"))},timeout:Bl.get()})}if(null!==(U=null===(M=Ui().gapi)||void 0===M?void 0:M.iframes)&&void 0!==U&&U.Iframe)_(gapi.iframes.getContext());else{if(null===(K=Ui().gapi)||void 0===K||!K.load){const Je=xo("iframefcb");return Ui()[Je]=()=>{gapi.load?Re():y(ut(E,"network-request-failed"))},Wc(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Gt=>y(Gt))}Re()}}).catch(_=>{throw os=null,_})}(E),os}(E),y=Ui().gapi;return ae(y,E,"internal-error"),_.open({where:document.body,url:Eu(E),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eg,dontclear:!0},M=>new Promise(function(){var U=(0,u.Z)(function*(K,Re){yield M.restyle({setHideOnLeave:!1});const Je=ut(E,"network-request-failed"),Gt=Ui().setTimeout(()=>{Re(Je)},Ap.get());function Kt(){Ui().clearTimeout(Gt),K(M)}M.ping(Kt).then(Kt,()=>{Re(Je)})});return function(K,Re){return U.apply(this,arguments)}}()))}),kc.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pe{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $t="__/auth/handler",Cn="emulator/auth/handler",Zn=encodeURIComponent("fac");function Nn(E,_,y,M,U,K){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(E,_,y,M,U,K){ae(E.config.authDomain,E,"auth-domain-config-required"),ae(E.config.apiKey,E,"invalid-api-key");const Re={apiKey:E.config.apiKey,appName:E.name,authType:y,redirectUrl:M,v:B.SDK_VERSION,eventId:U};if(_ instanceof Cs){_.setDefaultLanguage(E.languageCode),Re.providerId=_.providerId||"",(0,te.xb)(_.getCustomParameters())||(Re.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Pn,wr]of Object.entries(K||{}))Re[Pn]=wr}if(_ instanceof Gi){const Pn=_.getScopes().filter(wr=>""!==wr);Pn.length>0&&(Re.scopes=Pn.join(","))}E.tenantId&&(Re.tid=E.tenantId);const Je=Re;for(const Pn of Object.keys(Je))void 0===Je[Pn]&&delete Je[Pn];const Gt=yield E._getAppCheckToken(),Kt=Gt?`#${Zn}=${encodeURIComponent(Gt)}`:"";return`${function Yi({config:E}){return E.emulator?tr(E,Cn):`https://${E.authDomain}/${$t}`}(E)}?${(0,te.xO)(Je).slice(1)}${Kt}`})).apply(this,arguments)}const pi="webStorageSupport",Vo=class pd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gu,this._completeRedirectFn=no,this._overrideRedirectResult=Pc}_openPopup(_,y,M,U){var K=this;return(0,u.Z)(function*(){var Re;Pt(null===(Re=K.eventManagers[_._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const Je=yield Nn(_,y,M,rn(),U);return function ot(E,_,y,M=500,U=600){const K=Math.max((window.screen.availHeight-U)/2,0).toString(),Re=Math.max((window.screen.availWidth-M)/2,0).toString();let Je="";const Gt=Object.assign(Object.assign({},C),{width:M.toString(),height:U.toString(),top:K,left:Re}),Kt=(0,te.z$)().toLowerCase();y&&(Je=G(Kt)?"_blank":y),Y(Kt)&&(_=_||"http://localhost",Gt.scrollbars="yes");const Pn=Object.entries(Gt).reduce((bo,[cc,Gl])=>`${bo}${cc}=${Gl},`,"");if(function Xe(E=(0,te.z$)()){var _;return se(E)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Kt)&&"_self"!==Je)return function Wt(E,_){const y=document.createElement("a");y.href=E,y.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(M)}(_||"",Je),new Pe(null);const wr=window.open(_||"",Je,Pn);ae(wr,E,"popup-blocked");try{wr.focus()}catch{}return new Pe(wr)}(_,Je,Rc())})()}_openRedirect(_,y,M,U){var K=this;return(0,u.Z)(function*(){return yield K._originValidation(_),function nl(E){Ui().location.href=E}(yield Nn(_,y,M,rn(),U)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:U,promise:K}=this.eventManagers[y];return U?Promise.resolve(U):(Pt(K,"If manager is not set, promise should be"),K)}const M=this.initAndGetManager(_);return this.eventManagers[y]={promise:M},M.catch(()=>{delete this.eventManagers[y]}),M}initAndGetManager(_){var y=this;return(0,u.Z)(function*(){const M=yield function zl(E){return kc.apply(this,arguments)}(_),U=new Zr(_);return M.register("authEvent",K=>(ae(K?.authEvent,_,"invalid-auth-event"),{status:U.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:U},y.iframes[_._key()]=M,U})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(pi,{type:pi},U=>{var K;const Re=null===(K=U?.[0])||void 0===K?void 0:K[pi];void 0!==Re&&y(!!Re),Se(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function sc(E){return oc.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return Lt()||X()||se()}};class ua{constructor(_){this.factorId=_}_process(_,y,M){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,M);case"signin":return this._finalizeSignIn(_,y.credential);default:return ct("unexpected MultiFactorSessionType")}}}class ki extends ua{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ki(_)}_finalizeEnroll(_,y,M){return function tl(E,_){return ft(E,"POST","/v2/accounts/mfaEnrollment:finalize",Le(E,_))}(_,{idToken:y,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function ad(E,_){return ft(E,"POST","/v2/accounts/mfaSignIn:finalize",Le(E,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hl=(()=>{class E{constructor(){}static assertion(y){return ki._fromCredential(y)}}return E.FACTOR_ID="phone",E})();var mb="@firebase/auth";class NA{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);y&&(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,te.Pz)("authIdTokenMaxAge"),function Tg(E){(0,B._registerComponent)(new _e.wA("auth",(_,{options:y})=>{const M=_.getProvider("app").getImmediate(),U=_.getProvider("heartbeat"),K=_.getProvider("app-check-internal"),{apiKey:Re,authDomain:Je}=M.options;ae(Re&&!Re.includes(":"),"invalid-api-key",{appName:M.name});const Gt={apiKey:Re,authDomain:Je,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ar(E)},Kt=new Zo(M,U,K,Gt);return function qc(E,_){const y=_?.persistence||[],M=(Array.isArray(y)?y:[y]).map(St);_?.errorMap&&E._updateErrorMap(_.errorMap),E._initializeWithPersistence(M,_?.popupRedirectResolver)}(Kt,y),Kt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,M)=>{_.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new _e.wA("auth-internal",_=>{const y=ii(_.getProvider("auth").getImmediate());return new NA(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(mb,"0.23.2",function Ra(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,B.registerVersion)(mb,"0.23.2","esm2017")}("Browser")},9347:nn=>{!function(){"use strict";var et={d:function(S,R){for(var N in R)et.o(R,N)&&!et.o(S,N)&&Object.defineProperty(S,N,{enumerable:!0,get:R[N]})},o:function(S,R){return Object.prototype.hasOwnProperty.call(S,R)},r:function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},W={};function u(S){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function _e(){}function De(S,R,N){if(!S.s){if(N instanceof Ae){if(!N.s)return void(N.o=De.bind(null,S,R));1&R&&(R=N.s),N=N.v}if(N&&N.then)return void N.then(De.bind(null,S,R),De.bind(null,S,2));S.s=R,S.v=N;var V=S.o;V&&V(S)}}et.r(W),et.d(W,{AuthManager:function(){return gs},BaseAPI:function(){return Ct},BinaryResult:function(){return He},BytescaleApiClientConfigUtils:function(){return st},BytescaleApiError:function(){return Ye},CancelledError:function(){return nt},CommonTypesNoOp:function(){return ii},FileApi:function(){return _r},FolderApi:function(){return X},JSONApiResponse:function(){return Fn},JobApi:function(){return gi},UploadApi:function(){return Zo},UploadManager:function(){return El},UrlBuilder:function(){return vl},UrlBuilderTypesNoOp:function(){return wl},VoidApiResponse:function(){return vn},querystring:function(){return dn}});var Ae=function(){function S(){}return S.prototype.then=function(R,N){var V=new S,Q=this.s;if(Q){var he=1&Q?R:N;if(he){try{De(V,1,he(this.v))}catch(Fe){De(V,2,Fe)}return V}return this}return this.o=function(Fe){try{var Ke=Fe.v;1&Fe.s?De(V,1,R?R(Ke):Ke):N?De(V,1,N(Ke)):De(V,2,Ke)}catch(Oe){De(V,2,Oe)}},V},S}();function q(S){return S instanceof Ae&&1&S.s}function We(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,ht(V.key),V)}}function ht(S){var R=function kt(S,R){if("object"!==u(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==u(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===u(R)?R:String(R)}var lt=function(){function S(){(function mt(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),this.mutex=void 0,this.resolver=void 0}return function yt(S,R,N){R&&We(S.prototype,R),N&&We(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,[{key:"safe",value:function(N){try{var V=this;return function $(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}(V.acquire(),function(){return function ve(S,R){try{var N=S()}catch(V){return R(!0,V)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(N,function(Q,he){return V.release(),function B(S,R){if(S)throw R;return R}(Q,he)})})}catch(Q){return Promise.reject(Q)}}},{key:"acquire",value:function(){try{var N=this;return function ye(S,R){return S&&S.then?S.then(R):R(S)}(function ee(S,R,N){for(var V;;){var Q=S();if(q(Q)&&(Q=Q.v),!Q)return he;if(Q.then){V=0;break}var he=N();if(he&&he.then){if(!q(he)){V=1;break}he=he.s}if(R){var Fe=R();if(Fe&&Fe.then&&!q(Fe)){V=2;break}}}var Ke=new Ae,Oe=De.bind(null,Ke,2);return(0===V?Q.then(Yt):1===V?he.then(gn):Fe.then(Or)).then(void 0,Oe),Ke;function gn(Fr){he=Fr;do{if(R&&(Fe=R())&&Fe.then&&!q(Fe))return void Fe.then(Or).then(void 0,Oe);if(!(Q=S())||q(Q)&&!Q.v)return void De(Ke,1,he);if(Q.then)return void Q.then(Yt).then(void 0,Oe);q(he=N())&&(he=he.v)}while(!he||!he.then);he.then(gn).then(void 0,Oe)}function Yt(Fr){Fr?(he=N())&&he.then?he.then(gn).then(void 0,Oe):gn(he):De(Ke,1,he)}function Or(){(Q=S())?Q.then?Q.then(Yt).then(void 0,Oe):Yt(Q):De(Ke,1,he)}}(function(){return void 0!==N.mutex},void 0,function(){return function we(S,R){if(!R)return S&&S.then?S.then(_e):Promise.resolve()}(N.mutex)}),function(){N.mutex=new Promise(function(V){N.resolver=V})})}catch(V){return Promise.reject(V)}}},{key:"release",value:function(){if(void 0===this.resolver)throw new Error("Unable to release mutex: already released.");this.resolver(),this.resolver=void 0,this.mutex=void 0}}]),S}();function Bt(S){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Se(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,Ve(V.key),V)}}function Ve(S){var R=function tt(S,R){if("object"!==Bt(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==Bt(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Bt(R)?R:String(R)}var vt=function(){function S(){!function Ht(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,S)}return function ut(S,R,N){R&&Se(S.prototype,R),N&&Se(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,null,[{key:"getMutex",value:function(){var N=S.mutexKey,V=window[N];return void 0===V&&(V=new lt,window[N]=V),V}},{key:"setSession",value:function(N){window[S.stateKey]=N}},{key:"getSession",value:function(){if(!(typeof window>"u"))return window[S.stateKey]}}]),S}();function ae(S){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function ct(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&tr(S,R)}function Pt(S){var R=Kn();return function(){var Q,V=Ne(S);if(R){var he=Ne(this).constructor;Q=Reflect.construct(V,arguments,he)}else Q=V.apply(this,arguments);return function rn(S,R){if(R&&("object"===ae(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function Yn(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,Q)}}function $n(S){var R="function"==typeof Map?new Map:void 0;return $n=function(V){if(null===V||!function fr(S){return-1!==Function.toString.call(S).indexOf("[native code]")}(V))return V;if("function"!=typeof V)throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(V))return R.get(V);R.set(V,Q)}function Q(){return er(V,arguments,Ne(this).constructor)}return Q.prototype=Object.create(V.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),tr(Q,V)},$n(S)}function er(S,R,N){return(er=Kn()?Reflect.construct.bind():function(Q,he,Fe){var Ke=[null];Ke.push.apply(Ke,he);var gn=new(Function.bind.apply(Q,Ke));return Fe&&tr(gn,Fe.prototype),gn}).apply(null,arguments)}function Kn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tr(S,R){return(tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Q){return V.__proto__=Q,V})(S,R)}function Ne(S){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}function ze(S,R){try{var N=S()}catch(V){return R(V)}return N&&N.then?N.then(void 0,R):N}function Ze(){}function Le(S,R){return S&&S.then?S.then(R):R(S)}function Mt(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function At(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function lr(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,pe(V.key),V)}}function ue(S,R,N){return R&&lr(S.prototype,R),N&&lr(S,N),Object.defineProperty(S,"prototype",{writable:!1}),S}function pe(S){var R=function Te(S,R){if("object"!==ae(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==ae(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===ae(R)?R:String(R)}vt.stateKey="BytescaleSessionState",vt.mutexKey="BytescaleSessionStateMutex";var st=function(){function S(){At(this,S)}return ue(S,null,[{key:"getApiUrl",value:function(N){var V;return null!==(V=N.apiUrl)&&void 0!==V?V:S.defaultApiUrl}},{key:"getCdnUrl",value:function(N){var V;return null!==(V=N.cdnUrl)&&void 0!==V?V:S.defaultCdnUrl}},{key:"getFetchApi",value:function(N){var V;return null!==(V=N.fetchApi)&&void 0!==V?V:fetch}},{key:"getAccountId",value:function(N){var V,Q,he;if(S.specialApiKeys.includes(N.apiKey))he=S.specialApiKeyAccountId;else if((he=null!==(Q=null===(V=N.apiKey.split("_")[1])||void 0===V?void 0:V.substr(0,S.accountIdLength))&&void 0!==Q?Q:"").length!==S.accountIdLength)throw new Error("Invalid Bytescale API key.");return he}},{key:"validate",value:function(N){var V;if(void 0===(N??void 0))throw new Error("Config parameter required.");if(void 0===(null!==(V=N.apiKey)&&void 0!==V?V:void 0))throw new Error("Please provide an API key via the 'apiKey' config parameter.");if(N.apiKey.trim()!==N.apiKey)throw new Error("API key needs trimming (whitespace detected).");S.getAccountId(N)}}]),S}();st.defaultApiUrl="https://api.bytescale.com",st.defaultCdnUrl="https://upcdn.io",st.specialApiKeys=["free","demo"],st.specialApiKeyAccountId="W142hJk",st.accountIdLength=7;var Ct=function(){function S(R){At(this,S),this.config=R,st.validate(R)}return ue(S,[{key:"request",value:function(N,V,Q){try{var Fe,he=this;N.headers.Authorization="Bearer ".concat(he.config.apiKey);var Oe=vt.getSession();void 0!==Oe?.accessToken&&(N.headers["Authorization-Token"]=Oe.accessToken);var gn=function wt(S,R,N){return(R=pe(R))in S?Object.defineProperty(S,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[R]=N,S}({},st.defaultCdnUrl,st.getCdnUrl(he.config));return Mt(he.createFetchParams(N,V,void 0===Q?void 0:null!==(Fe=gn[Q])&&void 0!==Fe?Fe:Q),function(Yt){return S.fetch(Yt.url,Yt.init,Object.assign(Object.assign({},he.config),{isBytescaleApi:!0}))})}catch(Yt){return Promise.reject(Yt)}}},{key:"encodeParam",value:function(N,V){if("filePath"===N){if(!V.startsWith("/"))throw new Error("The 'filePath' parameter must begin with a '/' character.");return V}return encodeURIComponent(V)}},{key:"createFetchParams",value:function(N,V,Q){try{var Fe=(Q??st.getApiUrl(this.config))+N.path;void 0!==N.query&&0!==Object.keys(N.query).length&&(Fe+="?"+dn(N.query));var Ke=this.config.headers,Oe=Object.assign({},N.headers);return Mt(void 0===Ke?{}:Ke(),function(gn){var Yt=Object.assign(Oe,gn);Object.keys(Yt).forEach(function(yi){return void 0===Yt[yi]?delete Yt[yi]:{}});var Or="function"==typeof V?V:function(){return Mt(V)},Fr={method:N.method,headers:Yt,body:N.body},mo=Object.assign({},Fr);return Mt(Or({init:Fr,context:N}),function(yi){var go=Object.assign(mo,yi),_s=Object.assign(Object.assign({},go),{body:JSON.stringify(go.body)});return{url:Fe,init:_s}})},void 0===Ke)}catch(gn){return Promise.reject(gn)}}}],[{key:"fetch",value:function(N,V,Q){try{var Fe,Ke,Oe;return Le(ze(function(){return Mt(st.getFetchApi(Q)(N,Object.assign(Object.assign({},V),{cache:"no-store"})),function(gn){Oe=gn})},function(gn){throw new Error(Q.isBytescaleApi?"Unable to resolve the Bytescale API: ".concat(gn.message," If the problem persists, and your network connection is OK, then please contact support@bytescale.com and provide: (a) time of failed request in UTC (b) screenshot of failed network response header + body (c) screenshot of failed network request header + body (d) browser and OS version."):"Unable to resolve URL (".concat(N,"): ").concat(gn.message))}),function(gn){return Oe.status>=200&&Oe.status<300?Oe:function ft(S,R){var N=S();return N&&N.then?N.then(R):R(N)}(function(){if(Q.isBytescaleApi){var Or=void 0;return Le(ze(function(){return Mt(Oe.json(),function(Fr){Or=Fr})},Ze),function(){throw"string"==typeof(null===(Fe=Or?.error)||void 0===Fe?void 0:Fe.code)?new Ye(Or):new Error("Unable to connect to the Bytescale API (".concat(Oe.status,"): please try again."))})}},function(Or){throw new Error("Failure status code (".concat(Oe.status,") received for request: ").concat(null!==(Ke=V.method)&&void 0!==Ke?Ke:"GET"," ").concat(N))})})}catch(gn){return Promise.reject(gn)}}}]),S}(),nt=function(S){ct(N,S);var R=Pt(N);function N(){var V;return At(this,N),(V=R.call(this,"Operation cancelled by caller.")).name="CancelledError",V}return ue(N)}($n(Error)),Ye=function(S){ct(N,S);var R=Pt(N);function N(V){var Q;return At(this,N),(Q=R.call(this,V.error.message)).name="BytescaleApiError",Q.errorCode=V.error.code,Q.details=V.error.details,Q}return ue(N)}($n(Error));function dn(S){return Object.keys(S).map(function(R){return function Mn(S,R){return R instanceof Object?dn(R):"".concat(encodeURIComponent(S),"=").concat(encodeURIComponent(String(R)))}(R,S[R])}).filter(function(R){return R.length>0}).join("&")}var Fn=function(){function S(R){At(this,S),this.raw=R}return ue(S,[{key:"value",value:function(){try{return Mt(this.raw.json())}catch(V){return Promise.reject(V)}}}]),S}(),vn=function(){function S(R){At(this,S),this.raw=R}return ue(S,[{key:"value",value:function(){return Mt(void 0)}}]),S}(),He=function(){function S(R){At(this,S),this.raw=R}return ue(S,[{key:"stream",value:function(){if(this.raw.bodyUsed)throw new Error("Response body has already been consumed.");if(null===this.raw.body)throw new Error("Response body does not exist.");return this.raw.body}},{key:"text",value:function(){try{return Mt(this.raw.text())}catch(V){return Promise.reject(V)}}},{key:"blob",value:function(){try{return Mt(this.raw.blob())}catch(V){return Promise.reject(V)}}},{key:"json",value:function(){try{return Mt(this.raw.json())}catch(V){return Promise.reject(V)}}}]),S}();function Jn(S){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function _n(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function Ft(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,hn(V.key),V)}}function hn(S){var R=function qn(S,R){if("object"!==Jn(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==Jn(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Jn(R)?R:String(R)}function bn(S,R){return(bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Q){return V.__proto__=Q,V})(S,R)}function In(S){return(In=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var _r=function(S){!function pr(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&bn(S,R)}(N,S);var R=function Bn(S){var R=function Br(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,V=In(S);if(R){var he=In(this).constructor;Q=Reflect.construct(V,arguments,he)}else Q=V.apply(this,arguments);return function ni(S,R){if(R&&("object"===Jn(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function zn(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,Q)}}(N);function N(){return function Et(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function Dn(S,R,N){R&&Ft(S.prototype,R),N&&Ft(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"copyFile",value:function(Q){try{return _n(this.request({path:"/v2/accounts/{accountId}/files/copy".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Q.copyFileRequest},void 0,[][0]),function(Oe){return _n(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"copyFileBatch",value:function(Q){try{return _n(this.request({path:"/v2/accounts/{accountId}/files/copy/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Q.copyFileBatchRequest},void 0,[][0]),function(Oe){return _n(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"deleteFile",value:function(Q){try{var Fe={};return void 0!==Q.filePath&&(Fe.filePath=Q.filePath),_n(this.request({path:"/v2/accounts/{accountId}/files".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"DELETE",headers:{},query:Fe},void 0,[][0]),function(Oe){return _n(new vn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"deleteFileBatch",value:function(Q){try{return _n(this.request({path:"/v2/accounts/{accountId}/files/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"DELETE",headers:{"Content-Type":"application/json"},query:{},body:Q.deleteFileBatchRequest},void 0,[][0]),function(Oe){return _n(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"downloadFile",value:function(Q){try{var Fe={};return void 0!==Q.cache&&(Fe.cache=Q.cache),void 0!==Q.cacheTtl&&(Fe.cache_ttl=Q.cacheTtl),void 0!==Q.version&&(Fe.version=Q.version),_n(this.request({path:"/{accountId}/raw{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",Q.filePath)),method:"GET",headers:{},query:Fe},void 0,"https://upcdn.io"),function(Oe){return new He(Oe)})}catch(Oe){return Promise.reject(Oe)}}},{key:"getFileDetails",value:function(Q){try{var Fe={};return void 0!==Q.filePath&&(Fe.filePath=Q.filePath),_n(this.request({path:"/v2/accounts/{accountId}/files/details".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"GET",headers:{},query:Fe},void 0,[][0]),function(Oe){return _n(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"processFile",value:function(Q){try{var Fe={};return void 0!==Q.artifact&&(Fe.artifact=Q.artifact),void 0!==Q.cache&&(Fe.cache=Q.cache),void 0!==Q.cachePerm&&(Fe.cache_perm=Q.cachePerm),void 0!==Q.cacheTtl&&(Fe.cache_ttl=Q.cacheTtl),void 0!==Q.transformationParams&&(Fe.transformationParams=Q.transformationParams),void 0!==Q.version&&(Fe.version=Q.version),_n(this.request({path:"/{accountId}/{transformation}{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",Q.filePath)).replace("{".concat("transformation","}"),this.encodeParam("transformation",Q.transformation)),method:"GET",headers:{},query:Fe},void 0,"https://upcdn.io"),function(Oe){return new He(Oe)})}catch(Oe){return Promise.reject(Oe)}}},{key:"processFileAndSave",value:function(Q){try{var Fe={};void 0!==Q.transformationParams&&(Fe.transformationParams=Q.transformationParams);return _n(this.request({path:"/{accountId}/save/{transformation}{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",Q.filePath)).replace("{".concat("transformation","}"),this.encodeParam("transformation",Q.transformation)),method:"POST",headers:{"Content-Type":"application/json"},query:Fe,body:Q.processFileAndSaveRequest},void 0,"https://upcdn.io"),function(Oe){return _n(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}}]),N}(Ct);function li(S){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function vr(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function Sr(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,me(V.key),V)}}function me(S){var R=function it(S,R){if("object"!==li(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==li(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===li(R)?R:String(R)}function Zt(S,R){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Q){return V.__proto__=Q,V})(S,R)}function Y(S){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var X=function(S){!function St(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&Zt(S,R)}(N,S);var R=function fn(S){var R=function ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,V=Y(S);if(R){var he=Y(this).constructor;Q=Reflect.construct(V,arguments,he)}else Q=V.apply(this,arguments);return function ar(S,R){if(R&&("object"===li(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function de(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,Q)}}(N);function N(){return function ri(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function qe(S,R,N){R&&Sr(S.prototype,R),N&&Sr(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"copyFolder",value:function(Q){try{return vr(this.request({path:"/v2/accounts/{accountId}/folders/copy".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Q.copyFolderRequest},void 0,[][0]),function(Oe){return vr(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"copyFolderBatch",value:function(Q){try{return vr(this.request({path:"/v2/accounts/{accountId}/folders/copy/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Q.copyFolderBatchRequest},void 0,[][0]),function(Oe){return vr(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"deleteFolder",value:function(Q){try{return vr(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"DELETE",headers:{"Content-Type":"application/json"},query:{},body:Q.deleteFolderRequest},void 0,[][0]),function(Oe){return vr(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"deleteFolderBatch",value:function(Q){try{return vr(this.request({path:"/v2/accounts/{accountId}/folders/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"DELETE",headers:{"Content-Type":"application/json"},query:{},body:Q.deleteFolderBatchRequest},void 0,[][0]),function(Oe){return vr(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"getFolderDetails",value:function(Q){try{var Fe={};return void 0!==Q.folderPath&&(Fe.folderPath=Q.folderPath),vr(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"GET",headers:{},query:Fe},void 0,[][0]),function(Oe){return vr(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"listFolder",value:function(Q){try{var Fe={};return void 0!==Q.cursor&&(Fe.cursor=Q.cursor),void 0!==Q.dryRun&&(Fe.dryRun=Q.dryRun),void 0!==Q.folderPath&&(Fe.folderPath=Q.folderPath),void 0!==Q.includeFiles&&(Fe.includeFiles=Q.includeFiles),void 0!==Q.includeOverriddenStorage&&(Fe.includeOverriddenStorage=Q.includeOverriddenStorage),void 0!==Q.includePhysicalFolders&&(Fe.includePhysicalFolders=Q.includePhysicalFolders),void 0!==Q.includeVirtualFolders&&(Fe.includeVirtualFolders=Q.includeVirtualFolders),void 0!==Q.limit&&(Fe.limit=Q.limit),void 0!==Q.recursive&&(Fe.recursive=Q.recursive),vr(this.request({path:"/v2/accounts/{accountId}/folders/list".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"GET",headers:{},query:Fe},void 0,[][0]),function(Oe){return vr(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"putFolder",value:function(Q){try{return vr(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"PUT",headers:{"Content-Type":"application/json"},query:{},body:Q.putFolderRequest},void 0,[][0]),function(Oe){return vr(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}}]),N}(Ct);function G(S){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function xe(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function jt(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,se(V.key),V)}}function se(S){var R=function Ce(S,R){if("object"!==G(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==G(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===G(R)?R:String(R)}function Ot(S,R){return(Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Q){return V.__proto__=Q,V})(S,R)}function kr(S){return(kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var gi=function(S){!function Xe(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&Ot(S,R)}(N,S);var R=function Lt(S){var R=function xr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,V=kr(S);if(R){var he=kr(this).constructor;Q=Reflect.construct(V,arguments,he)}else Q=V.apply(this,arguments);return function ur(S,R){if(R&&("object"===G(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function Ar(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,Q)}}(N);function N(){return function _t(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function J(S,R,N){R&&jt(S.prototype,R),N&&jt(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"cancelJob",value:function(Q){try{return xe(this.request({path:"/v2/accounts/{accountId}/jobs/{jobType}/{jobId}".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("jobId","}"),this.encodeParam("jobId",Q.jobId)).replace("{".concat("jobType","}"),this.encodeParam("jobType",Q.jobType)),method:"DELETE",headers:{},query:{}},void 0,[][0]),function(Oe){return xe(new vn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"getJob",value:function(Q){try{return xe(this.request({path:"/v2/accounts/{accountId}/jobs/{jobType}/{jobId}".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("jobId","}"),this.encodeParam("jobId",Q.jobId)).replace("{".concat("jobType","}"),this.encodeParam("jobType",Q.jobType)),method:"GET",headers:{},query:{}},void 0,[][0]),function(Oe){return xe(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"listRecentJobs",value:function(Q){try{var Fe={};return Q.jobType&&(Fe.jobType=Q.jobType),xe(this.request({path:"/v2/accounts/{accountId}/jobs".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"GET",headers:{},query:Fe},void 0,[][0]),function(Oe){return xe(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}}]),N}(Ct);function di(S){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function wn(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function $a(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,Wc(V.key),V)}}function Wc(S){var R=function xo(S,R){if("object"!==di(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==di(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===di(R)?R:String(R)}function Mo(S,R){return(Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Q){return V.__proto__=Q,V})(S,R)}function qo(S){return(qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var Zo=function(S){!function Wa(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&Mo(S,R)}(N,S);var R=function ml(S){var R=function Wo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,V=qo(S);if(R){var he=qo(this).constructor;Q=Reflect.construct(V,arguments,he)}else Q=V.apply(this,arguments);return function qa(S,R){if(R&&("object"===di(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function Ro(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,Q)}}(N);function N(){return function ts(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function pl(S,R,N){R&&$a(S.prototype,R),N&&$a(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"beginMultipartUpload",value:function(Q){try{return wn(this.request({path:"/v2/accounts/{accountId}/uploads".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Q.beginMultipartUploadRequest},void 0,[][0]),function(Oe){return wn(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"completeUploadPart",value:function(Q){try{return wn(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts/{uploadPartIndex}".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",Q.uploadId)).replace("{".concat("uploadPartIndex","}"),this.encodeParam("uploadPartIndex",Q.uploadPartIndex)),method:"PUT",headers:{"Content-Type":"application/json"},query:{},body:Q.completeUploadPartRequest},void 0,[][0]),function(Oe){return wn(new vn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"getUploadPart",value:function(Q){try{return wn(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts/{uploadPartIndex}".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",Q.uploadId)).replace("{".concat("uploadPartIndex","}"),this.encodeParam("uploadPartIndex",Q.uploadPartIndex)),method:"GET",headers:{},query:{}},void 0,[][0]),function(Oe){return wn(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"listUploadParts",value:function(Q){try{return wn(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",Q.uploadId)),method:"GET",headers:{},query:{}},void 0,[][0]),function(Oe){return wn(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}},{key:"uploadFromUrl",value:function(Q){try{return wn(this.request({path:"/v2/accounts/{accountId}/uploads/url".replace("{".concat("accountId","}"),this.encodeParam("accountId",Q.accountId)),method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Q.uploadFromUrlRequest},void 0,[][0]),function(Oe){return wn(new Fn(Oe).value())})}catch(Oe){return Promise.reject(Oe)}}}]),N}(Ct),ii=!1;function ks(S){return null!=S[1]}function qc(S){return(qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function gl(S,R){return function Cc(S){if(Array.isArray(S))return S}(S)||function Tc(S,R){var N=null==S?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(null!=N){var V,Q,he,Fe,Ke=[],Oe=!0,gn=!1;try{if(he=(N=N.call(S)).next,0===R){if(Object(N)!==N)return;Oe=!1}else for(;!(Oe=(V=he.call(N)).done)&&(Ke.push(V.value),Ke.length!==R);Oe=!0);}catch(Yt){gn=!0,Q=Yt}finally{try{if(!Oe&&null!=N.return&&(Fe=N.return(),Object(Fe)!==Fe))return}finally{if(gn)throw Q}}return Ke}}(S,R)||ba(S,R)||function ps(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _l(S){return function yl(S){if(Array.isArray(S))return Zc(S)}(S)||function Ia(S){if(typeof Symbol<"u"&&null!=S[Symbol.iterator]||null!=S["@@iterator"])return Array.from(S)}(S)||ba(S)||function Ac(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(S,R){if(S){if("string"==typeof S)return Zc(S,R);var N=Object.prototype.toString.call(S).slice(8,-1);if("Object"===N&&S.constructor&&(N=S.constructor.name),"Map"===N||"Set"===N)return Array.from(S);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return Zc(S,R)}}function Zc(S,R){(null==R||R>S.length)&&(R=S.length);for(var N=0,V=new Array(R);N<R;N++)V[N]=S[N];return V}function zi(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,Hi(V.key),V)}}function Hi(S){var R=function Yc(S,R){if("object"!==qc(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==qc(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===qc(R)?R:String(R)}var vl=function(){function S(){!function Bd(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,S)}return function Kc(S,R,N){R&&zi(S.prototype,R),N&&zi(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,null,[{key:"url",value:function(N){var V;return void 0===(null===(V=N.options)||void 0===V?void 0:V.transformation)?this.raw(N):this.transformation(N,N.options)}},{key:"raw",value:function(N){var V,Q=this.getBaseUrl(N,"raw"),he=this.getCommonQueryParams(null!==(V=N.options)&&void 0!==V?V:{});return this.addQueryParams(Q,he)}},{key:"transformation",value:function(N,V){var Q,he=this.getBaseUrl(N,"preset"===V.transformation?V.transformationPreset:V.transformation),Fe="preset"===V.transformation?[]:this.getTransformationParams(V),Ke=this.getCommonQueryParams(null!==(Q=N.options)&&void 0!==Q?Q:{}),Oe=this.getCommonTransformationQueryParams(V);return this.addQueryParams(he,[].concat(_l(Fe),_l(Ke),_l(Oe)))}},{key:"getBaseUrl",value:function(N,V){return"".concat(st.defaultCdnUrl,"/").concat(N.accountId,"/").concat(V).concat(N.filePath)}},{key:"getCommonTransformationQueryParams",value:function(N){return this.makeQueryParams(["cachePermanently","artifact"],{cachePermanently:"cache_perm"})(N)}},{key:"getCommonQueryParams",value:function(N){return this.makeQueryParams(["auth","cache","cacheTtl","version","forceDownloadPrompt"],{cacheTtl:"cache_ttl",forceDownloadPrompt:"download"})(N)}},{key:"makeQueryParams",value:function(N,V){return function(Q){var he=[];return N.forEach(function(Fe){var Ke,Oe=Q[Fe];void 0!==Oe&&he.push([null!==(Ke=V[Fe])&&void 0!==Ke?Ke:Fe,Oe.toString()])}),he}}},{key:"getTransformationParams",value:function(N){var V=N.transformationParams;if(void 0===V)return[];var Q=function(Fe){return Object.entries(Fe).filter(ks).map(function(Ke){var Oe=gl(Ke,2);return[Oe[0],Oe[1].toString()]})};return Array.isArray(V)?V.flatMap(Q):Q(V)}},{key:"addQueryParams",value:function(N,V){return 0===V.length?N:"".concat(N,"?").concat(V.map(function(Q){var he=gl(Q,2),Ke=he[1];return"".concat(encodeURIComponent(he[0]),"=").concat(encodeURIComponent(Ke))}).join("&"))}}]),S}(),wl=!1;function Ko(S){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Za(S){return function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];try{return Promise.resolve(S.apply(this,R))}catch(V){return Promise.reject(V)}}}function Ai(S,R,N){if(!S.s){if(N instanceof or){if(!N.s)return void(N.o=Ai.bind(null,S,R));1&R&&(R=N.s),N=N.v}if(N&&N.then)return void N.then(Ai.bind(null,S,R),Ai.bind(null,S,2));S.s=R,S.v=N;var V=S.o;V&&V(S)}}var or=function(){function S(){}return S.prototype.then=function(R,N){var V=new S,Q=this.s;if(Q){var he=1&Q?R:N;if(he){try{Ai(V,1,he(this.v))}catch(Fe){Ai(V,2,Fe)}return V}return this}return this.o=function(Fe){try{var Ke=Fe.v;1&Fe.s?Ai(V,1,R?R(Ke):Ke):N?Ai(V,1,N(Ke)):Ai(V,2,Ke)}catch(Oe){Ai(V,2,Oe)}},V},S}();function $r(S){return S instanceof or&&1&S.s}function Di(S){return function Yo(S){if(Array.isArray(S))return Qo(S)}(S)||function Ea(S){if(typeof Symbol<"u"&&null!=S[Symbol.iterator]||null!=S["@@iterator"])return Array.from(S)}(S)||function bl(S,R){if(S){if("string"==typeof S)return Qo(S,R);var N=Object.prototype.toString.call(S).slice(8,-1);if("Object"===N&&S.constructor&&(N=S.constructor.name),"Map"===N||"Set"===N)return Array.from(S);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return Qo(S,R)}}(S)||function zd(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qo(S,R){(null==R||R>S.length)&&(R=S.length);for(var N=0,V=new Array(R);N<R;N++)V[N]=S[N];return V}function Wr(){}function zt(S,R){if(!R)return S&&S.then?S.then(Wr):Promise.resolve()}function Un(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function Xo(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,Ns(V.key),V)}}function Ns(S){var R=function Qs(S,R){if("object"!==Ko(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==Ko(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Ko(R)?R:String(R)}function ui(S){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function zr(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,Cs(V.key),V)}}function Cs(S){var R=function Gi(S,R){if("object"!==ui(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==ui(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===ui(R)?R:String(R)}function Qa(S,R){return(Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Q){return V.__proto__=Q,V})(S,R)}function Qn(S){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var Il=function(S){!function Jo(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&Qa(S,R)}(N,S);var R=function ea(S){var R=function As(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,V=Qn(S);if(R){var he=Qn(this).constructor;Q=Reflect.construct(V,arguments,he)}else Q=V.apply(this,arguments);return function Fs(S,R){if(R&&("object"===ui(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function Qc(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,Q)}}(N);function N(){return function Os(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function Ya(S,R,N){R&&zr(S.prototype,R),N&&zr(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"processUploadSource",value:function(Q){if("string"==typeof Q)return{type:"Blob",value:new Blob([Q],{type:this.stringMimeType})};if(void 0!==Q.byteLength)return{type:"ArrayBuffer",value:Q};if(void 0!==Q.size)return{type:"Blob",value:Q};throw new Error("Unsupported type for 'data' parameter. Please provide a String, Blob, ArrayBuffer, or File object (from a file input element).")}},{key:"getPreUploadInfoPartial",value:function(Q,he){switch(he.type){case"Blob":return this.getBlobInfo(he);case"ArrayBuffer":return{mime:void 0,size:he.value.byteLength,originalFileName:void 0,maxConcurrentUploadParts:void 0};default:!function jd(S){throw new Error("Didn't expect to get here: ".concat(JSON.stringify(S)))}(he)}}},{key:"preUpload",value:function(Q){}},{key:"postUpload",value:function(Q){return function Xu(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}()}},{key:"getRequestBody",value:function(Q,he){return-1===Q.range.inclusiveEnd?new Blob:he.value.slice(Q.range.inclusiveStart,Q.range.inclusiveEnd+1)}}]),N}(function(){function S(R){(function ns(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),this.config=R,this.stringMimeType="text/plain",this.defaultMaxConcurrentUploadParts=4,this.intervalMs=500,this.uploadApi=new Zo(R),this.accountId=st.getAccountId(R)}return function Nr(S,R,N){R&&Xo(S.prototype,R),N&&Xo(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,[{key:"upload",value:function(N){try{var V=this;V.assertNotCancelled(N);var Q=V.processUploadSource(N.data),he=V.getPreUploadInfo(N,Q),Fe=he.size,Ke=V.makeOnProgressForPartFactory(N,Fe),Oe=V.preUpload(Q);return void 0!==N.onProgress&&N.onProgress(V.makeProgressEvent(0,Fe)),Un(V.beginUpload(N,he),function(gn){var Or=Di(Array(gn.uploadParts.count).keys()),Fr=V.makeCancellationMethods(),yi=Fr.addCancellationHandler,go=setInterval(V.onIntervalTick(N,Fr.cancel),V.intervalMs);return function Po(S,R){return S&&S.then?S.then(R):R(S)}(function Ts(S,R){try{var N=S()}catch(V){return R(!0,V)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(function(){return Un(V.mapAsync(Or,he.maxConcurrentUploadParts,Za(function(_s){return V.uploadPart(N,Q,_s,gn,Ke(),yi)})),function(){return zt(V.postUpload(Oe))})},function(_s,Dl){return clearInterval(go),function Mr(S,R){if(S)throw R;return R}(_s,Dl)}),function(){return gn.file})})}catch(gn){return Promise.reject(gn)}}},{key:"getBlobInfo",value:function(N){var V=N.value;return{mime:V.type,size:V.size,originalFileName:V.name,maxConcurrentUploadParts:void 0}}},{key:"onIntervalTick",value:function(N,V){var Q=this;return function(){Q.isCancelled(N)&&V()}}},{key:"makeCancellationMethods",value:function(){var N=[];return{cancel:function(){return N.forEach(function(Fe){return Fe()})},addCancellationHandler:function(Fe){N.push(Fe)}}}},{key:"makeOnProgressForPartFactory",value:function(N,V){var Q=this,he=N.onProgress;if(void 0===he)return function(){return function(){}};var Fe=0;return function(){var Ke=0;return function(Oe){var gn=Oe-Ke;Ke+=gn,he(Q.makeProgressEvent(Fe+=gn,V))}}}},{key:"makeProgressEvent",value:function(N,V){return{bytesTotal:V,bytesSent:N,progress:Math.round(N/V*100)}}},{key:"assertNotCancelled",value:function(N){if(this.isCancelled(N))throw new nt}},{key:"isCancelled",value:function(N){var V;return!0===(null===(V=N.cancellationToken)||void 0===V?void 0:V.isCancelled)}},{key:"beginUpload",value:function(N,V){var Q=V.size,he=V.mime,Fe=V.originalFileName;try{return Un(this.uploadApi.beginMultipartUpload({accountId:this.accountId,beginMultipartUploadRequest:{metadata:N.metadata,mime:he,originalFileName:Fe,path:N.path,protocol:"1.1",size:Q,tags:N.tags}}))}catch(Oe){return Promise.reject(Oe)}}},{key:"uploadPart",value:function(N,V,Q,he,Fe,Ke){try{var Oe=this;return Oe.assertNotCancelled(N),Un(Oe.getUploadPart(Q,he),function(gn){return Oe.assertNotCancelled(N),Un(Oe.putUploadPart(gn,V,Fe,Ke),function(Yt){return Oe.assertNotCancelled(N),zt(Oe.uploadApi.completeUploadPart({accountId:Oe.accountId,uploadId:he.uploadId,uploadPartIndex:Q,completeUploadPartRequest:{etag:Yt}}))})})}catch(gn){return Promise.reject(gn)}}},{key:"putUploadPart",value:function(N,V,Q,he){try{var Ke=N.range.inclusiveEnd+1-N.range.inclusiveStart;return Un(this.doPutUploadPart(N,Ke,V,Q,he),function(Oe){var gn=Oe.status,Yt=Oe.etag;if(2!==Math.floor(gn/100))throw new Error("Failed to upload part (".concat(gn,")."));if(void 0===Yt)throw new Error("No 'etag' response header found in upload part response.");return Q(Ke),Yt})}catch(Oe){return Promise.reject(Oe)}}},{key:"getUploadPart",value:function(N,V){try{return 0===N?V.uploadParts.first:Un(this.uploadApi.getUploadPart({uploadId:V.uploadId,accountId:this.accountId,uploadPartIndex:N}))}catch(he){return Promise.reject(he)}}},{key:"getPreUploadInfo",value:function(N,V){var Q,he,Fe,Ke=this.getPreUploadInfoPartial(N,V);return{maxConcurrentUploadParts:null!==(Q=Ke.maxConcurrentUploadParts)&&void 0!==Q?Q:this.defaultMaxConcurrentUploadParts,originalFileName:null!==(he=N.originalFileName)&&void 0!==he?he:Ke.originalFileName,mime:null!==(Fe=N.mime)&&void 0!==Fe?Fe:Ke.mime,size:Ke.size}}},{key:"mapAsync",value:function(N,V,Q){try{var he=Di(N);return zt(Promise.all(Di(Array(V).keys()).map(Za(function(){return function Ys(S){if(S&&S.then)return S.then(Wr)}(function hi(S,R,N){for(var V;;){var Q=S();if($r(Q)&&(Q=Q.v),!Q)return he;if(Q.then){V=0;break}var he=N();if(he&&he.then){if(!$r(he)){V=1;break}he=he.s}if(R){var Fe=R();if(Fe&&Fe.then&&!$r(Fe)){V=2;break}}}var Ke=new or,Oe=Ai.bind(null,Ke,2);return(0===V?Q.then(Yt):1===V?he.then(gn):Fe.then(Or)).then(void 0,Oe),Ke;function gn(Fr){he=Fr;do{if(R&&(Fe=R())&&Fe.then&&!$r(Fe))return void Fe.then(Or).then(void 0,Oe);if(!(Q=S())||$r(Q)&&!Q.v)return void Ai(Ke,1,he);if(Q.then)return void Q.then(Yt).then(void 0,Oe);$r(he=N())&&(he=he.v)}while(!he||!he.then);he.then(gn).then(void 0,Oe)}function Yt(Fr){Fr?(he=N())&&he.then?he.then(gn).then(void 0,Oe):gn(he):Ai(Ke,1,he)}function Or(){(Q=S())?Q.then?Q.then(Yt).then(void 0,Oe):Yt(Q):Ai(Ke,1,he)}}(function(){return he.length>0},void 0,function(){var Fe=he.shift();return function Ka(S){var R=S();if(R&&R.then)return R.then(Wr)}(function(){if(void 0!==Fe)return zt(Q(Fe))})}))}))))}catch(Fe){return Promise.reject(Fe)}}}]),S}());function ta(S){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function na(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,au(V.key),V)}}function au(S){var R=function $i(S,R){if("object"!==ta(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==ta(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===ta(R)?R:String(R)}function fo(S,R){return(fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Q){return V.__proto__=Q,V})(S,R)}function ia(S){return(ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)})(S)}var El=function(S){!function _i(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&fo(S,R)}(N,S);var R=function ra(S){var R=function Ta(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,V=ia(S);if(R){var he=ia(this).constructor;Q=Reflect.construct(V,arguments,he)}else Q=V.apply(this,arguments);return function Ls(S,R){if(R&&("object"===ta(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function ms(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,Q)}}(N);function N(){return function No(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),R.apply(this,arguments)}return function fi(S,R,N){R&&na(S.prototype,R),N&&na(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(N,[{key:"doPutUploadPart",value:function(Q,he,Fe,Ke,Oe){try{var gn=this,Yt=new XMLHttpRequest,Or=!0;return Oe(function(){Or&&Yt.abort()}),function Vi(S,R){try{var N=S()}catch(V){return R(!0,V)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(function(){return function ko(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}(new Promise(function(Fr,mo){Yt.upload.addEventListener("progress",function(yi){yi.lengthComputable&&Ke(yi.loaded)},!1),Yt.addEventListener("load",function(){var yi,go=null!==(yi=Yt.getResponseHeader("etag"))&&void 0!==yi?yi:void 0;Fr({etag:go,status:Yt.status})}),Yt.onabort=function(){return mo(new nt)},Yt.onerror=function(){return mo(new Error("File upload error."))},Yt.ontimeout=function(){return mo(new Error("File upload timeout."))},Yt.open("PUT",Q.uploadUrl),Yt.send(gn.getRequestBody(Q,Fe))}))},function(Fr,mo){return Or=!1,function Li(S,R){if(S)throw R;return R}(Fr,mo)})}catch(Fr){return Promise.reject(Fr)}}}]),N}(Il);function Dc(S){return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Sc(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,Ca(V.key),V)}}function Ca(S){var R=function Hd(S,R){if("object"!==Dc(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==Dc(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Dc(R)?R:String(R)}var cu=function(){function S(){!function Tl(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,S)}return function Xa(S,R,N){R&&Sc(S.prototype,R),N&&Sc(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,null,[{key:"error",value:function(N){console.error(S.prefix(N))}},{key:"warn",value:function(N){console.warn(S.prefix(N))}},{key:"prefix",value:function(N){return"[bytescale-sdk] ".concat(N)}}]),S}();function Er(S){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function Ju(S,R,N){return(R=po(R))in S?Object.defineProperty(S,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[R]=N,S}function Gd(){}function Ja(S,R){if(!R)return S&&S.then?S.then(Gd):Promise.resolve()}function Aa(S,R,N){return N?R?R(S):S:((!S||!S.then)&&(S=Promise.resolve(S)),R?S.then(R):S)}function ec(S){return function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];try{return Promise.resolve(S.apply(this,R))}catch(V){return Promise.reject(V)}}}function Cl(S,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(S,po(V.key),V)}}function po(S){var R=function sa(S,R){if("object"!==Er(S)||null===S)return S;var N=S[Symbol.toPrimitive];if(void 0!==N){var V=N.call(S,R||"default");if("object"!==Er(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(S)}(S,"string");return"symbol"===Er(R)?R:String(R)}var gs=new(function(){function S(){(function $d(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,S),this.contentType="content-type",this.contentTypeJson="application/json",this.contentTypeText="text/plain",this.minJwtTtlSeconds=10,this.maxJwtTtlSeconds=2147483,this.retryAuthAfterErrorSeconds=5,this.refreshBeforeExpirySeconds=20,this.authSessionMutex=vt.getMutex()}return function Al(S,R,N){R&&Cl(S.prototype,R),N&&Cl(S,N),Object.defineProperty(S,"prototype",{writable:!1})}(S,[{key:"isAuthSessionActive",value:function(){return void 0!==vt.getSession()}},{key:"beginAuthSession",value:function(N){try{var V=this,Q={accessToken:void 0,accessTokenRefreshHandle:void 0,params:N,isActive:!0};return Aa(V.authSessionMutex.safe(ec(function(){if(V.isAuthSessionActive())throw new Error("Auth session already active: see AuthManager.isAuthSessionActive(). Please call 'await endAuthSession()' and then 'await beginAuthSession(...)' if you want to start a new auth session.");return vt.setSession(Q),Aa()})),function(){return Ja(V.refreshAccessToken(Q))})}catch(he){return Promise.reject(he)}}},{key:"endAuthSession",value:function(){try{var N=this;return Ja(N.authSessionMutex.safe(ec(function(){var V=vt.getSession();if(void 0!==V)return vt.setSession(void 0),V.isActive=!1,void 0!==V.accessTokenRefreshHandle&&clearTimeout(V.accessTokenRefreshHandle),Ja(N.deleteAccessToken(V.params))})))}catch(V){return Promise.reject(V)}}},{key:"refreshAccessToken",value:function(N){try{var V=this;return Ja(V.authSessionMutex.safe(ec(function(){if(N.isActive){var Q=V.retryAuthAfterErrorSeconds;return function nc(S){if(S&&S.then)return S.then(Gd)}(function tc(S,R){try{var N=S()}catch(V){return R(!0,V)}return N&&N.then?N.then(R.bind(null,!1),R.bind(null,!0)):R(!1,N)}(function(){return function Vs(S,R){try{var N=S()}catch(V){return R(V)}return N&&N.then?N.then(void 0,R):N}(function(){var he=V.getAccessToken,Fe=N.params;return Aa(N.params.authHeaders(),function(Ke){return Aa(he.call(V,Fe,Ke),function(Oe){return Aa(V.setAccessToken(N.params,Oe),function(gn){var Yt=gn.ttlSeconds-V.refreshBeforeExpirySeconds;Yt!==(Q=Math.max(Yt,V.minJwtTtlSeconds))&&cu.warn("JWT expiration is too short: waiting for ".concat(Q," seconds before refreshing.")),Q=Math.min(Q,V.maxJwtTtlSeconds),N.accessToken=gn.accessToken})})})},function(he){cu.error("Error when refreshing access token: ".concat(he))})},function(he,Fe){return N.accessTokenRefreshHandle=window.setTimeout(function(){V.refreshAccessToken(N).then(function(){},function(Ke){return cu.error("Unexpected error when refreshing access token: ".concat(Ke))})},1e3*Q),function lu(S,R){if(S)throw R;return R}(he,Fe)}))}})))}catch(Q){return Promise.reject(Q)}}},{key:"getAccessTokenUrl",value:function(N){var V,Q=st.getCdnUrl(null!==(V=N.options)&&void 0!==V?V:{});return"".concat(Q,"/api/v1/access_tokens/").concat(N.accountId)}},{key:"deleteAccessToken",value:function(N){try{var Q;return Ja(Ct.fetch(this.getAccessTokenUrl(N),{method:"DELETE",credentials:"include",headers:{}},{isBytescaleApi:!0,fetchApi:null===(Q=N.options)||void 0===Q?void 0:Q.fetchApi}))}catch(he){return Promise.reject(he)}}},{key:"setAccessToken",value:function(N,V){try{var he,Q=this,Fe={accessToken:V};return Aa(Ct.fetch(Q.getAccessTokenUrl(N),{method:"PUT",credentials:"include",headers:Ju({},Q.contentType,Q.contentTypeJson),body:JSON.stringify(Fe)},{isBytescaleApi:!0,fetchApi:null===(he=N.options)||void 0===he?void 0:he.fetchApi}),function(Ke){return Aa(Ke.json())})}catch(Ke){return Promise.reject(Ke)}}},{key:"getAccessToken",value:function(N,V){try{var he,Fe,Q=this,Ke="Your auth API endpoint",Oe=Q.contentTypeText;return Aa(Ct.fetch(N.authUrl,{method:"GET",headers:V},{isBytescaleApi:!1,fetchApi:null===(he=N.options)||void 0===he?void 0:he.fetchApi}),function(gn){var Yt=null!==(Fe=gn.headers.get(Q.contentType))&&void 0!==Fe?Fe:"";if(Yt.split(";")[0]!==Oe)throw new Error("".concat(Ke,' returned "').concat(Yt,'" for the ').concat(Q.contentType,' response header, but the Bytescale SDK requires "').concat(Oe,'".'));return Aa(gn.text(),function(Or){if(0===Or.length)throw new Error("".concat(Ke," returned an empty string. Please return a valid JWT instead."));if(Or.trim().length!==Or.length)throw new Error("".concat(Ke," returned whitespace around the JWT, please remove it."));return Or})})}catch(gn){return Promise.reject(gn)}}}]),S}());nn.exports=W}()},8762:(nn,et,W)=>{!function(){"use strict";var u={"./node_modules/@bytescale/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function($){var _e=[];function we(q){for(var ee=-1,ye=0;ye<_e.length;ye++)if(_e[ye].identifier===q){ee=ye;break}return ee}function De(q,ee){for(var ye={},mt=[],We=0;We<q.length;We++){var yt=q[We],ht=ee.base?yt[0]+ee.base:yt[0],kt=ye[ht]||0,lt="".concat(ht," ").concat(kt);ye[ht]=kt+1;var Bt=we(lt),Ht={css:yt[1],media:yt[2],sourceMap:yt[3],supports:yt[4],layer:yt[5]};if(-1!==Bt)_e[Bt].references++,_e[Bt].updater(Ht);else{var Se=Ae(Ht,ee);ee.byIndex=We,_e.splice(We,0,{identifier:lt,updater:Se,references:1})}mt.push(lt)}return mt}function Ae(q,ee){var ye=ee.domAPI(ee);return ye.update(q),function(yt){if(yt){if(yt.css===q.css&&yt.media===q.media&&yt.sourceMap===q.sourceMap&&yt.supports===q.supports&&yt.layer===q.layer)return;ye.update(q=yt)}else ye.remove()}}$.exports=function(q,ee){var ye=De(q=q||[],ee=ee||{});return function(We){We=We||[];for(var yt=0;yt<ye.length;yt++){var kt=we(ye[yt]);_e[kt].references--}for(var lt=De(We,ee),Bt=0;Bt<ye.length;Bt++){var Se=we(ye[Bt]);0===_e[Se].references&&(_e[Se].updater(),_e.splice(Se,1))}ye=lt}}},"./node_modules/@bytescale/style-loader/dist/runtime/insertStyleElement.js":function($){$.exports=function _e(we){if(!(typeof document>"u")){var De=document.createElement("style");return we.setAttributes(De,we.attributes),we.insert(De,we.options),De}}},"./node_modules/@bytescale/style-loader/dist/runtime/setAttributesWithoutAttributes.js":function($,_e,we){$.exports=function De(Ae){var q=we.nc;q&&Ae.setAttribute("nonce",q)}},"./node_modules/@bytescale/style-loader/dist/runtime/styleDomAPI.js":function($){$.exports=function De(Ae){var q=Ae.insertStyleElement(Ae);return{update:function(ye){!function _e(Ae,q,ee){var ye="";ee.supports&&(ye+="@supports (".concat(ee.supports,") {")),ee.media&&(ye+="@media ".concat(ee.media," {"));var mt=typeof ee.layer<"u";mt&&(ye+="@layer".concat(ee.layer.length>0?" ".concat(ee.layer):""," {")),ye+=ee.css,mt&&(ye+="}"),ee.media&&(ye+="}"),ee.supports&&(ye+="}"),q.styleTagTransform(ye,Ae,q.options)}(q,Ae,ye)},remove:function(){!function we(Ae){if(null===Ae.parentNode)return!1;Ae.parentNode.removeChild(Ae)}(q)}}}},"./node_modules/@bytescale/style-loader/dist/runtime/styleTagTransform.js":function($){$.exports=function _e(we,De){if(void 0!==De)if(De.styleSheet)De.styleSheet.cssText=we;else{for(;De.firstChild;)De.removeChild(De.firstChild);De.appendChild(document.createTextNode(we))}}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/modal/Modal.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,'.upload-widget__body{overflow:hidden}.upload-widget--with-modal{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999}.upload-widget__modal{background:var(--shade-900);border-radius:.5em;z-index:100000;position:relative;overflow:auto;top:-5%;height:60%;width:75%;max-width:65.625em;max-height:41.25em}@media (max-height: 700px){.upload-widget__modal{top:-1%;height:80%}}@media (max-width: 750px), (max-height: 420px){.upload-widget__modal{top:0;height:100%;width:100%;max-width:none;max-height:none;border-radius:0}}.upload-widget__modal__close{position:absolute;right:0;top:0;z-index:2}.upload-widget__modal__close a{-webkit-transition:0.1s color linear;-o-transition:0.1s color linear;-moz-transition:0.1s color linear;transition:0.1s color linear;color:var(--shade-500);padding:1.125em 1.0625em .8125em .875em;display:inline-block}.upload-widget__backdrop{content:" ";background:rgba(0,0,0,0.5);position:fixed;left:0;right:0;top:0;bottom:0;z-index:99999}.upload-widget__modal,.upload-widget__backdrop{opacity:0;-webkit-transition:0.15s opacity linear;-o-transition:0.15s opacity linear;-moz-transition:0.15s opacity linear;transition:0.15s opacity linear}.upload-widget__modal.show,.upload-widget__backdrop.show{opacity:1}\n',""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/UploadWidgetContainer.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,".upload-widget{--btn-text-color: var(--shade-200);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-box-sizing:border-box;box-sizing:border-box;color:var(--shade-100);font-family:var(--base-font-family);font-size:var(--base-font-size);line-height:1;text-align:left;position:static}.upload-widget__root{position:absolute;left:0;right:0;top:0;bottom:0}.upload-widget a,.upload-widget p,.upload-widget button{font-size:inherit;margin:0}.upload-widget a{border-bottom:none;padding:0}.upload-widget svg{margin-bottom:0}.upload-widget__controls{text-align:center;padding:.9375em}.upload-widget__controls--space button:not(:last-child){margin-right:0.5em}.upload-widget a{color:var(--primary-color)}.upload-widget a,.upload-widget a:hover,.upload-widget a:active,.upload-widget a:focus{text-decoration:underline}.upload-widget a:hover:not(:disabled):not(.disabled){color:var(--primary-active-color)}.upload-widget .btn{-webkit-transition:0.1s border-color linear, 0.1s background-color linear;-o-transition:0.1s border-color linear, 0.1s background-color linear;-moz-transition:0.1s border-color linear, 0.1s background-color linear;transition:0.1s border-color linear, 0.1s background-color linear;display:inline-block;font-weight:400;color:var(--btn-text-color);text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:rgba(0,0,0,0);border:.0625em solid rgba(0,0,0,0);padding:0 1em;line-height:3;border-radius:0.3125em}.upload-widget .btn,.upload-widget .btn:hover,.upload-widget .btn:active,.upload-widget .btn:focus{text-decoration:none}.upload-widget .btn:not(:disabled):not(.disabled){cursor:pointer}.upload-widget .btn:hover:not(:disabled):not(.disabled){color:var(--shade-300)}.upload-widget .btn--primary{color:var(--shade-900);background-color:var(--primary-color);border-color:var(--primary-color)}.upload-widget .btn--primary:hover:not(:disabled):not(.disabled){background-color:var(--primary-active-color);border-color:var(--primary-active-color);color:var(--shade-900)}.upload-widget .btn--primary-outline{color:var(--primary-color);border-color:var(--primary-color)}.upload-widget .btn.disabled{opacity:0.5;cursor:default}.upload-widget .btn--file{position:relative;overflow:hidden;margin-bottom:0}.upload-widget .btn--file__input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;z-index:-1}.upload-widget .btn--upload{font-size:1.11em;padding:0.2em 1.6em;margin-bottom:1.5em}.upload-widget .text-secondary{color:var(--shade-400)}.upload-widget .vcenter{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.upload-widget .hcenter{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.upload-widget .nudge-up-1{position:relative;top:-1px}.upload-widget .ml-0{margin-left:0}.upload-widget .ml-1{margin-left:.3125em}.upload-widget .ml-2{margin-left:.4375em}.upload-widget .ml-3{margin-left:.5em}.upload-widget .ml-4{margin-left:.625em}.upload-widget .mr-0{margin-right:0}.upload-widget .mr-1{margin-right:.3125em}.upload-widget .mr-2{margin-right:.4375em}.upload-widget .mr-3{margin-right:.5em}.upload-widget .mr-4{margin-right:.625em}.upload-widget .mb-0{margin-bottom:0}.upload-widget .mb-1{margin-bottom:.3125em}.upload-widget .mb-2{margin-bottom:.4375em}.upload-widget .mb-3{margin-bottom:.5em}.upload-widget .mb-4{margin-bottom:.625em}.upload-widget .mt-0{margin-top:0}.upload-widget .mt-1{margin-top:.3125em}.upload-widget .mt-2{margin-top:.4375em}.upload-widget .mt-3{margin-top:.5em}.upload-widget .mt-4{margin-top:.625em}.upload-widget .mt-5{margin-top:1.25em}\n",""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageCropper.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,'.upload-widget__image-cropper__overlay{position:absolute;background:rgba(255,255,255,0.5)}.upload-widget__image-cropper__clip{overflow:hidden}.upload-widget__image-cropper__clip img{max-width:unset}.upload-widget__image-cropper__clip:before{content:" ";display:block;background:rgba(255,255,255,0.15);position:absolute;left:-2px;right:-2px;top:-2px;bottom:-2px}.upload-widget__image-cropper__clip--circular,.upload-widget__image-cropper__clip--circular:before{border-radius:100%}\n',""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageEditorLayout.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,".upload-widget__image-editor{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-align-content:space-between;-ms-flex-line-pack:justify;align-content:space-between;height:100%;width:100%}.upload-widget__image-editor img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.upload-widget__image-editor__header{padding:0.825em 0.8em 0.75em 0.8em}.upload-widget__image-editor__header--empty-non-modal{min-height:.9375em}.upload-widget__image-editor__image{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative}.upload-widget__image-editor__image-padding{position:absolute;top:0;bottom:0;left:.9375em;right:.9375em;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.upload-widget__image-editor__image-inner{max-width:100%;max-height:100%}.upload-widget__modal .upload-widget__image-editor__header{padding-top:0;padding-bottom:1.3em;margin-top:-1em}\n",""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/Spinner.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,"@-webkit-keyframes spinner{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spinner{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.spinner{display:block !important;border:0.275em solid var(--shade-700);border-right-color:transparent;border-radius:50%;-webkit-animation:spinner 0.75s linear infinite;-moz-animation:spinner 0.75s linear infinite;animation:spinner 0.75s linear infinite}.spinner__container{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100%;width:100%}\n",""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/shapes/ResizableSquare.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,".upload-widget__resizable-square{position:absolute;cursor:move}.upload-widget__resizable-square__nw,.upload-widget__resizable-square__ne,.upload-widget__resizable-square__sw,.upload-widget__resizable-square__se{width:1em;height:1em;opacity:0.75;background-color:var(--shade-900);border:.0625em solid var(--primary-color);border-radius:100%;position:absolute;display:block !important}.upload-widget__resizable-square__nw{top:-.5em;left:-.5em;cursor:nw-resize}.upload-widget__resizable-square__ne{top:-.5em;right:-.5em;cursor:ne-resize}.upload-widget__resizable-square__sw{bottom:-.5em;left:-.5em;cursor:sw-resize}.upload-widget__resizable-square__se{bottom:-.5em;right:-.5em;cursor:se-resize}\n",""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/fileIcons/ProgressIcon.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,".progress-icon{display:block}.progress-icon__container{display:inline-block;position:relative}.progress-icon__circle{-webkit-transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;-o-transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;-moz-transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;transition:.35s stroke-dashoffset cubic-bezier(0.33, 1, 0.68, 1),.6s stroke-width cubic-bezier(0.22, 1, 0.36, 1),.6s r cubic-bezier(0.22, 1, 0.36, 1),.3s opacity linear;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;stroke:var(--primary-color)}.progress-icon__circle__bg{-webkit-transition:.3s opacity linear;-o-transition:.3s opacity linear;-moz-transition:.3s opacity linear;transition:.3s opacity linear;fill:var(--shade-700)}.progress-icon__circle--error{stroke:var(--error-color)}.progress-icon__thumbnail{-webkit-transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;-o-transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;-moz-transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;transition:.2s transform cubic-bezier(0.22, 1, 0.36, 1),.05s opacity linear;-webkit-transition-delay:.3s;-moz-transition-delay:.3s;-o-transition-delay:.3s;transition-delay:.3s;background-repeat:no-repeat;background-position:center center;background-size:contain;opacity:1;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-transform:scale(1, 1);-moz-transform:scale(1, 1);-ms-transform:scale(1, 1);-o-transform:scale(1, 1);transform:scale(1, 1)}.progress-icon__thumbnail--hidden{opacity:0;-webkit-transform:scale(0.1, 0.1);-moz-transform:scale(0.1, 0.1);-ms-transform:scale(0.1, 0.1);-o-transform:scale(0.1, 0.1);transform:scale(0.1, 0.1)}\n",""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/files/SubmittedFileComponent.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,".breakpoint-md .upload-widget__submitted-file{max-width:100%;width:100%}.breakpoint-lg .upload-widget__submitted-file{max-width:50%;width:50%}.breakpoint-xl .upload-widget__submitted-file{max-width:33.333333%;width:33.333333%}.breakpoint-xl .upload-widget__submitted-file--loners{max-width:46%;width:46%}.upload-widget__submitted-file{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin:.3125em 0}.upload-widget__submitted-file__container{margin:0 .3125em;background:var(--shade-800);border-radius:.4375em}.upload-widget__submitted-file__inner{padding:1.3125em 1.4375em;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.upload-widget__submitted-file__text{margin-left:.4375em;margin-right:.5em;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.upload-widget__submitted-file__action{min-width:4.625em;text-align:right;display:inline-block}.upload-widget__submitted-file__action--performed{color:var(--shade-300)}.upload-widget__submitted-file__message{font-size:0.75em;margin-top:0.2em;display:block;line-height:1.1em}.upload-widget__submitted-file__name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;height:1.1em}\n",""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/screens/UploaderMainScreen.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,".upload-widget__main-screen{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-align-content:space-between;-ms-flex-line-pack:justify;align-content:space-between;height:100%;width:100%}.upload-widget__main-screen__file-list{margin:auto 0;overflow-y:auto;width:100%}.upload-widget__main-screen__file-list__inner{padding:.9375em;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.upload-widget__main-screen__info{color:var(--btn-text-color);text-align:center;padding:1.15em 0}\n",""]),_e.default=q},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/widgetBase/WidgetBase.scss":function($,_e,we){var De=we("./node_modules/css-loader/dist/runtime/api.js"),q=we.n(De)()(function(ee){return ee[1]});q.push([$.id,".upload-widget__widget-base{border-radius:.3125em;position:absolute;top:.9375em;left:.9375em;right:.9375em;bottom:.9375em;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.upload-widget__widget-base__modal-bg{color:var(--shade-600);position:absolute;z-index:1}.upload-widget__widget-base__modal-bg--dragging{color:var(--primary-color)}.upload-widget__widget-base__modal-bg--dragging *{pointer-events:none}.upload-widget__widget-base__children{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;z-index:2;position:absolute;bottom:0;top:0;left:0;right:0}.upload-widget__widget-base__children--is-modal{top:2.5em}.upload-widget__widget-base--draggable{border:.125em dashed var(--shade-600)}.upload-widget__widget-base--dragging{border-color:var(--primary-color)}.upload-widget__widget-base--dragging *{pointer-events:none}\n",""]),_e.default=q},"./node_modules/css-loader/dist/runtime/api.js":function($){$.exports=function(_e){var we=[];return we.toString=function(){return this.map(function(Ae){var q=_e(Ae);return Ae[2]?"@media ".concat(Ae[2]," {").concat(q,"}"):q}).join("")},we.i=function(De,Ae,q){"string"==typeof De&&(De=[[null,De,""]]);var ee={};if(q)for(var ye=0;ye<this.length;ye++){var mt=this[ye][0];null!=mt&&(ee[mt]=!0)}for(var We=0;We<De.length;We++){var yt=[].concat(De[We]);q&&ee[yt[0]]||(Ae&&(yt[2]=yt[2]?"".concat(Ae," and ").concat(yt[2]):Ae),we.push(yt))}},we}}},te={};function B($){if(te[$])return te[$].exports;var _e=te[$]={id:$,exports:{}};return u[$](_e,_e.exports,B),_e.exports}B.n=function($){var _e=$&&$.__esModule?function(){return $.default}:function(){return $};return B.d(_e,{a:_e}),_e},B.d=function($,_e){for(var we in _e)B.o(_e,we)&&!B.o($,we)&&Object.defineProperty($,we,{enumerable:!0,get:_e[we]})},B.o=function($,_e){return Object.prototype.hasOwnProperty.call($,_e)},B.r=function($){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})};var ve={};(function(){B.r(ve),B.d(ve,{UploadWidget:function(){return rh},UploadWidgetResult:function(){return Ns},UploadWidgetValidationError:function(){return il},UploaderLocaleEnUs:function(){return _e}});var we,lt,Bt,Ht,Se,tt,$=W(8138),_e={"error!":"Error!",done:"Done",addAnotherFile:"Add another file...",addAnotherImage:"Add another image...",cancel:"cancel",cancelInPreviewWindow:"Cancel","cancelled!":"cancelled",continue:"Continue",customValidationFailed:"Failed to validate file.",crop:"Crop",finish:"Finished",finishIcon:!0,image:"Image",maxFilesReached:"Maximum number of files:",maxImagesReached:"Maximum number of images:",maxSize:"File size limit:",next:"Next",of:"of",orDragDropFile:"...or drag and drop a file.",orDragDropFiles:"...or drag and drop files.",orDragDropImage:"...or drag and drop an image.",orDragDropImages:"...or drag and drop images.",pleaseWait:"Please wait...","removed!":"removed",remove:"remove",skip:"Skip",unsupportedFileType:"File type not supported.",uploadFile:"Upload a File",uploadFiles:"Upload a File",uploadImage:"Upload an Image",uploadImages:"Upload an Image",processingFile:"Processing file..."};function De(b,D){return function mt(b){if(Array.isArray(b))return b}(b)||function ye(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function q(b,D){if(b){if("string"==typeof b)return ee(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return ee(b,D)}}(b,D)||function Ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}function Ve(b){return function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];try{return Promise.resolve(b.apply(this,D))}catch(j){return Promise.reject(j)}}}(we||(we={})).from=function D(T){var j,ie,fe,Ie,Me,Ue,bt,Ge,ln,Tn=null!==(ie=null===(j=T?.images)||void 0===j?void 0:j.cropShape)&&void 0!==ie?ie:"rect",Jt=null===(Ie=null===(fe=T?.images)||void 0===fe?void 0:fe.crop)||void 0===Ie||Ie;return{images:{crop:Jt,cropFilePath:null!==(Ue=null===(Me=T?.images)||void 0===Me?void 0:Me.cropFilePath)&&void 0!==Ue?Ue:function(en){return"".concat(en.filePath,".crop")},cropRatio:"circ"===Tn?1:null===(bt=T?.images)||void 0===bt?void 0:bt.cropRatio,cropShape:Tn,preview:null!==(ln=null===(Ge=T?.images)||void 0===Ge?void 0:Ge.preview)&&void 0!==ln?ln:Jt}}},(lt||(lt={})).from=function D(T){var j,ie,fe,Ie,Me,Ue,bt,Ge,ln,Tn,Jt,en,Ln,Rn="#377dff",Wn=null!==(j=T?.primary)&&void 0!==j?j:Rn;try{Ln=function kt(b,D){var T=function ht(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(j,ie,fe,Ie){return"".concat(ie).concat(ie).concat(fe).concat(fe).concat(Ie).concat(Ie)});var T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);if(null===T)throw new Error("Invalid color code: ".concat(b));return[parseInt(T[1],16),parseInt(T[2],16),parseInt(T[3],16)]}(b),j=De(T,3),Me=function We(b,D,T){var j=Math.max(b,D,T),ie=j-Math.min(b,D,T),fe=ie&&(j===b?(D-T)/ie:j===D?2+(T-b)/ie:4+(b-D)/ie);return[60*(fe<0?fe+6:fe),j&&ie/j,j]}(j[0],j[1],j[2]),Ue=De(Me,3),ln=Ue[2],Tn=function(Sn){return Math.min(1,Math.max(0,Sn))},Jt=function yt(b,D,T){var j=function(fe){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(fe+b/60)%6;return T-T*D*Math.max(Math.min(Ie,4-Ie,1),0)};return[j(5),j(3),j(1)]}(Ue[0],Tn(Ue[1]+-1*D),255*Tn(ln/255+D)).map(Math.round),en=De(Jt,3),Qt=en[1],Wn=en[2];return"rgb(".concat(en[0],", ").concat(Qt,", ").concat(Wn,")")}(Wn,.1)}catch{console.error("Invalid hex code '".concat(Wn,"', using default colours.")),Wn=Rn,Ln="#528fff"}return{primary:Wn,active:null!==(ie=T?.active)&&void 0!==ie?ie:Ln,error:null!==(fe=T?.error)&&void 0!==fe?fe:"#d23f4d",shade100:null!==(Ie=T?.shade100)&&void 0!==Ie?Ie:"#333",shade200:null!==(Me=T?.shade200)&&void 0!==Me?Me:"#7a7a7a",shade300:null!==(Ue=T?.shade300)&&void 0!==Ue?Ue:"#999",shade400:null!==(bt=T?.shade400)&&void 0!==bt?bt:"#a5a6a8",shade500:null!==(Ge=T?.shade500)&&void 0!==Ge?Ge:"#d3d3d3",shade600:null!==(ln=T?.shade600)&&void 0!==ln?ln:"#dddddd",shade700:null!==(Tn=T?.shade700)&&void 0!==Tn?Tn:"#f0f0f0",shade800:null!==(Jt=T?.shade800)&&void 0!==Jt?Jt:"#f8f8f8",shade900:null!==(en=T?.shade900)&&void 0!==en?en:"#fff"}},function(b){b.from=function D(T){var j;return{base:null!==(j=T?.base)&&void 0!==j?j:16}}}(Bt||(Bt={})),function(b){b.from=function D(T){var j;return{base:null!==(j=T?.base)&&void 0!==j?j:"-apple-system, blinkmacsystemfont, Segoe UI, helvetica, arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol"}}}(Ht||(Ht={})),function(b){b.from=function D(T){return{colors:lt.from(T?.colors),fontFamilies:Ht.from(T?.fontFamilies),fontSizes:Bt.from(T?.fontSizes)}}}(Se||(Se={})),function(b){b.from=function D(T){var j,ie,fe,Ie,Me,Ue,bt,Ge,ln=null!==(j=T.layout)&&void 0!==j?j:"modal",Tn=null!==(ie=T.multi)&&void 0!==ie?ie:void 0!==T.maxFileCount&&T.maxFileCount>1;return{apiKey:T.apiKey,apiUrl:T.apiUrl,cdnUrl:T.cdnUrl,headers:T.headers,container:T.container,editor:we.from(T.editor),layout:ln,locale:Object.assign(Object.assign({},_e),T.locale),maxFileCount:T.maxFileCount,maxFileSizeBytes:T.maxFileSizeBytes,metadata:T.metadata,mimeTypes:null===(fe=T.mimeTypes)||void 0===fe?void 0:fe.map(function(Jt){return Jt.trim().toLowerCase()}),multi:Tn,onInit:null!==(Ie=T.onInit)&&void 0!==Ie?Ie:function(){},onUpdate:null!==(Me=T.onUpdate)&&void 0!==Me?Me:function(){},onPreUpload:Ve(function(Jt){var en=T.onPreUpload;return void 0===en?void 0:en(Jt)}),path:T.path,showFinishButton:null!==(Ue=T.showFinishButton)&&void 0!==Ue?Ue:!!Tn&&"modal"===ln,showRemoveButton:null===(bt=T.showRemoveButton)||void 0===bt||bt,styles:Se.from(T.styles),tags:null!==(Ge=T.tags)&&void 0!==Ge?Ge:[]}}}(tt||(tt={}));var vt=W(4354),ae=B("./node_modules/@bytescale/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ct=B.n(ae),Pt=B("./node_modules/@bytescale/style-loader/dist/runtime/styleDomAPI.js"),rn=B.n(Pt),Yn=B("./node_modules/@bytescale/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),$n=B.n(Yn),er=B("./node_modules/@bytescale/style-loader/dist/runtime/insertStyleElement.js"),Kn=B.n(er),fr=B("./node_modules/@bytescale/style-loader/dist/runtime/styleTagTransform.js"),tr=B.n(fr),Ne=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/UploadWidgetContainer.scss"),ze={};ze.styleTagTransform=tr(),ze.setAttributes=$n(),ze.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},ze.domAPI=rn(),ze.insertStyleElement=Kn(),ct()(Ne.default,ze);var ft=W(9322),wt=B.n(ft),Mt=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/widgetBase/WidgetBase.scss"),At={};At.styleTagTransform=tr(),At.setAttributes=$n(),At.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},At.domAPI=rn(),At.insertStyleElement=Kn(),ct()(Mt.default,At);var Ct=function(D){var j=D.width,ie=D.height,Me=400-ie,Ue=50-D.notchSize;return(0,$.jsxs)("svg",Object.assign({width:j,height:ie,className:D.className,xmlns:"http://www.w3.org/2000/svg"},{children:[(0,$.jsxs)("defs",{children:[(0,$.jsx)("path",{d:"M76 99h".concat(536-(600-j-Ue),"a7 7 0 0 1 7 7v").concat(36-Ue,"a7 7 0 0 0 7 7h").concat(36-Ue,"a7 7 0 0 1 7 7v").concat(336-(Me-Ue),"a7 7 0 0 1-7 7H76a7 7 0 0 1-7-7V106a7 7 0 0 1 7-7Z"),id:"rectWithNotch"}),(0,$.jsx)("mask",Object.assign({id:"rectWithNotchMask",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:j,height:ie,fill:"#fff"},{children:(0,$.jsx)("use",{xlinkHref:"#rectWithNotch"})}))]}),(0,$.jsx)("use",{mask:"url(#rectWithNotchMask)",xlinkHref:"#rectWithNotch",transform:"translate(-69 -99)",stroke:"currentColor",strokeWidth:"4",fill:"none",fillRule:"evenodd",strokeDasharray:"4"})]}))},nt=function(D){var T=D.closeButtonSize,j=D.isDragging,ie=D.dimensions;return void 0===ie?(0,$.jsx)($.Fragment,{}):(0,$.jsx)(Ct,{width:ie.width,height:ie.height,notchSize:T,className:wt()("upload-widget__widget-base__modal-bg",{"upload-widget__widget-base__modal-bg--dragging":j})})},Ye=W(691),Mn=function(D){var T=D.children,j=D.className,ie=D.originalHeight,fe=D.originalWidth,Ie=D.style,Me=function(b,D){var T={};for(var j in b)Object.prototype.hasOwnProperty.call(b,j)&&D.indexOf(j)<0&&(T[j]=b[j]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(j=Object.getOwnPropertySymbols(b);ie<j.length;ie++)D.indexOf(j[ie])<0&&Object.prototype.propertyIsEnumerable.call(b,j[ie])&&(T[j[ie]]=b[j[ie]])}return T}(D,["children","className","originalHeight","originalWidth","style"]),Ue=Me?.width,bt=Me?.height;return(0,$.jsx)("svg",Object.assign({viewBox:"0 0 ".concat(fe," ").concat(ie),version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:j,style:Object.assign(Object.assign({},Ie),void 0!==bt?{height:"".concat(bt,"px"),width:"".concat(bt*(fe/ie),"px")}:void 0!==Ue?{width:"".concat(Ue,"px"),height:"".concat(Ue*(ie/fe),"px")}:{})},{children:T}))},Fn=function(D){return(0,$.jsx)(Mn,Object.assign({originalWidth:27,originalHeight:26,width:D.width??27,className:D.className},{children:(0,$.jsxs)("g",Object.assign({transform:"rotate(45 6.547 16.13)",fill:"currentColor",fillRule:"evenodd"},{children:[(0,$.jsx)("rect",{x:"7.75",width:"2.5",height:"18",rx:"1.25"}),(0,$.jsx)("rect",{transform:"rotate(90 9 9)",x:"7.75",width:"2.5",height:"18",rx:"1.25"})]}))}))},vn=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/modal/Modal.scss"),He={};function Et(b,D){return function pr(b){if(Array.isArray(b))return b}(b)||function qn(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function Dn(b,D){if(b){if("string"==typeof b)return hn(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return hn(b,D)}}(b,D)||function Ft(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}He.styleTagTransform=tr(),He.setAttributes=$n(),He.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},He.domAPI=rn(),He.insertStyleElement=Kn(),ct()(vn.default,He);var zn=function(D){var T=D.children,j=D.closeModal,fe=Et((0,Ye.useState)(!1),2),Ie=fe[0],Me=fe[1],bt=Et((0,Ye.useState)(!1),2),Ge=bt[0],ln=bt[1],Jt=Et((0,Ye.useState)(!1),2),en=Jt[0],Rn=Jt[1],Qt=Ge&&!Ie,Wn=function(){Me(!0)};return(0,Ye.useEffect)(function(){Ge||ln(!0)},[Ge]),(0,Ye.useEffect)(function(){if(Ie){var Ln=setTimeout(function(){j()},250);return function(){return clearTimeout(Ln)}}},[Ie]),(0,Ye.useLayoutEffect)(function(){var Ln=document.documentElement.className,Sn=document.body.className;return document.documentElement.className="".concat(Ln," upload-widget__html"),document.body.className="".concat(Sn," upload-widget__body"),function(){document.documentElement.className=Ln,document.body.className=Sn}},[]),(0,Ye.useEffect)(function(){if(Qt&&!en){var Ln=window.requestAnimationFrame(function(){Rn(!0)});return function(){return window.cancelAnimationFrame(Ln)}}en&&Rn(!1)},[Qt]),(0,$.jsxs)($.Fragment,{children:[Qt&&(0,$.jsx)("div",{className:wt()("upload-widget__backdrop",{show:en}),onMouseDown:Wn}),Qt&&(0,$.jsxs)("div",Object.assign({className:wt()("upload-widget__modal",{show:en})},{children:[T,(0,$.jsx)("div",Object.assign({className:"upload-widget__modal__close"},{children:(0,$.jsx)("a",Object.assign({href:"#close",onClick:function(Sn){Sn.preventDefault(),Wn()}},{children:(0,$.jsx)(Fn,{width:27})}))}))]}))]})};function vr(b,D){return function it(b){if(Array.isArray(b))return b}(b)||function me(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||Sr(b,D)||function ri(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(b,D){if(b){if("string"==typeof b)return qe(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return qe(b,D)}}function qe(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}function St(){var D=vr((0,Ye.useState)(void 0),2),j=D[1];return[D[0],(0,Ye.useCallback)(function(fe){j(fe??void 0)},[])]}function Zt(b,D){var j=vr(St(),2),ie=j[0],fe=j[1];return[ar(b,ie,ie,D),fe]}function ar(b,D,T,j){var fe=vr((0,Ye.useState)(void 0),2),Ie=fe[0],Me=fe[1];return(0,Ye.useLayoutEffect)(function(){if(void 0!==D&&void 0!==T){var bt=new ResizeObserver(function(){b&&Me(function de(b){if(void 0!==b){var D=b.getBoundingClientRect();return{width:D.width,height:D.height,x:b.offsetLeft,y:b.offsetTop}}}(D))});return bt.observe(T),function(){return bt.disconnect()}}},[D,b].concat(function Br(b){return function li(b){if(Array.isArray(b))return qe(b)}(b)||function _r(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||Sr(b)||function In(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(j))),Ie}function G(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var jt=function(D){var Me,Ue,T=D.children,j=D.htmlProps,ie=D.isDraggable,fe=D.isDragging,Ie=D.layout,Ge=function ce(b,D){return function _t(b){if(Array.isArray(b))return b}(b)||function xe(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function X(b,D){if(b){if("string"==typeof b)return G(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return G(b,D)}}(b,D)||function Y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Zt(!0,[]),2),ln=Ge[0],Tn=Ge[1],Rn=null!==(Ue=void 0===ln||null===(Me=[{width:650,value:"md"},{width:930,value:"lg"}].find(function(Qt){return ln.width<=Qt.width}))||void 0===Me?void 0:Me.value)&&void 0!==Ue?Ue:"xl";return(0,$.jsxs)("div",Object.assign({ref:Tn,className:wt()("upload-widget__widget-base","breakpoint-".concat(Rn),{"upload-widget__widget-base--draggable":!0===ie&&"modal"!==Ie,"upload-widget__widget-base--dragging":!0===fe&&"modal"!==Ie})},j,{children:[!0===ie&&"modal"===Ie&&(0,$.jsx)(nt,{isDragging:!0===fe,dimensions:ln,closeButtonSize:38}),(0,$.jsx)("div",Object.assign({className:wt()("upload-widget__widget-base__children",{"upload-widget__widget-base__children--is-modal":"modal"===Ie})},{children:T}))]}))},J=function(D){return(0,$.jsx)(Mn,Object.assign({originalWidth:13,originalHeight:10,width:D.width??13,className:D.className},{children:(0,$.jsx)("path",{d:"M6.293.293a.999.999 0 0 0 0 1.414L8.586 4H1a1 1 0 0 0 0 2h7.586L6.293 8.293a.999.999 0 1 0 1.414 1.414L12.414 5 7.707.293a.999.999 0 0 0-1.414 0Z",fill:"currentColor",fillRule:"nonzero"})}))},se=function(D){var ie,j=D.layout,fe=(null!==(ie=D.error.message)&&void 0!==ie?ie:"unknown error").replace("[upload-js] ",""),Ie=fe.toLowerCase().includes("api key");return(0,$.jsxs)(jt,Object.assign({layout:j,multi:!1},{children:[(0,$.jsx)("h1",{children:Ie?"Almost there...":"Oops!"}),(0,$.jsx)("p",{children:fe}),Ie?(0,$.jsxs)("div",Object.assign({className:"mt-5"},{children:[(0,$.jsxs)("a",Object.assign({href:"https://www.bytescale.com/get-started",className:"btn btn--primary-outline"},{children:["Get API Key ",(0,$.jsx)(J,{width:12,className:"ml-2"})]}))," "]})):(0,$.jsx)($.Fragment,{})]}))};function Ce(b){return void 0!==b}function Ot(b,D){return function kr(b){if(Array.isArray(b))return b}(b)||function xr(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function ur(b,D){if(b){if("string"==typeof b)return Ar(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Ar(b,D)}}(b,D)||function Lt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var gi=function(D){var Ie,T=D.className,j=D.options,ie=D.onUpload,fe=D.text,bt=Ot((0,Ye.useState)(Math.random()),1)[0],Tn=Ot((0,Ye.useState)("upload-widget__input-".concat(Math.round(1e6*Math.random()))),1)[0];return(0,$.jsxs)("label",Object.assign({className:wt()("btn btn--file",T),htmlFor:Tn},{children:[fe,(0,$.jsx)("input",Object.assign({id:Tn,name:Tn,accept:null===(Ie=j.mimeTypes)||void 0===Ie?void 0:Ie.join(","),type:"file",className:"btn--file__input"},j.multi?{multiple:!0}:{},{onChange:function(en){var Rn,Qt,Ln=Array.from(null!==(Qt=null!==(Rn=en.target.files)&&void 0!==Rn?Rn:void 0)&&void 0!==Qt?Qt:[]);Ln.length>0&&ie(Ln)}}),bt)]}))},di=function(D){var j=D.options,ie=D.isImageUploader,fe=j.multi,Ie=j.locale;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(gi,{options:j,text:ie?fe?Ie.uploadImages:Ie.uploadImage:fe?Ie.uploadFiles:Ie.uploadFile,className:"btn--primary btn--upload",onUpload:D.addFiles}),(0,$.jsx)("p",Object.assign({className:"text-secondary mb-0"},{children:ie?fe?Ie.orDragDropImages:Ie.orDragDropImage:fe?Ie.orDragDropFiles:Ie.orDragDropFile}))]})},wn=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/fileIcons/ProgressIcon.scss"),ts={};function Mo(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}ts.styleTagTransform=tr(),ts.setAttributes=$n(),ts.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},ts.domAPI=rn(),ts.insertStyleElement=Kn(),ct()(wn.default,ts);var qo=function(D){var T=D.height,j=D.progress,ie=D.onCompleteImageSource,fe=D.isError,Me=function Wc(b,D){return function qa(b){if(Array.isArray(b))return b}(b)||function ml(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function Wa(b,D){if(b){if("string"==typeof b)return Mo(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Mo(b,D)}}(b,D)||function xo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ye.useState)(1===j),2),Ue=Me[0],bt=Me[1],Ge=T/2,ln=2*Ge,Tn=2*ln,Jt=2*Ge*Math.PI,en=Jt-j*Jt,Rn="".concat(Jt," ").concat(Jt);return(0,Ye.useEffect)(function(){if(1===j&&!Ue){var Qt=setTimeout(function(){bt(!0)},300);return function(){return clearTimeout(Qt)}}},[j]),(0,$.jsxs)("span",Object.assign({className:"progress-icon__container"},{children:[(0,$.jsxs)("svg",Object.assign({className:"progress-icon",width:Tn,height:Tn},{children:[(0,$.jsx)("circle",{className:"progress-icon__circle__bg",strokeWidth:0,r:Tn/2,cx:Tn/2,cy:Tn/2,style:{opacity:Ue?0:1}}),(0,$.jsx)("circle",{className:wt()("progress-icon__circle",{"progress-icon__circle--error":fe}),strokeWidth:Ue?0:ln,fill:"transparent",r:Ue?0:Ge,cx:ln,cy:ln,style:{strokeDasharray:Rn,strokeDashoffset:en,opacity:Ue?0:1}})]})),(0,$.jsx)("span",{className:wt()("progress-icon__thumbnail",{"progress-icon__thumbnail--hidden":!Ue}),style:{backgroundImage:"url(".concat(ie,")")}})]}))},Cc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0xNDUgMjEwSDE1Yy04LjMgMC0xNS02LjctMTUtMTVWMTVDMCA2LjcgNi43IDAgMTUgMGg5NWw1MCA1MHYxNDVjMCA4LjMtNi43IDE1LTE1IDE1WiIgZmlsbD0iI2M5ZGNmZCIvPjxwYXRoIGZpbGw9IiNFQ0YzRkYiIGQ9Ik0xNjAgNTBoLTUwVjB6Ii8+PHBhdGggZmlsbD0iI2JjZDRmZSIgZD0ibTExMCA1MCA1MCA1MFY1MHoiLz48L2c+PC9zdmc+Cg==",Ac=[{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjAgMjIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNjAgMjIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTAwIDBIMTVDNyAwIDAgNyAwIDE1djE5MGMwIDggNyAxNSAxNSAxNWgxMzBjOCAwIDE1LTcgMTUtMTVWNjBsLTM1LTI1LTI1LTM1eiIgc3R5bGU9ImZpbGw6IzQyODVmNCIvPjxwYXRoIGQ9Ik00MCAxNjBoODB2LTEwSDQwdjEwem0wIDIwaDYwdi0xMEg0MHYxMHptMC03MHYxMGg4MHYtMTBINDB6bTAgMzBoODB2LTEwSDQwdjEweiIgc3R5bGU9ImZpbGw6I2YxZjFmMSIvPjxwYXRoIGQ9Ik0xMDAgMHY0NWMwIDggNyAxNSAxNSAxNWg0NUwxMDAgMHoiIHN0eWxlPSJmaWxsOiNhMWMyZmEiLz48L3N2Zz4K",extensions:[".docx",".doc",".txt",".md",".markdown",".mkdown",".mkdn",".pdf"],mime:["application/x-abiword","application/msword","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]},{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjAgMjEwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNjAgMjEwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNXoiIHN0eWxlPSJmaWxsOiM0M2EwNDciLz48cGF0aCBkPSJNMTYwIDUwaC01MFYwbDUwIDUweiIgc3R5bGU9ImZpbGw6I2M4ZTZjOSIvPjxwYXRoIGQ9Im0xMTAgNTAgNTAgNTBWNTBoLTUweiIgc3R5bGU9ImZpbGw6IzJlN2QzMiIvPjxwYXRoIGQ9Ik0xMTUgMTAwSDM1djcwaDkwdi03MGgtMTB6bS03MCAxMGgyMHYxMEg0NXYtMTB6bTAgMjBoMjB2MTBINDV2LTEwem0wIDIwaDIwdjEwSDQ1di0xMHptNzAgMTBINzV2LTEwaDQwdjEwem0wLTIwSDc1di0xMGg0MHYxMHptMC0yMEg3NXYtMTBoNDB2MTB6IiBzdHlsZT0iZmlsbDojZThmNWU5Ii8+PC9zdmc+Cg==",extensions:[".xlsx",".xls",".csv",".tsv",".psv"],mime:["application/ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiNEMzUyMzAiLz48cGF0aCBmaWxsPSIjRkY4NDY0IiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiNCNDQyMjMiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTIxLjY1OSA5NEgzOC4zMzNDMzMuNzM3IDk0IDMwIDk3LjcyMyAzMCAxMDIuM3Y0NS42NWMwIDQuNTc3IDMuNzM3IDguMyA4LjMzMyA4LjNINzUuODN2OC4zYzAgMS45NTktMS42MTMgMy45NjctNC40MjUgNS41MjQtMy4yNDIgMS43ODgtNy41OTEgMi43NzYtMTIuMjM3IDIuNzc2VjE3N2g0MS42NjR2LTQuMTVjLTQuNjYzIDAtOS4wMTItLjk4NC0xMi4yMzctMi43NzYtMi44MTItMS41NTctNC40MjUtMy41NjUtNC40MjUtNS41MjR2LTguM2gzNy40OTdjNC41OTYgMCA4LjMzMy0zLjcyMyA4LjMzMy04LjNWMTAyLjNjMC00LjU3Ny0zLjczNy04LjMtOC4zMzMtOC4zaC0uMDA4Wm0tMzYuNDggNzguODVINzQuODE3YzMuMjQxLTIuMTkxIDUuMTgzLTUuMDg0IDUuMTgzLTguMyAwIDMuMjE2IDEuOTQyIDYuMTA5IDUuMTgzIDguM2gtLjAwNFpNMzguMzMzIDEwMi4zaDgzLjMyNnYzNy4zNUgzOC4zMzNWMTAyLjNjLS4wMTMgMCAwIDAgMCAwWm0wIDQ1LjY1di00LjE1aDgzLjMyNnY0LjE1SDM4LjMzM1oiLz48cGF0aCBkPSJNNjcuOTg2IDEzNi43Yy4zMzYuMi43MTMuMyAxLjA4NS4zLjMxMSAwIC42MzQtLjA3Ni45MzMtLjIxMmwyNC44NTctMTJBMS45OTMgMS45OTMgMCAwIDAgOTYgMTIzYzAtLjc1Mi0uNDQtMS40NTItMS4xNC0xLjc4OGwtMjQuODU2LTEyYTIuMTQ1IDIuMTQ1IDAgMCAwLTIuMDIyLjA4OEExLjk5MyAxLjk5MyAwIDAgMCA2NyAxMTF2MjRjMCAuNjg4LjM3NyAxLjMzNi45ODIgMS43aC4wMDRabTMuMTYxLTIyLjQ2NEw4OS4yOTcgMTIzbC0xOC4xNSA4Ljc2NFYxMTQuMjM2WiIvPjwvZz48L2c+PC9nPjwvc3ZnPgo=",extensions:[".pptx",".ppt"],mime:["application/vnd.apple.keynote","application/ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiM4NkFCRUIiLz48cGF0aCBmaWxsPSIjQzRENEYxIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiM3MThGQzMiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMzkgOTEuNjkxaDE4LjMzOHY5LjE2OUgzOXpNNDguMTY5IDEwMC44NmgxOC4zMzh2OS4xNjlINDguMTY5eiIvPjxwYXRoIGQ9Ik00OC4xNjkgMTAwLjg2aDkuMTY5djE4LjMzOGgtOS4xNjl6TTM5IDczLjM1M2gxOC4zMzh2OS4xNjlIMzl6TTQ4LjE2OSA4Mi41MjJoMTguMzM4djkuMTY5SDQ4LjE2OXpNMzkgNTUuMDE1aDE4LjMzOHY5LjE2OUgzOXpNNDguMTY5IDY0LjE4NGgxOC4zMzh2OS4xNjlINDguMTY5ek0zOSAzNi42NzZoMTguMzM4djkuMTY5SDM5ek00OC4xNjkgNDUuODQ2aDE4LjMzOHY5LjE2OUg0OC4xNjl6TTM5IDE4LjMzOGgxOC4zMzh2OS4xNjlIMzl6TTQ4LjE2OSAyNy41MDdoMTguMzM4djkuMTY5SDQ4LjE2OXpNMzkgMGgxOC4zMzh2OS4xNjlIMzl6TTQ4LjE2OSA5LjE2OWgxOC4zMzh2OS4xNjlINDguMTY5eiIvPjxwYXRoIGQ9Ik01Mi43NTQgMTE3LjAzYzcuNTk2IDAgMTMuNzUzIDYuMTU3IDEzLjc1MyAxMy43NTN2MTMuNzU0YTkuMTcgOS4xNyAwIDAgMS05LjE2OSA5LjE2OUg0OC4xN2E5LjE3IDkuMTcgMCAwIDEtOS4xNjktOS4xN3YtMTMuNzUzYzAtNy41OTYgNi4xNTgtMTMuNzU0IDEzLjc1NC0xMy43NTRabTAgOS4xNjlhNC41ODUgNC41ODUgMCAwIDAtNC41ODUgNC41ODR2OS4xN2E0LjU4NSA0LjU4NSAwIDEgMCA5LjE3IDB2LTkuMTdhNC41ODUgNC41ODUgMCAwIDAtNC41ODUtNC41ODRaIi8+PC9nPjwvZz48L2c+PC9zdmc+Cg==",extensions:[".zip",".tar",".tar.gz",".rar"],mime:[]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiM0ZDhhZmEiLz48cGF0aCBmaWxsPSIjOTViNmZmIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiMzZTcxZTQiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTI3IDE3MUgzM3YtMTguODU3bDI3LjExOC0zMy4wNDkgMzkuNzExIDMzLjA0OUwxMjcgMTQwLjI4OXpNMTMxIDExMC41YzAgOC4wMDktNi40OTEgMTQuNS0xNC41IDE0LjVzLTE0LjUtNi40OTEtMTQuNS0xNC41UzEwOC40OTEgOTYgMTE2LjUgOTZzMTQuNSA2LjQ5MSAxNC41IDE0LjVaIi8+PC9nPjwvZz48L2c+PC9zdmc+Cg==",extensions:[],mime:["image/"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiM4QzUwRTciLz48cGF0aCBmaWxsPSIjQjM4MEZGIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiM3QzNGRDgiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PHBhdGggZD0iTTEyNi45NTggMTA0SDMzLjA0MkEyLjA0MiAyLjA0MiAwIDAgMCAzMSAxMDYuMDMxdjYwLjkzOGMwIDEuMTE3LjkxOSAyLjAzMSAyLjA0MiAyLjAzMWg5My45MTZhMi4wNDIgMi4wNDIgMCAwIDAgMi4wNDItMi4wMzFWMTA2LjAzYTIuMDQyIDIuMDQyIDAgMCAwLTIuMDQyLTIuMDMxWm0tNzkuNjI1IDQuMDYzdjguMTI0aC04LjE2NnYtOC4xMjRoOC4xNjZabS04LjE2NiAzNi41NjJoOC4xNjZ2OC4xMjVoLTguMTY2di04LjEyNVptMC00LjA2M3YtOC4xMjVoOC4xNjZ2OC4xMjVoLTguMTY2Wm0wLTEyLjE4N3YtOC4xMjVoOC4xNjZ2OC4xMjVoLTguMTY2Wm0wIDM2LjU2M3YtOC4xMjVoOC4xNjZ2OC4xMjVoLTguMTY2Wm02NS4zMzMtNC4wNjNoLTQ5di00OC43NWg0OXY0OC43NVptMTYuMzMzLTguMTI1aC04LjE2NnYtOC4xMjVoOC4xNjZ2OC4xMjVabTAtMTIuMTg4aC04LjE2NnYtOC4xMjVoOC4xNjZ2OC4xMjVabTAtMTIuMTg3aC04LjE2NnYtOC4xMjVoOC4xNjZ2OC4xMjVabS04LjE2NiAzNi41NjN2LTguMTI1aDguMTY2djguMTI1aC04LjE2NlptOC4xNjYtNDguNzVoLTguMTY2di04LjEyNmg4LjE2NnY4LjEyNloiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48L2c+PC9zdmc+Cg==",extensions:[],mime:["video/"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48ZmlsdGVyIGlkPSJhIj48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlR3JhcGhpYyIgdmFsdWVzPSIwIDAgMCAwIDEuMDAwMDAwIDAgMCAwIDAgMS4wMDAwMDAgMCAwIDAgMCAxLjAwMDAwMCAwIDAgMCAxLjAwMDAwMCAwIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNMTQ1IDIxMEgxNWMtOC4zIDAtMTUtNi43LTE1LTE1VjE1QzAgNi43IDYuNyAwIDE1IDBoOTVsNTAgNTB2MTQ1YzAgOC4zLTYuNyAxNS0xNSAxNVoiIGZpbGw9IiMwNzkxRkYiLz48cGF0aCBmaWxsPSIjQjNEREZGIiBkPSJNMTYwIDUwaC01MFYweiIvPjxwYXRoIGZpbGw9IiMwQTdDRDkiIGQ9Im0xMTAgNTAgNTAgNTBWNTB6Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNhKSI+PHBhdGggZD0iTTg5LjQwNSA5NS4wMWM5LjQ4IDIuMDQ1IDE3LjI4MSA2LjkwNCAyMy40MDcgMTQuNTc4IDYuMTI1IDcuNjc0IDkuMTg4IDE2LjQ4IDkuMTg4IDI2LjQxNyAwIDkuOTM3LTMuMDYzIDE4Ljc0My05LjE4OCAyNi40MTYtNi4xMjYgNy42NzQtMTMuOTI4IDEyLjUzNC0yMy40MDcgMTQuNTc5di05LjY0OWM2Ljg1NC0yLjA0NSAxMi40MzEtNS45MTggMTYuNzM0LTExLjYxOCA0LjMwMi01LjcgNi40NTQtMTIuMjc4IDYuNDU0LTE5LjczM3MtMi4xNTItMTQuMDMzLTYuNDU0LTE5LjczM2MtNC4zMDMtNS43LTkuODgtOS41NzMtMTYuNzM0LTExLjYxOFY5NXYuMDFabTExLjU5MiA0MWMwIDguNzctMy44NjQgMTUuMDU1LTExLjU5MiAxOC44NTN2LTM3LjcxMmMzLjIwOCAxLjYwOSA1Ljk0MiA0LjI0IDguMjA0IDcuODk1IDIuMjYxIDMuNjU1IDMuMzkyIDcuMzA5IDMuMzkyIDEwLjk2M2gtLjAwNFpNMzggMTIxLjk3N2gxOC41OTFsMjMuNDA3LTIzLjQ2djc0Ljk3OWwtMjMuNDA3LTIzLjQ2SDM4di0yOC4wNjQuMDA1WiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvZz48L3N2Zz4K",extensions:[],mime:["audio/"]},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0xNDUgMjEwSDE1Yy04LjMgMC0xNS02LjctMTUtMTVWMTVDMCA2LjcgNi43IDAgMTUgMGg5NWw1MCA1MHYxNDVjMCA4LjMtNi43IDE1LTE1IDE1WiIgZmlsbD0iIzQwNzREMSIvPjxwYXRoIGZpbGw9IiM4RkIwRUEiIGQ9Ik0xNjAgNTBoLTUwVjB6Ii8+PHBhdGggZmlsbD0iIzQwNjM5RSIgZD0ibTExMCA1MCA1MCA1MFY1MHoiLz48cGF0aCBkPSJNNjkuNjUxIDE2MC4wNjN2LTUuNDE3SDY0LjJjLTMuNDc0IDAtNS43NjYtLjUwMy02Ljg3NC0xLjUwOS0xLjEwOS0xLjAwNi0xLjY2My0yLjIxNy0xLjY2My0zLjYzNCAwLTEuMDUyLjIyOC0yLjY3NC42ODYtNC44NjlsLjg5MS00LjAxMWMuNDgtMi4xNDkuNzItMy44ODYuNzItNS4yMTIgMC0xLjUwOC0uMjU3LTIuODQ1LS43NzEtNC4wMTEtLjUxNS0xLjE2Ni0xLjI4LTIuMjk3LTIuMjk4LTMuMzk0LTEuMDE3LTEuMDk3LTIuNjExLTIuMjE3LTQuNzgyLTMuMzYgMi4xNzEtMS4xNDMgMy43NjUtMi4yNjkgNC43ODItMy4zNzcgMS4wMTgtMS4xMDkgMS43ODMtMi4yNCAyLjI5OC0zLjM5NS41MTQtMS4xNTQuNzcxLTIuNDg1Ljc3MS0zLjk5NCAwLTEuMzI2LS4yNC0zLjA3NC0uNzItNS4yNDZsLS44OTEtNC4wMTFjLS40NTgtMi4xNzItLjY4Ni0zLjc3Mi0uNjg2LTQuOCAwLTEuNDYzLjU2LTIuNjkyIDEuNjgtMy42ODYgMS4xMi0uOTk0IDMuNDA2LTEuNDkxIDYuODU3LTEuNDkxaDUuNDUxVjg5LjE2aC01LjUyYy02LjQyMiAwLTEwLjU2IDEuMDQtMTIuNDExIDMuMTItMS44NTEgMi4wOC0yLjc3NyA0LjQxMS0yLjc3NyA2Ljk5NCAwIDEuMzcyLjE3MSAyLjg2OS41MTQgNC40OTJsLjY1MiAyLjgxMS41ODIgMy4wNTIuNDQ2IDEuODE3Yy4xNi44LjI0IDEuNjIzLjI0IDIuNDY4IDAgMi4yODYtLjc0MyA0LjE4OS0yLjIyOCA1LjcwOS0xLjQ4NiAxLjUyLTQuMDU4IDIuMjgtNy43MTUgMi4yOEgzOC4yOHY1LjQ1MWgzLjE1NGMzLjcwMyAwIDYuMjg2Ljc3MiA3Ljc0OSAyLjMxNSAxLjQ2MyAxLjU0MiAyLjE5NCAzLjQxMSAyLjE5NCA1LjYwNSAwIC44LS4wOCAxLjYzNS0uMjQgMi41MDNsLS40NDYgMS44ODYtLjU4MiAzLjA1MS0uNjUyIDIuODEyYy0uMzQzIDEuNi0uNTE0IDMuMDg1LS41MTQgNC40NTcgMCAyLjYwNi45MjYgNC45MzcgMi43NzcgNi45OTQgMS44NTEgMi4wNTcgNS45ODkgMy4wODYgMTIuNDExIDMuMDg2aDUuNTJabTI3LjI0NiAwYzYuNDIzIDAgMTAuNTY2LTEuMDIzIDEyLjQyOS0zLjA2OSAxLjg2My0yLjA0NSAyLjc5NC00LjM3MSAyLjc5NC02Ljk3NyAwLTEuMzcxLS4xODMtMi44NjgtLjU0OS00LjQ5MWwtLjY1MS0yLjgxMi0uNTgzLTMuMDUxLS40MTEtMS44ODZjLS4xODMtLjgtLjI3NS0xLjYtLjI3NS0yLjQgMC0yLjI4Ni43NDktNC4xOTQgMi4yNDYtNS43MjYgMS40OTctMS41MzEgNC4wNzQtMi4yOTcgNy43MzItMi4yOTdoMy4xMnYtNS40NTFoLTMuMTJjLTMuNzAzIDAtNi4yOTItLjc3Mi03Ljc2Ni0yLjMxNC0xLjQ3NC0xLjU0My0yLjIxMi0zLjQtMi4yMTItNS41NzIgMC0uODIzLjA5Mi0xLjY4LjI3NS0yLjU3MWwuNDExLTEuODE3LjU4My0zLjA1Mi42NTEtMi44MTFjLjM2Ni0xLjYuNTQ5LTMuMDk3LjU0OS00LjQ5MiAwLTIuNTgzLS45MzEtNC45MTQtMi43OTQtNi45OTRzLTYuMDA2LTMuMTItMTIuNDI5LTMuMTJoLTUuNTJ2NS40ODZoNS40NTJjMy40NzQgMCA1Ljc2NS40OTcgNi44NzQgMS40OTEgMS4xMDguOTk0IDEuNjYzIDIuMjEyIDEuNjYzIDMuNjUyIDAgMS4wNTEtLjIyOSAyLjY2Mi0uNjg2IDQuODM0bC0uODkxIDQuMDExYy0uNDM1IDIuMTcyLS42NTIgMy45Mi0uNjUyIDUuMjQ2IDAgMS41MDkuMjQ2IDIuODQuNzM3IDMuOTk0LjQ5MiAxLjE1NSAxLjI0NiAyLjI4NiAyLjI2MyAzLjM5NSAxLjAxNyAxLjEwOCAyLjYxMiAyLjIzNCA0Ljc4MyAzLjM3Ny0yLjE3MSAxLjE0My0zLjc2NiAyLjI2My00Ljc4MyAzLjM2LTEuMDE3IDEuMDk3LTEuNzcxIDIuMjI4LTIuMjYzIDMuMzk0LS40OTEgMS4xNjYtLjczNyAyLjUwMy0uNzM3IDQuMDExIDAgMS4zMjYuMjE3IDMuMDYzLjY1MiA1LjIxMmwuODkxIDQuMDExYy40NTcgMi4xOTUuNjg2IDMuODA2LjY4NiA0LjgzNSAwIDEuNDQtLjU1NSAyLjY2Mi0xLjY2MyAzLjY2OC0xLjEwOSAxLjAwNi0zLjQgMS41MDktNi44NzQgMS41MDloLTUuNDUydjUuNDE3aDUuNTJaIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPgo=",extensions:[".json",".js",".ts",".htm",".html",".css",".sass"],mime:[]}],ba=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/files/SubmittedFileComponent.scss"),Ia={};Ia.styleTagTransform=tr(),Ia.setAttributes=$n(),Ia.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},Ia.domAPI=rn(),Ia.insertStyleElement=Kn(),ct()(ba.default,Ia);var zi=function(D){var j=D.suffix;return(0,$.jsxs)($.Fragment,{children:[D.prefix," ",(0,$.jsx)("a",Object.assign({href:D.url,target:"_blank",rel:"noopener"},{children:D.text}))," ",j]})},Yc=function(D){var j,ie,T=D.text;return null!==(ie=null!==(j=function Kc(b){var D=/^(.*?)(https?:\/\/[^\s)]+)(.*?)$/.exec(b);if(null!==D){var j=D[2];return(0,$.jsx)(zi,{text:j,url:j,prefix:D[1],suffix:D[3]})}}(T))&&void 0!==j?j:function Hi(b){var T=b.toLowerCase().indexOf("bytescale");if(-1!==T)return(0,$.jsx)(zi,{text:"Bytescale",url:"https://www.bytescale.com/pricing",prefix:b.substring(0,T),suffix:b.substring(T+9)})}(T))&&void 0!==ie?ie:(0,$.jsx)($.Fragment,{children:T})};function Za(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var $r=function(D){var Me,Ue,T=D.file,j=D.fileCount,ie=D.remove,fe=D.locale,Ie=D.showRemoveButton,Ge=function vl(b,D){return function Ai(b){if(Array.isArray(b))return b}(b)||function Ka(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function Ko(b,D){if(b){if("string"==typeof b)return Za(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Za(b,D)}}(b,D)||function wl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ye.useState)(!1),2),ln=Ge[0],Tn=Ge[1];(0,Ye.useEffect)(function(){if(ln){var Sn=setTimeout(function(){ie()},1e3);return function(){return clearTimeout(Sn)}}},[ln]);var Wn,Ln,Rn=Cc,Qt=0;switch(T.type){case"preprocessing":Qt=0,Wn=T.file.name,Ln=fe.processingFile;break;case"uploading":Qt=Math.min(T.progress,.97),Wn=T.file.name;break;case"uploaded":Qt=1,Rn=function _l(b,D){var T,j=b.toLowerCase().trim(),ie=Ac.find(function(fe){return fe.extensions.some(function(Ie){return j.endsWith(Ie)})||fe.mime.some(function(Ie){return D.startsWith(Ie)})});return null!==(T=ie?.icon)&&void 0!==T?T:Cc}(T.uploadedFile.file.name,T.uploadedFile.mime),Wn=T.uploadedFile.file.name;break;case"failed":Qt=1,Rn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGw9IiNkMjNmNGQiIGN4PSIxNSIgY3k9IjE1IiByPSIxNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuNiA3LjYpIiBmaWxsPSIjRkZGIj48cmVjdCB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgNy40MjUgNy40MjUpIiB4PSI1LjkyNSIgeT0iLTEuNTc1IiB3aWR0aD0iMyIgaGVpZ2h0PSIxOCIgcng9IjEuNSIvPjxyZWN0IHRyYW5zZm9ybT0icm90YXRlKDQ1IDcuNDI1IDcuNDI1KSIgeD0iNS45MjUiIHk9Ii0xLjU3NSIgd2lkdGg9IjMiIGhlaWdodD0iMTgiIHJ4PSIxLjUiLz48L2c+PC9nPjwvc3ZnPgo=",Ln=null!==(Ue=null===(Me=T.error)||void 0===Me?void 0:Me.message)&&void 0!==Ue?Ue:"Unexpected error occurred.",Wn=T.file.name;break;default:!function Xe(b){throw new Error("Didn't expect to get here: ".concat(JSON.stringify(b)))}(T)}return(0,$.jsx)("div",Object.assign({className:wt()("upload-widget__submitted-file",{"upload-widget__submitted-file--loners":j<=2})},{children:(0,$.jsx)("div",Object.assign({className:"upload-widget__submitted-file__container"},{children:(0,$.jsxs)("div",Object.assign({className:"upload-widget__submitted-file__inner"},{children:[(0,$.jsx)(qo,{progress:Math.max(.03,Qt),onCompleteImageSource:Rn,height:15,isError:"failed"===T.type})," ",(0,$.jsxs)("span",Object.assign({className:"upload-widget__submitted-file__text"},{children:[(0,$.jsx)("span",Object.assign({className:"upload-widget__submitted-file__name",title:Wn},{children:Wn})),void 0!==Ln&&(0,$.jsx)("span",Object.assign({className:"upload-widget__submitted-file__message"},{children:(0,$.jsx)(Yc,{text:Ln})}))]})),ln?(0,$.jsx)("span",Object.assign({className:"upload-widget__submitted-file__action upload-widget__submitted-file__action--performed"},{children:"uploading"===T.type?fe["cancelled!"]:fe["removed!"]})):(0,$.jsx)($.Fragment,{children:(Ie||"uploading"===T.type)&&(0,$.jsx)("a",Object.assign({className:"upload-widget__submitted-file__action",href:"#remove",onClick:function(Rr){Rr.preventDefault(),Tn(!0)}},{children:"uploading"===T.type?fe.cancel:fe.remove}))})]}))}))}))},hi=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/screens/UploaderMainScreen.scss"),Ys={};Ys.styleTagTransform=tr(),Ys.setAttributes=$n(),Ys.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},Ys.domAPI=rn(),Ys.insertStyleElement=Kn(),ct()(hi.default,Ys);var bl=function(D){var T=D.addFiles,j=D.submittedFiles,ie=D.uploadedFiles,fe=D.options,Ie=D.remove,Me=D.finalize,Ue=D.isImageUploader,bt=j.every(function(Jt){return"uploading"!==Jt.type}),Ge=bt&&ie.length>0,ln=fe.locale,Tn=fe.multi||fe.showFinishButton;return(0,$.jsxs)("div",Object.assign({className:"upload-widget__main-screen"},{children:[(0,$.jsx)("div",Object.assign({className:"upload-widget__main-screen__file-list"},{children:(0,$.jsx)("div",Object.assign({className:"upload-widget__main-screen__file-list__inner"},{children:j.map(function(Jt){return(0,$.jsx)($r,{file:Jt,fileCount:j.length,locale:ln,remove:function(){return Ie(Jt.fileIndex)},showRemoveButton:fe.showRemoveButton},Jt.fileIndex)})}))})),Tn&&(0,$.jsxs)("div",Object.assign({className:"upload-widget__controls"},{children:[fe.multi&&(void 0===fe.maxFileCount||j.length<fe.maxFileCount?(0,$.jsx)(gi,{options:fe,text:Ue?ln.addAnotherImage:ln.addAnotherFile,onUpload:T}):(0,$.jsxs)("div",Object.assign({className:"upload-widget__main-screen__info"},{children:[Ue?ln.maxImagesReached:ln.maxFilesReached," ",fe.maxFileCount]}))),fe.showFinishButton&&(0,$.jsx)("a",Object.assign({href:"#done",className:wt()("btn btn--primary",{disabled:!Ge}),onClick:function(en){en.preventDefault(),Ge&&Me()}},{children:bt?(0,$.jsxs)("span",Object.assign({className:"vcenter hcenter"},{children:[ln.finish," ",ln.finishIcon&&(0,$.jsx)(J,{width:12,className:"ml-2"})]})):ln.pleaseWait}))]}))]}))};function Ea(b){return"uploaded"===b.type}function Yo(b){return"preprocessing"===b.type||"uploading"===b.type}function Qo(b){return"failed"===b.type}function Mr(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}function ns(b){var T=function Wr(b,D){return function Po(b){if(Array.isArray(b))return b}(b)||function Ts(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function Un(b,D){if(b){if("string"==typeof b)return Mr(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Mr(b,D)}}(b,D)||function zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ye.useState)(!1),2),ie=T[1];return{isDragging:T[0],onDrop:function(Ge){return function(Ge){if(Ge.preventDefault(),Ge.stopPropagation(),ie(!1),null!==Ge.dataTransfer){var ln=Array.from(Ge.dataTransfer.files);ln.length>0&&b(ln)}}(Ge)},onDragOver:function(Ge){return function(Ge){Ge.preventDefault(),Ge.stopPropagation(),null!==Ge.dataTransfer&&(Ge.dataTransfer.dropEffect="copy")}(Ge)},onDragEnter:function(Ge){return function(Ge){Ge.preventDefault(),Ge.stopPropagation(),ie(!0)}(Ge)},onDragLeave:function(Ge){return function(Ge){var ln;Ge.preventDefault(),Ge.stopPropagation(),(null===Ge.relatedTarget||!0!==(null===(ln=Ge?.currentTarget)||void 0===ln?void 0:ln.contains(Ge.relatedTarget)))&&ie(!1)}(Ge)}}}var Ns,Qs,Nr=W(9347);!function(b){b.from=function D(T,j){var ie;return{accountId:T.accountId,editedFile:j,originalFile:T,fileUrl:Nr.UrlBuilder.url(void 0===j?{filePath:T.filePath,accountId:T.accountId}:{filePath:j.filePath,accountId:j.accountId,options:{transformation:"image"}}),filePath:null!==(ie=j?.filePath)&&void 0!==ie?ie:T.filePath}}}(Ns||(Ns={})),function(b){b.toCssProps=function D(T){return{width:T.width,height:T.height,left:T.x,top:T.y}}}(Qs||(Qs={}));var En=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/shapes/ResizableSquare.scss"),ui={};function zr(b,D){return function Qa(b){if(Array.isArray(b))return b}(b)||function Jo(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function Cs(b,D){if(b){if("string"==typeof b)return Gi(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Gi(b,D)}}(b,D)||function Ya(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}ui.styleTagTransform=tr(),ui.setAttributes=$n(),ui.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},ui.domAPI=rn(),ui.insertStyleElement=Kn(),ct()(En.default,ui);var ea=function(D){var T=D.boundary,j=D.children,ie=D.className,fe=D.onMove,Ie=D.style,Me=D.startingValue,Ue=D.geometryMutatorId,Ge=zr((0,Ye.useState)(!1),2),ln=Ge[0],Tn=Ge[1],en=zr((0,Ye.useState)(0),2),Rn=en[0],Qt=en[1],Ln=zr((0,Ye.useState)(0),2),Sn=Ln[0],Rr=Ln[1],Bi=zr((0,Ye.useState)(0),2),js=Bi[0],Wi=Bi[1],xa=zr((0,Ye.useState)(0),2),Js=xa[0],eo=xa[1],la=zr((0,Ye.useState)(Me),2),Pc=la[0],qi=la[1],Ma=function(Lr,Lo){return function(Lr,Lo,Hr){return Math.min(Math.max(Hr,Lr),Lo)}(-1*Lr,Lr,Lo)},qr=function(Lr){return{x:Lr.pageX-Rn+js,y:Lr.pageY-Sn+Js}},to=function(Lr){Tn(!1),Lr.target.releasePointerCapture(Lr.pointerId);var Lo=qr(Lr),Hr=Lo.x;eo(Ma(T.height,Lo.y)),Wi(Ma(T.width,Hr))};return(0,$.jsx)("div",Object.assign({className:ie,style:Ie,onPointerDown:function(Lr){Lr.stopPropagation(),Lr.target.setPointerCapture(Lr.pointerId),Tn(!0),function(Lr){Qt(Lr.pageX),Rr(Lr.pageY)}(Lr),Me.lastUpdatedBy!==Ue&&(Wi(0),eo(0),qi(Me))},onPointerMove:function(Lr){if(ln){var Lo=qr(Lr);fe(Lo.x,Lo.y,Pc)}},onPointerUp:to,onPointerCancel:to,onTouchStart:function(Lr){Lr.preventDefault()}},{children:j}))};function Qn(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var ko=function(D){var T=D.boundary,j=D.corner,ie=D.geometry,fe=D.setGeometry;return(0,$.jsx)(ea,{className:"upload-widget__resizable-square__".concat(j),boundary:T,geometryMutatorId:j,startingValue:ie,onMove:function(Me,Ue,bt){return fe(j,{x:"nw"===j||"sw"===j?bt.x+Me:bt.x,y:"nw"===j||"ne"===j?bt.y+Ue:bt.y,width:"nw"===j||"sw"===j?bt.width-Me:bt.width+Me,height:"nw"===j||"ne"===j?bt.height-Ue:bt.height+Ue})}})},Li=function(D){var T=D.boundary,j=D.ratio,ie=D.onResized,fe=D.children,Me={width:T.width-50,height:T.height-50},Ge=function(Sn,Rr){return function(Sn,Rr){if(void 0===j)return Object.assign(Object.assign({},Sn),{lastUpdatedBy:Rr});var Mi=Math.min(Sn.height*j,Sn.width),Bi=Mi/j;return{lastUpdatedBy:Rr,height:Bi,width:Mi,x:"ne"===Rr||"se"===Rr?Sn.x:"center"===Rr?Sn.x+Sn.width/2-Mi/2:Sn.x+(Sn.width-Mi),y:"sw"===Rr||"se"===Rr?Sn.y:"center"===Rr?Sn.y+Sn.height/2-Bi/2:Sn.y+(Sn.height-Bi)}}(function(Sn){var Rr=Math.min(T.width-50,Math.max(0,Sn.x)),Mi=Math.min(T.height-50,Math.max(0,Sn.y)),Bi=Math.min(0,Sn.x),js=Math.min(0,Sn.y);return{x:Rr,y:Mi,width:Math.max(50,Math.min(Sn.width+Bi,T.width-Rr)),height:Math.max(50,Math.min(Sn.height+js,T.height-Mi))}}(Sn),Rr)},ln=function(){return Ge({x:0,y:0,width:T.width,height:T.height},"center")},Jt=function Fs(b,D){return function ta(b){if(Array.isArray(b))return b}(b)||function Il(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function As(b,D){if(b){if("string"==typeof b)return Qn(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Qn(b,D)}}(b,D)||function Qc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ye.useState)(ln),2),en=Jt[0],Rn=Jt[1],Qt=function(Sn,Rr){return Rn(Ge(Rr,Sn))},Wn=function(){ie(0===en.x&&0===en.y&&en.width===T.width&&en.height===T.height?void 0:{geometry:en,boundary:T})};return(0,Ye.useLayoutEffect)(Wn,[en]),(0,Ye.useLayoutEffect)(function(){Rn(ln()),Wn()},[T]),(0,$.jsxs)(ea,Object.assign({className:"upload-widget__resizable-square",boundary:Me,style:Qs.toCssProps(en),geometryMutatorId:"center",startingValue:en,onMove:function(Sn,Rr,Mi){return Qt("center",{x:Mi.x+Sn,y:Mi.y+Rr,width:Mi.width,height:Mi.height})}},{children:[fe,(0,$.jsx)(ko,{corner:"nw",setGeometry:Qt,geometry:en,boundary:Me}),(0,$.jsx)(ko,{corner:"ne",setGeometry:Qt,geometry:en,boundary:Me}),(0,$.jsx)(ko,{corner:"se",setGeometry:Qt,geometry:en,boundary:Me}),(0,$.jsx)(ko,{corner:"sw",setGeometry:Qt,geometry:en,boundary:Me})]}))},Vi=function(D){return D.mime.toLowerCase().startsWith("image/")},No=function(D){var T=D.mime.toLowerCase();return T.startsWith("application/pdf")||T.startsWith("video/")},na=["image/jpeg","image/gif","image/png","image/webp"];function fi(b){if(function au(b){return na.includes(b.mime)}(b))return{url:URL.createObjectURL(b.file),external:!1,urlForDimensions:void 0};var D=function $i(b){return No(b)||"image/svg+xml"===b.mime}(b),T=b.fileUrl.replace("/raw/","/image/");return{url:"".concat(T,"?f=webp&f2=jpg").concat(D?"&w=".concat(1e3,"&h=").concat(1e3,"&fit=max"):""),external:!0,urlForDimensions:D?"".concat(T,"?f=jpg"):void 0}}var _i=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/Spinner.scss"),fo={};function El(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}fo.styleTagTransform=tr(),fo.setAttributes=$n(),fo.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},fo.domAPI=rn(),fo.insertStyleElement=Kn(),ct()(_i.default,fo);var Sc=function(){var D,T,ie=function ms(b,D){return function Tl(b){if(Array.isArray(b))return b}(b)||function Dc(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function ia(b,D){if(b){if("string"==typeof b)return El(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return El(b,D)}}(b,D)||function Ta(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Zt(!0,[]),2),fe=ie[0],Ie=ie[1],Ue=Math.min(null!==(D=fe?.width)&&void 0!==D?D:0,null!==(T=fe?.height)&&void 0!==T?T:0),bt="".concat(Math.round(.5*Ue),"px");return(0,$.jsx)("div",Object.assign({class:"spinner__container",ref:Ie},{children:(0,$.jsx)("div",{className:"spinner",style:{width:bt,height:bt}})}))},Xa=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageEditorLayout.scss"),Ca={};function Er(b,D){return function ec(b){if(Array.isArray(b))return b}(b)||function Aa(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function Gd(b,D){if(b){if("string"==typeof b)return Ja(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Ja(b,D)}}(b,D)||function Ju(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}Ca.styleTagTransform=tr(),Ca.setAttributes=$n(),Ca.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},Ca.domAPI=rn(),Ca.insertStyleElement=Kn(),ct()(Xa.default,Ca);var Vs=function(D){var T=D.actions,j=D.originalImage,ie=D.header,fe=D.image,Ie=D.modal,Ue=Er((0,Ye.useState)(""),2),bt=Ue[0],Ge=Ue[1],Tn=Er((0,Ye.useState)(!1),2),Jt=Tn[0],en=Tn[1],Qt=Er((0,Ye.useState)(!1),2),Wn=Qt[0],Ln=Qt[1],Mi=Er((0,Ye.useState)("upload-widget__image-editor__image-".concat(Math.round(1e5*Math.random()))),1)[0],Bi=function fn(b,D){var j=vr(St(),2),ie=j[0],fe=j[1],Me=vr(St(),2),bt=Me[1];return[ar(b,ie,Me[0],D),fe,bt]}(Wn,[bt,Jt]),js=Er(Bi,3),Wi=js[0],Oo=js[1],xa=js[2];return(0,Ye.useLayoutEffect)(function(){var Js=fi(j),Fo=Js.external;Ge(Js.url),en(!Fo),Ln(!1)},[j.fileUrl]),(0,$.jsxs)("div",Object.assign({className:"upload-widget__image-editor"},{children:[(0,$.jsx)("div",Object.assign({className:wt()({"upload-widget__image-editor__header":void 0!==ie,"upload-widget__image-editor__header--empty-non-modal":void 0===ie&&!Ie})},{children:ie})),(0,$.jsx)("div",Object.assign({className:"upload-widget__image-editor__image",ref:xa},{children:(0,$.jsxs)("div",Object.assign({className:"upload-widget__image-editor__image-padding"},{children:[!Jt&&(0,$.jsx)(Sc,{}),(0,$.jsx)("img",{id:Mi,src:bt,onLoad:function(){en(!0),Ln(!0)},className:"upload-widget__image-editor__image-inner",style:Jt?{}:{display:"none"},ref:Oo,draggable:!1}),void 0!==Wi&&Jt&&void 0!==fe&&fe({imgDimensions:Wi,imageUrl:bt})]}))})),(0,$.jsx)("div",Object.assign({className:"upload-widget__image-editor__actions upload-widget__controls upload-widget__controls--space"},{children:T}))]}))},lu=function(D){var ie=D.options,fe=ie.locale,Ie=ie.multi?{imageIndex:D.imageIndex,imageCount:D.imageCount}:void 0;return void 0===Ie||1===Ie.imageCount?void 0:(0,$.jsxs)("span",Object.assign({className:"text-secondary"},{children:[fe.image," ",Ie.imageIndex+1," ",fe.of," ",Ie.imageCount]}))};function Cl(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}function gs(b,D){return function Q(b){if(Array.isArray(b))return b}(b)||function V(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function R(b,D){if(b){if("string"==typeof b)return N(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return N(b,D)}}(b,D)||function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var he=function(D){var T=D.busyText,j=D.idleText,ie=D.locale,fe=D.onSubmit,Ie=D.showIcon,Ue=gs((0,Ye.useState)(!1),2),bt=Ue[0],Ge=Ue[1],ln=function Xc(){var D=function tc(b,D){return function po(b){if(Array.isArray(b))return b}(b)||function Al(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function $d(b,D){if(b){if("string"==typeof b)return Cl(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Cl(b,D)}}(b,D)||function nc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ye.useState)(void 0),2),T=D[0],j=D[1],ie=void 0!==T;return(0,Ye.useEffect)(function(){if(void 0!==T){var fe=setTimeout(function(){j(void 0),T()},1500);return function(){return clearTimeout(fe)}}return function(){}},[ie]),[ie,function(fe){return j(fe??function(){})}]}(),Tn=gs(ln,2),Jt=Tn[0],en=Tn[1],Rn=bt||Jt;return(0,$.jsxs)("button",Object.assign({disabled:Rn,onClick:function(Ln){Ln.preventDefault(),Ge(!0),fe().then(function(){},function(Sn){console.error(Sn),en(),Ge(!1)})},className:wt()("btn btn--primary",{disabled:Rn})},{children:[bt?T:Jt?ie["error!"]:j," ",Ie&&(0,$.jsx)(J,{width:12,className:"ml-2"})]}))};function Ke(b){return function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];try{return Promise.resolve(b.apply(this,D))}catch(j){return Promise.reject(j)}}}var Oe=function(D){var j=D.onFinish,ie=D.options.locale;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("button",Object.assign({onClick:function(){j(!1).then(function(){},function(Ie){console.error("Unable to cancel upload.",Ie)})},className:"btn"},{children:ie.cancelInPreviewWindow})),(0,$.jsx)(he,{onSubmit:Ke(function(){return j(!0)}),locale:ie,idleText:ie.continue,busyText:ie.pleaseWait,showIcon:!1})]})},gn=B("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/components/widgets/uploadWidget/components/editors/ImageCropper.scss"),Yt={};function mo(b,D,T){return T?D?D(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),D?b.then(D):b)}function yi(){}function Jc(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}Yt.styleTagTransform=tr(),Yt.setAttributes=$n(),Yt.insert=function(D){typeof document<"u"&&document.head.appendChild(D)},Yt.domAPI=rn(),Yt.insertStyleElement=Kn(),ct()(gn.default,Yt);var qd=function(D){var T=D.options,j=D.originalImage,ie=D.upload,fe=D.onFinish,Me=function Dl(b,D){return function Wd(b){if(Array.isArray(b))return b}(b)||function ed(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function Sl(b,D){if(b){if("string"==typeof b)return Jc(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Jc(b,D)}}(b,D)||function uu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ye.useState)(void 0),2),Ue=Me[0],bt=Me[1],Ge=function _s(b){return function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];try{return Promise.resolve(b.apply(this,D))}catch(j){return Promise.reject(j)}}}(function(ln){var Tn;return function go(b){var D=b();if(D&&D.then)return D.then(yi)}(function(){if(ln&&void 0!==Ue)return mo(new Promise(function(Jt){var en,Rn=new Image,Qt=fi(j);Rn.onload=function(){Jt({width:Rn.naturalWidth,height:Rn.naturalHeight})},Rn.src=null!==(en=Qt.urlForDimensions)&&void 0!==en?en:Qt.url}),function(Jt){var Rn=function ef(b,D,T,j){var ie=j.width/T.width;return{inputPath:b,pipeline:{steps:[{geometry:{offset:{x:Math.round(D.x*ie),y:Math.round(D.y*ie)},size:{width:Math.round(D.width*ie),height:Math.round(D.height*ie),type:"widthxheight!"}},type:"crop"}]}}}(j.filePath.substring(j.filePath.lastIndexOf("/")+1),Ue.geometry,Ue.boundary,Jt),Qt=new Blob([JSON.stringify(Rn)],{type:"application/json"});return mo(ie.uploadFile({name:"".concat(null!==(Tn=j.originalFileName)&&void 0!==Tn?Tn:"image",".crop"),type:Qt.type,size:Qt.size,slice:function(Ln,Sn){return Qt.slice(Ln,Sn)}},{path:T.editor.images.cropFilePath(j)}),function(Wn){fe(ln,Wn)})});fe(ln,void 0)})});return(0,$.jsx)(Vs,{modal:"modal"===T.layout,header:lu(D),actions:(0,$.jsx)(Oe,{options:T,onFinish:Ge}),image:function(Tn){var Rn,Qt,Wn,Ln,Jt=Tn.imgDimensions,en=Tn.imageUrl;return(0,$.jsx)("div",Object.assign({className:"upload-widget__image-cropper__overlay",style:Qs.toCssProps(Jt)},{children:(0,$.jsx)(Li,Object.assign({boundary:Jt,onResized:bt,ratio:T.editor.images.cropRatio},{children:(0,$.jsx)("div",Object.assign({className:wt()("upload-widget__image-cropper__clip",{"upload-widget__image-cropper__clip--circular":"circ"===T.editor.images.cropShape}),style:{width:null!==(Rn=Ue?.geometry.width)&&void 0!==Rn?Rn:Jt.width,height:null!==(Qt=Ue?.geometry.height)&&void 0!==Qt?Qt:Jt.height}},{children:(0,$.jsx)("img",{src:en,draggable:!1,style:{width:Jt.width,height:Jt.height,transform:"translateX(".concat(-1*(null!==(Wn=Ue?.geometry.x)&&void 0!==Wn?Wn:0),"px) translateY(").concat(-1*(null!==(Ln=Ue?.geometry.y)&&void 0!==Ln?Ln:0),"px)")}})}))}))}))},originalImage:j})},du=function(D){var T=D.options,j=D.originalImage,ie=D.onFinish,fe=function Zd(b){return function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];try{return Promise.resolve(b.apply(this,D))}catch(j){return Promise.reject(j)}}}(function(Ie){return ie(Ie),function xl(b,D,T){return T?D?D(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),D?b.then(D):b)}()});return(0,$.jsx)(Vs,{modal:"modal"===T.layout,header:lu(D),actions:(0,$.jsx)(Oe,{options:T,onFinish:fe}),originalImage:j})},Kd=function(D){var T=D.imageCount,j=D.imageIndex,ie=D.originalImage,fe=D.upload,Ie=D.onImageEdited,Me=D.options;return function Ml(b,D){return b.editor.images.crop&&Vi(D)}(Me,ie)?(0,$.jsx)(qd,{imageCount:T,imageIndex:j,options:Me,onFinish:Ie,upload:fe,originalImage:ie}):(0,$.jsx)(du,{imageCount:T,imageIndex:j,options:Me,onFinish:function(bt){return Ie(bt,void 0)},originalImage:ie})};function xc(b,D){return function wp(b){if(Array.isArray(b))return b}(b)||function rd(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||pu(b,D)||function vp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(b,D){if(b){if("string"==typeof b)return nd(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return nd(b,D)}}function nd(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var tf=function(D){var j=D.onImageEdited,ie=D.upload,fe=D.options,Ie=function id(b){var T=xc((0,Ye.useState)(b[0]),2),j=T[0],ie=T[1],Ie=xc((0,Ye.useState)(0),2),Me=Ie[0],Ue=Ie[1],Ge=xc((0,Ye.useState)(b.length),2),ln=Ge[0],Tn=Ge[1],Jt=b.map(function(Rn){return Rn.uploadedFile.filePath}),en=j.uploadedFile.filePath;return(0,Ye.useLayoutEffect)(function(){!Jt.includes(en)&&(ie(b[0]),Ue(function(Qt){return Qt+1})),Tn(Me+b.length)},[Me,en].concat(function hu(b){return function fu(b){if(Array.isArray(b))return nd(b)}(b)||function Yd(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||pu(b)||function td(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Jt))),{currentFile:en,imageCount:ln,imageIndex:Me,currentImage:j}}(D.images),Ge=Ie.currentImage;return(0,$.jsx)(Kd,{options:fe,imageCount:Ie.imageCount,imageIndex:Ie.imageIndex,originalImage:Ge.uploadedFile,onImageEdited:function(Tn,Jt){return j(Tn,Jt,Ge.fileIndex)},upload:ie},Ie.currentFile)};function Rl(b,D){return function kl(b){if(Array.isArray(b))return b}(b)||function el(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function mu(b,D){if(b){if("string"==typeof b)return _o(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return _o(b,D)}}(b,D)||function Pl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}function tl(b,D,T){return T?D?D(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),D?b.then(D):b)}function Nl(b,D,T){return D in b?Object.defineProperty(b,D,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[D]=T,b}function Tr(b){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(b)}function rc(b){return function Ip(b){if(Array.isArray(b))return Fl(b)}(b)||function Ds(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||rs(b)||function oa(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(b,D){return function gu(b){if(Array.isArray(b))return b}(b)||function Jd(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||rs(b,D)||function Mc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(b,D){if(b){if("string"==typeof b)return Fl(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Fl(b,D)}}function Fl(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var ic=function(b,D){var T={};for(var j in b)Object.prototype.hasOwnProperty.call(b,j)&&D.indexOf(j)<0&&(T[j]=b[j]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(j=Object.getOwnPropertySymbols(b);ie<j.length;ie++)D.indexOf(j[ie])<0&&Object.prototype.propertyIsEnumerable.call(b,j[ie])&&(T[j[ie]]=b[j[ie]])}return T},Rc=function(D){var fe,nr,T=D.resolve,j=D.options,ie=D.upload,Ue=Ol((0,Ye.useState)(0),2)[1],Ge=Ol((0,Ye.useState)(!0),2),ln=Ge[0],Tn=Ge[1],en=Ol((0,Ye.useState)({}),2),Qt=en[1],Wn=Object.values(en[0]).filter(Ce),Ln=Wn.filter(Ea),Sn=Wn.filter(Yo),Rr=Wn.filter(Qo),js=j.multi,Wi=j.tags,Oo=j.metadata,xa=j.path,Js=Ln.filter(function(Gn){return Gn.isReady}),eo=Ln.filter(function(Gn){return!Gn.isReady}),Fo=Js.map(function(Gn){return Ns.from(Gn.uploadedFile,Gn.editedFile)}),la=j.editor.images.crop,Pc=j.editor.images.preview,qi=function(nr){return(la||Pc)&&Vi(nr)||Pc&&No(nr)},Iu=function Qd(b,D){var j=Rl((0,Ye.useState)(!1),2),ie=j[0],fe=j[1],Me=Rl((0,Ye.useState)(null),2),Ue=Me[0],bt=Me[1];return(0,Ye.useEffect)(function(){if(b.length>0){var Ge=setTimeout(function(){fe(!0)},D);return bt(Ge),function(){return clearTimeout(Ge)}}ie&&fe(!1),null!==Ue&&(clearTimeout(Ue),bt(null))},[b.length,ie]),ie}(eo,550);(0,Ye.useLayoutEffect)(function(){if(ln)Tn(!1);else if(j.onUpdate({failedFiles:Rr.map(function(si){return{file:si.file,error:si.error}}),uploadedFiles:Fo,pendingFiles:[].concat(rc(Sn),rc(eo)).map(function(si){return{file:si.file}})}),!js&&Js.length>0&&!j.showFinishButton&&"modal"===j.layout){var nr=Fo.slice(0,1),ei=function(){return T(nr)};if(!qi(Ln[0].uploadedFile)){var Zr=setTimeout(ei,550);return function(){return clearTimeout(Zr)}}ei()}},[].concat(rc((nr=[Sn,eo,Js,Rr]).map(function(ei){return ei.length})),rc(nr.flatMap(function(ei){return ei.map(function(Vr){return Vr.fileIndex})}))));var qr=function(nr){Qt(function(ei){var Zr=nr,si=ei[Zr],ro=ic(ei,["symbol"===Tr(Zr)?Zr:Zr+""]);return"uploading"===si?.type&&si.cancel(),ro})},ss=function(nr,ei){Qt(function(Vr){return Object.assign(Object.assign({},Vr),Nl({},nr,ei))})},to=function(nr,ei,Vr){Qt(function(Zr){var si=Zr[nr];return void 0===si||si.type!==ei?Zr:Object.assign(Object.assign({},Zr),Nl({},nr,Vr(si)))})},Ri=function Xd(b){return function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];try{return Promise.resolve(b.apply(this,D))}catch(j){return Promise.reject(j)}}}(function(Gn,nr){var ei,Vr,Ki,Zr=function(Xn){var io=new il(Xn);throw ss(nr,{file:Gn,fileIndex:nr,error:io,type:"failed"}),io},si=j.maxFileSizeBytes,ro=j.mimeTypes,ys=j.onPreUpload;return void 0!==si&&Gn.size>si&&Zr("".concat(j.locale.maxSize," ").concat(function Xo(b){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,T=b,j=1024,fe=Math.pow(10,D),Ie=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],Me=0;if(Math.abs(T)<j)return"".concat(T).concat(" ").concat(Ie[Me]);do{b/=j,T/=j,++Me}while(Math.round(Math.abs(T)*fe)/fe>=j&&Me<Ie.length-1);return b.toFixed(D)+" "+Ie[Me]}(si))),function nf(b,D){if(void 0===b||0===b.length)return!0;var T=function(fe){return fe.trim().toLowerCase()},j=T(D);return b.some(function(ie){var fe=T(ie);return fe===j||fe.endsWith("*")&&j.startsWith(fe.substring(0,fe.length-1))})}(ro,Gn.type)||Zr(j.locale.unsupportedFileType),ss(nr,{file:Gn,fileIndex:nr,type:"preprocessing"}),function yo(b,D){return b&&b.then?b.then(D):D(b)}(function bp(b,D){try{var T=b()}catch(j){return D(j)}return T&&T.then?T.then(void 0,D):T}(function(){return tl(ys(Gn),function(Pi){Ki=null!==(ei=Pi)&&void 0!==ei?ei:void 0})},function(Pi){Ki={errorMessage:j.locale.customValidationFailed},console.error("[upload-widget] onPreUpload function raised an error.",Pi)}),function(){void 0!==Ki?.errorMessage&&Zr(Ki.errorMessage);var Pi=null!==(Vr=Ki?.transformedFile)&&void 0!==Vr?Vr:Gn;return tl(ie.uploadFile(Pi,{path:xa,metadata:Oo,tags:Wi,onBegin:function(io){return ss(nr,{file:Pi,fileIndex:nr,cancel:io.cancel,progress:0,type:"uploading"})},onProgress:function(io){var sc=io.bytesSent,oc=io.bytesTotal;return to(nr,"uploading",function(ih){return Object.assign(Object.assign({},ih),{progress:sc/oc})})}}))})}),Zi=function(nr){return Ue(function(ei){var Vr=js?j.maxFileCount:1,Zr=void 0===Vr?nr.length:Math.min(nr.length,Vr-Wn.length);return Zr<=0?ei:(nr.slice(0,Zr).forEach(function(si,ro){var ys=ei+ro;Ri(si,ys).then(function(Ki){to(ys,"uploading",function(){return{file:si,fileIndex:ys,uploadedFile:Ki,editedFile:void 0,isReady:!qi(Ki),type:"uploaded"}})},function(Ki){to(ys,"uploading",function(Pi){return{fileIndex:ys,error:Ki,file:Pi.file,type:"failed"}})})}),ei+nr.length)})},Bs=ns(Zi),Lr=Bs.isDragging,Lo=ic(Bs,["isDragging"]),Hr=null!==(fe=j.mimeTypes)&&void 0!==fe?fe:[],no=Hr.length>0&&Hr.every(function(Gn){return Gn.trim().toLowerCase().startsWith("image/")});return(0,$.jsx)(jt,Object.assign({htmlProps:Lo,isDraggable:!0,isDragging:Lr,layout:j.layout,multi:j.multi},{children:0===Wn.length?(0,$.jsx)(di,{options:j,addFiles:Zi,isImageUploader:no}):Iu&&eo.length>0?(0,$.jsx)(tf,{images:eo,onImageEdited:function(nr,ei,Vr){nr?to(Vr,"uploaded",function(Zr){return Object.assign(Object.assign({},Zr),{editedFile:ei,isReady:!0})}):qr(Vr)},upload:ie,options:j}):(0,$.jsx)(bl,{options:j,addFiles:Zi,submittedFiles:Wn,uploadedFiles:Ln,remove:qr,finalize:function(){T(Fo)},isImageUploader:no})}))},rf=function(D){var T=D.upload,j=D.resolve,ie=D.reject,fe=D.options;return(0,$.jsx)($.Fragment,{children:"error"===T.type?(0,$.jsx)(se,{error:T.value,layout:fe.layout}):(0,$.jsx)(Rc,{resolve:j,reject:ie,options:fe,upload:T.value})})};function Hn(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var yu=function(D){var T=D.widgetProps,ie=function Ui(b,D){return function Ep(b){if(Array.isArray(b))return b}(b)||function _u(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function eh(b,D){if(b){if("string"==typeof b)return Hn(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Hn(b,D)}}(b,D)||function nl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ye.useState)(!0),2),Ie=ie[1],Me=function(Ge){T.resolve(Ge),Ie(!1)};return ie[0]?(0,$.jsx)(zn,Object.assign({closeModal:function(){return Me([])}},{children:(0,$.jsx)(rf,Object.assign({},T,{resolve:Me,reject:function(Ge){T.reject(Ge),Ie(!1)}}))})):(0,$.jsx)($.Fragment,{})};function Si(b,D){return function sd(b){if(Array.isArray(b))return b}(b)||function rl(b,D){var T=null==b?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(null!=T){var Ie,Me,j=[],ie=!0,fe=!1;try{for(T=T.call(b);!(ie=(Ie=T.next()).done)&&(j.push(Ie.value),!D||j.length!==D);ie=!0);}catch(Ue){fe=!0,Me=Ue}finally{try{!ie&&null!=T.return&&T.return()}finally{if(fe)throw Me}}return j}}(b,D)||function xi(b,D){if(b){if("string"==typeof b)return Da(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Da(b,D)}}(b,D)||function sf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}var af=function(D){var T=D.widgetProps,ie=Si((0,Ye.useState)(0),2),fe=ie[0],Ie=ie[1],Ue=Si((0,Ye.useState)(T.options),2),bt=Ue[0],Ge=Ue[1],ln=Object.assign(Object.assign({},T),{options:bt});return(0,Ye.useEffect)(function(){bt.onInit({close:function(){T.resolve([])},reset:function(){Ie(function(Jt){return Jt+1}),"success"===T.upload.type&&T.upload.value.cancelAll()},updateConfig:function(Jt){Ge(tt.from(Jt))}})},[]),(0,$.jsx)(vt.Fragment,{children:(0,$.jsx)("div",Object.assign({className:wt()("upload-widget",{"upload-widget--with-modal":"modal"===bt.layout}),style:{"--error-color":bt.styles.colors.error,"--primary-color":bt.styles.colors.primary,"--primary-active-color":bt.styles.colors.active,"--shade-100":bt.styles.colors.shade100,"--shade-200":bt.styles.colors.shade200,"--shade-300":bt.styles.colors.shade300,"--shade-400":bt.styles.colors.shade400,"--shade-500":bt.styles.colors.shade500,"--shade-600":bt.styles.colors.shade600,"--shade-700":bt.styles.colors.shade700,"--shade-800":bt.styles.colors.shade800,"--shade-900":bt.styles.colors.shade900,"--base-font-family":bt.styles.fontFamilies.base,"--base-font-size":"".concat(bt.styles.fontSizes.base,"px")}},{children:"modal"===bt.layout?(0,$.jsx)(yu,{widgetProps:ln}):(0,$.jsx)(rf,Object.assign({},ln))}))},fe)};function Ll(b,D){(null==D||D>b.length)&&(D=b.length);for(var T=0,j=new Array(D);T<D;T++)j[T]=b[T];return j}function od(b,D){for(var T=0;T<D.length;T++){var j=D[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}var cf=function(){function b(D){(function aa(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")})(this,b),this.config=D,this.uploadCancellations=[],this.uploadManager=new Nr.UploadManager(D)}return function ad(b,D,T){D&&od(b.prototype,D),T&&od(b,T),Object.defineProperty(b,"prototype",{writable:!1})}(b,[{key:"cancelAll",value:function(){this.uploadCancellations.forEach(function(T){return T()}),this.uploadCancellations=[]}},{key:"uploadFile",value:function(T,j){try{var fe,Ie,ie=this;return function Vl(b,D){try{var T=b()}catch(j){return D(!0,j)}return T&&T.then?T.then(D.bind(null,!1),D.bind(null,!0)):D(!1,T)}(function(){var Me=null!==(fe=j.cancellationToken)&&void 0!==fe?fe:{isCancelled:!1};return Ie=function(){Me.isCancelled=!0},ie.uploadCancellations=[].concat(function th(b){return function Xs(b){if(Array.isArray(b))return Ll(b)}(b)||function yr(b){if(typeof Symbol<"u"&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)}(b)||function Tt(b,D){if(b){if("string"==typeof b)return Ll(b,D);var T=Object.prototype.toString.call(b).slice(8,-1);if("Object"===T&&b.constructor&&(T=b.constructor.name),"Map"===T||"Set"===T)return Array.from(b);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return Ll(b,D)}}(b)||function nh(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ie.uploadCancellations),[Ie]),void 0!==j.onBegin&&j.onBegin({cancel:Ie}),function is(b,D,T){return T?D?D(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),D?b.then(D):b)}(ie.uploadManager.upload(Object.assign(Object.assign({},j),{cancellationToken:Me,data:T})),function(Ue){return Object.assign(Object.assign({},Ue),{file:T})})},function(Me,Ue){return ie.uploadCancellations=ie.uploadCancellations.filter(function(bt){return bt!==Ie}),function vu(b,D){if(b)throw D;return D}(Me,Ue)})}catch(Me){return Promise.reject(Me)}}}]),b}();function lf(b,D,T){return T?D?D(b):b:((!b||!b.then)&&(b=Promise.resolve(b)),D?b.then(D):b)}function ji(b,D){for(var T=0;T<D.length;T++){var j=D[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}var rh=function(){function b(){!function cd(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}(this,b)}return function ca(b,D,T){D&&ji(b.prototype,D),T&&ji(b,T),Object.defineProperty(b,"prototype",{writable:!1})}(b,null,[{key:"open",value:function(T){try{var j,ie;try{ie={type:"success",value:new cf(T)}}catch(Ie){ie={type:"error",value:Ie}}var fe=tt.from(T);return lf(b.getBody(),function(Ie){var Me=void 0!==fe.container?"string"==typeof fe.container?null!==(j=document.querySelector(fe.container))&&void 0!==j?j:void 0:fe.container:void 0,Ue=document.createElement("div");return(Me??Ie).appendChild(Ue),Ue.className="upload-widget__root",lf(new Promise(function(bt,Ge){(0,vt.render)((0,$.jsx)(af,{widgetProps:{upload:ie,resolve:bt,reject:Ge,options:fe}}),Ue)}),function(bt){return Ue.remove(),"success"===ie.type&&ie.value.cancelAll(),bt})})}catch(Ie){return Promise.reject(Ie)}}},{key:"getBody",value:function(){try{return lf(new Promise(function(T){!function ie(){var fe,Ie=null!==(fe=document.body)&&void 0!==fe?fe:void 0;void 0!==Ie&&T(Ie),setTimeout(ie,100)}()}))}catch(T){return Promise.reject(T)}}}]),b}();function Sa(b){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(b)}function Us(b,D){for(var T=0;T<D.length;T++){var j=D[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,j.key,j)}}function Ul(b){var D="function"==typeof Map?new Map:void 0;return Ul=function(j){if(null===j||!function hd(b){return-1!==Function.toString.call(b).indexOf("[native code]")}(j))return j;if("function"!=typeof j)throw new TypeError("Super expression must either be null or a function");if(typeof D<"u"){if(D.has(j))return D.get(j);D.set(j,ie)}function ie(){return jl(j,arguments,vo(this).constructor)}return ie.prototype=Object.create(j.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),vi(ie,j)},Ul(b)}function jl(b,D,T){return(jl=dd()?Reflect.construct:function(ie,fe,Ie){var Me=[null];Me.push.apply(Me,fe);var bt=new(Function.bind.apply(ie,Me));return Ie&&vi(bt,Ie.prototype),bt}).apply(null,arguments)}function dd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vi(b,D){return(vi=Object.setPrototypeOf||function(j,ie){return j.__proto__=ie,j})(b,D)}function vo(b){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(b)}var il=function(b){!function wu(b,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),D&&vi(b,D)}(T,b);var D=function Tp(b){var D=dd();return function(){var ie,j=vo(b);if(D){var fe=vo(this).constructor;ie=Reflect.construct(j,arguments,fe)}else ie=j.apply(this,arguments);return function bu(b,D){if(D&&("object"===Sa(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function ud(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}(this,ie)}}(T);function T(j){var ie;return function ld(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),(ie=D.call(this,j)).name="UploadWidgetValidationError",ie}return function uf(b,D,T){return D&&Us(b.prototype,D),T&&Us(b,T),Object.defineProperty(b,"prototype",{writable:!1}),b}(T)}(Ul(Error))})(),nn.exports=ve}()},9058:(nn,et,W)=>{"use strict";W.d(et,{$s:()=>St,BH:()=>Ve,G6:()=>tr,L:()=>Ae,LL:()=>wt,P0:()=>Ht,Pz:()=>ut,Sg:()=>tt,UG:()=>ct,US:()=>_e,ZB:()=>ye,ZR:()=>ft,aH:()=>Se,b$:()=>Yn,eu:()=>ze,hl:()=>Ne,jU:()=>Pt,m9:()=>ar,ne:()=>hn,pd:()=>Ft,r3:()=>Ye,ru:()=>rn,tV:()=>q,uI:()=>ae,vZ:()=>vn,w1:()=>er,xO:()=>_n,xb:()=>Mn,z$:()=>vt,zI:()=>Ze,zd:()=>Et});const ve=function(de){const ce=[];let Y=0;for(let X=0;X<de.length;X++){let G=de.charCodeAt(X);G<128?ce[Y++]=G:G<2048?(ce[Y++]=G>>6|192,ce[Y++]=63&G|128):55296==(64512&G)&&X+1<de.length&&56320==(64512&de.charCodeAt(X+1))?(G=65536+((1023&G)<<10)+(1023&de.charCodeAt(++X)),ce[Y++]=G>>18|240,ce[Y++]=G>>12&63|128,ce[Y++]=G>>6&63|128,ce[Y++]=63&G|128):(ce[Y++]=G>>12|224,ce[Y++]=G>>6&63|128,ce[Y++]=63&G|128)}return ce},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,ce){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let G=0;G<de.length;G+=3){const xe=de[G],_t=G+1<de.length,jt=_t?de[G+1]:0,J=G+2<de.length,se=J?de[G+2]:0;let Ot=(15&jt)<<2|se>>6,Lt=63&se;J||(Lt=64,_t||(Ot=64)),X.push(Y[xe>>2],Y[(3&xe)<<4|jt>>4],Y[Ot],Y[Lt])}return X.join("")},encodeString(de,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(de):this.encodeByteArray(ve(de),ce)},decodeString(de,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(de):function(de){const ce=[];let Y=0,X=0;for(;Y<de.length;){const G=de[Y++];if(G<128)ce[X++]=String.fromCharCode(G);else if(G>191&&G<224){const xe=de[Y++];ce[X++]=String.fromCharCode((31&G)<<6|63&xe)}else if(G>239&&G<365){const J=((7&G)<<18|(63&de[Y++])<<12|(63&de[Y++])<<6|63&de[Y++])-65536;ce[X++]=String.fromCharCode(55296+(J>>10)),ce[X++]=String.fromCharCode(56320+(1023&J))}else{const xe=de[Y++],_t=de[Y++];ce[X++]=String.fromCharCode((15&G)<<12|(63&xe)<<6|63&_t)}}return ce.join("")}(this.decodeStringToByteArray(de,ce))},decodeStringToByteArray(de,ce){this.init_();const Y=ce?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let G=0;G<de.length;){const xe=Y[de.charAt(G++)],jt=G<de.length?Y[de.charAt(G)]:0;++G;const se=G<de.length?Y[de.charAt(G)]:64;++G;const Xe=G<de.length?Y[de.charAt(G)]:64;if(++G,null==xe||null==jt||null==se||null==Xe)throw new we;X.push(xe<<2|jt>>4),64!==se&&(X.push(jt<<4&240|se>>2),64!==Xe&&X.push(se<<6&192|Xe))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(de){return function(de){const ce=ve(de);return _e.encodeByteArray(ce,!0)}(de).replace(/\./g,"")},q=function(de){try{return _e.decodeString(de,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function ye(de,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return ce}for(const Y in ce)!ce.hasOwnProperty(Y)||!mt(Y)||(de[Y]=ye(de[Y],ce[Y]));return de}function mt(de){return"__proto__"!==de}const lt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=de&&q(de[1]);return ce&&JSON.parse(ce)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},Ht=de=>{const ce=(de=>{var ce,Y;return null===(Y=null===(ce=lt())||void 0===ce?void 0:ce.emulatorHosts)||void 0===Y?void 0:Y[de]})(de);if(!ce)return;const Y=ce.lastIndexOf(":");if(Y<=0||Y+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const X=parseInt(ce.substring(Y+1),10);return"["===ce[0]?[ce.substring(1,Y-1),X]:[ce.substring(0,Y),X]},Se=()=>{var de;return null===(de=lt())||void 0===de?void 0:de.config},ut=de=>{var ce;return null===(ce=lt())||void 0===ce?void 0:ce[`_${de}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,Y)=>{this.resolve=ce,this.reject=Y})}wrapCallback(ce){return(Y,X)=>{Y?this.reject(Y):this.resolve(X),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(Y):ce(Y,X))}}}function tt(de,ce){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=ce||"demo-project",G=de.iat||0,xe=de.sub||de.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:G,exp:G+3600,auth_time:G,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},de);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(_t)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function ct(){var de;const ce=null===(de=lt())||void 0===de?void 0:de.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function rn(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function Yn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function er(){const de=vt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function tr(){return!ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((de,ce)=>{try{let Y=!0;const X="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(X);G.onsuccess=()=>{G.result.close(),Y||self.indexedDB.deleteDatabase(X),de(!0)},G.onupgradeneeded=()=>{Y=!1},G.onerror=()=>{var xe;ce((null===(xe=G.error)||void 0===xe?void 0:xe.message)||"")}}catch(Y){ce(Y)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ft extends Error{constructor(ce,Y,X){super(Y),this.code=ce,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(ce,Y,X){this.service=ce,this.serviceName=Y,this.errors=X}create(ce,...Y){const X=Y[0]||{},G=`${this.service}/${ce}`,xe=this.errors[ce],_t=xe?function Mt(de,ce){return de.replace(At,(Y,X)=>{const G=ce[X];return null!=G?String(G):`<${X}?>`})}(xe,X):"Error";return new ft(G,`${this.serviceName}: ${_t} (${G}).`,X)}}const At=/\{\$([^}]+)}/g;function Ye(de,ce){return Object.prototype.hasOwnProperty.call(de,ce)}function Mn(de){for(const ce in de)if(Object.prototype.hasOwnProperty.call(de,ce))return!1;return!0}function vn(de,ce){if(de===ce)return!0;const Y=Object.keys(de),X=Object.keys(ce);for(const G of Y){if(!X.includes(G))return!1;const xe=de[G],_t=ce[G];if(He(xe)&&He(_t)){if(!vn(xe,_t))return!1}else if(xe!==_t)return!1}for(const G of X)if(!Y.includes(G))return!1;return!0}function He(de){return null!==de&&"object"==typeof de}function _n(de){const ce=[];for(const[Y,X]of Object.entries(de))Array.isArray(X)?X.forEach(G=>{ce.push(encodeURIComponent(Y)+"="+encodeURIComponent(G))}):ce.push(encodeURIComponent(Y)+"="+encodeURIComponent(X));return ce.length?"&"+ce.join("&"):""}function Et(de){const ce={};return de.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[G,xe]=X.split("=");ce[decodeURIComponent(G)]=decodeURIComponent(xe)}}),ce}function Ft(de){const ce=de.indexOf("?");if(!ce)return"";const Y=de.indexOf("#",ce);return de.substring(ce,Y>0?Y:void 0)}function hn(de,ce){const Y=new qn(de,ce);return Y.subscribe.bind(Y)}class qn{constructor(ce,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{ce(this)}).catch(X=>{this.error(X)})}next(ce){this.forEachObserver(Y=>{Y.next(ce)})}error(ce){this.forEachObserver(Y=>{Y.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,Y,X){let G;if(void 0===ce&&void 0===Y&&void 0===X)throw new Error("Missing Observer.");G=function bn(de,ce){if("object"!=typeof de||null===de)return!1;for(const Y of ce)if(Y in de&&"function"==typeof de[Y])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:Y,complete:X},void 0===G.next&&(G.next=Bn),void 0===G.error&&(G.error=Bn),void 0===G.complete&&(G.complete=Bn);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),xe}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,ce)}sendOne(ce,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{Y(this.observers[ce])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}const Sr=1e3,qe=2,me=144e5,it=.5;function St(de,ce=Sr,Y=qe){const X=ce*Math.pow(Y,de),G=Math.round(it*X*(Math.random()-.5)*2);return Math.min(me,X+G)}function ar(de){return de&&de._delegate?de._delegate:de}},948:(nn,et,W)=>{"use strict";var u=W(5879);let te=null;function B(){return te}class ${}const _e=new u.OlP("DocumentToken");let we=(()=>{var n;class e{historyGo(r){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ae)},providedIn:"platform"}),e})();const De=new u.OlP("Location Initialized");let Ae=(()=>{var n;class e extends we{constructor(){super(),this._doc=(0,u.f3M)(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(r){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),e})();function q(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ye(n){return n&&"?"!==n[0]?"?"+n:n}let mt=(()=>{var n;class e{historyGo(r){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(yt)},providedIn:"root"}),e})();const We=new u.OlP("appBaseHref");let yt=(()=>{var n;class e extends mt{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return q(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ye(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,a){const h=this.prepareExternalUrl(s+ye(a));this._platformLocation.pushState(r,i,h)}replaceState(r,i,s,a){const h=this.prepareExternalUrl(s+ye(a));this._platformLocation.replaceState(r,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(we),u.LFG(We,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),ht=(()=>{var n;class e extends mt{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=q(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,a){let h=this.prepareExternalUrl(s+ye(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(r,i,h)}replaceState(r,i,s,a){let h=this.prepareExternalUrl(s+ye(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(we),u.LFG(We,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})(),kt=(()=>{var n;class e{constructor(r){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function Se(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ee(Ht(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ye(i))}normalize(r){return e.stripTrailingSlash(function Bt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ht(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ye(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ye(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(n=e).normalizeQueryParams=ye,n.joinWithSlash=q,n.stripTrailingSlash=ee,n.\u0275fac=function(r){return new(r||n)(u.LFG(mt))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function lt(){return new kt((0,u.LFG)(mt))}()},providedIn:"root"}),e})();function Ht(n){return n.replace(/\/index.html$/,"")}function Wa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class qo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zo=(()=>{var n;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,a,h)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new qo(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===a?void 0:a);else if(null!==a){const p=i.get(a);i.move(p,h),ii(p,s)}});for(let s=0,a=i.length;s<a;s++){const p=i.get(s).context;p.index=s,p.count=a,p.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{ii(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function ii(n,e){n.context.$implicit=e.item}let ks=(()=>{var n;class e{constructor(r,i){this._viewContainer=r,this._context=new qc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){gl("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){gl("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class qc{constructor(){this.$implicit=null,this.ngIf=null}}function gl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Ai=(()=>{var n;class e{transform(r){if(null==r)return null;if("string"!=typeof r)throw function zi(n,e){return new u.vHH(2100,!1)}();return r.toUpperCase()}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275pipe=u.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),e})(),Nr=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();const Ns="browser";function Os(n){return"server"===n}let Gi=(()=>{var n;class e{}return(n=e).\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Jo((0,u.LFG)(_e),window)}),e})();class Jo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Qa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Fs{}class Yd extends ${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fu extends Yd{static makeCurrent(){!function ve(n){te||(te=n)}(new fu)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vp(){return xc=xc||document.querySelector("base"),xc?xc.getAttribute("href"):null}();return null==t?null:function nd(n){pu=pu||document.createElement("a"),pu.setAttribute("href",n);const e=pu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wa(document.cookie,e)}}let pu,xc=null,wp=(()=>{var n;class e{build(){return new XMLHttpRequest}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const id=new u.OlP("EventManagerPlugins");let tf=(()=>{var n;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(id),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();class Rl{constructor(e){this._doc=e}}const Pl="ng-app-id";let mu=(()=>{var n;class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Os(a),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Pl}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(Pl),a;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(Pl,this.appId),h}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const a=this.styleRef,h=a.get(i)?.elements;h?h.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const _o={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},el=/%COMP%/g,yo=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Tr(n,e){return e.map(t=>t.replace(el,n))}let rc=(()=>{var n;class e{constructor(r,i,s,a,h,p,m,w=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=h,this.platformId=p,this.ngZone=m,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Os(p),this.defaultRenderer=new oa(r,h,m,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===u.ifc.ShadowDom&&(i={...i,encapsulation:u.ifc.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof Fl?s.applyToHost(r):s instanceof rs&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let a=s.get(i.id);if(!a){const h=this.doc,p=this.ngZone,m=this.eventManager,w=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,F=this.platformIsServer;switch(i.encapsulation){case u.ifc.Emulated:a=new Fl(m,w,i,this.appId,x,h,p,F);break;case u.ifc.ShadowDom:return new Mc(m,w,r,i,h,p,this.nonce,F);default:a=new rs(m,w,i,x,h,p,F)}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(tf),u.LFG(mu),u.LFG(u.AFp),u.LFG(yo),u.LFG(_e),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();class oa{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(_o[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Ol(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ol(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new u.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=_o[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=_o[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Ol(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Mc extends oa{constructor(e,t,r,i,s,a,h,p){super(e,s,a,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=Tr(i.id,i.styles);for(const w of m){const x=document.createElement("style");h&&x.setAttribute("nonce",h),x.textContent=w,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rs extends oa{constructor(e,t,r,i,s,a,h,p){super(e,s,a,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=p?Tr(p,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Fl extends rs{constructor(e,t,r,i,s,a,h,p){const m=i+"-"+r.id;super(e,t,r,s,a,h,p,m),this.contentAttr=function Xd(n){return"_ngcontent-%COMP%".replace(el,n)}(m),this.hostAttr=function Nl(n){return"_nghost-%COMP%".replace(el,n)}(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Jd=(()=>{var n;class e extends Rl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const gu=["alt","control","meta","shift"],ic={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rc=(()=>{var n;class e extends Rl{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const a=e.parseEventName(i),h=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(r,a.domEventName,h))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(i.pop());let h="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),h="code."),gu.forEach(w=>{const x=i.indexOf(w);x>-1&&(i.splice(x,1),h+=w+".")}),h+=a,0!=i.length||0===a.length)return null;const m={};return m.domEventName=s,m.fullKey=h,m}static matchEventFullKeyCode(r,i){let s=ic[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),gu.forEach(h=>{h!==s&&(0,nf[h])(r)&&(a+=h+".")}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const Si=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Ns},{provide:u.g9A,useValue:function Hn(){fu.makeCurrent()},multi:!0},{provide:_e,useFactory:function Ep(){return(0,u.RDi)(document),document},deps:[]}]),sf=new u.OlP(""),xi=[{provide:u.rWj,useClass:class rd{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new u.vHH(5103,!1);return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let s=i.length,a=!1;const h=function(p){a=a||p,s--,0==s&&r(a)};i.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Da=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function _u(){return new u.qLn},deps:[]},{provide:id,useClass:Jd,multi:!0,deps:[_e,u.R0b,u.Lbi]},{provide:id,useClass:Rc,multi:!0,deps:[_e]},rc,mu,tf,{provide:u.FYo,useExisting:rc},{provide:Fs,useClass:wp,deps:[]},[]];let rl=(()=>{var n;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:u.AFp,useValue:r.appId}]}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(sf,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Da,...xi],imports:[Nr,u.hGG]}),e})(),Tt=(()=>{var n;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function nh(){return new Tt((0,u.LFG)(_e))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const ji=new u.OlP("HammerLoader");let Us=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):u.LFG(ld),i},providedIn:"root"}),e})(),ld=(()=>{var n;class e extends Us{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new u.vHH(5200,!1);case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new u.vHH(5201,!1);default:throw new u.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,u.JVY)(r)}bypassSecurityTrustStyle(r){return(0,u.L6k)(r)}bypassSecurityTrustScript(r){return(0,u.eBb)(r)}bypassSecurityTrustUrl(r){return(0,u.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,u.pB0)(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function uf(n){return new ld(n.get(_e))}(u.LFG(u.zs3)),i},providedIn:"root"}),e})();var vi=W(5592),vo=W(4674);var b=W(2459),D=W(2096),T=W(5619);const{isArray:j}=Array,{getPrototypeOf:ie,prototype:fe,keys:Ie}=Object;function Me(n){if(1===n.length){const e=n[0];if(j(e))return{args:e,keys:null};if(function Ue(n){return n&&"object"==typeof n&&ie(n)===fe}(e)){const t=Ie(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var bt=W(2737),Ge=W(7398);const{isArray:ln}=Array;function Jt(n){return(0,Ge.U)(e=>function Tn(n,e){return ln(e)?n(...e):n(e)}(n,e))}var en=W(9940);function Rn(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Qt=W(8251),Wn=W(7103);function Ln(...n){const e=(0,en.yG)(n),t=(0,en.jO)(n),{args:r,keys:i}=Me(n);if(0===r.length)return(0,b.D)([],e);const s=new vi.y(function Sn(n,e,t=bt.y){return r=>{Rr(e,()=>{const{length:i}=n,s=new Array(i);let a=i,h=i;for(let p=0;p<i;p++)Rr(e,()=>{const m=(0,b.D)(n[p],e);let w=!1;m.subscribe((0,Qt.x)(r,x=>{s[p]=x,w||(w=!0,h--),h||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>Rn(i,a):bt.y));return t?s.pipe(Jt(t)):s}function Rr(n,e,t){n?(0,Wn.f)(t,n,e):e()}const Bi=(0,W(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var js=W(7537);function Oo(...n){return function Wi(){return(0,js.J)(1)}()((0,b.D)(n,(0,en.yG)(n)))}var xa=W(4829);function Js(n){return new vi.y(e=>{(0,xa.Xf)(n()).subscribe(e)})}var eo=W(8407);function Fo(n,e){const t=(0,vo.m)(n)?n:()=>n,r=i=>i.error(t());return new vi.y(e?i=>e.schedule(r,0,i):r)}var la=W(6232),Pc=W(7394),qi=W(9360);function Iu(){return(0,qi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Qt.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ma extends vi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Qt.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pc.w0.EMPTY)}return e}refCount(){return Iu()(this)}}var wi=W(8645),qr=W(4664);function ss(n){return n<=0?()=>la.E:(0,qi.e)((e,t)=>{let r=0;e.subscribe((0,Qt.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function to(...n){const e=(0,en.yG)(n);return(0,qi.e)((t,r)=>{(e?Oo(n,t,e):Oo(n,t)).subscribe(r)})}function Ri(n,e){return(0,qi.e)((t,r)=>{let i=0;t.subscribe((0,Qt.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Zi=W(1631);function Bs(n){return(0,qi.e)((e,t)=>{let r=!1;e.subscribe((0,Qt.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Lr(n=Lo){return(0,qi.e)((e,t)=>{let r=!1;e.subscribe((0,Qt.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Lo(){return new Bi}function Hr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ri((i,s)=>n(i,s,r)):bt.y,ss(1),t?Bs(e):Lr(()=>new Bi))}function no(n,e){return(0,vo.m)(e)?(0,Zi.z)(n,e,1):(0,Zi.z)(n,1)}var Gn=W(9397);function nr(n){return(0,qi.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Qt.x)(t,void 0,void 0,a=>{s=(0,xa.Xf)(n(a,nr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Vr(n,e){return(0,qi.e)(function ei(n,e,t,r,i){return(s,a)=>{let h=t,p=e,m=0;s.subscribe((0,Qt.x)(a,w=>{const x=m++;p=h?n(p,w,x):(h=!0,w),r&&a.next(p)},i&&(()=>{h&&a.next(p),a.complete()})))}}(n,e,arguments.length>=2,!0))}function Zr(n){return n<=0?()=>la.E:(0,qi.e)((e,t)=>{let r=[];e.subscribe((0,Qt.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ys(n){return(0,qi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Ki=W(2420);function Pi(n){return(0,qi.e)((e,t)=>{(0,xa.Xf)(n).subscribe((0,Qt.x)(t,()=>t.complete(),Ki.Z)),!t.closed&&e.subscribe(t)})}const Xn="primary",io=Symbol("RouteTitle");class sc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oc(n){return new sc(n)}function ih(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],h=n[s];if(a.startsWith(":"))i[a.substring(1)]=h;else if(a!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function zs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Cp(n[i],e[i]))return!1;return!0}function Cp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function os(n){return n.length>0?n[n.length-1]:null}function wo(n){return function il(n){return!!n&&(n instanceof vi.y||(0,vo.m)(n.lift)&&(0,vo.m)(n.subscribe))}(n)?n:(0,u.QGY)(n)?(0,b.D)(Promise.resolve(n)):(0,D.of)(n)}const Ap={exact:function fd(n,e,t){if(!Pe(n.segments,e.segments)||!C(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!fd(n.children[r],e.children[r],t))return!1;return!0},subset:zl},ac={exact:function Eg(n,e){return zs(n,e)},subset:function Eu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Cp(n[t],e[t]))},ignored:()=>!0};function Dp(n,e,t){return Ap[t.paths](n.root,e.root,t.matrixParams)&&ac[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zl(n,e,t){return kc(n,e,e.segments,t)}function kc(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Pe(i,t)||e.hasChildren()||!C(i,t,r))}if(n.segments.length===t.length){if(!Pe(n.segments,t)||!C(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!zl(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Pe(n.segments,i)&&C(n.segments,i,r)&&n.children[Xn])&&kc(n.children[Xn],e,s,r)}}function C(n,e,t){return e.every((r,i)=>ac[t](n[i].parameters,r.parameters))}class k{constructor(e=new L([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oc(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class L{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zn(this)}}class ne{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oc(this.parameters)),this._parameterMap}toString(){return ki(this)}}function Pe(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Wt=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new $t},providedIn:"root"}),e})();class $t{parse(e){const t=new oh(e);return new k(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nn(e.root,!0)}`,r=function pb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Yi(t)}=${Yi(i)}`).join("&"):`${Yi(t)}=${Yi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function pi(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cn=new $t;function Zn(n){return n.segments.map(e=>ki(e)).join("/")}function Nn(n,e){if(!n.hasChildren())return Zn(n);if(e){const t=n.children[Xn]?Nn(n.children[Xn],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Xn&&r.push(`${i}:${Nn(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ot(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Xn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Xn&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Xn?[Nn(n.children[Xn],!1)]:[`${i}:${Nn(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xn]?`${Zn(n)}/${t[0]}`:`${Zn(n)}/(${t.join("//")})`}}function so(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yi(n){return so(n).replace(/%3B/gi,";")}function pd(n){return so(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vo(n){return decodeURIComponent(n)}function ua(n){return Vo(n.replace(/\+/g,"%20"))}function ki(n){return`${pd(n.path)}${function Hl(n){return Object.keys(n).map(e=>`;${pd(e)}=${pd(n[e])}`).join("")}(n.parameters)}`}const sh=/^[^\/()?;#]+/;function Tu(n){const e=n.match(sh);return e?e[0]:""}const Sp=/^[^\/()?;=#]+/,Yy=/^[^=?&#]+/,Ra=/^[^&#]+/;class oh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new L([],{}):new L([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Xn]=new L(e,t)),r}parseSegment(){const e=Tu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new ne(Vo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function mb(n){const e=n.match(Sp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Tu(this.remaining);i&&(r=i,this.capture(r))}e[Vo(t)]=Vo(r)}parseQueryParam(e){const t=function NA(n){const e=n.match(Yy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function Tg(n){const e=n.match(Ra);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=ua(t),s=ua(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Tu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xn);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[Xn]:new L([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function gb(n){return n.segments.length>0?new L([],{[Xn]:n}):n}function xp(n){const e={};for(const r of Object.keys(n.children)){const s=xp(n.children[r]);if(r===Xn&&0===s.segments.length&&s.hasChildren())for(const[a,h]of Object.entries(s.children))e[a]=h;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function _b(n){if(1===n.numberOfChildren&&n.children[Xn]){const e=n.children[Xn];return new L(n.segments.concat(e.segments),e.children)}return n}(new L(n.segments,e))}function ah(n){return n instanceof k}function _(n){let e;const i=gb(function t(s){const a={};for(const p of s.children){const m=t(p);a[p.outlet]=m}const h=new L(s.url,a);return s===n&&(e=h),h}(n.root));return e??i}function y(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return K(i,i,i,t,r);const s=function Gt(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Je(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,m])=>{h[p]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new Je(t,e,r)}(e);if(s.toRoot())return K(i,i,new L([],{}),t,r);const a=function Pn(n,e,t){if(n.isAbsolute)return new Kt(e,!0,0);if(!t)return new Kt(e,!1,NaN);if(null===t.parent)return new Kt(t,!0,0);const r=M(n.commands[0])?0:1;return function wr(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new Kt(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),h=a.processChildren?Gl(a.segmentGroup,a.index,s.commands):cc(a.segmentGroup,a.index,s.commands);return K(i,a.segmentGroup,h,t,r)}function M(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function U(n){return"object"==typeof n&&null!=n&&n.outlets}function K(n,e,t,r,i){let a,s={};r&&Object.entries(r).forEach(([p,m])=>{s[p]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`}),a=n===e?t:Re(n,e,t);const h=gb(xp(a));return new k(h,s,i)}function Re(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:Re(s,e,t)}),new L(n.segments,r)}class Je{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&M(r[0]))throw new u.vHH(4003,!1);const i=r.find(U);if(i&&i!==os(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kt{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cc(n,e,t){if(n||(n=new L([],{})),0===n.segments.length&&n.hasChildren())return Gl(n,e,t);const r=function Qy(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const a=n.segments[i],h=t[r];if(U(h))break;const p=`${h}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!Mp(p,m,a))return s;r+=2}else{if(!Mp(p,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new L(n.segments.slice(0,r.pathIndex),{});return s.children[Xn]=new L(n.segments.slice(r.pathIndex),n.children),Gl(s,0,i)}return r.match&&0===i.length?new L(n.segments,{}):r.match&&!n.hasChildren()?df(n,e,t):r.match?Gl(n,0,i):df(n,e,t)}function Gl(n,e,t){if(0===t.length)return new L(n.segments,{});{const r=function bo(n){return U(n[0])?n[0].outlets:{[Xn]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Xn)&&n.children[Xn]&&1===n.numberOfChildren&&0===n.children[Xn].segments.length){const s=Gl(n.children[Xn],e,t);return new L(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[s]=cc(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{void 0===r[s]&&(i[s]=a)}),new L(n.segments,i)}}function df(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(U(s)){const p=md(s.outlets);return new L(r,p)}if(0===i&&M(t[0])){r.push(new ne(n.segments[e].path,gd(t[0]))),i++;continue}const a=U(s)?s.outlets[Xn]:`${s}`,h=i<t.length-1?t[i+1]:null;a&&h&&M(h)?(r.push(new ne(a,gd(h))),i+=2):(r.push(new ne(a,{})),i++)}return new L(r,{})}function md(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=df(new L([],{}),0,r))}),e}function gd(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Mp(n,e,t){return n==t.path&&zs(e,t.parameters)}const hf="imperative";class lc{constructor(e,t){this.id=e,this.url=t}}class ch extends lc{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cu extends lc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ff extends lc{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Au extends lc{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Rp extends lc{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cg extends lc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OA extends lc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uP extends lc{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FA extends lc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XV extends lc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LA{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JV{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dP{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hP{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yb{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eU{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ag{}class VA{constructor(e){this.url=e}}class tU{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xy,this.attachRef=null}}let Xy=(()=>{var n;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new tU,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class pP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=vb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pp(e,this._root).map(t=>t.value)}}function vb(n,e){if(n===e.value)return e;for(const t of e.children){const r=vb(n,t);if(r)return r}return null}function Pp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pp(n,t);if(r.length)return r.unshift(e),r}return[]}class sl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wb extends pP{constructor(e,t){super(e),this.snapshot=t,Eb(this,e)}toString(){return this.snapshot.toString()}}function bb(n,e){const t=function kp(n,e){const a=new mf([],{},{},"",{},Xn,e,null,{});return new Dg("",new sl(a,[]))}(0,e),r=new T.X([new ne("",{})]),i=new T.X({}),s=new T.X({}),a=new T.X({}),h=new T.X(""),p=new lh(r,i,a,h,s,Xn,e,t.root);return p.snapshot=t.root,new wb(new sl(p,[]),t)}class lh{constructor(e,t,r,i,s,a,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,Ge.U)(m=>m[io]))??(0,D.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(e=>oc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(e=>oc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ib(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Jy(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mf{get title(){return this.data?.[io]}constructor(e,t,r,i,s,a,h,p,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=h,this.routeConfig=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dg extends pP{constructor(e,t){super(t),this.url=e,Eb(this,t)}toString(){return UA(this._root)}}function Eb(n,e){e.value._routerState=n,e.children.forEach(t=>Eb(n,t))}function UA(n){const e=n.children.length>0?` { ${n.children.map(UA).join(", ")} } `:"";return`${n.value}${e}`}function Tb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zs(e.params,t.params)||n.paramsSubject.next(t.params),function Bl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),zs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ev(n,e){const t=zs(n.params,e.params)&&function be(n,e){return Pe(n,e)&&n.every((t,r)=>zs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ev(n.parent,e.parent))}let Np=(()=>{var n;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xn,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Xy),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(tv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=r;const s=this.location,h=r.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,m=new mP(r,p,s.injector);this.activated=s.createComponent(h,{index:s.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),e})();class mP{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===lh?this.route:e===Xy?this.childContexts:this.parent.get(e,t)}}const tv=new u.OlP("");let jA=(()=>{var n;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=Ln([i.queryParams,i.params,i.data]).pipe((0,qr.w)(([a,h,p],m)=>(p={...a,...h,...p},0===m?(0,D.of)(p):Promise.resolve(p)))).subscribe(a=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const h=(0,u.qFp)(i.component);if(h)for(const{templateName:p}of h.inputs)r.activatedComponentRef.setInput(p,a[p]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function Sg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function gP(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Sg(n,r,i);return Sg(n,r)})}(n,e,t);return new sl(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(h=>Sg(n,h)),a}}const r=function uc(n){return new lh(new T.X(n.url),new T.X(n.params),new T.X(n.queryParams),new T.X(n.fragment),new T.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Sg(n,s));return new sl(r,i)}}const xg="ngNavigationCancelingError";function Cb(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ah(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nv(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function nv(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[xg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Op(n){return n&&n[xg]}let Ab=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(r,i){1&r&&u._UZ(0,"router-outlet")},dependencies:[Np],encapsulation:2}),e})();function Mg(n){const e=n.children&&n.children.map(Mg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xn&&(t.component=Ab),t}function Nc(n){return n.outlet||Xn}function _d(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class HA{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Tb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=pf(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pf(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pf(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=pf(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new eU(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hP(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Tb(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(h.contexts),a.attachRef=h.componentRef,a.route=h.route.value,a.outlet&&a.outlet.attach(h.componentRef,h.route.value),Tb(h.route.value),this.activateChildRoutes(e,null,a.children)}else{const h=_d(i.snapshot);a.attachRef=null,a.route=i,a.injector=h,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class Db{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rg{constructor(e,t){this.component=e,this.route=t}}function Fp(n,e,t){const r=n._root;return _f(r,e?e._root:null,t,[r.value])}function gf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function _f(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=pf(e);return n.children.forEach(a=>{(function iv(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const p=function CP(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pe(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pe(n.url,e.url)||!zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ev(n,e)||!zs(n.queryParams,e.queryParams);default:return!ev(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new Db(r)):(s.data=a.data,s._resolvedData=a._resolvedData),_f(n,e,s.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Rg(h.outlet.component,a))}else a&&Pg(e,h,i),i.canActivateChecks.push(new Db(r)),_f(n,null,s.component?h?h.children:null:t,r,i)})(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,h])=>Pg(h,t.getContext(a),i)),i}function Pg(n,e,t){const r=pf(n),i=n.value;Object.entries(r).forEach(([s,a])=>{Pg(a,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Rg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function kg(n){return"function"==typeof n}function WA(n){return n instanceof Bi||"EmptyError"===n?.name}const Lp=Symbol("INITIAL_VALUE");function yf(){return(0,qr.w)(n=>Ln(n.map(e=>e.pipe(ss(1),to(Lp)))).pipe((0,Ge.U)(e=>{for(const t of e)if(!0!==t){if(t===Lp)return Lp;if(!1===t||t instanceof k)return t}return!0}),Ri(e=>e!==Lp),ss(1)))}function xb(n){return(0,eo.z)((0,Gn.b)(e=>{if(ah(e))throw Cb(0,e)}),(0,Ge.U)(e=>!0===e))}class Ng{constructor(e){this.segmentGroup=e||null}}class Og{constructor(e){this.urlTree=e}}function Du(n){return Fo(new Ng(n))}function Rb(n){return Fo(new Og(n))}class QA{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new u.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,D.of)(r);if(i.numberOfChildren>1||!i.children[Xn])return Fo(new u.vHH(4e3,!1));i=i.children[Xn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new k(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);r[i]=t[h]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let a={};return Object.entries(t.children).forEach(([h,p])=>{a[h]=this.createSegmentGroup(e,p,r,i)}),new L(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Fg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lg(n,e,t,r,i){const s=kb(n,e,t);return s.matched?(r=function zA(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Mb(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,D.of)(!0);const s=i.map(a=>{const h=gf(a,n);return wo(function Sb(n){return n&&kg(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,D.of)(s).pipe(yf(),xb())}(r,e,t).pipe((0,Ge.U)(a=>!0===a?s:{...Fg}))):(0,D.of)(s)}function kb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Fg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ih)(t,n,e);if(!i)return{...Fg};const s={};Object.entries(i.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function Nb(n,e,t,r){return t.length>0&&function NP(n,e,t){return t.some(r=>Vg(n,e,r)&&Nc(r)!==Xn)}(n,t,r)?{segmentGroup:new L(e,kP(r,new L(t,n.children))),slicedSegments:[]}:0===t.length&&function XA(n,e,t){return t.some(r=>Vg(n,e,r))}(n,t,r)?{segmentGroup:new L(n.segments,PP(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new L(n.segments,n.children),slicedSegments:t}}function PP(n,e,t,r,i){const s={};for(const a of r)if(Vg(n,t,a)&&!i[Nc(a)]){const h=new L([],{});s[Nc(a)]=h}return{...i,...s}}function kP(n,e){const t={};t[Xn]=e;for(const r of n)if(""===r.path&&Nc(r)!==Xn){const i=new L([],{});t[Nc(r)]=i}return t}function Vg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class OP{constructor(e,t,r,i,s,a,h){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new QA(this.urlSerializer,this.urlTree)}noMatchError(e){return new u.vHH(4002,!1)}recognize(){const e=Nb(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xn).pipe(nr(t=>{if(t instanceof Og)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ng?this.noMatchError(t):t}),(0,Ge.U)(t=>{const r=new mf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xn,this.rootComponentType,null,{}),i=new sl(r,t),s=new Dg("",i),a=function E(n,e,t=null,r=null){return y(_(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xn).pipe(nr(r=>{throw r instanceof Ng?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Ib(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,b.D)(i).pipe(no(s=>{const a=r.children[s],h=function EP(n,e){const t=n.filter(r=>Nc(r)===e);return t.push(...n.filter(r=>Nc(r)!==e)),t}(t,s);return this.processSegmentGroup(e,h,a,s)}),Vr((s,a)=>(s.push(...a),s)),Bs(null),function si(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ri((i,s)=>n(i,s,r)):bt.y,Zr(1),t?Bs(e):Lr(()=>new Bi))}(),(0,Zi.z)(s=>{if(null===s)return Du(r);const a=JA(s);return function FP(n){n.sort((e,t)=>e.value.outlet===Xn?-1:t.value.outlet===Xn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),(0,D.of)(a)}))}processSegment(e,t,r,i,s,a){return(0,b.D)(t).pipe(no(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,r,i,s,a).pipe(nr(p=>{if(p instanceof Ng)return(0,D.of)(null);throw p}))),Hr(h=>!!h),nr(h=>{if(WA(h))return function Ob(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?(0,D.of)([]):Du(r);throw h}))}processSegmentAgainstRoute(e,t,r,i,s,a,h){return function cv(n,e,t,r){return!!(Nc(n)===r||r!==Xn&&Vg(e,t,n))&&("**"===n.path||kb(e,n,t).matched)}(r,i,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,a,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a):Du(i):Du(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rb(s):this.applyRedirects.lineralizeSegments(r,s).pipe((0,Zi.z)(a=>{const h=new L(a,{});return this.processSegment(e,t,h,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){const{matched:h,consumedSegments:p,remainingSegments:m,positionalParamSegments:w}=kb(t,i,s);if(!h)return Du(t);const x=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,w);return i.redirectTo.startsWith("/")?Rb(x):this.applyRedirects.lineralizeSegments(i,x).pipe((0,Zi.z)(F=>this.processSegment(e,r,t,F.concat(m),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,a){let h;if("**"===r.path){const p=i.length>0?os(i).parameters:{},m=new mf(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tD(r),Nc(r),r.component??r._loadedComponent??null,r,wf(r));h=(0,D.of)({snapshot:m,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=Lg(t,r,i,e).pipe((0,Ge.U)(({matched:p,consumedSegments:m,remainingSegments:w,parameters:x})=>p?{snapshot:new mf(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tD(r),Nc(r),r.component??r._loadedComponent??null,r,wf(r)),consumedSegments:m,remainingSegments:w}:null));return h.pipe((0,qr.w)(p=>null===p?Du(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,qr.w)(({routes:m})=>{const w=r._loadedInjector??e,{snapshot:x,consumedSegments:F,remainingSegments:z}=p,{segmentGroup:oe,slicedSegments:ge}=Nb(t,F,z,m);if(0===ge.length&&oe.hasChildren())return this.processChildren(w,m,oe).pipe((0,Ge.U)(Be=>null===Be?null:[new sl(x,Be)]));if(0===m.length&&0===ge.length)return(0,D.of)([new sl(x,[])]);const le=Nc(r)===s;return this.processSegment(w,m,oe,ge,le?Xn:s,!0).pipe((0,Ge.U)(Be=>[new sl(x,Be)]))}))))}getChildConfig(e,t,r){return t.children?(0,D.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,D.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function YA(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,D.of)(!0);const s=i.map(a=>{const h=gf(a,n);return wo(function DP(n){return n&&kg(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,D.of)(s).pipe(yf(),xb())}(e,t,r).pipe((0,Zi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Gn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function av(n){return Fo(nv(!1,3))}())):(0,D.of)({routes:[],injector:e})}}function oU(n){const e=n.value.routeConfig;return e&&""===e.path}function JA(n){const e=[],t=new Set;for(const r of n){if(!oU(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=JA(r.children);e.push(new sl(r.value,i))}return e.filter(r=>!t.has(r))}function tD(n){return n.data||{}}function wf(n){return n.resolve||{}}function sD(n){return"string"==typeof n.title||null===n.title}function Lb(n){return(0,qr.w)(e=>{const t=n(e);return t?(0,b.D)(t).pipe((0,Ge.U)(()=>e)):(0,D.of)(e)})}const Up=new u.OlP("ROUTES");let Vb=(()=>{var n;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,D.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=wo(r.loadComponent()).pipe((0,Ge.U)(Su),(0,Gn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),ys(()=>{this.componentLoaders.delete(r)})),s=new Ma(i,()=>new wi.x).pipe(Iu());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,D.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ge.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,w;return Array.isArray(p)?w=p:(m=p.create(r).injector,w=m.get(Up,[],u.XFs.Self|u.XFs.Optional).flat()),{routes:w.map(Mg),injector:m}}),ys(()=>{this.childrenLoaders.delete(i)})),h=new Ma(a,()=>new wi.x).pipe(Iu());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(r){return wo(r()).pipe((0,Ge.U)(Su),(0,Zi.z)(i=>i instanceof u.YKP||Array.isArray(i)?(0,D.of)(i):(0,b.D)(this.compiler.compileModuleAsync(i))))}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function Su(n){return function LP(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let yd=(()=>{var n;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wi.x,this.transitionAbortSubject=new wi.x,this.configLoader=(0,u.f3M)(Vb),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Wt),this.rootContexts=(0,u.f3M)(Xy),this.inputBindingEnabled=null!==(0,u.f3M)(tv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,D.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new JV(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new LA(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new T.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hf,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ri(a=>0!==a.id),(0,Ge.U)(a=>({...a,extractedUrl:r.urlHandlingStrategy.extract(a.rawUrl)})),(0,qr.w)(a=>{this.currentTransition=a;let h=!1,p=!1;return(0,D.of)(a).pipe((0,Gn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qr.w)(m=>{const w=m.currentBrowserUrl.toString(),x=!r.navigated||m.extractedUrl.toString()!==w||w!==m.currentUrlTree.toString();if(!x&&"reload"!==(m.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const z="";return this.events.next(new Au(m.id,this.urlSerializer.serialize(m.rawUrl),z,0)),m.resolve(null),la.E}if(r.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,D.of)(m).pipe((0,qr.w)(z=>{const oe=this.transitions?.getValue();return this.events.next(new ch(z.id,this.urlSerializer.serialize(z.extractedUrl),z.source,z.restoredState)),oe!==this.transitions?.getValue()?la.E:Promise.resolve(z)}),function lv(n,e,t,r,i,s){return(0,Zi.z)(a=>function Vp(n,e,t,r,i,s,a="emptyOnly"){return new OP(n,e,t,r,i,a,s).recognize()}(n,e,t,r,a.extractedUrl,i,s).pipe((0,Ge.U)(({state:h,tree:p})=>({...a,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,Gn.b)(z=>{a.targetSnapshot=z.targetSnapshot,a.urlAfterRedirects=z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:z.urlAfterRedirects};const oe=new Cg(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(oe)}));if(x&&r.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:z,extractedUrl:oe,source:ge,restoredState:le,extras:Be}=m,dt=new ch(z,this.urlSerializer.serialize(oe),ge,le);this.events.next(dt);const pt=bb(0,this.rootComponentType).snapshot;return this.currentTransition=a={...m,targetSnapshot:pt,urlAfterRedirects:oe,extras:{...Be,skipLocationChange:!1,replaceUrl:!1}},(0,D.of)(a)}{const z="";return this.events.next(new Au(m.id,this.urlSerializer.serialize(m.extractedUrl),z,1)),m.resolve(null),la.E}}),(0,Gn.b)(m=>{const w=new OA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),(0,Ge.U)(m=>(this.currentTransition=a={...m,guards:Fp(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},a)),function vf(n,e){return(0,Zi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?(0,D.of)({...t,guardsResult:!0}):function qA(n,e,t,r){return(0,b.D)(n).pipe((0,Zi.z)(i=>function KA(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,D.of)(!0);const a=s.map(h=>{const p=_d(e)??i,m=gf(h,p);return wo(function sv(n){return n&&kg(n.canDeactivate)}(m)?m.canDeactivate(n,e,t,r):p.runInContext(()=>m(n,e,t,r))).pipe(Hr())});return(0,D.of)(a).pipe(yf())}(i.component,i.route,t,e,r)),Hr(i=>!0!==i,!0))}(a,r,i,n).pipe((0,Zi.z)(h=>h&&function AP(n){return"boolean"==typeof n}(h)?function ZA(n,e,t,r){return(0,b.D)(e).pipe(no(i=>Oo(function sU(n,e){return null!==n&&e&&e(new dP(n)),(0,D.of)(!0)}(i.route.parent,r),function MP(n,e){return null!==n&&e&&e(new yb(n)),(0,D.of)(!0)}(i.route,r),function RP(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function rv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>Js(()=>{const h=a.guards.map(p=>{const m=_d(a.node)??t,w=gf(p,m);return wo(function GA(n){return n&&kg(n.canActivateChild)}(w)?w.canActivateChild(r,n):m.runInContext(()=>w(r,n))).pipe(Hr())});return(0,D.of)(h).pipe(yf())}));return(0,D.of)(s).pipe(yf())}(n,i.path,t),function ov(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,D.of)(!0);const i=r.map(s=>Js(()=>{const a=_d(e)??t,h=gf(s,a);return wo(function SP(n){return n&&kg(n.canActivate)}(h)?h.canActivate(e,n):a.runInContext(()=>h(e,n))).pipe(Hr())}));return(0,D.of)(i).pipe(yf())}(n,i.route,t))),Hr(i=>!0!==i,!0))}(r,s,n,e):(0,D.of)(h)),(0,Ge.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,m=>this.events.next(m)),(0,Gn.b)(m=>{if(a.guardsResult=m.guardsResult,ah(m.guardsResult))throw Cb(0,m.guardsResult);const w=new uP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(w)}),Ri(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),Lb(m=>{if(m.guards.canActivateChecks.length)return(0,D.of)(m).pipe((0,Gn.b)(w=>{const x=new FA(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}),(0,qr.w)(w=>{let x=!1;return(0,D.of)(w).pipe(function Fb(n,e){return(0,Zi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,D.of)(t);let s=0;return(0,b.D)(i).pipe(no(a=>function nD(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!sD(i)&&(s[io]=i.title),function rD(n,e,t,r){const i=function iD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,D.of)({});const s={};return(0,b.D)(i).pipe((0,Zi.z)(a=>function bf(n,e,t,r){const i=_d(e)??r,s=gf(n,i);return wo(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[a],e,t,r).pipe(Hr(),(0,Gn.b)(h=>{s[a]=h}))),Zr(1),function ro(n){return(0,Ge.U)(()=>n)}(s),nr(a=>WA(a)?la.E:Fo(a)))}(s,n,e,r).pipe((0,Ge.U)(a=>(n._resolvedData=a,n.data=Ib(n,t).resolve,i&&sD(i)&&(n.data[io]=i.title),null)))}(a.route,r,n,e)),(0,Gn.b)(()=>s++),Zr(1),(0,Zi.z)(a=>s===i.length?(0,D.of)(t):la.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,Gn.b)({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(w,"",2)}}))}),(0,Gn.b)(w=>{const x=new XV(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}))}),Lb(m=>{const w=x=>{const F=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(x.routeConfig).pipe((0,Gn.b)(z=>{x.component=z}),(0,Ge.U)(()=>{})));for(const z of x.children)F.push(...w(z));return F};return Ln(w(m.targetSnapshot.root)).pipe(Bs(),ss(1))}),Lb(()=>this.afterPreactivation()),(0,Ge.U)(m=>{const w=function BA(n,e,t){const r=Sg(n,e._root,t?t._root:void 0);return new wb(r,e)}(r.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=a={...m,targetRouterState:w},a}),(0,Gn.b)(()=>{this.events.next(new Ag)}),((n,e,t,r)=>(0,Ge.U)(i=>(new HA(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,r.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),ss(1),(0,Gn.b)({next:m=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),r.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{h=!0}}),Pi(this.transitionAbortSubject.pipe((0,Gn.b)(m=>{throw m}))),ys(()=>{h||p||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),nr(m=>{if(p=!0,Op(m))this.events.next(new ff(a.id,this.urlSerializer.serialize(a.extractedUrl),m.message,m.cancellationCode)),function da(n){return Op(n)&&ah(n.url)}(m)?this.events.next(new VA(m.url)):a.resolve(!1);else{this.events.next(new Rp(a.id,this.urlSerializer.serialize(a.extractedUrl),m,a.targetSnapshot??void 0));try{a.resolve(r.errorHandler(m))}catch(w){a.reject(w)}}return la.E}))}))}cancelNavigationTransition(r,i,s){const a=new ff(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(a),r.resolve(!1)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function oD(n){return n!==hf}let aD=(()=>{var n;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===Xn);return i}getResolvedTitleForRoute(r){return r.data[io]}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(VP)},providedIn:"root"}),e})(),VP=(()=>{var n;class e extends aD{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Tt))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),UP=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(BP)},providedIn:"root"}),e})();class jP{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let BP=(()=>{var n;class e extends jP{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const Ug=new u.OlP("",{providedIn:"root",factory:()=>({})});let zP=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(HP)},providedIn:"root"}),e})(),HP=(()=>{var n;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var jg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(jg||{});function cD(n,e){n.events.pipe(Ri(t=>t instanceof Cu||t instanceof ff||t instanceof Rp||t instanceof Au),(0,Ge.U)(t=>t instanceof Cu||t instanceof Au?jg.COMPLETE:t instanceof ff&&(0===t.code||1===t.code)?jg.REDIRECTING:jg.FAILED),Ri(t=>t!==jg.REDIRECTING),ss(1)).subscribe(()=>{e()})}function uv(n){throw n}function vd(n,e,t){return e.parse("/")}const Bg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hs=(()=>{var n;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new wi.x,this.options=(0,u.f3M)(Ug,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||uv,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vd,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(zP),this.routeReuseStrategy=(0,u.f3M)(UP),this.titleStrategy=(0,u.f3M)(aD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(Up,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(yd),this.urlSerializer=(0,u.f3M)(Wt),this.location=(0,u.f3M)(kt),this.componentInputBindingEnabled=!!(0,u.f3M)(tv,{optional:!0}),this.eventsSubscription=new Pc.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new k,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bb(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(GP(i)&&this._events.next(i));if(i instanceof ch)oD(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Au)this.rawUrlTree=s.rawUrl;else if(i instanceof Cg){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const a=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(a,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof Ag)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof ff)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof VA){const a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),h={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oD(s.source)};this.scheduleNavigation(a,hf,null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Rp&&this.restoreHistory(s,!0),i instanceof Cu&&(this.navigated=!0),GP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hf,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const a={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const m={...s};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const p=this.parseUrl(r);this.scheduleNavigation(p,i,h,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Mg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:a,fragment:h,queryParamsHandling:p,preserveFragment:m}=i,w=m?this.currentUrlTree.fragment:h;let F,x=null;switch(p){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}null!==x&&(x=this.removeEmptyProps(x));try{F=_(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),F=this.currentUrlTree.root}return y(F,r,x,w??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=ah(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,hf,null,i)}navigate(r,i={skipLocationChange:!1}){return function uD(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new u.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...Bg}:!1===i?{...lD}:i,ah(r))return Dp(this.currentUrlTree,r,s);const a=this.parseUrl(r);return Dp(this.currentUrlTree,a,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const a=r[s];return null!=a&&(i[s]=a),i},{})}scheduleNavigation(r,i,s,a,h){if(this.disposed)return Promise.resolve(!1);let p,m,w;h?(p=h.resolve,m=h.reject,w=h.promise):w=new Promise((F,z)=>{p=F,m=z});const x=this.pendingTasks.add();return cD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:a,resolve:p,reject:m,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",a)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-this.browserPageId;0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function GP(n){return!(n instanceof Ag||n instanceof VA)}let zg=(()=>{var n;class e{constructor(r,i,s,a,h,p){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=a,this.el=h,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new wi.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=r.events.subscribe(w=>{w instanceof Cu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,a,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||a||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,a=this.el.nativeElement;null!==i?s.setAttribute(a,r,i):s.removeAttribute(a,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Hs),u.Y36(lh),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(mt))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&u.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&r&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]}),e})();class dv{}let dD=(()=>{var n;class e{constructor(r,i,s,a,h){this.router=r,this.injector=s,this.preloadingStrategy=a,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ri(r=>r instanceof Cu),no(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,r,`Route: ${a.path}`));const h=a._injector??r,p=a._loadedInjector??h;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&s.push(this.preloadConfig(h,a)),(a.children||a._loadedRoutes)&&s.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,b.D)(s).pipe((0,js.J)())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):(0,D.of)(null);const a=s.pipe((0,Zi.z)(h=>null===h?(0,D.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??r,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,b.D)([a,h]).pipe((0,js.J)())}return a})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Hs),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(dv),u.LFG(Vb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const jb=new u.OlP("");let hD=(()=>{var n;class e{constructor(r,i,s,a,h={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=a,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ch?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Cu?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Au&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof fP&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fP(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(n=e).\u0275fac=function(r){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function xu(n,e){return{\u0275kind:n,\u0275providers:e}}function uh(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Hs),i=n.get(mD);1===n.get(Bb)&&r.initialNavigation(),n.get(_D,null,u.XFs.Optional)?.setUpPreloading(),n.get(jb,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mD=new u.OlP("",{factory:()=>new wi.x}),Bb=new u.OlP("",{providedIn:"root",factory:()=>1}),_D=new u.OlP("");function WP(n){return xu(0,[{provide:_D,useExisting:dD},{provide:dv,useExisting:n}])}const Kr=new u.OlP("ROUTER_FORROOT_GUARD"),Hg=[kt,{provide:Wt,useClass:$t},Hs,Xy,{provide:lh,useFactory:function fD(n){return n.routerState.root},deps:[Hs]},Vb,[]];function yD(){return new u.PXZ("Router",Hs)}let Hb=(()=>{var n;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Hg,[],{provide:Up,multi:!0,useValue:r},{provide:Kr,useFactory:vD,deps:[[Hs,new u.FiY,new u.tp0]]},{provide:Ug,useValue:i||{}},i?.useHash?{provide:mt,useClass:ht}:{provide:mt,useClass:yt},{provide:jb,useFactory:()=>{const n=(0,u.f3M)(Gi),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(Ug),r=(0,u.f3M)(yd),i=(0,u.f3M)(Wt);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hD(i,r,n,e,t)}},i?.preloadingStrategy?WP(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:yD},i?.initialNavigation?wD(i):[],i?.bindToComponentInputs?xu(8,[jA,{provide:tv,useExisting:jA}]).\u0275providers:[],[{provide:Gg,useFactory:uh},{provide:u.tb,multi:!0,useExisting:Gg}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Up,multi:!0,useValue:r}]}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Kr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();function vD(n){return"guarded"}function wD(n){return["disabled"===n.initialNavigation?xu(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Hs);return()=>{e.setUpLocationChangeListener()}}},{provide:Bb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xu(2,[{provide:Bb,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Hs),s=e.get(mD);cD(i,()=>{r(!0)}),e.get(yd).afterPreactivation=()=>(r(!0),s.closed?(0,D.of)(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Gg=new u.OlP("");var sn,at=W(5861),Yr=W(4303),$l=W(4537),ol=W(7879),On=W(9058),pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gs={},$g=$g||{},cr=pv||self;function mv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Bp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wb="closure_uid_"+(1e9*Math.random()>>>0),QP=0;function XP(n,e,t){return n.call.apply(n.bind,arguments)}function qb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Uo(n,e,t){return(Uo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XP:qb).apply(null,arguments)}function gv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function oo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var a=Array(arguments.length-2),h=2;h<arguments.length;h++)a[h-2]=arguments[h];return e.prototype[i].apply(r,a)}}function Mu(){this.s=this.s,this.o=this.o}Mu.prototype.s=!1,Mu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zp(n){Object.prototype.hasOwnProperty.call(n,Wb)&&n[Wb]||(n[Wb]=++QP)}(this)},Mu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Zb(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ED(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(mv(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let a=0;a<s;a++)n[i+a]=r[a]}else n.push(r)}}function Pa(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Pa.prototype.h=function(){this.defaultPrevented=!0};var gU=function(){if(!cr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{cr.addEventListener("test",()=>{},e),cr.removeEventListener("test",()=>{},e)}catch{}return n}();function dh(n){return/^[\s\xa0]*$/.test(n)}function _v(){var n=cr.navigator;return n&&(n=n.userAgent)?n:""}function al(n){return-1!=_v().indexOf(n)}function Wg(n){return Wg[" "](n),n}Wg[" "]=function(){};var Wp,n,Kb=al("Opera"),hh=al("Trident")||al("MSIE"),Gp=al("Edge"),$p=Gp||hh,If=al("Gecko")&&!(-1!=_v().toLowerCase().indexOf("webkit")&&!al("Edge"))&&!(al("Trident")||al("MSIE"))&&!al("Edge"),Yb=-1!=_v().toLowerCase().indexOf("webkit")&&!al("Edge");function yv(){var n=cr.document;return n?n.documentMode:void 0}e:{var TD="",qg=(n=_v(),If?/rv:([^\);]+)(\)|;)/.exec(n):Gp?/Edge\/([\d\.]+)/.exec(n):hh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Yb?/WebKit\/(\S+)/.exec(n):Kb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qg&&(TD=qg?qg[1]:""),hh){var Ef=yv();if(null!=Ef&&Ef>parseFloat(TD)){Wp=String(Ef);break e}}Wp=TD}var ek=cr.document&&hh&&(yv()||parseInt(Wp,10))||void 0;function Zg(n,e){if(Pa.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(If){e:{try{Wg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Jb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zg.$.h.call(this)}}oo(Zg,Pa);var Jb={2:"touch",3:"pen",4:"mouse"};Zg.prototype.h=function(){Zg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qp="closure_listenable_"+(1e6*Math.random()|0),tk=0;function nk(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++tk,this.fa=this.ia=!1}function eI(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function wv(n){const e={};for(const t in n)e[t]=n[t];return e}const CD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<CD.length;s++)t=CD[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Zp(n){this.src=n,this.g={},this.h=0}function Kp(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=JP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(eI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rI(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Zp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=rI(n,e,r,i);return-1<a?(e=n[a],t||(e.ia=!1)):((e=new nk(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var bv="closure_lm_"+(1e6*Math.random()|0),iI={};function sI(n,e,t,r,i){if(r&&r.once)return Kg(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sI(n,e[s],t,r,i);return null}return t=aI(t),n&&n[qp]?n.O(e,t,Bp(r)?!!r.capture:!!r,i):rk(n,e,t,!1,r,i)}function rk(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var a=Bp(i)?!!i.capture:!!i,h=Iv(n);if(h||(n[bv]=h=new Zp(n)),(t=h.add(e,t,r,a,s)).proxy)return t;if(r=function ik(){const e=sk;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)gU||(i=a),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Yp(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Kg(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Kg(n,e[s],t,r,i);return null}return t=aI(t),n&&n[qp]?n.P(e,t,Bp(r)?!!r.capture:!!r,i):rk(n,e,t,!0,r,i)}function AD(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AD(n,e[s],t,r,i);else r=Bp(r)?!!r.capture:!!r,t=aI(t),n&&n[qp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rI(s=n.g[e],t,r,i))&&(eI(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Iv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rI(e,t,r,i)),(t=-1<n?e[n]:null)&&fh(t))}function fh(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[qp])Kp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Yp(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Iv(e))?(Kp(t,n),0==t.h&&(t.src=null,e[bv]=null)):eI(n)}}}function Yp(n){return n in iI?iI[n]:iI[n]="on"+n}function sk(n,e){if(n.fa)n=!0;else{e=new Zg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&fh(n),n=t.call(r,e)}return n}function Iv(n){return(n=n[bv])instanceof Zp?n:null}var oI="__closure_events_fn_"+(1e9*Math.random()>>>0);function aI(n){return"function"==typeof n?n:(n[oI]||(n[oI]=function(e){return n.handleEvent(e)}),n[oI])}function Io(){Mu.call(this),this.i=new Zp(this),this.S=this,this.J=null}function Eo(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Pa(e,n);else if(e instanceof Pa)e.target=e.target||n;else{var i=e;nI(e=new Pa(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];i=Yg(a,r,!0,e)&&i}if(i=Yg(a=e.g=n,r,!0,e)&&i,i=Yg(a,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Yg(a=e.g=t[s],r,!1,e)&&i}function Yg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==t){var h=a.listener,p=a.la||a.src;a.ia&&Kp(n.i,a),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}oo(Io,Mu),Io.prototype[qp]=!0,Io.prototype.removeEventListener=function(n,e,t,r){AD(this,n,e,t,r)},Io.prototype.N=function(){if(Io.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)eI(t[r]);delete n.g[e],n.h--}}this.J=null},Io.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Io.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Qg=cr.JSON.stringify;function cI(){var n=lI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SD=new class _U{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ok,n=>n.reset());class ok{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xD(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function ak(n){cr.setTimeout(()=>{throw n},0)}let Qp,Xg=!1,lI=new class DD{constructor(){this.h=this.g=null}add(e,t){const r=SD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ck=()=>{const n=cr.Promise.resolve(void 0);Qp=()=>{n.then(MD)}};var MD=()=>{for(var n;n=cI();){try{n.h.call(n.g)}catch(t){ak(t)}var e=SD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xg=!1};function Jg(n,e){Io.call(this),this.h=n||1,this.g=e||cr,this.j=Uo(this.qb,this),this.l=Date.now()}function Oc(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ev(n,e,t){if("function"==typeof n)t&&(n=Uo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Uo(n.handleEvent,n)}return 2147483647<Number(e)?-1:cr.setTimeout(n,e||0)}function lk(n){n.g=Ev(()=>{n.g=null,n.i&&(n.i=!1,lk(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}oo(Jg,Io),(sn=Jg.prototype).ga=!1,sn.T=null,sn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Eo(this,"tick"),this.ga&&(Oc(this),this.start()))}},sn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sn.N=function(){Jg.$.N.call(this),Oc(this),delete this.g};class uI extends Mu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lk(this)}N(){super.N(),this.g&&(cr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cl(n){Mu.call(this),this.h=n,this.g={}}oo(cl,Mu);var Tv=[];function RD(n,e,t,r){Array.isArray(t)||(t&&(Tv[0]=t.toString()),t=Tv);for(var i=0;i<t.length;i++){var s=sI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function uk(n){tI(n.g,function(e,t){this.g.hasOwnProperty(t)&&fh(e)},n),n.g={}}function Cv(){this.g=!0}function Tf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Qg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}cl.prototype.N=function(){cl.$.N.call(this),uk(this)},cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cv.prototype.Ea=function(){this.g=!1},Cv.prototype.info=function(){};var Qi={},PD=null;function Xp(){return PD=PD||new Io}function kD(n){Pa.call(this,Qi.Ta,n)}function e_(n){const e=Xp();Eo(e,new kD(e))}function Av(n,e){Pa.call(this,Qi.STAT_EVENT,n),this.stat=e}function ha(n){const e=Xp();Eo(e,new Av(e,n))}function hI(n,e){Pa.call(this,Qi.Ua,n),this.size=e}function t_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return cr.setTimeout(function(){n()},e)}Qi.Ta="serverreachability",oo(kD,Pa),Qi.STAT_EVENT="statevent",oo(Av,Pa),Qi.Ua="timingevent",oo(hI,Pa);var n_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pI(){}function gI(){}pI.prototype.h=null;var mh,Jp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ph(){Pa.call(this,"d")}function Wl(){Pa.call(this,"c")}function Dv(){}function r_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new cl(this),this.P=ND,this.V=new Jg(n=$p?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _I}function _I(){this.i=null,this.g="",this.h=!1}oo(ph,Pa),oo(Wl,Pa),oo(Dv,pI),Dv.prototype.g=function(){return new XMLHttpRequest},Dv.prototype.i=function(){return{}},mh=new Dv;var ND=45e3,i_={},gh={};function em(n,e,t){n.L=1,n.v=rr(Pu(e)),n.s=t,n.S=!0,yI(n,null)}function yI(n,e){n.G=Date.now(),s_(n),n.A=Pu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Nv(t.i,"t",r),n.C=0,t=n.l.J,n.h=new _I,n.g=Ik(n.l,t?e:null,!n.s),0<n.O&&(n.M=new uI(Uo(n.Pa,n,n.g),n.O)),RD(n.U,n.g,"readystatechange",n.nb),e=n.I?wv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),e_(),function dI(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var a="",h=s.split("&"),p=0;p<h.length;p++){var m=h[p].split("=");if(1<m.length){var w=m[0];m=m[1];var x=w.split("_");a=2<=x.length&&"type"==x[1]?a+(w+"=")+m+"&":a+(w+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function vI(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function OD(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=hk(n,t),i==gh){4==e&&(n.o=4,ha(14),r=!1),Tf(n.j,n.m,null,"[Incomplete Response]");break}if(i==i_){n.o=4,ha(15),Tf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tf(n.j,n.m,i,null),LD(n,i)}vI(n)&&i!=gh&&i!=i_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ha(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),m_(e),e.M=!0,ha(11))):(Tf(n.j,n.m,t,"[Invalid Chunked Response]"),Cf(n),Sv(n))}function hk(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?gh:(t=Number(e.substring(t,r)),isNaN(t)?i_:(r+=1)+t>e.length?gh:(e=e.slice(r,r+t),n.C=r+t,e))}function s_(n){n.Y=Date.now()+n.P,FD(n,n.P)}function FD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=t_(Uo(n.lb,n),e)}function o_(n){n.B&&(cr.clearTimeout(n.B),n.B=null)}function Sv(n){0==n.l.H||n.J||JD(n.l,n)}function Cf(n){o_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Oc(n.V),uk(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function LD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||AI(t.i,n)))if(!n.K&&AI(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;g_(t),PI(t)}OI(t),ha(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=t_(Uo(t.ib,t),6e3));if(1>=jD(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Zl(t,11)}else if((n.K||t.g==n)&&g_(t),!dh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(t.V=m[0],m=m[1],2==t.H)if("c"==m[0]){t.K=m[1],t.pa=m[2];const w=m[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const x=m[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const F=m[5];null!=F&&"number"==typeof F&&0<F&&(t.L=r=1.5*F,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const oe=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var s=r.i;s.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(DI(s,s.h),s.h=null))}if(r.F){const ge=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(r.Da=ge,Ni(r.I,r.F,ge))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var a=n;if((r=t).wa=y_(r,r.J?r.pa:null,r.Y),a.K){BD(r.i,a);var h=a,p=r.L;p&&h.setTimeout(p),h.B&&(o_(h),s_(h)),r.g=a}else QD(r);0<t.j.length&&p_(t)}else"stop"!=m[0]&&"close"!=m[0]||Zl(t,7);else 3==t.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?Zl(t,7):f_(t):"noop"!=m[0]&&t.h&&t.h.Aa(m),t.A=0)}e_()}catch{}}function wI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function VD(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(mv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function vU(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(sn=r_.prototype).setTimeout=function(n){this.P=n},sn.nb=function(n){n=n.target;const e=this.M;e&&3==ll(n)?e.l():this.Pa(n)},sn.Pa=function(n){try{if(n==this.g)e:{const w=ll(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||$p||this.g&&(this.h.h||this.g.ja()||qD(this.g)))){this.J||4!=w||7==e||e_(),o_(this);var t=this.g.da();this.ca=t;t:if(vI(this)){var r=qD(this.g);n="";var i=r.length,s=4==ll(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cf(this),Sv(this);var a="";break t}this.h.i=new cr.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==t,function Ru(n,e,t,r,i,s,a){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dh(h)){var m=h;break t}}m=null}if(!(t=m)){this.i=!1,this.o=3,ha(12),Cf(this),Sv(this);break e}Tf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LD(this,t)}this.S?(OD(this,w,a),$p&&this.i&&3==w&&(RD(this.U,this.V,"tick",this.mb),this.V.start())):(Tf(this.j,this.m,a,null),LD(this,a)),4==w&&Cf(this),this.i&&!this.J&&(4==w?JD(this.l,this):(this.i=!1,s_(this)))}else(function ZD(n){const e={};n=(n.g&&2<=ll(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(dh(n[r]))continue;var t=xD(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function vv(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<a.indexOf("Unknown SID")?(this.o=3,ha(12)):(this.o=0,ha(13)),Cf(this),Sv(this)}}}catch{}},sn.mb=function(){if(this.g){var n=ll(this.g),e=this.g.ja();this.C<e.length&&(o_(this),OD(this,n,e),this.i&&4!=n&&s_(this))}},sn.cancel=function(){this.J=!0,Cf(this)},sn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dk(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(e_(),ha(17)),Cf(this),this.o=2,Sv(this)):FD(this,this.Y-n)};var fk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tm){this.h=n.h,a_(this,n.j),this.s=n.s,this.g=n.g,Mv(this,n.m),this.l=n.l;var e=n.i,t=new wd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),bI(this,t),this.o=n.o}else n&&(e=String(n).match(fk))?(this.h=!1,a_(this,e[1]||"",!0),this.s=nm(e[2]||""),this.g=nm(e[3]||"",!0),Mv(this,e[4]),this.l=nm(e[5]||"",!0),bI(this,e[6]||"",!0),this.o=nm(e[7]||"")):(this.h=!1,this.i=new wd(null,this.h))}function Pu(n){return new tm(n)}function a_(n,e,t){n.j=t?nm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bI(n,e,t){e instanceof wd?(n.i=e,function TI(n,e){e&&!n.j&&(bd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Pv(this,r),Nv(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=rm(e,sm)),n.i=new wd(e,n.h))}function Ni(n,e,t){n.i.set(e,t)}function rr(n){return Ni(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,im),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function im(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rm(e,II,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rm(e,II,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(rm(t,"/"==t.charAt(0)?Rv:pk,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rm(t,EI)),n.join("")};var II=/[#\/\?@]/g,pk=/[#\?:]/g,Rv=/[#\?]/g,sm=/[#\?@]/g,EI=/#/g;function wd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bd(n){n.g||(n.g=new Map,n.h=0,n.i&&function xv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Pv(n,e){bd(n),e=Af(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kv(n,e){return bd(n),e=Af(n,e),n.g.has(e)}function Nv(n,e,t){Pv(n,e),0<t.length&&(n.i=null,n.g.set(Af(n,e),Zb(t)),n.h+=t.length)}function Af(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function UD(n){this.l=n||gk,n=cr.PerformanceNavigationTiming?0<(n=cr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(cr.g&&cr.g.Ka&&cr.g.Ka()&&cr.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(sn=wd.prototype).add=function(n,e){bd(this),this.i=null,n=Af(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},sn.forEach=function(n,e){bd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},sn.ta=function(){bd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},sn.Z=function(n){bd(this);let e=[];if("string"==typeof n)kv(this,n)&&(e=e.concat(this.g.get(Af(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},sn.set=function(n,e){return bd(this),this.i=null,kv(this,n=Af(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},sn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},sn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),n.push(i)}}return this.i=n.join("&")};var gk=10;function CI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jD(n){return n.h?1:n.g?n.g.size:0}function AI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function DI(n,e){n.g?n.g.add(e):n.h=e}function BD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function SI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Zb(n.i)}UD.prototype.cancel=function(){if(this.i=SI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var zD=class{stringify(n){return cr.JSON.stringify(n,void 0)}parse(n){return cr.JSON.parse(n,void 0)}};function _k(){this.g=new zD}function yk(n,e,t){const r=t||"";try{wI(n,function(i,s){let a=i;Bp(i)&&(a=Qg(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ov(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function c_(n){this.l=n.ec||null,this.j=n.ob||!1}function xI(n,e){Io.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=l_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oo(c_,pI),c_.prototype.g=function(){return new xI(this.l,this.j)},c_.prototype.i=function(n){return function(){return n}}({}),oo(xI,Io);var l_=0;function MI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function u_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,d_(n)}function d_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(sn=xI.prototype).open=function(n,e){if(this.readyState!=l_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,d_(this)},sn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||cr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},sn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,u_(this)),this.readyState=l_},sn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,d_(this)),this.g&&(this.readyState=3,d_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof cr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},sn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?u_(this):d_(this),3==this.readyState&&MI(this)}},sn.Za=function(n){this.g&&(this.response=this.responseText=n,u_(this))},sn.Ya=function(n){this.g&&(this.response=n,u_(this))},sn.ka=function(){this.g&&u_(this)},sn.setRequestHeader=function(n,e){this.v.append(n,e)},sn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},sn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vk=cr.JSON.parse;function as(n){Io.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HD,this.L=this.M=!1}oo(as,Io);var HD="",wk=/^https?$/i,RI=["POST","PUT"];function GD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$D(n),Fv(n)}function $D(n){n.F||(n.F=!0,Eo(n,"complete"),Eo(n,"error"))}function WD(n){if(n.h&&typeof $g<"u"&&(!n.C[1]||4!=ll(n)||2!=n.da()))if(n.v&&4==ll(n))Ev(n.La,0,n);else if(Eo(n,"readystatechange"),4==ll(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.I).match(fk)[1]||null;!i&&cr.self&&cr.self.location&&(i=cr.self.location.protocol.slice(0,-1)),r=!wk.test(i?i.toLowerCase():"")}t=r}if(t)Eo(n,"complete"),Eo(n,"success");else{n.m=6;try{var s=2<ll(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",$D(n)}}finally{Fv(n)}}}function Fv(n,e){if(n.g){ql(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Eo(n,"ready");try{t.onreadystatechange=r}catch{}}}function ql(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(cr.clearTimeout(n.A),n.A=null)}function ll(n){return n.g?n.g.readyState:0}function qD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case HD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function KD(n){let e="";return tI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Lv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=KD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ni(n,e,t))}function om(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function h_(n){this.Ga=0,this.j=[],this.l=new Cv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=om("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=om("baseRetryDelayMs",5e3,n),this.hb=om("retryDelaySeedMs",1e4,n),this.eb=om("forwardChannelMaxRetries",2,n),this.xa=om("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new UD(n&&n.concurrentRequestLimit),this.Ja=new _k,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function f_(n){if(kI(n),3==n.H){var e=n.W++,t=Pu(n.I);if(Ni(t,"SID",n.K),Ni(t,"RID",e),Ni(t,"TYPE","terminate"),Df(n,t),(e=new r_(n,n.l,e)).L=2,e.v=rr(Pu(t)),t=!1,cr.navigator&&cr.navigator.sendBeacon)try{t=cr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&cr.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ik(e.l,null),e.g.ha(e.v)),e.G=Date.now(),s_(e)}FI(n)}function PI(n){n.g&&(m_(n),n.g.cancel(),n.g=null)}function kI(n){PI(n),n.u&&(cr.clearTimeout(n.u),n.u=null),g_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&cr.clearTimeout(n.m),n.m=null)}function p_(n){if(!CI(n.i)&&!n.m){n.m=!0;var e=n.Na;Qp||ck(),Xg||(Qp(),Xg=!0),lI.add(e,n),n.C=0}}function NI(n,e){var t;t=e?e.m:n.W++;const r=Pu(n.I);Ni(r,"SID",n.K),Ni(r,"RID",t),Ni(r,"AID",n.V),Df(n,r),n.o&&n.s&&Lv(r,n.o,n.s),t=new r_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ku(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),DI(n.i,t),em(t,r,e)}function Df(n,e){n.na&&tI(n.na,function(t,r){Ni(e,r,t)}),n.h&&wI({},function(t,r){Ni(e,r,t)})}function ku(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Uo(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let m=i[p].g;const w=i[p].map;if(m-=s,0>m)s=Math.max(0,i[p].g-100),h=!1;else try{yk(w,a,"req"+m+"_")}catch{r&&r(w)}}if(h){r=a.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function QD(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qp||ck(),Xg||(Qp(),Xg=!0),lI.add(e,n),n.A=0}}function OI(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=t_(Uo(n.Ma,n),__(n,n.A)),n.A++,0))}function m_(n){null!=n.B&&(cr.clearTimeout(n.B),n.B=null)}function XD(n){n.g=new r_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Pu(n.wa);Ni(e,"RID","rpc"),Ni(e,"SID",n.K),Ni(e,"AID",n.V),Ni(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ni(e,"TO",n.qa),Ni(e,"TYPE","xmlhttp"),Df(n,e),n.o&&n.s&&Lv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=rr(Pu(e)),t.s=null,t.S=!0,yI(t,n)}function g_(n){null!=n.v&&(cr.clearTimeout(n.v),n.v=null)}function JD(n,e){var t=null;if(n.g==e){g_(n),m_(n),n.g=null;var r=2}else{if(!AI(n.i,e))return;t=e.F,BD(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Eo(r=Xp(),new hI(r,t)),p_(n)}else QD(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function YD(n,e){return!(jD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=t_(Uo(n.Na,n,e),__(n,n.C)),n.C++,0)))}(n,e)||2==r&&OI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Zl(n,5);break;case 4:Zl(n,10);break;case 3:Zl(n,6);break;default:Zl(n,2)}}function __(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Zl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Uo(n.pb,n);t||(t=new tm("//www.google.com/images/cleardot.gif"),cr.location&&"http"==cr.location.protocol||a_(t,"https"),rr(t)),function Fc(n,e){const t=new Cv;if(cr.Image){const r=new Image;r.onload=gv(Ov,t,r,"TestLoadImage: loaded",!0,e),r.onerror=gv(Ov,t,r,"TestLoadImage: error",!1,e),r.onabort=gv(Ov,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=gv(Ov,t,r,"TestLoadImage: timeout",!1,e),cr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ha(2);n.H=0,n.h&&n.h.za(e),FI(n),kI(n)}function FI(n){if(n.H=0,n.ma=[],n.h){const e=SI(n.i);(0!=e.length||0!=n.j.length)&&(ED(n.ma,e),ED(n.ma,n.j),n.i.i.length=0,Zb(n.j),n.j.length=0),n.h.ya()}}function y_(n,e,t){var r=t instanceof tm?Pu(t):new tm(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Mv(r,r.m);else{var i=cr.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new tm(null);r&&a_(s,r),e&&(s.g=e),i&&Mv(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ni(r,t,e),Ni(r,"VER",n.ra),Df(n,r),r}function Ik(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new as(t&&n.Ha&&!n.va?new c_({ob:!0}):n.va)).Oa(n.J),e}function eS(){}function v_(){if(hh&&!(10<=Number(ek)))throw Error("Environmental error: no available transport.")}function dc(n,e){Io.call(this),this.g=new h_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!dh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sf(this)}function tS(n){ph.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nS(){Wl.call(this),this.status=1}function Sf(n){this.g=n}function ka(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function LI(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],a=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;a=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=t+((a=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function oi(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(sn=as.prototype).Oa=function(n){this.M=n},sn.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mh.g(),this.C=function mI(n){return n.h||(n.h=n.i())}(this.u?this.u:mh),this.g.onreadystatechange=Uo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void GD(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=cr.FormData&&n instanceof cr.FormData,!(0<=JP(RI,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of t)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ql(this),0<this.B&&((this.L=function bk(n){return hh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Uo(this.ua,this)):this.A=Ev(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){GD(this,s)}},sn.ua=function(){typeof $g<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Eo(this,"timeout"),this.abort(8))},sn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Eo(this,"complete"),Eo(this,"abort"),Fv(this))},sn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fv(this,!0)),as.$.N.call(this)},sn.La=function(){this.s||(this.G||this.v||this.l?WD(this):this.kb())},sn.kb=function(){WD(this)},sn.isActive=function(){return!!this.g},sn.da=function(){try{return 2<ll(this)?this.g.status:-1}catch{return-1}},sn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},sn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vk(e)}},sn.Ia=function(){return this.m},sn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(sn=h_.prototype).ra=8,sn.H=1,sn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new r_(this,this.l,n);let s=this.s;if(this.U&&(s?(s=wv(s),nI(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ku(this,i,e),Ni(t=Pu(this.I),"RID",n),Ni(t,"CVER",22),this.F&&Ni(t,"X-HTTP-Session-Id",this.F),Df(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(KD(s)))+"&"+e:this.o&&Lv(t,this.o,s)),DI(this.i,i),this.bb&&Ni(t,"TYPE","init"),this.P?(Ni(t,"$req",e),Ni(t,"SID","null"),i.aa=!0,em(i,t,null)):em(i,t,e),this.H=2}}else 3==this.H&&(n?NI(this,n):0==this.j.length||CI(this.i)||NI(this))},sn.Ma=function(){if(this.u=null,XD(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=t_(Uo(this.jb,this),n)}},sn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ha(10),PI(this),XD(this))},sn.ib=function(){null!=this.v&&(this.v=null,PI(this),OI(this),ha(19))},sn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ha(2)):(this.l.info("Failed to ping google.com"),ha(1))},sn.isActive=function(){return!!this.h&&this.h.isActive(this)},(sn=eS.prototype).Ba=function(){},sn.Aa=function(){},sn.za=function(){},sn.ya=function(){},sn.isActive=function(){return!0},sn.Va=function(){},v_.prototype.g=function(n,e){return new dc(n,e)},oo(dc,Io),dc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ha(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=y_(n,null,n.Y),p_(n)},dc.prototype.close=function(){f_(this.g)},dc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Qg(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&p_(e)},dc.prototype.N=function(){this.g.h=null,delete this.j,f_(this.g),delete this.g,dc.$.N.call(this)},oo(tS,ph),oo(nS,Wl),oo(Sf,eS),Sf.prototype.Ba=function(){Eo(this.g,"a")},Sf.prototype.Aa=function(n){Eo(this.g,new tS(n))},Sf.prototype.za=function(n){Eo(this.g,new nS)},Sf.prototype.ya=function(){Eo(this.g,"b")},oo(ka,function rS(){this.blockSize=-1}),ka.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ka.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)LI(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){LI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){LI(this,r),i=0;break}}this.h=i,this.i+=e},ka.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var iS={};function VI(n){return-128<=n&&128>n?function Hp(n,e){var t=iS;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new oi([0|e],0>e?-1:0)}):new oi([0|n],0>n?-1:0)}function Nu(n){if(isNaN(n)||!isFinite(n))return cm;if(0>n)return jo(Nu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=UI;return new oi(e,0)}var UI=4294967296,cm=VI(0),jI=VI(1),sS=VI(16777216);function Id(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ul(n){return-1==n.h}function jo(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new oi(t,~n.h).add(jI)}function Vv(n,e){return n.add(jo(e))}function w_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function xf(n,e){this.g=n,this.h=e}function Uv(n,e){if(Id(e))throw Error("division by zero");if(Id(n))return new xf(cm,cm);if(ul(n))return e=Uv(jo(n),e),new xf(jo(e.g),jo(e.h));if(ul(e))return e=Uv(n,jo(e)),new xf(jo(e.g),e.h);if(30<n.g.length){if(ul(n)||ul(e))throw Error("slowDivide_ only works with positive integers.");for(var t=jI,r=e;0>=r.X(n);)t=b_(t),r=b_(r);var i=lm(t,1),s=lm(r,1);for(r=lm(r,2),t=lm(t,2);!Id(r);){var a=s.add(r);0>=a.X(n)&&(i=i.add(t),s=a),r=lm(r,1),t=lm(t,1)}return e=Vv(n,i.R(e)),new xf(i,e)}for(i=cm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Nu(t)).R(e);ul(a)||0<a.X(n);)a=(s=Nu(t-=r)).R(e);Id(s)&&(s=jI),i=i.add(s),n=Vv(n,a)}return new xf(i,n)}function b_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new oi(t,n.h)}function lm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new oi(i,n.h)}(sn=oi.prototype).ea=function(){if(ul(this))return-jo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:UI+r)*e,e*=UI}return n},sn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Id(this))return"0";if(ul(this))return"-"+jo(this).toString(n);for(var e=Nu(Math.pow(n,6)),t=this,r="";;){var i=Uv(t,e).g,s=((0<(t=Vv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Id(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},sn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},sn.X=function(n){return ul(n=Vv(this,n))?-1:Id(n)?0:1},sn.abs=function(){return ul(this)?jo(this):this},sn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=a>>>16,t[i]=(a&=65535)<<16|(s&=65535)}return new oi(t,-2147483648&t[t.length-1]?-1:0)},sn.R=function(n){if(Id(this)||Id(n))return cm;if(ul(this))return ul(n)?jo(this).R(jo(n)):jo(jo(this).R(n));if(ul(n))return jo(this.R(jo(n)));if(0>this.X(sS)&&0>n.X(sS))return Nu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=a*p,w_(t,2*r+2*i),t[2*r+2*i+1]+=s*p,w_(t,2*r+2*i+1),t[2*r+2*i+1]+=a*h,w_(t,2*r+2*i+1),t[2*r+2*i+2]+=s*h,w_(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new oi(t,0)},sn.gb=function(n){return Uv(this,n).h},sn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new oi(t,this.h&n.h)},sn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new oi(t,this.h|n.h)},sn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new oi(t,this.h^n.h)},v_.prototype.createWebChannel=v_.prototype.g,dc.prototype.send=dc.prototype.u,dc.prototype.open=dc.prototype.m,dc.prototype.close=dc.prototype.close,n_.NO_ERROR=0,n_.TIMEOUT=8,n_.HTTP_ERROR=6,fI.COMPLETE="complete",gI.EventType=Jp,Jp.OPEN="a",Jp.CLOSE="b",Jp.ERROR="c",Jp.MESSAGE="d",Io.prototype.listen=Io.prototype.O,as.prototype.listenOnce=as.prototype.P,as.prototype.getLastError=as.prototype.Sa,as.prototype.getLastErrorCode=as.prototype.Ia,as.prototype.getStatus=as.prototype.da,as.prototype.getResponseJson=as.prototype.Wa,as.prototype.getResponseText=as.prototype.ja,as.prototype.send=as.prototype.ha,as.prototype.setWithCredentials=as.prototype.Oa,ka.prototype.digest=ka.prototype.l,ka.prototype.reset=ka.prototype.reset,ka.prototype.update=ka.prototype.j,oi.prototype.add=oi.prototype.add,oi.prototype.multiply=oi.prototype.R,oi.prototype.modulo=oi.prototype.gb,oi.prototype.compare=oi.prototype.X,oi.prototype.toNumber=oi.prototype.ea,oi.prototype.toString=oi.prototype.toString,oi.prototype.getBits=oi.prototype.D,oi.fromNumber=Nu,oi.fromString=function am(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return jo(am(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Nu(Math.pow(e,8)),r=cm,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),a=parseInt(n.substring(i,i+s),e);8>s?(s=Nu(Math.pow(e,s)),r=r.R(s).add(Nu(a))):r=(r=r.R(t)).add(Nu(a))}return r},Gs.createWebChannelTransport=function(){return new v_},Gs.getStatEventTarget=function(){return Xp()},Gs.ErrorCode=n_,Gs.EventType=fI,Gs.Event=Qi,Gs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gs.FetchXmlHttpFactory=c_,Gs.WebChannel=gI,Gs.XhrIo=as,Gs.Md5=ka;var oS=Gs.Integer=oi;const BI="@firebase/firestore";class Bo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bo.UNAUTHENTICATED=new Bo(null),Bo.GOOGLE_CREDENTIALS=new Bo("google-credentials-uid"),Bo.FIRST_PARTY=new Bo("first-party-uid"),Bo.MOCK_USER=new Bo("mock-user");let _h="10.4.0";const yh=new ol.Yd("@firebase/firestore");function Nt(n,...e){if(yh.logLevel<=ol.in.DEBUG){const t=e.map(To);yh.debug(`Firestore (${_h}): ${n}`,...t)}}function ai(n,...e){if(yh.logLevel<=ol.in.ERROR){const t=e.map(To);yh.error(`Firestore (${_h}): ${n}`,...t)}}function To(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pn(n="Unexpected state"){const e=`FIRESTORE (${_h}) INTERNAL ASSERTION FAILED: `+n;throw ai(e),new Error(e)}function An(n,e){n||pn()}const Qe_CANCELLED="cancelled",Qe_INVALID_ARGUMENT="invalid-argument",Qe_FAILED_PRECONDITION="failed-precondition",Qe_UNAVAILABLE="unavailable";class xt extends On.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bo.UNAUTHENTICATED))}shutdown(){}}class fm{constructor(e){this.t=e,this.currentUser=Bo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const m=a;e.enqueueRetryable((0,at.Z)(function*(){yield m.promise,yield s(r.currentUser)}))},p=m=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(An("string"==typeof r.accessToken),new Mf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return An(null===e||"string"==typeof e),new Bo(e)}}class pm{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Bo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mm{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new pm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Nt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(An("string"==typeof t.token),this.R=t.token,new zI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class HI{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=lS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ir(n,e){return n<e?-1:n>e?1:0}class jv{constructor(e,t,r){void 0===t?t=0:t>e.length&&pn(),void 0===r?r=e.length-t:r>e.length-t&&pn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gr extends jv{construct(e,t,r){return new Gr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xt(Qe_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Gr(t)}static emptyPath(){return new Gr([])}}class on{constructor(e){this.path=e}static fromPath(e){return new on(Gr.fromString(e))}static fromName(e){return new on(Gr.fromString(e).popFirst(5))}static empty(){return new on(Gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new Gr(e.slice()))}}function Ql(n){return"IndexedDbTransactionError"===n.name}class Oi{constructor(e,t){this.comparator=e,this.root=t||Co.EMPTY}insert(e,t){return new Oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Co.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Co.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new A_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new A_(this.root,e,this.comparator,!1)}getReverseIterator(){return new A_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new A_(this.root,e,this.comparator,!0)}}class A_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Co{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Co.RED,this.left=i??Co.EMPTY,this.right=s??Co.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Co(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Co.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Co.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Co.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pn();const e=this.left.check();if(e!==this.right.check())throw pn();return e+(this.isRed()?0:1)}}Co.EMPTY=null,Co.RED=!0,Co.BLACK=!1,Co.EMPTY=new class{constructor(){this.size=0}get key(){throw pn()}get value(){throw pn()}get color(){throw pn()}get left(){throw pn()}get right(){throw pn()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Co(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bi{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(e){return new Qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bi(this.comparator);return t.data=e,t}}class Qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $s{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iE("Invalid base64 string: "+s):s}}(e);return new $s(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new $s(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ir(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function cs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}$s.EMPTY_BYTE_STRING=new $s("");class sE{constructor(e,t,r,i,s,a,h,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}class Lc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}var Ss,Pr;new Oi(on.comparator),new Oi(on.comparator),new Oi(on.comparator),new bi(on.comparator),new bi(ir),(Pr=Ss||(Ss={}))[Pr.OK=0]="OK",Pr[Pr.CANCELLED=1]="CANCELLED",Pr[Pr.UNKNOWN=2]="UNKNOWN",Pr[Pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pr[Pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pr[Pr.NOT_FOUND=5]="NOT_FOUND",Pr[Pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pr[Pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pr[Pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pr[Pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pr[Pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pr[Pr.ABORTED=10]="ABORTED",Pr[Pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pr[Pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pr[Pr.INTERNAL=13]="INTERNAL",Pr[Pr.UNAVAILABLE=14]="UNAVAILABLE",Pr[Pr.DATA_LOSS=15]="DATA_LOSS",new oS([4294967295,4294967295],0);class Kf{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(cs(e.integerValue));else if("doubleValue"in e){const r=cs(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),function T_(n){return 0===n&&1/n==-1/0}(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(function dl(n){return"string"==typeof n?$s.fromBase64String(n):$s.fromUint8Array(n)}(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?function Lf(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):pn()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const i of Object.keys(r))this.ft(i,t),this.Tt(r[i],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const i of r)this.Tt(i,t)}wt(e,t){this.At(t,37),on.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}Kf.Ct=new Kf,new Uint8Array(0);class ma{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ma(e,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function V0(){return typeof document<"u"?document:null}ma.DEFAULT_COLLECTION_PERCENTILE=10,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ma.DEFAULT=new ma(41943040,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ma.DISABLED=new ma(-1,0,0);class aT{constructor(e,t,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,t-r);i>0&&Nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class G0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,h=new G0(e,t,a,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(Qe_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class KN{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bo.UNAUTHENTICATED,this.clientId=HI.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var a=(0,at.Z)(function*(h){Nt("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Nt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return(0,at.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(Qe_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,at.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Lh(n,e){if(ai("AsyncQueue",`${e}: ${n}`),Ql(n))return new xt(Qe_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function BT(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const zT=new Map;class CM{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(Qe_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(Qe_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function rO(n,e,t,r){if(!0===e&&!0===r)throw new xt(Qe_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=BT(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new xt(Qe_INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xt(Qe_INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xt(Qe_INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oy{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xt(Qe_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(Qe_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CM(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new dm;switch(r.type){case"firstParty":return new mm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(Qe_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=zT.get(t);r&&(Nt("ComponentProvider","Removing Datastore"),zT.delete(t),r.terminate())}(this),Promise.resolve()}}class SM{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new aT(this,"async_queue_retry"),this.ou=()=>{const t=V0();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=V0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=V0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new Xi;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,at.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!Ql(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,ai("INTERNAL UNHANDLED ERROR: ",function(a){let h=a.message||"";return a.stack&&(h=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),h}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const i=G0.createAndSchedule(this,e,t,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&pn()}verifyOperationInProgress(){}lu(){var e=this;return(0,at.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}class mi extends oy{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new SM,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function ay(n){var e,t,r;const i=n._freezeSettings(),s=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sE(n._databaseId,p,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,BT(w.experimentalLongPollingOptions),w.useFetchStreams));var p,w;n._firestoreClient=new KN(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}!function(e,t=!0){_h=Yr.SDK_VERSION,(0,Yr._registerComponent)(new $l.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),h=new mi(new fm(r.getProvider("auth-internal")),new cS(r.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xt(Qe_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(m.options.projectId,w)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),(0,Yr.registerVersion)(BI,"4.2.0",e),(0,Yr.registerVersion)(BI,"4.2.0","esm2017")}();var LM=W(6321),ti=W(2793);function gO(){return(0,qi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Qt.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var mn,o9=W(3997),mc=W(6304),a9=(W(8661),W(3399)),dw=W(7592),c9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nd={},_O=_O||{},gr=c9||self;function VM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function QT(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yO="closure_uid_"+(1e9*Math.random()>>>0),u9=0;function d9(n,e,t){return n.call.apply(n.bind,arguments)}function h9(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function gc(n,e,t){return(gc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d9:h9).apply(null,arguments)}function UM(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ga(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var a=Array(arguments.length-2),h=2;h<arguments.length;h++)a[h-2]=arguments[h];return e.prototype[i].apply(r,a)}}function Zm(){this.s=this.s,this.o=this.o}Zm.prototype.s=!1,Zm.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function l9(n){Object.prototype.hasOwnProperty.call(n,yO)&&n[yO]||(n[yO]=++u9)}(this)},Zm.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vO(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function dj(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(VM(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let a=0;a<s;a++)n[i+a]=r[a]}else n.push(r)}}function _c(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_c.prototype.h=function(){this.defaultPrevented=!0};var p9=function(){if(!gr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gr.addEventListener("test",()=>{},e),gr.removeEventListener("test",()=>{},e)}catch{}return n}();function XT(n){return/^[\s\xa0]*$/.test(n)}function jM(){var n=gr.navigator;return n&&(n=n.userAgent)?n:""}function Bh(n){return-1!=jM().indexOf(n)}function wO(n){return wO[" "](n),n}wO[" "]=function(){};var IO,g9=Bh("Opera"),hw=Bh("Trident")||Bh("MSIE"),hj=Bh("Edge"),bO=hj||hw,fj=Bh("Gecko")&&!(-1!=jM().toLowerCase().indexOf("webkit")&&!Bh("Edge"))&&!(Bh("Trident")||Bh("MSIE"))&&!Bh("Edge"),_9=-1!=jM().toLowerCase().indexOf("webkit")&&!Bh("Edge");function pj(){var n=gr.document;return n?n.documentMode:void 0}e:{var EO="",TO=function(){var n=jM();return fj?/rv:([^\);]+)(\)|;)/.exec(n):hj?/Edge\/([\d\.]+)/.exec(n):hw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_9?/WebKit\/(\S+)/.exec(n):g9?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(TO&&(EO=TO?TO[1]:""),hw){var CO=pj();if(null!=CO&&CO>parseFloat(EO)){IO=String(CO);break e}}IO=EO}var y9=gr.document&&hw&&(pj()||parseInt(IO,10))||void 0;function JT(n,e){if(_c.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(fj){e:{try{wO(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:v9[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&JT.$.h.call(this)}}ga(JT,_c);var v9={2:"touch",3:"pen",4:"mouse"};JT.prototype.h=function(){JT.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var eC="closure_listenable_"+(1e6*Math.random()|0),w9=0;function b9(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++w9,this.fa=this.ia=!1}function BM(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function DO(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gj(n){const e={};for(const t in n)e[t]=n[t];return e}const _j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yj(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<_j.length;s++)t=_j[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zM(n){this.src=n,this.g={},this.h=0}function SO(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=uj(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(BM(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xO(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}zM.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=xO(n,e,r,i);return-1<a?(e=n[a],t||(e.ia=!1)):((e=new b9(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var MO="closure_lm_"+(1e6*Math.random()|0),RO={};function vj(n,e,t,r,i){if(r&&r.once)return bj(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vj(n,e[s],t,r,i);return null}return t=OO(t),n&&n[eC]?n.O(e,t,QT(r)?!!r.capture:!!r,i):wj(n,e,t,!1,r,i)}function wj(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var a=QT(i)?!!i.capture:!!i,h=kO(n);if(h||(n[MO]=h=new zM(n)),(t=h.add(e,t,r,a,s)).proxy)return t;if(r=function E9(){const e=T9;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)p9||(i=a),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ej(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function bj(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bj(n,e[s],t,r,i);return null}return t=OO(t),n&&n[eC]?n.P(e,t,QT(r)?!!r.capture:!!r,i):wj(n,e,t,!0,r,i)}function Ij(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ij(n,e[s],t,r,i);else r=QT(r)?!!r.capture:!!r,t=OO(t),n&&n[eC]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xO(s=n.g[e],t,r,i))&&(BM(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=kO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xO(e,t,r,i)),(t=-1<n?e[n]:null)&&PO(t))}function PO(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[eC])SO(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ej(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=kO(e))?(SO(t,n),0==t.h&&(t.src=null,e[MO]=null)):BM(n)}}}function Ej(n){return n in RO?RO[n]:RO[n]="on"+n}function T9(n,e){if(n.fa)n=!0;else{e=new JT(e,this);var t=n.listener,r=n.la||n.src;n.ia&&PO(n),n=t.call(r,e)}return n}function kO(n){return(n=n[MO])instanceof zM?n:null}var NO="__closure_events_fn_"+(1e9*Math.random()>>>0);function OO(n){return"function"==typeof n?n:(n[NO]||(n[NO]=function(e){return n.handleEvent(e)}),n[NO])}function _a(){Zm.call(this),this.i=new zM(this),this.S=this,this.J=null}function Ua(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new _c(e,n);else if(e instanceof _c)e.target=e.target||n;else{var i=e;yj(e=new _c(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];i=HM(a,r,!0,e)&&i}if(i=HM(a=e.g=n,r,!0,e)&&i,i=HM(a,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=HM(a=e.g=t[s],r,!1,e)&&i}function HM(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==t){var h=a.listener,p=a.la||a.src;a.ia&&SO(n.i,a),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}ga(_a,Zm),_a.prototype[eC]=!0,_a.prototype.removeEventListener=function(n,e,t,r){Ij(this,n,e,t,r)},_a.prototype.N=function(){if(_a.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)BM(t[r]);delete n.g[e],n.h--}}this.J=null},_a.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},_a.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var FO=gr.JSON.stringify;function A9(){var n=LO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Tj=new class C9{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S9,n=>n.reset());class S9{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function x9(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function M9(n){gr.setTimeout(()=>{throw n},0)}let tC,nC=!1,LO=new class D9{constructor(){this.h=this.g=null}add(e,t){const r=Tj.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Cj=()=>{const n=gr.Promise.resolve(void 0);tC=()=>{n.then(R9)}};var R9=()=>{for(var n;n=A9();){try{n.h.call(n.g)}catch(t){M9(t)}var e=Tj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nC=!1};function GM(n,e){_a.call(this),this.h=n||1,this.g=e||gr,this.j=gc(this.qb,this),this.l=Date.now()}function VO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function UO(n,e,t){if("function"==typeof n)t&&(n=gc(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gc(n.handleEvent,n)}return 2147483647<Number(e)?-1:gr.setTimeout(n,e||0)}function Aj(n){n.g=UO(()=>{n.g=null,n.i&&(n.i=!1,Aj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ga(GM,_a),(mn=GM.prototype).ga=!1,mn.T=null,mn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ua(this,"tick"),this.ga&&(VO(this),this.start()))}},mn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mn.N=function(){GM.$.N.call(this),VO(this),delete this.g};class P9 extends Zm{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Aj(this)}N(){super.N(),this.g&&(gr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rC(n){Zm.call(this),this.h=n,this.g={}}ga(rC,Zm);var Dj=[];function Sj(n,e,t,r){Array.isArray(t)||(t&&(Dj[0]=t.toString()),t=Dj);for(var i=0;i<t.length;i++){var s=vj(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function xj(n){DO(n.g,function(e,t){this.g.hasOwnProperty(t)&&PO(e)},n),n.g={}}function $M(){this.g=!0}function fw(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function F9(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return FO(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rC.prototype.N=function(){rC.$.N.call(this),xj(this)},rC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$M.prototype.Ea=function(){this.g=!1},$M.prototype.info=function(){};var py={},Mj=null;function WM(){return Mj=Mj||new _a}function Rj(n){_c.call(this,py.Ta,n)}function iC(n){const e=WM();Ua(e,new Rj(e))}function Pj(n,e){_c.call(this,py.STAT_EVENT,n),this.stat=e}function Uc(n){const e=WM();Ua(e,new Pj(e,n))}function kj(n,e){_c.call(this,py.Ua,n),this.size=e}function sC(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gr.setTimeout(function(){n()},e)}py.Ta="serverreachability",ga(Rj,_c),py.STAT_EVENT="statevent",ga(Pj,_c),py.Ua="timingevent",ga(kj,_c);var qM={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jO(){}function Fj(){}jO.prototype.h=null;var HO,oC={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function BO(){_c.call(this,"d")}function zO(){_c.call(this,"c")}function ZM(){}function aC(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new rC(this),this.P=L9,this.V=new GM(n=bO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Lj}function Lj(){this.i=null,this.g="",this.h=!1}ga(BO,_c),ga(zO,_c),ga(ZM,jO),ZM.prototype.g=function(){return new XMLHttpRequest},ZM.prototype.i=function(){return{}},HO=new ZM;var L9=45e3,GO={},KM={};function $O(n,e,t){n.L=1,n.v=JM(sp(e)),n.s=t,n.S=!0,Vj(n,null)}function Vj(n,e){n.G=Date.now(),cC(n),n.A=sp(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Zj(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Lj,n.g=yB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new P9(gc(n.Pa,n,n.g),n.O)),Sj(n.U,n.g,"readystatechange",n.nb),e=n.I?gj(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),iC(),function k9(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var a="",h=s.split("&"),p=0;p<h.length;p++){var m=h[p].split("=");if(1<m.length){var w=m[0];m=m[1];var x=w.split("_");a=2<=x.length&&"type"==x[1]?a+(w+"=")+m+"&":a+(w+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Uj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function jj(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=V9(n,t),i==KM){4==e&&(n.o=4,Uc(14),r=!1),fw(n.j,n.m,null,"[Incomplete Response]");break}if(i==GO){n.o=4,Uc(15),fw(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}fw(n.j,n.m,i,null),WO(n,i)}Uj(n)&&i!=KM&&i!=GO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Uc(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),JO(e),e.M=!0,Uc(11))):(fw(n.j,n.m,t,"[Invalid Chunked Response]"),my(n),lC(n))}function V9(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?KM:(t=Number(e.substring(t,r)),isNaN(t)?GO:(r+=1)+t>e.length?KM:(e=e.slice(r,r+t),n.C=r+t,e))}function cC(n){n.Y=Date.now()+n.P,Bj(n,n.P)}function Bj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sC(gc(n.lb,n),e)}function YM(n){n.B&&(gr.clearTimeout(n.B),n.B=null)}function lC(n){0==n.l.H||n.J||pB(n.l,n)}function my(n){YM(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,VO(n.V),xj(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function WO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||qO(t.i,n)))if(!n.K&&qO(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;sR(t),rR(t)}XO(t),Uc(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=sC(gc(t.ib,t),6e3));if(1>=Qj(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else _y(t,11)}else if((n.K||t.g==n)&&sR(t),!XT(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(t.V=m[0],m=m[1],2==t.H)if("c"==m[0]){t.K=m[1],t.pa=m[2];const w=m[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const x=m[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const F=m[5];null!=F&&"number"==typeof F&&0<F&&(t.L=r=1.5*F,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const oe=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var s=r.i;s.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ZO(s,s.h),s.h=null))}if(r.F){const ge=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(r.Da=ge,ls(r.I,r.F,ge))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var a=n;if((r=t).wa=_B(r,r.J?r.pa:null,r.Y),a.K){Xj(r.i,a);var h=a,p=r.L;p&&h.setTimeout(p),h.B&&(YM(h),cC(h)),r.g=a}else hB(r);0<t.j.length&&iR(t)}else"stop"!=m[0]&&"close"!=m[0]||_y(t,7);else 3==t.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?_y(t,7):QO(t):"noop"!=m[0]&&t.h&&t.h.Aa(m),t.A=0)}iC()}catch{}}function zj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(VM(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function j9(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(VM(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function U9(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(VM(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(mn=aC.prototype).setTimeout=function(n){this.P=n},mn.nb=function(n){n=n.target;const e=this.M;e&&3==zh(n)?e.l():this.Pa(n)},mn.Pa=function(n){try{if(n==this.g)e:{const w=zh(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||bO||this.g&&(this.h.h||this.g.ja()||oB(this.g)))){this.J||4!=w||7==e||iC(),YM(this);var t=this.g.da();this.ca=t;t:if(Uj(this)){var r=oB(this.g);n="";var i=r.length,s=4==zh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){my(this),lC(this);var a="";break t}this.h.i=new gr.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==t,function N9(n,e,t,r,i,s,a){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!XT(h)){var m=h;break t}}m=null}if(!(t=m)){this.i=!1,this.o=3,Uc(12),my(this),lC(this);break e}fw(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,WO(this,t)}this.S?(jj(this,w,a),bO&&this.i&&3==w&&(Sj(this.U,this.V,"tick",this.mb),this.V.start())):(fw(this.j,this.m,a,null),WO(this,a)),4==w&&my(this),this.i&&!this.J&&(4==w?pB(this.l,this):(this.i=!1,cC(this)))}else(function i5(n){const e={};n=(n.g&&2<=zh(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(XT(n[r]))continue;var t=x9(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function I9(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<a.indexOf("Unknown SID")?(this.o=3,Uc(12)):(this.o=0,Uc(13)),my(this),lC(this)}}}catch{}},mn.mb=function(){if(this.g){var n=zh(this.g),e=this.g.ja();this.C<e.length&&(YM(this),jj(this,n,e),this.i&&4!=n&&cC(this))}},mn.cancel=function(){this.J=!0,my(this)},mn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function O9(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(iC(),Uc(17)),my(this),this.o=2,lC(this)):Bj(this,this.Y-n)};var Hj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gy(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gy){this.h=n.h,QM(this,n.j),this.s=n.s,this.g=n.g,XM(this,n.m),this.l=n.l;var e=n.i,t=new hC;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Gj(this,t),this.o=n.o}else n&&(e=String(n).match(Hj))?(this.h=!1,QM(this,e[1]||"",!0),this.s=uC(e[2]||""),this.g=uC(e[3]||"",!0),XM(this,e[4]),this.l=uC(e[5]||"",!0),Gj(this,e[6]||"",!0),this.o=uC(e[7]||"")):(this.h=!1,this.i=new hC(null,this.h))}function sp(n){return new gy(n)}function QM(n,e,t){n.j=t?uC(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function XM(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Gj(n,e,t){e instanceof hC?(n.i=e,function q9(n,e){e&&!n.j&&(Km(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Wj(this,r),Zj(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dC(e,$9)),n.i=new hC(e,n.h))}function ls(n,e,t){n.i.set(e,t)}function JM(n){return ls(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uC(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dC(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,z9),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function z9(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gy.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dC(e,$j,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dC(e,$j,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dC(t,"/"==t.charAt(0)?G9:H9,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dC(t,W9)),n.join("")};var $j=/[#\/\?@]/g,H9=/[#\?:]/g,G9=/[#\?]/g,$9=/[#\?@]/g,W9=/#/g;function hC(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Km(n){n.g||(n.g=new Map,n.h=0,n.i&&function B9(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Wj(n,e){Km(n),e=pw(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qj(n,e){return Km(n),e=pw(n,e),n.g.has(e)}function Zj(n,e,t){Wj(n,e),0<t.length&&(n.i=null,n.g.set(pw(n,e),vO(t)),n.h+=t.length)}function pw(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kj(n){this.l=n||K9,n=gr.PerformanceNavigationTiming?0<(n=gr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gr.g&&gr.g.Ka&&gr.g.Ka()&&gr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(mn=hC.prototype).add=function(n,e){Km(this),this.i=null,n=pw(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},mn.forEach=function(n,e){Km(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},mn.ta=function(){Km(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},mn.Z=function(n){Km(this);let e=[];if("string"==typeof n)qj(this,n)&&(e=e.concat(this.g.get(pw(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},mn.set=function(n,e){return Km(this),this.i=null,qj(this,n=pw(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},mn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},mn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),n.push(i)}}return this.i=n.join("&")};var K9=10;function Yj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Qj(n){return n.h?1:n.g?n.g.size:0}function qO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ZO(n,e){n.g?n.g.add(e):n.h=e}function Xj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Jj(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return vO(n.i)}Kj.prototype.cancel=function(){if(this.i=Jj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Y9=class{stringify(n){return gr.JSON.stringify(n,void 0)}parse(n){return gr.JSON.parse(n,void 0)}};function Q9(){this.g=new Y9}function X9(n,e,t){const r=t||"";try{zj(n,function(i,s){let a=i;QT(i)&&(a=FO(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eR(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fC(n){this.l=n.fc||null,this.j=n.ob||!1}function tR(n,e){_a.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=KO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ga(fC,jO),fC.prototype.g=function(){return new tR(this.l,this.j)},fC.prototype.i=function(n){return function(){return n}}({}),ga(tR,_a);var KO=0;function eB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function pC(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mC(n)}function mC(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(mn=tR.prototype).open=function(n,e){if(this.readyState!=KO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mC(this)},mn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||gr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},mn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pC(this)),this.readyState=KO},mn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mC(this)),this.g&&(this.readyState=3,mC(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof gr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},mn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pC(this):mC(this),3==this.readyState&&eB(this)}},mn.Za=function(n){this.g&&(this.response=this.responseText=n,pC(this))},mn.Ya=function(n){this.g&&(this.response=n,pC(this))},mn.ka=function(){this.g&&pC(this)},mn.setRequestHeader=function(n,e){this.v.append(n,e)},mn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},mn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tR.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var e5=gr.JSON.parse;function Ws(n){_a.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tB,this.L=this.M=!1}ga(Ws,_a);var tB="",t5=/^https?$/i,n5=["POST","PUT"];function nB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rB(n),nR(n)}function rB(n){n.F||(n.F=!0,Ua(n,"complete"),Ua(n,"error"))}function iB(n){if(n.h&&typeof _O<"u"&&(!n.C[1]||4!=zh(n)||2!=n.da()))if(n.v&&4==zh(n))UO(n.La,0,n);else if(Ua(n,"readystatechange"),4==zh(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.I).match(Hj)[1]||null;!i&&gr.self&&gr.self.location&&(i=gr.self.location.protocol.slice(0,-1)),r=!t5.test(i?i.toLowerCase():"")}t=r}if(t)Ua(n,"complete"),Ua(n,"success");else{n.m=6;try{var s=2<zh(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",rB(n)}}finally{nR(n)}}}function nR(n,e){if(n.g){sB(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ua(n,"ready");try{t.onreadystatechange=r}catch{}}}function sB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(gr.clearTimeout(n.A),n.A=null)}function zh(n){return n.g?n.g.readyState:0}function oB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case tB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aB(n){let e="";return DO(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function YO(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=aB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ls(n,e,t))}function gC(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function cB(n){this.Ga=0,this.j=[],this.l=new $M,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gC("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gC("baseRetryDelayMs",5e3,n),this.hb=gC("retryDelaySeedMs",1e4,n),this.eb=gC("forwardChannelMaxRetries",2,n),this.xa=gC("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Kj(n&&n.concurrentRequestLimit),this.Ja=new Q9,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function QO(n){if(lB(n),3==n.H){var e=n.W++,t=sp(n.I);if(ls(t,"SID",n.K),ls(t,"RID",e),ls(t,"TYPE","terminate"),_C(n,t),(e=new aC(n,n.l,e)).L=2,e.v=JM(sp(t)),t=!1,gr.navigator&&gr.navigator.sendBeacon)try{t=gr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&gr.Image&&((new Image).src=e.v,t=!0),t||(e.g=yB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cC(e)}gB(n)}function rR(n){n.g&&(JO(n),n.g.cancel(),n.g=null)}function lB(n){rR(n),n.u&&(gr.clearTimeout(n.u),n.u=null),sR(n),n.i.cancel(),n.m&&("number"==typeof n.m&&gr.clearTimeout(n.m),n.m=null)}function iR(n){if(!Yj(n.i)&&!n.m){n.m=!0;var e=n.Na;tC||Cj(),nC||(tC(),nC=!0),LO.add(e,n),n.C=0}}function uB(n,e){var t;t=e?e.m:n.W++;const r=sp(n.I);ls(r,"SID",n.K),ls(r,"RID",t),ls(r,"AID",n.V),_C(n,r),n.o&&n.s&&YO(r,n.o,n.s),t=new aC(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=dB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ZO(n.i,t),$O(t,r,e)}function _C(n,e){n.na&&DO(n.na,function(t,r){ls(e,r,t)}),n.h&&zj({},function(t,r){ls(e,r,t)})}function dB(n,e,t){t=Math.min(n.j.length,t);var r=n.h?gc(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let m=i[p].g;const w=i[p].map;if(m-=s,0>m)s=Math.max(0,i[p].g-100),h=!1;else try{X9(w,a,"req"+m+"_")}catch{r&&r(w)}}if(h){r=a.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function hB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;tC||Cj(),nC||(tC(),nC=!0),LO.add(e,n),n.A=0}}function XO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=sC(gc(n.Ma,n),mB(n,n.A)),n.A++,0))}function JO(n){null!=n.B&&(gr.clearTimeout(n.B),n.B=null)}function fB(n){n.g=new aC(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=sp(n.wa);ls(e,"RID","rpc"),ls(e,"SID",n.K),ls(e,"AID",n.V),ls(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ls(e,"TO",n.qa),ls(e,"TYPE","xmlhttp"),_C(n,e),n.o&&n.s&&YO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=JM(sp(e)),t.s=null,t.S=!0,Vj(t,n)}function sR(n){null!=n.v&&(gr.clearTimeout(n.v),n.v=null)}function pB(n,e){var t=null;if(n.g==e){sR(n),JO(n),n.g=null;var r=2}else{if(!qO(n.i,e))return;t=e.F,Xj(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ua(r=WM(),new kj(r,t)),iR(n)}else hB(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function s5(n,e){return!(Qj(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=sC(gc(n.Na,n,e),mB(n,n.C)),n.C++,0)))}(n,e)||2==r&&XO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:_y(n,5);break;case 4:_y(n,10);break;case 3:_y(n,6);break;default:_y(n,2)}}function mB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function _y(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=gc(n.pb,n);t||(t=new gy("//www.google.com/images/cleardot.gif"),gr.location&&"http"==gr.location.protocol||QM(t,"https"),JM(t)),function J9(n,e){const t=new $M;if(gr.Image){const r=new Image;r.onload=UM(eR,t,r,"TestLoadImage: loaded",!0,e),r.onerror=UM(eR,t,r,"TestLoadImage: error",!1,e),r.onabort=UM(eR,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=UM(eR,t,r,"TestLoadImage: timeout",!1,e),gr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Uc(2);n.H=0,n.h&&n.h.za(e),gB(n),lB(n)}function gB(n){if(n.H=0,n.ma=[],n.h){const e=Jj(n.i);(0!=e.length||0!=n.j.length)&&(dj(n.ma,e),dj(n.ma,n.j),n.i.i.length=0,vO(n.j),n.j.length=0),n.h.ya()}}function _B(n,e,t){var r=t instanceof gy?sp(t):new gy(t);if(""!=r.g)e&&(r.g=e+"."+r.g),XM(r,r.m);else{var i=gr.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new gy(null);r&&QM(s,r),e&&(s.g=e),i&&XM(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ls(r,t,e),ls(r,"VER",n.ra),_C(n,r),r}function yB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ws(t&&n.Ha&&!n.va?new fC({ob:!0}):n.va)).Oa(n.J),e}function vB(){}function oR(){if(hw&&!(10<=Number(y9)))throw Error("Environmental error: no available transport.")}function ru(n,e){_a.call(this),this.g=new cB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!XT(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!XT(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mw(this)}function wB(n){BO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function bB(){zO.call(this),this.status=1}function mw(n){this.g=n}function Od(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eF(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],a=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;a=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=t+((a=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ti(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(mn=Ws.prototype).Oa=function(n){this.M=n},mn.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():HO.g(),this.C=function Oj(n){return n.h||(n.h=n.i())}(this.u?this.u:HO),this.g.onreadystatechange=gc(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void nB(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=gr.FormData&&n instanceof gr.FormData,!(0<=uj(n5,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of t)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sB(this),0<this.B&&((this.L=function r5(n){return hw&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gc(this.ua,this)):this.A=UO(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){nB(this,s)}},mn.ua=function(){typeof _O<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ua(this,"timeout"),this.abort(8))},mn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ua(this,"complete"),Ua(this,"abort"),nR(this))},mn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nR(this,!0)),Ws.$.N.call(this)},mn.La=function(){this.s||(this.G||this.v||this.l?iB(this):this.kb())},mn.kb=function(){iB(this)},mn.isActive=function(){return!!this.g},mn.da=function(){try{return 2<zh(this)?this.g.status:-1}catch{return-1}},mn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},mn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),e5(e)}},mn.Ia=function(){return this.m},mn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(mn=cB.prototype).ra=8,mn.H=1,mn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new aC(this,this.l,n);let s=this.s;if(this.U&&(s?(s=gj(s),yj(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dB(this,i,e),ls(t=sp(this.I),"RID",n),ls(t,"CVER",22),this.F&&ls(t,"X-HTTP-Session-Id",this.F),_C(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(aB(s)))+"&"+e:this.o&&YO(t,this.o,s)),ZO(this.i,i),this.bb&&ls(t,"TYPE","init"),this.P?(ls(t,"$req",e),ls(t,"SID","null"),i.aa=!0,$O(i,t,null)):$O(i,t,e),this.H=2}}else 3==this.H&&(n?uB(this,n):0==this.j.length||Yj(this.i)||uB(this))},mn.Ma=function(){if(this.u=null,fB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=sC(gc(this.jb,this),n)}},mn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Uc(10),rR(this),fB(this))},mn.ib=function(){null!=this.v&&(this.v=null,rR(this),XO(this),Uc(19))},mn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Uc(2)):(this.l.info("Failed to ping google.com"),Uc(1))},mn.isActive=function(){return!!this.h&&this.h.isActive(this)},(mn=vB.prototype).Ba=function(){},mn.Aa=function(){},mn.za=function(){},mn.ya=function(){},mn.isActive=function(){return!0},mn.Va=function(){},oR.prototype.g=function(n,e){return new ru(n,e)},ga(ru,_a),ru.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Uc(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=_B(n,null,n.Y),iR(n)},ru.prototype.close=function(){QO(this.g)},ru.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FO(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&iR(e)},ru.prototype.N=function(){this.g.h=null,delete this.j,QO(this.g),delete this.g,ru.$.N.call(this)},ga(wB,BO),ga(bB,zO),ga(mw,vB),mw.prototype.Ba=function(){Ua(this.g,"a")},mw.prototype.Aa=function(n){Ua(this.g,new wB(n))},mw.prototype.za=function(n){Ua(this.g,new bB)},mw.prototype.ya=function(){Ua(this.g,"b")},ga(Od,function o5(){this.blockSize=-1}),Od.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Od.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)eF(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){eF(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){eF(this,r),i=0;break}}this.h=i,this.i+=e},Od.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var a5={};function tF(n){return-128<=n&&128>n?function m9(n,e){var t=a5;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ti([0|e],0>e?-1:0)}):new Ti([0|n],0>n?-1:0)}function Hh(n){if(isNaN(n)||!isFinite(n))return gw;if(0>n)return ja(Hh(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=nF;return new Ti(e,0)}var nF=4294967296,gw=tF(0),rF=tF(1),EB=tF(16777216);function op(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function qu(n){return-1==n.h}function ja(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ti(t,~n.h).add(rF)}function aR(n,e){return n.add(ja(e))}function cR(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function yC(n,e){this.g=n,this.h=e}function lR(n,e){if(op(e))throw Error("division by zero");if(op(n))return new yC(gw,gw);if(qu(n))return e=lR(ja(n),e),new yC(ja(e.g),ja(e.h));if(qu(e))return e=lR(n,ja(e)),new yC(ja(e.g),e.h);if(30<n.g.length){if(qu(n)||qu(e))throw Error("slowDivide_ only works with positive integers.");for(var t=rF,r=e;0>=r.X(n);)t=TB(t),r=TB(r);var i=_w(t,1),s=_w(r,1);for(r=_w(r,2),t=_w(t,2);!op(r);){var a=s.add(r);0>=a.X(n)&&(i=i.add(t),s=a),r=_w(r,1),t=_w(t,1)}return e=aR(n,i.R(e)),new yC(i,e)}for(i=gw;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Hh(t)).R(e);qu(a)||0<a.X(n);)a=(s=Hh(t-=r)).R(e);op(s)&&(s=rF),i=i.add(s),n=aR(n,a)}return new yC(i,n)}function TB(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ti(t,n.h)}function _w(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ti(i,n.h)}(mn=Ti.prototype).ea=function(){if(qu(this))return-ja(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:nF+r)*e,e*=nF}return n},mn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(op(this))return"0";if(qu(this))return"-"+ja(this).toString(n);for(var e=Hh(Math.pow(n,6)),t=this,r="";;){var i=lR(t,e).g,s=((0<(t=aR(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(op(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},mn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},mn.X=function(n){return qu(n=aR(this,n))?-1:op(n)?0:1},mn.abs=function(){return qu(this)?ja(this):this},mn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=a>>>16,t[i]=(a&=65535)<<16|(s&=65535)}return new Ti(t,-2147483648&t[t.length-1]?-1:0)},mn.R=function(n){if(op(this)||op(n))return gw;if(qu(this))return qu(n)?ja(this).R(ja(n)):ja(ja(this).R(n));if(qu(n))return ja(this.R(ja(n)));if(0>this.X(EB)&&0>n.X(EB))return Hh(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=a*p,cR(t,2*r+2*i),t[2*r+2*i+1]+=s*p,cR(t,2*r+2*i+1),t[2*r+2*i+1]+=a*h,cR(t,2*r+2*i+1),t[2*r+2*i+2]+=s*h,cR(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ti(t,0)},mn.gb=function(n){return lR(this,n).h},mn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ti(t,this.h&n.h)},mn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ti(t,this.h|n.h)},mn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ti(t,this.h^n.h)},oR.prototype.createWebChannel=oR.prototype.g,ru.prototype.send=ru.prototype.u,ru.prototype.open=ru.prototype.m,ru.prototype.close=ru.prototype.close,qM.NO_ERROR=0,qM.TIMEOUT=8,qM.HTTP_ERROR=6,Nj.COMPLETE="complete",Fj.EventType=oC,oC.OPEN="a",oC.CLOSE="b",oC.ERROR="c",oC.MESSAGE="d",_a.prototype.listen=_a.prototype.O,Ws.prototype.listenOnce=Ws.prototype.P,Ws.prototype.getLastError=Ws.prototype.Sa,Ws.prototype.getLastErrorCode=Ws.prototype.Ia,Ws.prototype.getStatus=Ws.prototype.da,Ws.prototype.getResponseJson=Ws.prototype.Wa,Ws.prototype.getResponseText=Ws.prototype.ja,Ws.prototype.send=Ws.prototype.ha,Ws.prototype.setWithCredentials=Ws.prototype.Oa,Od.prototype.digest=Od.prototype.l,Od.prototype.reset=Od.prototype.reset,Od.prototype.update=Od.prototype.j,Ti.prototype.add=Ti.prototype.add,Ti.prototype.multiply=Ti.prototype.R,Ti.prototype.modulo=Ti.prototype.gb,Ti.prototype.compare=Ti.prototype.X,Ti.prototype.toNumber=Ti.prototype.ea,Ti.prototype.toString=Ti.prototype.toString,Ti.prototype.getBits=Ti.prototype.D,Ti.fromNumber=Hh,Ti.fromString=function IB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ja(IB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Hh(Math.pow(e,8)),r=gw,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),a=parseInt(n.substring(i,i+s),e);8>s?(s=Hh(Math.pow(e,s)),r=r.R(s).add(Hh(a))):r=(r=r.R(t)).add(Hh(a))}return r};var c5=Nd.createWebChannelTransport=function(){return new oR},l5=Nd.getStatEventTarget=function(){return WM()},iF=Nd.ErrorCode=qM,u5=Nd.EventType=Nj,d5=Nd.Event=py,CB=Nd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},h5=Nd.FetchXmlHttpFactory=fC,uR=Nd.WebChannel=Fj,f5=Nd.XhrIo=Ws,p5=Nd.Md5=Od,yw=Nd.Integer=Ti;const AB="@firebase/firestore";class ya{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ya.UNAUTHENTICATED=new ya(null),ya.GOOGLE_CREDENTIALS=new ya("google-credentials-uid"),ya.FIRST_PARTY=new ya("first-party-uid"),ya.MOCK_USER=new ya("mock-user");let vw="9.23.0";const Ym=new ol.Yd("@firebase/firestore");function sF(){return Ym.logLevel}function Ut(n,...e){if(Ym.logLevel<=ol.in.DEBUG){const t=e.map(oF);Ym.debug(`Firestore (${vw}): ${n}`,...t)}}function co(n,...e){if(Ym.logLevel<=ol.in.ERROR){const t=e.map(oF);Ym.error(`Firestore (${vw}): ${n}`,...t)}}function Zu(n,...e){if(Ym.logLevel<=ol.in.WARN){const t=e.map(oF);Ym.warn(`Firestore (${vw}): ${n}`,...t)}}function oF(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function yn(n="Unexpected state"){const e=`FIRESTORE (${vw}) INTERNAL ASSERTION FAILED: `+n;throw co(e),new Error(e)}function Vn(n,e){n||yn()}function un(n,e){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends On.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Go{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ya.UNAUTHENTICATED))}shutdown(){}}class y5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class v5{constructor(e){this.t=e,this.currentUser=ya.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let a=new Go;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Go,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const m=a;e.enqueueRetryable((0,at.Z)(function*(){yield m.promise,yield s(r.currentUser)}))},p=m=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Go)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vn("string"==typeof r.accessToken),new DB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vn(null===e||"string"==typeof e),new ya(e)}}class w5{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ya.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class b5{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new w5(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ya.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,Ut("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vn("string"==typeof t.token),this.T=t.token,new SB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function E5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class xB{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=E5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function dr(n,e){return n<e?-1:n>e?1:0}function ww(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function MB(n){return n+"\0"}class bs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bs.fromMillis(Date.now())}static fromDate(e){return bs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new bs(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dr(this.nanoseconds,e.nanoseconds):dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jn(e)}static min(){return new jn(new bs(0,0))}static max(){return new jn(new bs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vC{constructor(e,t,r){void 0===t?t=0:t>e.length&&yn(),void 0===r?r=e.length-t:r>e.length-t&&yn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vC.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vC?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xr extends vC{construct(e,t,r){return new Xr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Rt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Xr(t)}static emptyPath(){return new Xr([])}}const T5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qs extends vC{construct(e,t,r){return new qs(e,t,r)}static isValidIdentifier(e){return T5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qs(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Rt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Rt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Rt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(a=!a,i++):"."!==h||a?(r+=h,i++):(s(),i++)}if(s(),a)throw new Rt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qs(t)}static emptyPath(){return new qs([])}}class an{constructor(e){this.path=e}static fromPath(e){return new an(Xr.fromString(e))}static fromName(e){return new an(Xr.fromString(e).popFirst(5))}static empty(){return new an(Xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new an(new Xr(e.slice()))}}class dR{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function aF(n){return n.fields.find(e=>2===e.kind)}function yy(n){return n.fields.filter(e=>2!==e.kind)}dR.UNKNOWN_ID=-1;class hR{constructor(e,t){this.fieldPath=e,this.kind=t}}class wC{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new wC(0,iu.min())}}function RB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=jn.fromTimestamp(1e9===r?new bs(t+1,0):new bs(t,r));return new iu(i,an.empty(),e)}function PB(n){return new iu(n.readTime,n.key,-1)}class iu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new iu(jn.min(),an.empty(),-1)}static max(){return new iu(jn.max(),an.empty(),-1)}}function cF(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=an.comparator(n.documentKey,e.documentKey),0!==t?t:dr(n.largestBatchId,e.largestBatchId))}const kB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qm(n){return lF.apply(this,arguments)}function lF(){return lF=(0,at.Z)(function*(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==kB)throw n;Ut("LocalStore","Unexpectedly lost primary lease")}),lF.apply(this,arguments)}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $e((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $e?t:$e.resolve(t)}catch(t){return $e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.reject(t)}static resolve(e){return new $e((t,r)=>{t(e)})}static reject(e){return new $e((t,r)=>{r(e)})}static waitFor(e){return new $e((t,r)=>{let i=0,s=0,a=!1;e.forEach(h=>{++i,h.next(()=>{++s,a&&s===i&&t()},p=>r(p))}),a=!0,s===i&&t()})}static or(e){let t=$e.resolve(!1);for(const r of e)t=t.next(i=>i?$e.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new $e((r,i)=>{const s=e.length,a=new Array(s);let h=0;for(let p=0;p<s;p++){const m=p;t(e[m]).next(w=>{a[m]=w,++h,h===s&&r(a)},w=>i(w))}})}static doWhile(e,t){return new $e((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class fR{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Go,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new bC(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=uF(r.target.error);this.v.reject(new bC(e,i))}}static open(e,t,r,i){try{return new fR(t,e.transaction(i,r))}catch(s){throw new bC(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new S5(t)}}class Fd{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Fd.S((0,On.z$)())&&co("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ut("SimpleDb","Removing database:",e),vy(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,On.hl)())return!1;if(Fd.C())return!0;const e=(0,On.z$)(),t=Fd.S(e),r=0<t&&t<10,i=Fd.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,at.Z)(function*(){return t.db||(Ut("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=a=>{r(a.target.result)},s.onblocked=()=>{i(new bC(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const h=a.target.error;i("VersionError"===h.name?new Rt(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Rt(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new bC(e,h))},s.onupgradeneeded=a=>{Ut("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',a.oldVersion),t.V.O(a.target.result,s.transaction,a.oldVersion,t.version).next(()=>{Ut("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,at.Z)(function*(){const a="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const p=fR.open(s.db,e,a?"readonly":"readwrite",r),m=i(p).next(w=>(p.P(),w)).catch(w=>(p.abort(w),$e.reject(w))).toPromise();return m.catch(()=>{}),yield p.R,m}catch(p){const m=p,w="FirebaseError"!==m.name&&h<3;if(Ut("SimpleDb","Transaction failed with error:",m.message,"Retrying:",w),s.close(),!w)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class D5{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return vy(this.L.delete())}}class bC extends Rt{constructor(e,t){super(rt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xm(n){return"IndexedDbTransactionError"===n.name}class S5{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ut("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vy(r)}add(e){return Ut("SimpleDb","ADD",this.store.name,e,e),vy(this.store.add(e))}get(e){return vy(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ut("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ut("SimpleDb","DELETE",this.store.name,e),vy(this.store.delete(e))}count(){return Ut("SimpleDb","COUNT",this.store.name),vy(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.W(i,(a,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new $e((s,a)=>{i.onerror=h=>{a(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new $e((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}J(e,t){Ut("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,a,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new $e((r,i)=>{t.onerror=s=>{const a=uF(s.target.error);i(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(h=>{h?a.continue():r()}):r()}})}W(e,t){const r=[];return new $e((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const h=a.target.result;if(!h)return void i();const p=new D5(h),m=t(h.primaryKey,h.value,p);if(m instanceof $e){const w=m.catch(x=>(p.done(),$e.reject(x)));r.push(w)}p.isDone?i():null===p.K?h.continue():h.continue(p.K)}}).next(()=>$e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vy(n){return new $e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=uF(r.target.error);t(i)}})}let OB=!1;function uF(n){const e=Fd.S((0,On.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OB||(OB=!0,setTimeout(()=>{throw r},0)),r}}return n}class x5{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ut("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,at.Z)(function*(){t.task=null;try{Ut("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Xm(r)?Ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Qm(r)}yield t.et(6e4)}))}}class M5{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,at.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,s=!0;return $e.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(null!==a&&!r.has(a))return Ut("IndexBackiller",`Processing collection: ${a}`),this.it(e,a,i).next(h=>{i-=h,r.add(a)});s=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.rt(i,s)).next(h=>(Ut("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>a.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,s)=>{const a=PB(s);cF(a,r)>0&&(r=a)}),new iu(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let su=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function IC(n){return null==n}function EC(n){return 0===n&&1/n==-1/0}function FB(n){return"number"==typeof n&&Number.isInteger(n)&&!EC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function yc(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LB(e)),e=R5(n.get(t),e);return LB(e)}function R5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function LB(n){return n+"\x01\x01"}function Gh(n){const e=n.length;if(Vn(e>=2),2===e)return Vn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Xr.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const a=n.indexOf("\x01",s);switch((a<0||a>t)&&yn(),n.charAt(a+1)){case"\x01":const h=n.substring(s,a);let p;0===i.length?p=h:(i+=h,p=i,i=""),r.push(p);break;case"\x10":i+=n.substring(s,a),i+="\0";break;case"\x11":i+=n.substring(s,a+1);break;default:yn()}s=a+2}return new Xr(r)}const VB=["userId","batchId"];function pR(n,e){return[n,yc(e)]}function UB(n,e,t){return[n,yc(e),t]}const P5={},k5=["prefixPath","collectionGroup","readTime","documentId"],N5=["prefixPath","collectionGroup","documentId"],O5=["collectionGroup","readTime","prefixPath","documentId"],F5=["canonicalId","targetId"],L5=["targetId","path"],V5=["path","targetId"],U5=["collectionId","parent"],j5=["indexId","uid"],B5=["uid","sequenceNumber"],z5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],H5=["indexId","uid","orderedDocumentKey"],G5=["userId","collectionPath","documentId"],$5=["userId","collectionPath","largestBatchId"],W5=["userId","collectionGroup","largestBatchId"],jB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],q5=[...jB,"documentOverlays"],BB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zB=BB,Z5=[...zB,"indexConfiguration","indexState","indexEntries"];class dF extends NB{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function va(n,e){const t=un(n);return Fd.M(t.ht,e)}function HB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class es{constructor(e,t){this.comparator=e,this.root=t||Ba.EMPTY}insert(e,t){return new es(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ba.BLACK,null,null))}remove(e){return new es(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ba.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mR(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mR(this.root,e,this.comparator,!1)}getReverseIterator(){return new mR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mR(this.root,e,this.comparator,!0)}}class mR{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ba{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ba.RED,this.left=i??Ba.EMPTY,this.right=s??Ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ba(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ba.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ba.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yn();const e=this.left.check();if(e!==this.right.check())throw yn();return e+(this.isRed()?0:1)}}Ba.EMPTY=null,Ba.RED=!0,Ba.BLACK=!1,Ba.EMPTY=new class{constructor(){this.size=0}get key(){throw yn()}get value(){throw yn()}get color(){throw yn()}get left(){throw yn()}get right(){throw yn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ba(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class us{constructor(e){this.comparator=e,this.data=new es(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $B(this.data.getIterator())}getIteratorFrom(e){return new $B(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new us(this.comparator);return t.data=e,t}}class $B{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bw(n){return n.hasNext()?n.getNext():void 0}class hl{constructor(e){this.fields=e,e.sort(qs.comparator)}static empty(){return new hl([])}unionWith(e){let t=new us(qs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ww(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class WB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $o{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new WB("Invalid base64 string: "+i):i}}(e);return new $o(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new $o(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$o.EMPTY_BYTE_STRING=new $o("");const Y5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eg(n){if(Vn(!!n),"string"==typeof n){let e=0;const t=Y5.exec(n);if(Vn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zs(n.seconds),nanos:Zs(n.nanos)}}function Zs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ap(n){return"string"==typeof n?$o.fromBase64String(n):$o.fromUint8Array(n)}function gR(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _R(n){const e=n.mapValue.fields.__previous_value__;return gR(e)?_R(e):e}function TC(n){const e=eg(n.mapValue.fields.__local_write_time__.timestampValue);return new bs(e.seconds,e.nanos)}class Q5{constructor(e,t,r,i,s,a,h,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}class tg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tg&&e.projectId===this.projectId&&e.database===this.database}}const ng={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yR={nullValue:"NULL_VALUE"};function rg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gR(n)?4:YB(n)?9007199254740991:10:yn()}function $h(n,e){if(n===e)return!0;const t=rg(n);if(t!==rg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return TC(n).isEqual(TC(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=eg(r.timestampValue),a=eg(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ap(n.bytesValue).isEqual(ap(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Zs(r.geoPointValue.latitude)===Zs(i.geoPointValue.latitude)&&Zs(r.geoPointValue.longitude)===Zs(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Zs(r.integerValue)===Zs(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Zs(r.doubleValue),a=Zs(i.doubleValue);return s===a?EC(s)===EC(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ww(n.arrayValue.values||[],e.arrayValue.values||[],$h);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(HB(s)!==HB(a))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===a[h]||!$h(s[h],a[h])))return!1;return!0}(n,e);default:return yn()}var i}function CC(n,e){return void 0!==(n.values||[]).find(t=>$h(t,e))}function ig(n,e){if(n===e)return 0;const t=rg(n),r=rg(e);if(t!==r)return dr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return dr(n.booleanValue,e.booleanValue);case 2:return function(i,s){const a=Zs(i.integerValue||i.doubleValue),h=Zs(s.integerValue||s.doubleValue);return a<h?-1:a>h?1:a===h?0:isNaN(a)?isNaN(h)?0:-1:1}(n,e);case 3:return qB(n.timestampValue,e.timestampValue);case 4:return qB(TC(n),TC(e));case 5:return dr(n.stringValue,e.stringValue);case 6:return function(i,s){const a=ap(i),h=ap(s);return a.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),h=s.split("/");for(let p=0;p<a.length&&p<h.length;p++){const m=dr(a[p],h[p]);if(0!==m)return m}return dr(a.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const a=dr(Zs(i.latitude),Zs(s.latitude));return 0!==a?a:dr(Zs(i.longitude),Zs(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],h=s.values||[];for(let p=0;p<a.length&&p<h.length;++p){const m=ig(a[p],h[p]);if(m)return m}return dr(a.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ng.mapValue&&s===ng.mapValue)return 0;if(i===ng.mapValue)return 1;if(s===ng.mapValue)return-1;const a=i.fields||{},h=Object.keys(a),p=s.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let w=0;w<h.length&&w<m.length;++w){const x=dr(h[w],m[w]);if(0!==x)return x;const F=ig(a[h[w]],p[m[w]]);if(0!==F)return F}return dr(h.length,m.length)}(n.mapValue,e.mapValue);default:throw yn()}}function qB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return dr(n,e);const t=eg(n),r=eg(e),i=dr(t.seconds,r.seconds);return 0!==i?i:dr(t.nanos,r.nanos)}function Iw(n){return hF(n)}function hF(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=eg(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ap(n.bytesValue).toBase64():"referenceValue"in n?an.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=hF(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const h of i)a?a=!1:s+=",",s+=`${h}:${hF(r.fields[h])}`;return s+"}"}(n.mapValue):yn();var e}function wy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fF(n){return!!n&&"integerValue"in n}function AC(n){return!!n&&"arrayValue"in n}function ZB(n){return!!n&&"nullValue"in n}function KB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wR(n){return!!n&&"mapValue"in n}function DC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Jm(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=DC(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=DC(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function X5(n){return"nullValue"in n?yR:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?wy(tg.empty(),an.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:yn()}function J5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?wy(tg.empty(),an.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ng:yn()}function QB(n,e){const t=ig(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function XB(n,e){const t=ig(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class za{constructor(e){this.value=e}static empty(){return new za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wR(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=DC(t)}setAll(e){let t=qs.emptyPath(),r={},i=[];e.forEach((a,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}a?r[h.lastSegment()]=DC(a):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());wR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $h(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];wR(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Jm(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new za(DC(this.value))}}function JB(n){const e=[];return Jm(n.fields,(t,r)=>{const i=new qs([t]);if(wR(r)){const s=JB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new hl(e)}class ds{constructor(e,t,r,i,s,a,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=h}static newInvalidDocument(e){return new ds(e,0,jn.min(),jn.min(),jn.min(),za.empty(),0)}static newFoundDocument(e,t,r,i){return new ds(e,1,t,jn.min(),r,i,0)}static newNoDocument(e,t){return new ds(e,2,t,jn.min(),jn.min(),za.empty(),0)}static newUnknownDocument(e,t){return new ds(e,3,t,jn.min(),jn.min(),za.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ds&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ds(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sg{constructor(e,t){this.position=e,this.inclusive=t}}function ez(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(r=s.field.isKeyField()?an.comparator(an.fromName(a.referenceValue),t.key):ig(a,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function tz(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$h(n.position[t],e.position[t]))return!1;return!0}class Ew{constructor(e,t="asc"){this.field=e,this.dir=t}}function eW(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class nz{}class Ur extends nz{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new tW(e,t,r):"array-contains"===t?new iW(e,r):"in"===t?new cz(e,r):"not-in"===t?new sW(e,r):"array-contains-any"===t?new oW(e,r):new Ur(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new nW(e,r):new rW(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ig(t,this.value)):null!==t&&rg(this.value)===rg(t)&&this.matchesComparison(ig(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ci extends nz{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ci(e,t)}matches(e){return Tw(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Tw(n){return"and"===n.op}function pF(n){return"or"===n.op}function mF(n){return rz(n)&&Tw(n)}function rz(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function gF(n){if(n instanceof Ur)return n.field.canonicalString()+n.op.toString()+Iw(n.value);if(mF(n))return n.filters.map(e=>gF(e)).join(",");{const e=n.filters.map(t=>gF(t)).join(",");return`${n.op}(${e})`}}function iz(n,e){return n instanceof Ur?(t=n,(r=e)instanceof Ur&&t.op===r.op&&t.field.isEqual(r.field)&&$h(t.value,r.value)):n instanceof Ci?function(t,r){return r instanceof Ci&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,a)=>i&&iz(s,r.filters[a]),!0)}(n,e):void yn();var t,r}function sz(n,e){const t=n.filters.concat(e);return Ci.create(t,n.op)}function oz(n){return n instanceof Ur?`${(e=n).field.canonicalString()} ${e.op} ${Iw(e.value)}`:n instanceof Ci?function(e){return e.op.toString()+" {"+e.getFilters().map(oz).join(" ,")+"}"}(n):"Filter";var e}class tW extends Ur{constructor(e,t,r){super(e,t,r),this.key=an.fromName(r.referenceValue)}matches(e){const t=an.comparator(e.key,this.key);return this.matchesComparison(t)}}class nW extends Ur{constructor(e,t){super(e,"in",t),this.keys=az(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rW extends Ur{constructor(e,t){super(e,"not-in",t),this.keys=az(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function az(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>an.fromName(r.referenceValue))}class iW extends Ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return AC(t)&&CC(t.arrayValue,this.value)}}class cz extends Ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&CC(this.value.arrayValue,t)}}class sW extends Ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(CC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!CC(this.value.arrayValue,t)}}class oW extends Ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!AC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>CC(this.value.arrayValue,r))}}class aW{constructor(e,t=null,r=[],i=[],s=null,a=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=h,this.dt=null}}function _F(n,e=null,t=[],r=[],i=null,s=null,a=null){return new aW(n,e,t,r,i,s,a)}function by(n){const e=un(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gF(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),IC(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Iw(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Iw(r)).join(",")),e.dt=t}return e.dt}function SC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eW(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iz(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tz(n.startAt,e.startAt)&&tz(n.endAt,e.endAt)}function bR(n){return an.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function IR(n,e){return n.filters.filter(t=>t instanceof Ur&&t.field.isEqual(e))}function lz(n,e,t){let r=yR,i=!0;for(const s of IR(n,e)){let a=yR,h=!0;switch(s.op){case"<":case"<=":a=X5(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,h=!1;break;case"!=":case"not-in":a=yR}QB({value:r,inclusive:i},{value:a,inclusive:h})<0&&(r=a,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];QB({value:r,inclusive:i},{value:a,inclusive:t.inclusive})<0&&(r=a,i=t.inclusive);break}return{value:r,inclusive:i}}function uz(n,e,t){let r=ng,i=!0;for(const s of IR(n,e)){let a=ng,h=!0;switch(s.op){case">=":case">":a=J5(s.value),h=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,h=!1;break;case"!=":case"not-in":a=ng}XB({value:r,inclusive:i},{value:a,inclusive:h})>0&&(r=a,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];XB({value:r,inclusive:i},{value:a,inclusive:t.inclusive})>0&&(r=a,i=t.inclusive);break}return{value:r,inclusive:i}}class cp{constructor(e,t=null,r=[],i=[],s=null,a="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function dz(n,e,t,r,i,s,a,h){return new cp(n,e,t,r,i,s,a,h)}function Cw(n){return new cp(n)}function hz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yF(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ER(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vF(n){return null!==n.collectionGroup}function Iy(n){const e=un(n);if(null===e.wt){e.wt=[];const t=ER(e),r=yF(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ew(t)),e.wt.push(new Ew(qs.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ew(qs.keyField(),s))}}}return e.wt}function jc(n){const e=un(n);if(!e._t)if("F"===e.limitType)e._t=_F(e.path,e.collectionGroup,Iy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Iy(e))t.push(new Ew(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new sg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new sg(e.startAt.position,e.startAt.inclusive):null;e._t=_F(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function wF(n,e){e.getFirstInequalityField(),ER(n);const t=n.filters.concat([e]);return new cp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function TR(n,e,t){return new cp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xC(n,e){return SC(jc(n),jc(e))&&n.limitType===e.limitType}function fz(n){return`${by(jc(n))}|lt:${n.limitType}`}function bF(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>oz(r)).join(", ")}]`),IC(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Iw(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Iw(r)).join(",")),`Target(${t})`}(jc(n))}; limitType=${n.limitType})`}function MC(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):an.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Iy(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,a){const h=ez(i,s,a);return i.inclusive?h<=0:h<0}(t.startAt,Iy(t),r)||t.endAt&&!function(i,s,a){const h=ez(i,s,a);return i.inclusive?h>=0:h>0}(t.endAt,Iy(t),r)));var t,r}function pz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mz(n){return(e,t)=>{let r=!1;for(const i of Iy(n)){const s=cW(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function cW(n,e,t){const r=n.field.isKeyField()?an.comparator(e.key,t.key):function(i,s,a){const h=s.data.field(i),p=a.data.field(i);return null!==h&&null!==p?ig(h,p):yn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yn()}}class lp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jm(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GB(this.inner)}size(){return this.innerSize}}const lW=new es(an.comparator);function fl(){return lW}const gz=new es(an.comparator);function RC(...n){let e=gz;for(const t of n)e=e.insert(t.key,t);return e}function _z(n){let e=gz;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wh(){return PC()}function yz(){return PC()}function PC(){return new lp(n=>n.toString(),(n,e)=>n.isEqual(e))}const uW=new es(an.comparator),dW=new us(an.comparator);function Ir(...n){let e=dW;for(const t of n)e=e.add(t);return e}const hW=new us(dr);function IF(){return hW}function vz(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:EC(e)?"-0":e}}function wz(n){return{integerValue:""+n}}function bz(n,e){return FB(e)?wz(e):vz(n,e)}class CR{constructor(){this._=void 0}}function fW(n,e,t){return n instanceof Aw?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&gR(i)&&(i=_R(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ey?Ez(n,e):n instanceof Ty?Tz(n,e):function(r,i){const s=Iz(r,i),a=Cz(s)+Cz(r.gt);return fF(s)&&fF(r.gt)?wz(a):vz(r.serializer,a)}(n,e)}function pW(n,e,t){return n instanceof Ey?Ez(n,e):n instanceof Ty?Tz(n,e):t}function Iz(n,e){return n instanceof Dw?fF(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Aw extends CR{}class Ey extends CR{constructor(e){super(),this.elements=e}}function Ez(n,e){const t=Az(e);for(const r of n.elements)t.some(i=>$h(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ty extends CR{constructor(e){super(),this.elements=e}}function Tz(n,e){let t=Az(e);for(const r of n.elements)t=t.filter(i=>!$h(i,r));return{arrayValue:{values:t}}}class Dw extends CR{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Cz(n){return Zs(n.integerValue||n.doubleValue)}function Az(n){return AC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kC{constructor(e,t){this.field=e,this.transform=t}}class gW{constructor(e,t){this.version=e,this.transformResults=t}}class Is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function AR(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class DR{}function Dz(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new xw(n.key,Is.none()):new Sw(n.key,n.data,Is.none());{const t=n.data,r=za.empty();let i=new us(qs.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);null===a&&s.length>1&&(s=s.popLast(),a=t.field(s)),null===a?r.delete(s):r.set(s,a),i=i.add(s)}return new up(n.key,r,new hl(i.toArray()),Is.none())}}function _W(n,e,t){n instanceof Sw?function(r,i,s){const a=r.value.clone(),h=Mz(r.fieldTransforms,i,s.transformResults);a.setAll(h),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof up?function(r,i,s){if(!AR(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=Mz(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(xz(r)),h.setAll(a),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function NC(n,e,t,r){return n instanceof Sw?function(i,s,a,h){if(!AR(i.precondition,s))return a;const p=i.value.clone(),m=Rz(i.fieldTransforms,h,s);return p.setAll(m),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof up?function(i,s,a,h){if(!AR(i.precondition,s))return a;const p=Rz(i.fieldTransforms,h,s),m=s.data;return m.setAll(xz(i)),m.setAll(p),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(w=>w.field))}(n,e,t,r):(a=t,AR(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function yW(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Iz(r.transform,i||null);null!=s&&(null===t&&(t=za.empty()),t.set(r.field,s))}return t||null}function Sz(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ww(t,r,(i,s)=>function mW(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ey&&r instanceof Ey||t instanceof Ty&&r instanceof Ty?ww(t.elements,r.elements,$h):t instanceof Dw&&r instanceof Dw?$h(t.gt,r.gt):t instanceof Aw&&r instanceof Aw);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Sw extends DR{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class up extends DR{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xz(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Mz(n,e,t){const r=new Map;Vn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,h=e.data.field(s.field);r.set(s.field,pW(a,h,t[i]))}return r}function Rz(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,fW(s,a,e))}return r}class xw extends DR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EF extends DR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_W(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=NC(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=NC(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=yz();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let h=this.applyToLocalView(a,s.mutatedFields);h=t.has(i.key)?null:h;const p=Dz(a,h);null!==p&&r.set(i.key,p),a.isValidDocument()||a.convertToNoDocument(jn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ir())}isEqual(e){return this.batchId===e.batchId&&ww(this.mutations,e.mutations,(t,r)=>Sz(t,r))&&ww(this.baseMutations,e.baseMutations,(t,r)=>Sz(t,r))}}class CF{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Vn(e.mutations.length===r.length);let i=uW;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new CF(e,t,r,i)}}class AF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wW{constructor(e,t){this.count=e,this.unchangedNames=t}}var So,Jr;function Pz(n){switch(n){default:return yn();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function kz(n){if(void 0===n)return co("GRPC error has no .code"),rt.UNKNOWN;switch(n){case So.OK:return rt.OK;case So.CANCELLED:return rt.CANCELLED;case So.UNKNOWN:return rt.UNKNOWN;case So.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case So.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case So.INTERNAL:return rt.INTERNAL;case So.UNAVAILABLE:return rt.UNAVAILABLE;case So.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case So.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case So.NOT_FOUND:return rt.NOT_FOUND;case So.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case So.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case So.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case So.ABORTED:return rt.ABORTED;case So.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case So.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case So.DATA_LOSS:return rt.DATA_LOSS;default:return yn()}}(Jr=So||(So={}))[Jr.OK=0]="OK",Jr[Jr.CANCELLED=1]="CANCELLED",Jr[Jr.UNKNOWN=2]="UNKNOWN",Jr[Jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jr[Jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jr[Jr.NOT_FOUND=5]="NOT_FOUND",Jr[Jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jr[Jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jr[Jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jr[Jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jr[Jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jr[Jr.ABORTED=10]="ABORTED",Jr[Jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jr[Jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jr[Jr.INTERNAL=13]="INTERNAL",Jr[Jr.UNAVAILABLE=14]="UNAVAILABLE",Jr[Jr.DATA_LOSS=15]="DATA_LOSS";class DF{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return SR}static getOrCreateInstance(){return null===SR&&(SR=new DF),SR}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let SR=null;function Nz(){return new TextEncoder}const bW=new yw([4294967295,4294967295],0);function Oz(n){const e=Nz().encode(n),t=new p5;return t.update(e),new Uint8Array(t.digest())}function Fz(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yw([t,r],0),new yw([i,s],0)]}class SF{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new OC(`Invalid padding: ${t}`);if(r<0)throw new OC(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new OC(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new OC(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=yw.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(yw.fromNumber(r)));return 1===i.compare(bW)&&(i=new yw([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Oz(e),[r,i]=Fz(t);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new SF(s,i,t);return r.forEach(h=>a.insert(h)),a}insert(e){if(0===this.It)return;const t=Oz(e),[r,i]=Fz(t);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class OC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class FC{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,LC.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new FC(jn.min(),i,new es(dr),fl(),Ir())}}class LC{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new LC(r,t,Ir(),Ir(),Ir())}}class xR{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class Lz{constructor(e,t){this.targetId=e,this.Vt=t}}class Vz{constructor(e,t,r=$o.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Uz{constructor(){this.St=0,this.Dt=Bz(),this.Ct=$o.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ir(),t=Ir(),r=Ir();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:yn()}}),new LC(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=Bz()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class IW{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=fl(),this.zt=jz(),this.Wt=new es(dr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:yn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const a=s.target;if(bR(a))if(0===i){const h=new an(a.path);this.Yt(r,h,ds.newNoDocument(h,jn.min()))}else Vn(1===i);else{const h=this.ie(r);if(h!==i){const p=this.re(e,h);0!==p&&(this.ee(r),this.Wt=this.Wt.insert(r,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=DF.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(m,w,x){var F,z,oe,ge,le,Be;const dt={localCacheCount:w,existenceFilterCount:x.count},pt=x.unchangedNames;return pt&&(dt.bloomFilter={applied:0===m,hashCount:null!==(F=pt?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ge=null===(oe=null===(z=pt?.bits)||void 0===z?void 0:z.bitmap)||void 0===oe?void 0:oe.length)&&void 0!==ge?ge:0,padding:null!==(Be=null===(le=pt?.bits)||void 0===le?void 0:le.padding)&&void 0!==Be?Be:0}),dt}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:h=0}=r;let p,m;try{p=ap(s).toUint8Array()}catch(w){if(w instanceof WB)return Zu("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{m=new SF(p,a,h)}catch(w){return Zu(w instanceof OC?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===m.It?1:i!==t-this.oe(e.targetId,m)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),h=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,a)=>{const h=this.se(a);if(h){if(s.current&&bR(h.target)){const p=new an(h.target.path);null!==this.jt.get(p)||this.ae(a,p)||this.Yt(a,p,ds.newNoDocument(p,e))}s.Mt&&(t.set(a,s.Ot()),s.Ft())}});let r=Ir();this.zt.forEach((s,a)=>{let h=!0;a.forEachWhile(p=>{const m=this.se(p);return!m||"TargetPurposeLimboResolution"===m.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const i=new FC(e,t,this.Wt,this.jt,r);return this.jt=fl(),this.zt=jz(),this.Wt=new es(dr),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Uz,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new us(dr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ut("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Uz),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function jz(){return new es(an.comparator)}function Bz(){return new es(an.comparator)}const EW={asc:"ASCENDING",desc:"DESCENDING"},TW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CW={and:"AND",or:"OR"};class AW{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xF(n,e){return n.useProto3Json||IC(e)?e:{value:e}}function Mw(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zz(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DW(n,e){return Mw(n,e.toTimestamp())}function lo(n){return Vn(!!n),jn.fromTimestamp(function(e){const t=eg(e);return new bs(t.seconds,t.nanos)}(n))}function MF(n,e){return(t=n,new Xr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hz(n){const e=Xr.fromString(n);return Vn(Xz(e)),e}function VC(n,e){return MF(n.databaseId,e.path)}function qh(n,e){const t=Hz(e);if(t.get(1)!==n.databaseId.projectId)throw new Rt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Rt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new an($z(t))}function RF(n,e){return MF(n.databaseId,e)}function Gz(n){const e=Hz(n);return 4===e.length?Xr.emptyPath():$z(e)}function UC(n){return new Xr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $z(n){return Vn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Wz(n,e,t){return{name:VC(n,e),fields:t.value.mapValue.fields}}function qz(n,e,t){const r=qh(n,e.name),i=lo(e.updateTime),s=e.createTime?lo(e.createTime):jn.min(),a=new za({mapValue:{fields:e.fields}}),h=ds.newFoundDocument(r,i,s,a);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function jC(n,e){let t;if(e instanceof Sw)t={update:Wz(n,e.key,e.value)};else if(e instanceof xw)t={delete:VC(n,e.key)};else if(e instanceof up)t={update:Wz(n,e.key,e.data),updateMask:OW(e.fieldMask)};else{if(!(e instanceof EF))return yn();t={verify:VC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof Aw)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ey)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ty)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dw)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw yn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:DW(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:yn()),t;var i}function PF(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Is.updateTime(lo(i.updateTime)):void 0!==i.exists?Is.exists(i.exists):Is.none():Is.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let h=null;"setToServerValue"in a?(Vn("REQUEST_TIME"===a.setToServerValue),h=new Aw):"appendMissingElements"in a?h=new Ey(a.appendMissingElements.values||[]):"removeAllFromArray"in a?h=new Ty(a.removeAllFromArray.values||[]):"increment"in a?h=new Dw(s,a.increment):yn();const p=qs.fromServerFormat(a.fieldPath);return new kC(p,h)}(n,i)):[];var i;if(e.update){const i=qh(n,e.update.name),s=new za({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=new hl((e.updateMask.fieldPaths||[]).map(m=>qs.fromServerFormat(m)));return new up(i,s,a,t,r)}return new Sw(i,s,t,r)}if(e.delete){const i=qh(n,e.delete);return new xw(i,t)}if(e.verify){const i=qh(n,e.verify);return new EF(i,t)}return yn()}function Zz(n,e){return{documents:[RF(n,e.path)]}}function kF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=RF(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=RF(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0!==p.length)return Qz(Ci.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(m=>{return{field:og((w=m).field),direction:PW(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=xF(n,e.limit);var h,p;return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function Kz(n){let e=Gz(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Vn(1===r);const w=t.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=function(w){const x=Yz(w);return x instanceof Ci&&mF(x)?x.getFilters():[x]}(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(w=>{return new Ew(Rw((x=w).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let h=null;t.limit&&(h=function(w){let x;return x="object"==typeof w?w.value:w,IC(x)?null:x}(t.limit));let p=null;var w;t.startAt&&(p=new sg((w=t.startAt).values||[],!!w.before));let m=null;return t.endAt&&(m=function(w){return new sg(w.values||[],!w.before)}(t.endAt)),dz(e,i,a,s,h,"F",p,m)}function Yz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rw(e.unaryFilter.field);return Ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Rw(e.unaryFilter.field);return Ur.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rw(e.unaryFilter.field);return Ur.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rw(e.unaryFilter.field);return Ur.create(s,"!=",{nullValue:"NULL_VALUE"});default:return yn()}}(n):void 0!==n.fieldFilter?Ur.create(Rw((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ci.create(e.compositeFilter.filters.map(t=>Yz(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return yn()}}(e.compositeFilter.op))}(n):yn();var e}function PW(n){return EW[n]}function kW(n){return TW[n]}function NW(n){return CW[n]}function og(n){return{fieldPath:n.canonicalString()}}function Rw(n){return qs.fromServerFormat(n.fieldPath)}function Qz(n){return n instanceof Ur?function(e){if("=="===e.op){if(KB(e.value))return{unaryFilter:{field:og(e.field),op:"IS_NAN"}};if(ZB(e.value))return{unaryFilter:{field:og(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(KB(e.value))return{unaryFilter:{field:og(e.field),op:"IS_NOT_NAN"}};if(ZB(e.value))return{unaryFilter:{field:og(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:og(e.field),op:kW(e.op),value:e.value}}}(n):n instanceof Ci?function(e){const t=e.getFilters().map(r=>Qz(r));return 1===t.length?t[0]:{compositeFilter:{op:NW(e.op),filters:t}}}(n):yn()}function OW(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class dp{constructor(e,t,r,i,s=jn.min(),a=jn.min(),h=$o.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new dp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jz{constructor(e){this.fe=e}}function e4(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:MR(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:VC(i=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Mw(i,s.version.toTimestamp()),createTime:Mw(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cy(e.version)};else{if(!e.isUnknownDocument())return yn();r.unknownDocument={path:t.path.toArray(),version:Cy(e.version)}}var i,s;return r}function MR(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cy(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ay(n){const e=new bs(n.seconds,n.nanoseconds);return jn.fromTimestamp(e)}function Dy(n,e){const t=(e.baseMutations||[]).map(s=>PF(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>PF(n.fe,s)),i=bs.fromMillis(e.localWriteTimeMs);return new TF(e.batchId,i,t,r)}function BC(n){const e=Ay(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ay(n.lastLimboFreeSnapshotVersion):jn.min();let r;var i;return void 0!==n.query.documents?(Vn(1===(i=n.query).documents.length),r=jc(Cw(Gz(i.documents[0])))):r=jc(Kz(n.query)),new dp(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$o.fromBase64String(n.resumeToken))}function t4(n,e){const t=Cy(e.snapshotVersion),r=Cy(e.lastLimboFreeSnapshotVersion);let i;i=bR(e.target)?Zz(n.fe,e.target):kF(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:by(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NF(n){const e=Kz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?TR(e,e.limit,"L"):e}function OF(n,e){return new AF(e.largestBatchId,PF(n.fe,e.overlayMutation))}function n4(n,e){const t=e.path.lastSegment();return[n,yc(e.path.popLast()),t]}function r4(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Cy(r.readTime),documentKey:yc(r.documentKey.path),largestBatchId:r.largestBatchId}}class LW{getBundleMetadata(e,t){return i4(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ay(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return i4(e).put({bundleId:(r=t).id,createTime:Cy(lo(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return s4(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:NF(i.bundledQuery),readTime:Ay(i.readTime)};var i})}saveNamedQuery(e,t){return s4(e).put({name:(r=t).name,readTime:Cy(lo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function i4(n){return va(n,"bundles")}function s4(n){return va(n,"namedQueries")}class RR{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new RR(e,t.uid||"")}getOverlay(e,t){return zC(e).get(n4(this.userId,t)).next(r=>r?OF(this.serializer,r):null)}getOverlays(e,t){const r=Wh();return $e.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,a)=>{const h=new AF(t,a);i.push(this.we(e,h))}),$e.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(a=>i.add(yc(a.getCollectionPath())));const s=[];return i.forEach(a=>{const h=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(zC(e).J("collectionPathOverlayIndex",h))}),$e.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Wh(),s=yc(t),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return zC(e).j("collectionPathOverlayIndex",a).next(h=>{for(const p of h){const m=OF(this.serializer,p);i.set(m.getKey(),m)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Wh();let a;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zC(e).X({index:"collectionGroupOverlayIndex",range:h},(p,m,w)=>{const x=OF(this.serializer,m);s.size()<i||x.largestBatchId===a?(s.set(x.getKey(),x),a=x.largestBatchId):w.done()}).next(()=>s)}we(e,t){return zC(e).put(function(r,i,s){const[a,h,p]=n4(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:jC(r.fe,s.mutation)}}(this.serializer,this.userId,t))}}function zC(n){return va(n,"documentOverlays")}class Sy{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Zs(e.integerValue));else if("doubleValue"in e){const r=Zs(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),EC(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ap(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?YB(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):yn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),an.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function VW(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function o4(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=VW(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Sy.Ve=new Sy;class UW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=o4(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=o4(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class jW{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class BW{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class HC{constructor(){this.je=new UW,this.ze=new jW(this.je),this.We=new BW(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class xy{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new xy(this.indexId,this.documentKey,this.arrayValue,r)}}function ag(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=a4(n.arrayValue,e.arrayValue),0!==t?t:(t=a4(n.directionalValue,e.directionalValue),0!==t?t:an.comparator(n.documentKey,e.documentKey)))}function a4(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zW{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Vn(e.collectionGroup===this.collectionId);const t=aF(e);if(void 0!==t&&!this.en(t))return!1;const r=yy(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[a++],h))return!1}++s}for(;s<r.length;++s)if(a>=this.Ye.length||!this.sn(this.Ye[a++],r[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function c4(n){var e,t;if(Vn(n instanceof Ur||n instanceof Ci),n instanceof Ur){if(n instanceof cz){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Ur.create(n.field,"==",s)))||[];return Ci.create(i,"or")}return n}const r=n.filters.map(i=>c4(i));return Ci.create(r,n.op)}function HW(n){if(0===n.getFilters().length)return[];const e=VF(c4(n));return Vn(l4(e)),FF(e)||LF(e)?[e]:e.getFilters()}function FF(n){return n instanceof Ur}function LF(n){return n instanceof Ci&&mF(n)}function l4(n){return FF(n)||LF(n)||function(e){if(e instanceof Ci&&pF(e)){for(const t of e.getFilters())if(!FF(t)&&!LF(t))return!1;return!0}return!1}(n)}function VF(n){if(Vn(n instanceof Ur||n instanceof Ci),n instanceof Ur)return n;if(1===n.filters.length)return VF(n.filters[0]);const e=n.filters.map(r=>VF(r));let t=Ci.create(e,n.op);return t=PR(t),l4(t)?t:(Vn(t instanceof Ci),Vn(Tw(t)),Vn(t.filters.length>1),t.filters.reduce((r,i)=>UF(r,i)))}function UF(n,e){let t;return Vn(n instanceof Ur||n instanceof Ci),Vn(e instanceof Ur||e instanceof Ci),t=n instanceof Ur?e instanceof Ur?Ci.create([n,e],"and"):u4(n,e):e instanceof Ur?u4(e,n):function(r,i){if(Vn(r.filters.length>0&&i.filters.length>0),Tw(r)&&Tw(i))return sz(r,i.getFilters());const s=pF(r)?r:i,a=pF(r)?i:r,h=s.filters.map(p=>UF(p,a));return Ci.create(h,"or")}(n,e),PR(t)}function u4(n,e){if(Tw(e))return sz(e,n.getFilters());{const t=e.filters.map(r=>UF(n,r));return Ci.create(t,"or")}}function PR(n){if(Vn(n instanceof Ur||n instanceof Ci),n instanceof Ur)return n;const e=n.getFilters();if(1===e.length)return PR(e[0]);if(rz(n))return n;const t=e.map(i=>PR(i)),r=[];return t.forEach(i=>{i instanceof Ur?r.push(i):i instanceof Ci&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ci.create(r,n.op)}class GW{constructor(){this.rn=new jF}addToCollectionParentIndex(e,t){return this.rn.add(t),$e.resolve()}getCollectionParents(e,t){return $e.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return $e.resolve()}deleteFieldIndex(e,t){return $e.resolve()}getDocumentsMatchingTarget(e,t){return $e.resolve(null)}getIndexType(e,t){return $e.resolve(0)}getFieldIndexes(e,t){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,t){return $e.resolve(iu.min())}getMinOffsetFromCollectionGroup(e,t){return $e.resolve(iu.min())}updateCollectionGroup(e,t,r){return $e.resolve()}updateIndexEntries(e,t){return $e.resolve()}}class jF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new us(Xr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new us(Xr.comparator)).toArray()}}const kR=new Uint8Array(0);class $W{constructor(e,t){this.user=e,this.databaseId=t,this.on=new jF,this.un=new lp(r=>by(r),(r,i)=>SC(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:r,parent:yc(i)};return d4(e).put(s)}return $e.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[MB(t),""],!1,!0);return d4(e).j(i).next(s=>{for(const a of s){if(a.collectionId!==t)break;r.push(Gh(a.parent))}return r})}addFieldIndex(e,t){const r=NR(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const a=$C(e);return s.next(h=>{a.put(r4(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=NR(e),i=$C(e),s=GC(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=GC(e);let i=!0;const s=new Map;return $e.forEach(this.cn(t),a=>this.an(e,a).next(h=>{i&&(i=!!h),s.set(a,h)})).next(()=>{if(i){let a=Ir();const h=[];return $e.forEach(s,(p,m)=>{var w;Ut("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${by(t)}`);const x=function(pt,It){const qt=aF(It);if(void 0===qt)return null;for(const cn of IR(pt,qt.fieldPath))switch(cn.op){case"array-contains-any":return cn.value.arrayValue.values||[];case"array-contains":return[cn.value]}return null}(m,p),F=function(pt,It){const qt=new Map;for(const cn of yy(It))for(const hr of IR(pt,cn.fieldPath))switch(hr.op){case"==":case"in":qt.set(cn.fieldPath.canonicalString(),hr.value);break;case"not-in":case"!=":return qt.set(cn.fieldPath.canonicalString(),hr.value),Array.from(qt.values())}return null}(m,p),z=function(pt,It){const qt=[];let cn=!0;for(const hr of yy(It)){const Fi=0===hr.kind?lz(pt,hr.fieldPath,pt.startAt):uz(pt,hr.fieldPath,pt.startAt);qt.push(Fi.value),cn&&(cn=Fi.inclusive)}return new sg(qt,cn)}(m,p),oe=function(pt,It){const qt=[];let cn=!0;for(const hr of yy(It)){const Fi=0===hr.kind?uz(pt,hr.fieldPath,pt.endAt):lz(pt,hr.fieldPath,pt.endAt);qt.push(Fi.value),cn&&(cn=Fi.inclusive)}return new sg(qt,cn)}(m,p),ge=this.hn(p,m,z),le=this.hn(p,m,oe),Be=this.ln(p,m,F),dt=this.fn(p.indexId,x,ge,z.inclusive,le,oe.inclusive,Be);return $e.forEach(dt,pt=>r.H(pt,t.limit).next(It=>{It.forEach(qt=>{const cn=an.fromSegments(qt.documentKey);a.has(cn)||(a=a.add(cn),h.push(cn))})}))}).next(()=>h)}return $e.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:HW(Ci.create(e.filters,"and")).map(r=>_F(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,s,a,h){const p=(null!=t?t.length:1)*Math.max(r.length,s.length),m=p/(null!=t?t.length:1),w=[];for(let x=0;x<p;++x){const F=t?this.dn(t[x/m]):kR,z=this.wn(e,F,r[x%m],i),oe=this._n(e,F,s[x%m],a),ge=h.map(le=>this.wn(e,F,le,!0));w.push(...this.createRange(z,oe,ge))}return w}wn(e,t,r,i){const s=new xy(e,an.empty(),t,r);return i?s:s.Je()}_n(e,t,r,i){const s=new xy(e,an.empty(),t,r);return i?s.Je():s}an(e,t){const r=new zW(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const h of s)r.tn(h)&&(!a||h.fields.length>a.fields.length)&&(a=h);return a})}getIndexType(e,t){let r=2;const i=this.cn(t);return $e.forEach(i,s=>this.an(e,s).next(a=>{a?0!==r&&a.fields.length<function(h){let p=new us(qs.comparator),m=!1;for(const w of h.filters)for(const x of w.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?m=!0:p=p.add(x.field));for(const w of h.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new HC;for(const i of yy(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const a=r.He(i.kind);Sy.Ve._e(s,a)}return r.Qe()}dn(e){const t=new HC;return Sy.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new HC;return Sy.Ve._e(wy(this.databaseId,t),r.He(function(i){const s=yy(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new HC);let s=0;for(const a of yy(e)){const h=r[s++];for(const p of i)if(this.yn(t,a.fieldPath)&&AC(h))i=this.pn(i,a,h);else{const m=p.He(a.kind);Sy.Ve._e(h,m)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const h of i){const p=new HC;p.seed(h.Qe()),Sy.Ve._e(a,p.He(t.kind)),s.push(p)}return s}yn(e,t){return!!e.filters.find(r=>r instanceof Ur&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=NR(e),i=$C(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(s=>{const a=[];return $e.forEach(s,h=>i.get([h.indexId,this.uid]).next(p=>{a.push(function(m,w){const x=w?new wC(w.sequenceNumber,new iu(Ay(w.readTime),new an(Gh(w.documentKey)),w.largestBatchId)):wC.empty(),F=m.fields.map(([z,oe])=>new hR(qs.fromServerFormat(z),oe));return new dR(m.indexId,m.collectionGroup,F,x)}(h,p))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:dr(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=NR(e),s=$C(e);return this.Tn(e).next(a=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>$e.forEach(h,p=>s.put(r4(p.indexId,this.user,a,r)))))}updateIndexEntries(e,t){const r=new Map;return $e.forEach(t,(i,s)=>{const a=r.get(i.collectionGroup);return(a?$e.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),$e.forEach(h,p=>this.En(e,i,p).next(m=>{const w=this.An(s,p);return m.isEqual(w)?$e.resolve():this.vn(e,s,p,m,w)}))))})}Rn(e,t,r,i){return GC(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return GC(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=GC(e);let s=new us(ag);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(a,h)=>{s=s.add(new xy(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let r=new us(ag);const i=this.mn(t,e);if(null==i)return r;const s=aF(t);if(null!=s){const a=e.data.field(s.fieldPath);if(AC(a))for(const h of a.arrayValue.values||[])r=r.add(new xy(t.indexId,e.key,this.dn(h),i))}else r=r.add(new xy(t.indexId,e.key,kR,i));return r}vn(e,t,r,i,s){Ut("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(h,p,m,w,x){const F=h.getIterator(),z=p.getIterator();let oe=bw(F),ge=bw(z);for(;oe||ge;){let le=!1,Be=!1;if(oe&&ge){const dt=m(oe,ge);dt<0?Be=!0:dt>0&&(le=!0)}else null!=oe?Be=!0:le=!0;le?(w(ge),ge=bw(z)):Be?(x(oe),oe=bw(F)):(oe=bw(F),ge=bw(z))}}(i,s,ag,h=>{a.push(this.Rn(e,t,r,h))},h=>{a.push(this.Pn(e,t,r,h))}),$e.waitFor(a)}Tn(e){let t=1;return $C(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((a,h)=>ag(a,h)).filter((a,h,p)=>!h||0!==ag(a,p[h-1]));const i=[];i.push(e);for(const a of r){const h=ag(a,e),p=ag(a,t);if(0===h)i[0]=e.Je();else if(h>0&&p<0)i.push(a),i.push(a.Je());else if(p>0)break}i.push(t);const s=[];for(let a=0;a<i.length;a+=2){if(this.bn(i[a],i[a+1]))return[];s.push(IDBKeyRange.bound([i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,kR,[]],[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,kR,[]]))}return s}bn(e,t){return ag(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(h4)}getMinOffset(e,t){return $e.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||yn())).next(h4)}}function d4(n){return va(n,"collectionParents")}function GC(n){return va(n,"indexEntries")}function NR(n){return va(n,"indexConfiguration")}function $C(n){return va(n,"indexState")}function h4(n){Vn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;cF(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new iu(e.readTime,e.documentKey,t)}const f4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vc{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vc(e,vc.DEFAULT_COLLECTION_PERCENTILE,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function p4(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],a=IDBKeyRange.only(t.batchId);let h=0;const p=r.X({range:a},(w,x,F)=>(h++,F.delete()));s.push(p.next(()=>{Vn(1===h)}));const m=[];for(const w of t.mutations){const x=UB(e,w.key.path,t.batchId);s.push(i.delete(x)),m.push(w.key)}return $e.waitFor(s).next(()=>m)}function OR(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yn();e=n.noDocument}return JSON.stringify(e).length}vc.DEFAULT_COLLECTION_PERCENTILE=10,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vc.DEFAULT=new vc(41943040,vc.DEFAULT_COLLECTION_PERCENTILE,vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vc.DISABLED=new vc(-1,0,0);class FR{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Vn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new FR(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cg(e).X({index:"userMutationsIndex",range:r},(i,s,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Pw(e),a=cg(e);return a.add({}).next(h=>{Vn("number"==typeof h);const p=new TF(h,t,r,i),m=function(F,z,oe){const ge=oe.baseMutations.map(Be=>jC(F.fe,Be)),le=oe.mutations.map(Be=>jC(F.fe,Be));return{userId:z,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:ge,mutations:le}}(this.serializer,this.userId,p),w=[];let x=new us((F,z)=>dr(F.canonicalString(),z.canonicalString()));for(const F of i){const z=UB(this.userId,F.key.path,h);x=x.add(F.key.path.popLast()),w.push(a.put(m)),w.push(s.put(z,P5))}return x.forEach(F=>{w.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),$e.waitFor(w).next(()=>p)})}lookupMutationBatch(e,t){return cg(e).get(t).next(r=>r?(Vn(r.userId===this.userId),Dy(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?$e.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return cg(e).X({index:"userMutationsIndex",range:i},(a,h,p)=>{h.userId===this.userId&&(Vn(h.batchId>=r),s=Dy(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return cg(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,s,a)=>{r=s.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cg(e).j("userMutationsIndex",t).next(r=>r.map(i=>Dy(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=pR(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Pw(e).X({range:i},(a,h,p)=>{const[m,w,x]=a,F=Gh(w);if(m===this.userId&&t.path.isEqual(F))return cg(e).get(x).next(z=>{if(!z)throw yn();Vn(z.userId===this.userId),s.push(Dy(this.serializer,z))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new us(dr);const i=[];return t.forEach(s=>{const a=pR(this.userId,s.path),h=IDBKeyRange.lowerBound(a),p=Pw(e).X({range:h},(m,w,x)=>{const[F,z,oe]=m,ge=Gh(z);F===this.userId&&s.path.isEqual(ge)?r=r.add(oe):x.done()});i.push(p)}),$e.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=pR(this.userId,r),a=IDBKeyRange.lowerBound(s);let h=new us(dr);return Pw(e).X({range:a},(p,m,w)=>{const[x,F,z]=p,oe=Gh(F);x===this.userId&&r.isPrefixOf(oe)?oe.length===i&&(h=h.add(z)):w.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(cg(e).get(s).next(a=>{if(null===a)throw yn();Vn(a.userId===this.userId),r.push(Dy(this.serializer,a))}))}),$e.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return p4(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),$e.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $e.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Pw(e).X({range:r},(s,a,h)=>{if(s[0]===this.userId){const p=Gh(s[1]);i.push(p)}else h.done()}).next(()=>{Vn(0===i.length)})})}containsKey(e,t){return m4(e,this.userId,t)}xn(e){return g4(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function m4(n,e,t){const r=pR(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Pw(n).X({range:s,Y:!0},(h,p,m)=>{const[w,x,F]=h;w===e&&x===i&&(a=!0),m.done()}).next(()=>a)}function cg(n){return va(n,"mutations")}function Pw(n){return va(n,"documentMutations")}function g4(n){return va(n,"mutationQueues")}class My{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new My(0)}static Mn(){return new My(-1)}}class WW{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new My(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>jn.fromTimestamp(new bs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kw(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Vn(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return kw(e).X((a,h)=>{const p=BC(h);p.sequenceNumber<=t&&null===r.get(p.targetId)&&(i++,s.push(this.removeTargetData(e,p)))}).next(()=>$e.waitFor(s)).next(()=>i)}forEachTarget(e,t){return kw(e).X((r,i)=>{const s=BC(i);t(s)})}$n(e){return _4(e).get("targetGlobalKey").next(t=>(Vn(null!==t),t))}On(e,t){return _4(e).put("targetGlobalKey",t)}Fn(e,t){return kw(e).put(t4(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=by(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return kw(e).X({range:i,index:"queryTargetsIndex"},(a,h,p)=>{const m=BC(h);SC(t,m.target)&&(s=m,p.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=lg(e);return t.forEach(a=>{const h=yc(a.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,a))}),$e.waitFor(i)}removeMatchingKeys(e,t,r){const i=lg(e);return $e.forEach(t,s=>{const a=yc(s.path);return $e.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=lg(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=lg(e);let s=Ir();return i.X({range:r,Y:!0},(a,h,p)=>{const m=Gh(a[1]),w=new an(m);s=s.add(w)}).next(()=>s)}containsKey(e,t){const r=yc(t.path),i=IDBKeyRange.bound([r],[MB(r)],!1,!0);let s=0;return lg(e).X({index:"documentTargetsIndex",Y:!0,range:i},([a,h],p,m)=>{0!==a&&(s++,m.done())}).next(()=>s>0)}le(e,t){return kw(e).get(t).next(r=>r?BC(r):null)}}function kw(n){return va(n,"targets")}function _4(n){return va(n,"targetGlobal")}function lg(n){return va(n,"targetDocuments")}function y4([n,e],[t,r]){const i=dr(n,t);return 0===i?dr(e,r):i}class qW{constructor(e){this.Ln=e,this.buffer=new us(y4),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();y4(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class v4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,at.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Xm(r)?Ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Qm(r)}yield t.Qn(3e5)}))}}class ZW{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return $e.resolve(su.ct);const r=new qW(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(f4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f4):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,s,a,h,p,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,a=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(s=x,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(m=Date.now(),sF()<=ol.in.DEBUG&&Ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-w}ms\n\tDetermined least recently used ${i} in `+(h-a)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${x} documents in `+(m-p)+`ms\nTotal Duration: ${m-w}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:x})))}}class KW{constructor(e,t){this.db=e,this.garbageCollector=function w4(n,e){return new ZW(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return LR(e,r)}removeReference(e,t,r){return LR(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return LR(e,t)}Xn(e,t){return function(r,i){let s=!1;return g4(r).Z(a=>m4(r,a,i).next(h=>(h&&(s=!0),$e.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(a,h)=>{if(h<=t){const p=this.Xn(e,a).next(m=>{if(!m)return s++,r.getEntry(e,a).next(()=>(r.removeEntry(a,jn.min()),lg(e).delete([0,yc(a.path)])))});i.push(p)}}).next(()=>$e.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return LR(e,t)}Yn(e,t){const r=lg(e);let i,s=su.ct;return r.X({index:"documentTargetsIndex"},([a,h],{path:p,sequenceNumber:m})=>{0===a?(s!==su.ct&&t(new an(Gh(i)),s),s=m,i=p):s=su.ct}).next(()=>{s!==su.ct&&t(new an(Gh(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function LR(n,e){return lg(n).put((r=n.currentSequenceNumber,{targetId:0,path:yc(e.path),sequenceNumber:r}));var r}class b4{constructor(){this.changes=new lp(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ds.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ry(e).put(r)}removeEntry(e,t,r){return Ry(e).delete(function(i,s){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],MR(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=ds.newInvalidDocument(t);return Ry(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(WC(t))},(i,s)=>{r=this.ts(t,s)}).next(()=>r)}es(e,t){let r={size:0,document:ds.newInvalidDocument(t)};return Ry(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(WC(t))},(i,s)=>{r={document:this.ts(t,s),size:OR(s)}}).next(()=>r)}getEntries(e,t){let r=fl();return this.ns(e,t,(i,s)=>{const a=this.ts(i,s);r=r.insert(i,a)}).next(()=>r)}ss(e,t){let r=fl(),i=new es(an.comparator);return this.ns(e,t,(s,a)=>{const h=this.ts(s,a);r=r.insert(s,h),i=i.insert(s,OR(a))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return $e.resolve();let i=new us(C4);t.forEach(p=>i=i.add(p));const s=IDBKeyRange.bound(WC(i.first()),WC(i.last())),a=i.getIterator();let h=a.getNext();return Ry(e).X({index:"documentKeyIndex",range:s},(p,m,w)=>{const x=an.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&C4(h,x)<0;)r(h,null),h=a.getNext();h&&h.isEqual(x)&&(r(h,m),h=a.hasNext()?a.getNext():null),h?w.G(WC(h)):w.done()}).next(()=>{for(;h;)r(h,null),h=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),MR(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ry(e).j(IDBKeyRange.bound(a,h,!0)).next(p=>{let m=fl();for(const w of p){const x=this.ts(an.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);x.isFoundDocument()&&(MC(t,x)||i.has(x.key))&&(m=m.insert(x.key,x))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=fl();const a=T4(t,r),h=T4(t,iu.max());return Ry(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,h,!0)},(p,m,w)=>{const x=this.ts(an.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);s=s.insert(x.key,x),s.size===i&&w.done()}).next(()=>s)}newChangeBuffer(e){return new QW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return E4(e).get("remoteDocumentGlobalKey").next(t=>(Vn(!!t),t))}Zn(e,t){return E4(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function FW(n,e){let t;if(e.document)t=qz(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=an.fromSegments(e.noDocument.path),i=Ay(e.noDocument.readTime);t=ds.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return yn();{const r=an.fromSegments(e.unknownDocument.path),i=Ay(e.unknownDocument.version);t=ds.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new bs(r[0],r[1]);return jn.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(jn.min()))return r}return ds.newInvalidDocument(e)}}function I4(n){return new YW(n)}class QW extends b4{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new lp(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new us((s,a)=>dr(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),a.isValidDocument()){const p=e4(this.os.serializer,a);i=i.add(s.path.popLast());const m=OR(p);r+=m-h.size,t.push(this.os.addEntry(e,s,p))}else if(r-=h.size,this.trackRemovals){const p=e4(this.os.serializer,a.convertToNoDocument(jn.min()));t.push(this.os.addEntry(e,s,p))}}),i.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,r)),$e.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((s,a)=>{this.us.set(s,{size:a,readTime:r.get(s).readTime})}),r))}}function E4(n){return va(n,"remoteDocumentGlobal")}function Ry(n){return va(n,"remoteDocumentsV14")}function WC(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function T4(n,e){const t=e.documentKey.path.toArray();return[n,MR(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function C4(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=dr(t[s],r[s]),i)return i;return i=dr(t.length,r.length),i||(i=dr(t[t.length-2],r[r.length-2]),i||dr(t[t.length-1],r[r.length-1]))}class XW{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class A4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&NC(r.mutation,i,hl.empty(),bs.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ir()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ir()){const i=Wh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=RC();return s.forEach((h,p)=>{a=a.insert(h,p.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=Wh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ir()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,h)=>{t.set(a,h)})})}computeViews(e,t,r,i){let s=fl();const a=PC(),h=PC();return t.forEach((p,m)=>{const w=r.get(m.key);i.has(m.key)&&(void 0===w||w.mutation instanceof up)?s=s.insert(m.key,m):void 0!==w?(a.set(m.key,w.mutation.getFieldMask()),NC(w.mutation,m,w.mutation.getFieldMask(),bs.now())):a.set(m.key,hl.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((m,w)=>a.set(m,w)),t.forEach((m,w)=>{var x;return h.set(m,new XW(w,null!==(x=a.get(m))&&void 0!==x?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=PC();let i=new es((a,h)=>a-h),s=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const h of a)h.keys().forEach(p=>{const m=t.get(p);if(null===m)return;let w=r.get(p)||hl.empty();w=h.applyToLocalView(m,w),r.set(p,w);const x=(i.get(h.batchId)||Ir()).add(p);i=i.insert(h.batchId,x)})}).next(()=>{const a=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,w=p.value,x=yz();w.forEach(F=>{if(!s.has(F)){const z=Dz(t.get(F),r.get(F));null!==z&&x.set(F,z),s=s.add(F)}}),a.push(this.documentOverlayCache.saveOverlays(e,m,x))}return $e.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return an.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):$e.resolve(Wh());let h=-1,p=s;return a.next(m=>$e.forEach(m,(w,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),s.get(w)?$e.resolve():this.remoteDocumentCache.getEntry(e,w).next(F=>{p=p.insert(w,F)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,p,m,Ir())).next(w=>({batchId:h,changes:_z(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new an(t)).next(r=>{let i=RC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=RC();return this.indexManager.getCollectionParents(e,i).next(a=>$e.forEach(a,h=>{const p=(m=t,w=h.child(i),new cp(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,w;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(m=>{m.forEach((w,x)=>{s=s.insert(w,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((h,p)=>{const m=p.getKey();null===s.get(m)&&(s=s.insert(m,ds.newInvalidDocument(m)))});let a=RC();return s.forEach((h,p)=>{const m=i.get(h);void 0!==m&&NC(m.mutation,p,hl.empty(),bs.now()),MC(t,p)&&(a=a.insert(h,p))}),a})}}class JW{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return $e.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:lo(r.createTime)}),$e.resolve()}getNamedQuery(e,t){return $e.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:NF(r.bundledQuery),readTime:lo(r.readTime)}),$e.resolve();var r}}class eq{constructor(){this.overlays=new es(an.comparator),this.ls=new Map}getOverlay(e,t){return $e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wh();return $e.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),$e.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),$e.resolve()}getOverlaysForCollection(e,t,r){const i=Wh(),s=t.length+1,a=new an(t.child("")),h=this.overlays.getIteratorFrom(a);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new es((m,w)=>m-w);const a=this.overlays.getIterator();for(;a.hasNext();){const m=a.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let w=s.get(m.largestBatchId);null===w&&(w=Wh(),s=s.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const h=Wh(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,w)=>h.set(m,w)),!(h.size()>=i)););return $e.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new AF(t,r));let s=this.ls.get(t);void 0===s&&(s=Ir(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class BF{constructor(){this.fs=new us(wa.ds),this.ws=new us(wa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new wa(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new wa(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new an(new Xr([])),r=new wa(t,e),i=new wa(t,e+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new an(new Xr([])),r=new wa(t,e),i=new wa(t,e+1);let s=Ir();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new wa(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wa{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return an.comparator(e.key,t.key)||dr(e.As,t.As)}static _s(e,t){return dr(e.As,t.As)||an.comparator(e.key,t.key)}}class tq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new us(wa.ds)}checkEmpty(e){return $e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const a=new TF(s,t,r,i);this.mutationQueue.push(a);for(const h of i)this.Rs=this.Rs.add(new wa(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return $e.resolve(a)}lookupMutationBatch(e,t){return $e.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wa(t,0),i=new wa(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const h=this.Ps(a.As);s.push(h)}),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new us(dr);return t.forEach(i=>{const s=new wa(i,0),a=new wa(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],h=>{r=r.add(h.As)})}),$e.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;an.isDocumentKey(s)||(s=s.child(""));const a=new wa(new an(s),0);let h=new us(dr);return this.Rs.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(h=h.add(p.As)),!0)},a),$e.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Vn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return $e.forEach(t.mutations,i=>{const s=new wa(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new wa(t,0),i=this.Rs.firstAfterOrEqual(r);return $e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return $e.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nq{constructor(e){this.Ds=e,this.docs=new es(an.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $e.resolve(r?r.document.mutableCopy():ds.newInvalidDocument(t))}getEntries(e,t){let r=fl();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ds.newInvalidDocument(i))}),$e.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=fl();const a=t.path,h=new an(a.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:w}}=p.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||cF(PB(w),r)<=0||(i.has(w.key)||MC(t,w))&&(s=s.insert(w.key,w.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,t,r,i){yn()}Cs(e,t){return $e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rq(this)}getSize(e){return $e.resolve(this.size)}}class rq extends b4{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),$e.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class iq{constructor(e){this.persistence=e,this.xs=new lp(t=>by(t),SC),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new BF,this.targetCount=0,this.Ms=My.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),$e.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new My(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,$e.resolve()}updateTargetData(e,t){return this.Fn(t),$e.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((a,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),$e.waitFor(s).next(()=>i)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return $e.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),$e.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),$e.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),$e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return $e.resolve(r)}containsKey(e,t){return $e.resolve(this.ks.containsKey(t))}}class zF{constructor(e,t){this.$s={},this.overlays={},this.Os=new su(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new iq(this),this.indexManager=new GW,this.remoteDocumentCache=new nq(r=>this.referenceDelegate.Ls(r)),this.serializer=new Jz(t),this.qs=new JW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new tq(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ut("MemoryPersistence","Starting transaction:",e);const i=new sq(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return $e.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class sq extends NB{constructor(e){super(),this.currentSequenceNumber=e}}class VR{constructor(e){this.persistence=e,this.Qs=new BF,this.js=null}static zs(e){return new VR(e)}get Ws(){if(this.js)return this.js;throw yn()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),$e.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),$e.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Ws,r=>{const i=an.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,jn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return $e.or([()=>$e.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class oq{constructor(e){this.serializer=e}O(e,t,r,i){const s=new fR("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VB,{unique:!0}),h.createObjectStore("documentMutations"),D4(e),function(h){h.createObjectStore("remoteDocuments")}(e));let a=$e.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),D4(e)),a=a.next(()=>function(h){const p=h.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jn.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",m)}(s))),r<4&&i>=4&&(0!==r&&(a=a.next(()=>function(h,p){return p.store("mutations").j().next(m=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VB,{unique:!0});const w=p.store("mutations"),x=m.map(F=>w.put(F));return $e.waitFor(x)})}(e,s))),a=a.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(a=a.next(()=>this.Ys(s))),r<6&&i>=6&&(a=a.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(a=a.next(()=>this.Zs(s))),r<8&&i>=8&&(a=a.next(()=>this.ti(e,s))),r<9&&i>=9&&(a=a.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(a=a.next(()=>this.ei(s))),r<11&&i>=11&&(a=a.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:G5});p.createIndex("collectionPathOverlayIndex",$5,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",W5,{unique:!1})}(e)})),r<13&&i>=13&&(a=a.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:k5});p.createIndex("documentKeyIndex",N5),p.createIndex("collectionGroupIndex",O5)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.si(e,s))),r<15&&i>=15&&(a=a.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:j5}).createIndex("sequenceNumberIndex",B5,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:z5}).createIndex("documentKeyIndex",H5,{unique:!1})}(e))),a}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=OR(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>$e.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",a).next(h=>$e.forEach(h,p=>{Vn(p.userId===s.userId);const m=Dy(this.serializer,p);return p4(e,s.userId,m).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((a,h)=>{const p=new Xr(a),m=[0,yc(p)];s.push(t.get(m).next(w=>w?$e.resolve():t.put({targetId:0,path:yc(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>$e.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:U5});const r=t.store("collectionParents"),i=new jF,s=a=>{if(i.add(a)){const h=a.lastSegment(),p=a.popLast();return r.put({collectionId:h,parent:yc(p)})}};return t.store("remoteDocuments").X({Y:!0},(a,h)=>{const p=new Xr(a);return s(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([a,h,p],m)=>{const w=Gh(h);return s(w.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const s=BC(i),a=t4(this.serializer,s);return t.put(a)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((s,a)=>{const h=t.store("remoteDocumentsV14"),p=(m=a,m.document?new an(Xr.fromString(m.document.name).popFirst(5)):m.noDocument?an.fromSegments(m.noDocument.path):m.unknownDocument?an.fromSegments(m.unknownDocument.path):yn()).path.toArray();var m;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(h.put(w))}).next(()=>$e.waitFor(i))}si(e,t){const r=t.store("mutations"),i=I4(this.serializer),s=new zF(VR.zs,this.serializer.fe);return r.j().next(a=>{const h=new Map;return a.forEach(p=>{var m;let w=null!==(m=h.get(p.userId))&&void 0!==m?m:Ir();Dy(this.serializer,p).keys().forEach(x=>w=w.add(x)),h.set(p.userId,w)}),$e.forEach(h,(p,m)=>{const w=new ya(m),x=RR.de(this.serializer,w),F=s.getIndexManager(w),z=FR.de(w,this.serializer,F,s.referenceDelegate);return new A4(i,z,x,F).recalculateAndSaveOverlaysForDocumentKeys(new dF(t,su.ct),p).next()})})}}function D4(n){n.createObjectStore("targetDocuments",{keyPath:L5}).createIndex("documentTargetsIndex",V5,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",F5,{unique:!0}),n.createObjectStore("targetGlobal")}const HF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class GF{constructor(e,t,r,i,s,a,h,p,m,w,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=s,this.window=a,this.document=h,this.ri=m,this.oi=w,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!GF.D())throw new Rt(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KW(this,i),this.di=t+"main",this.serializer=new Jz(p),this.wi=new Fd(this.di,this.ui,new oq(this.serializer)),this.Bs=new WW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=I4(this.serializer),this.qs=new LW,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&co("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(rt.FAILED_PRECONDITION,HF);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new su(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,at.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,at.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,at.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jR(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Xm(e))return Ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qC(e).get("owner").next(t=>$e.resolve(this.Ri(t)))}Pi(e){return jR(e).delete(this.clientId)}bi(){var e=this;return(0,at.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=va(r,"clientMetadata");return i.j().next(s=>{const a=e.Si(s,18e5),h=s.filter(p=>-1===a.indexOf(p));return $e.forEach(h,p=>i.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?$e.resolve(!0):qC(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Rt(rt.FAILED_PRECONDITION,HF);return!1}}return!(!this.networkEnabled||!this.inForeground)||jR(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ut("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,at.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new dF(t,su.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>jR(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return FR.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $W(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return RR.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ut("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(a=this.ui)?Z5:14===a?zB:13===a?BB:12===a?q5:11===a?jB:void yn();var a;let h;return this.wi.runTransaction(e,i,s,p=>(h=new dF(p,this.Os?this.Os.next():su.ct),"readwrite-primary"===t?this.Ti(h).next(m=>!!m||this.Ei(h)).next(m=>{if(!m)throw co(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Rt(rt.FAILED_PRECONDITION,kB);return r(h)}).next(m=>this.vi(h).next(()=>m)):this.Oi(h).next(()=>r(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return qC(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Rt(rt.FAILED_PRECONDITION,HF)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qC(e).put("owner",t)}static D(){return Fd.D()}Ai(e){const t=qC(e);return t.get("owner").next(r=>this.Ri(r)?(Ut("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$e.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(co(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,On.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ut("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return co("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){co("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qC(n){return va(n,"owner")}function jR(n){return va(n,"clientMetadata")}function $F(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class WF{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Ir(),i=Ir();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new WF(e,t.fromCache,r,i)}}class S4{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(hz(t))return $e.resolve(null);let r=jc(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=TR(t,null,"F"),r=jc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ir(...s);return this.Ui.getDocuments(e,a).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.ji(t,h);return this.zi(t,m,a,p.readTime)?this.Ki(e,TR(t,null,"F")):this.Wi(e,m,t,p)}))})))}Gi(e,t,r,i){return hz(t)||i.isEqual(jn.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const a=this.ji(t,s);return this.zi(t,a,r,i)?this.Qi(e,t):(sF()<=ol.in.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bF(t)),this.Wi(e,a,t,RB(i,-1)))})}ji(e,t){let r=new us(mz(e));return t.forEach((i,s)=>{MC(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return sF()<=ol.in.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",bF(t)),this.Ui.getDocumentsMatchingQuery(e,t,iu.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}class aq{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new es(dr),this.Yi=new lp(s=>by(s),SC),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function x4(n,e,t,r){return new aq(n,e,t,r)}function M4(n,e){return qF.apply(this,arguments)}function qF(){return qF=(0,at.Z)(function*(n,e){const t=un(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],h=[];let p=Ir();for(const m of i){a.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}for(const m of s){h.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(r,p).next(m=>({er:m,removedBatchIds:a,addedBatchIds:h}))})})}),qF.apply(this,arguments)}function R4(n){const e=un(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function P4(n,e,t){let r=Ir(),i=Ir();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=fl();return t.forEach((h,p)=>{const m=s.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(jn.min())?(e.removeEntry(h,p.readTime),a=a.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||0===p.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(p),a=a.insert(h,p)):Ut("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)}),{nr:a,sr:i}})}function uq(n,e){const t=un(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nw(n,e){const t=un(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,$e.resolve(i)):t.Bs.allocateTargetId(r).next(a=>(i=new dp(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Ow(n,e,t){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,at.Z)(function*(n,e,t){const r=un(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Xm(a))throw a;Ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),ZF.apply(this,arguments)}function BR(n,e,t){const r=un(n);let i=jn.min(),s=Ir();return r.persistence.runTransaction("Execute query","readonly",a=>function(h,p,m){const w=un(h),x=w.Yi.get(m);return void 0!==x?$e.resolve(w.Ji.get(x)):w.Bs.getTargetData(p,m)}(r,a,jc(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,h.targetId).next(p=>{s=p})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,t?i:jn.min(),t?s:Ir())).next(h=>(O4(r,pz(e),h),{documents:h,ir:s})))}function k4(n,e){const t=un(n),r=un(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(a=>a?a.target:null))}function N4(n,e){const t=un(n),r=t.Xi.get(e)||jn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,RB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(O4(t,e,i),i))}function O4(n,e,t){let r=n.Xi.get(e)||jn.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}function KF(){return KF=(0,at.Z)(function*(n,e,t,r){const i=un(n);let s=Ir(),a=fl();for(const m of t){const w=e.rr(m.metadata.name);m.document&&(s=s.add(w));const x=e.ur(m);x.setReadTime(e.cr(m.metadata.readTime)),a=a.insert(w,x)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),p=yield Nw(i,(m=r,jc(Cw(Xr.fromString(`__bundle__/docs/${m}`)))));var m;return i.persistence.runTransaction("Apply bundle documents","readwrite",m=>P4(m,h,a).next(w=>(h.apply(m),w)).next(w=>i.Bs.removeMatchingKeysForTargetId(m,p.targetId).next(()=>i.Bs.addMatchingKeys(m,s,p.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(m,w.nr,w.sr)).next(()=>w.nr)))}),KF.apply(this,arguments)}function hq(n,e){return YF.apply(this,arguments)}function YF(){return YF=(0,at.Z)(function*(n,e,t=Ir()){const r=yield Nw(n,jc(NF(e.bundledQuery))),i=un(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const a=lo(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.qs.saveNamedQuery(s,e);const h=r.withResumeToken($o.EMPTY_BYTE_STRING,a);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(s,h).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,t,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}),YF.apply(this,arguments)}function F4(n,e){return`firestore_clients_${n}_${e}`}function L4(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function QF(n,e){return`firestore_targets_${n}_${e}`}class zR{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let s,a="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(s=new Rt(i.error.code,i.error.message))),a?new zR(e,t,i.state,s):(co("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZC{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Rt(r.error.code,r.error.message))),s?new ZC(e,r.state,i):(co("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HR{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=IF();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=FB(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new HR(e,s):(co("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XF{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XF(t.clientId,t.onlineState):(co("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JF{constructor(){this.activeTargetIds=IF()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eL{constructor(e,t,r,i,s){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new es(dr),this.started=!1,this.yr=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=F4(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new JF),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,at.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const s=e.getItem(F4(e.persistenceKey,i));if(s){const a=HR.ar(i,s);a&&(e.gr=e.gr.insert(a.clientId,a))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(QF(this.persistenceKey,e));if(r){const i=ZC.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(QF(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ut("SharedClientState","READ",e,t),t}setItem(e,t){Ut("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ut("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void co("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,at.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(s){let a=su.ct;if(null!=s)try{const h=JSON.parse(s);Vn("number"==typeof h),a=h}catch(h){co("SharedClientState","Failed to read sequence number from WebStorage",h)}return a}(r.newValue);i!==su.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new zR(this.currentUser,e,t,r),s=L4(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const t=L4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=QF(this.persistenceKey,e),s=new ZC(e,t,r);this.setItem(i,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return HR.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return zR.ar(new ya(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return ZC.ar(i,t)}br(e){return XF.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,at.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),a=[],h=[];return s.forEach(p=>{i.has(p)||a.push(p)}),i.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(a,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=IF();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class V4{constructor(){this.Hr=new JF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new JF,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fq{Yr(e){}shutdown(){}}class U4{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let GR=null;function tL(){return null===GR?GR=268435456+Math.round(2147483648*Math.random()):GR++,"0x"+GR.toString(16)}const pq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mq{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wc="WebChannelConnection";class gq extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const a=tL(),h=this.To(e,t);Ut("RestConnection",`Sending RPC '${e}' ${a}:`,h,r);const p={};return this.Eo(p,i,s),this.Ao(e,h,p,r).then(m=>(Ut("RestConnection",`Received RPC '${e}' ${a}: `,m),m),m=>{throw Zu("RestConnection",`RPC '${e}' ${a} failed with error: `,m,"url: ",h,"request:",r),m})}vo(e,t,r,i,s,a){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${pq[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=tL();return new Promise((a,h)=>{const p=new f5;p.setWithCredentials(!0),p.listenOnce(u5.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case iF.NO_ERROR:const w=p.getResponseJson();Ut(wc,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),a(w);break;case iF.TIMEOUT:Ut(wc,`RPC '${e}' ${s} timed out`),h(new Rt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case iF.HTTP_ERROR:const x=p.getStatus();if(Ut(wc,`RPC '${e}' ${s} failed with status:`,x,"response text:",p.getResponseText()),x>0){let F=p.getResponseJson();Array.isArray(F)&&(F=F[0]);const z=F?.error;if(z&&z.status&&z.message){const oe=function(ge){const le=ge.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(le)>=0?le:rt.UNKNOWN}(z.status);h(new Rt(oe,z.message))}else h(new Rt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Rt(rt.UNAVAILABLE,"Connection failed."));break;default:yn()}}finally{Ut(wc,`RPC '${e}' ${s} completed.`)}});const m=JSON.stringify(i);Ut(wc,`RPC '${e}' ${s} sending request:`,i),p.send(t,"POST",m,r,15)})}Ro(e,t,r){const i=tL(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=c5(),h=l5(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;void 0!==m&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.xmlHttpFactory=new h5({})),this.Eo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const w=s.join("");Ut(wc,`Creating RPC '${e}' stream ${i}: ${w}`,p);const x=a.createWebChannel(w,p);let F=!1,z=!1;const oe=new mq({ro:le=>{z?Ut(wc,`Not sending because RPC '${e}' stream ${i} is closed:`,le):(F||(Ut(wc,`Opening RPC '${e}' stream ${i} transport.`),x.open(),F=!0),Ut(wc,`RPC '${e}' stream ${i} sending:`,le),x.send(le))},oo:()=>x.close()}),ge=(le,Be,dt)=>{le.listen(Be,pt=>{try{dt(pt)}catch(It){setTimeout(()=>{throw It},0)}})};return ge(x,uR.EventType.OPEN,()=>{z||Ut(wc,`RPC '${e}' stream ${i} transport opened.`)}),ge(x,uR.EventType.CLOSE,()=>{z||(z=!0,Ut(wc,`RPC '${e}' stream ${i} transport closed`),oe.wo())}),ge(x,uR.EventType.ERROR,le=>{z||(z=!0,Zu(wc,`RPC '${e}' stream ${i} transport errored:`,le),oe.wo(new Rt(rt.UNAVAILABLE,"The operation could not be completed")))}),ge(x,uR.EventType.MESSAGE,le=>{var Be;if(!z){const dt=le.data[0];Vn(!!dt);const It=dt.error||(null===(Be=dt[0])||void 0===Be?void 0:Be.error);if(It){Ut(wc,`RPC '${e}' stream ${i} received error:`,It);const qt=It.status;let cn=function(Fi){const Ud=So[Fi];if(void 0!==Ud)return kz(Ud)}(qt),hr=It.message;void 0===cn&&(cn=rt.INTERNAL,hr="Unknown error status: "+qt+" with message "+It.message),z=!0,oe.wo(new Rt(cn,hr)),x.close()}else Ut(wc,`RPC '${e}' stream ${i} received:`,dt),oe._o(dt)}}),ge(h,d5.STAT_EVENT,le=>{le.stat===CB.PROXY?Ut(wc,`RPC '${e}' stream ${i} detected buffering proxy`):le.stat===CB.NOPROXY&&Ut(wc,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{oe.fo()},0),oe}}function j4(){return typeof window<"u"?window:null}function $R(){return typeof document<"u"?document:null}function KC(n){return new AW(n,!0)}class nL{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class B4{constructor(e,t,r,i,s,a,h,p){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nL(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,at.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,at.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,at.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(co(t.toString()),co("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===rt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Rt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,at.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _q extends B4{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function xW(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:yn(),i=e.targetChange.targetIds||[],s=function(p,m){return p.useProto3Json?(Vn(void 0===m||"string"==typeof m),$o.fromBase64String(m||"")):(Vn(void 0===m||m instanceof Uint8Array),$o.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,h=a&&function(p){const m=void 0===p.code?rt.UNKNOWN:kz(p.code);return new Rt(m,p.message||"")}(a);t=new Vz(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=qh(n,r.document.name),s=lo(r.document.updateTime),a=r.document.createTime?lo(r.document.createTime):jn.min(),h=new za({mapValue:{fields:r.document.fields}}),p=ds.newFoundDocument(i,s,a,h);t=new xR(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=qh(n,r.document),s=r.readTime?lo(r.readTime):jn.min(),a=ds.newNoDocument(i,s);t=new xR([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const r=e.documentRemove,i=qh(n,r.document);t=new xR([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return yn();{const r=e.filter,{count:i=0,unchangedNames:s}=r,a=new wW(i,s);t=new Lz(r.targetId,a)}}var p;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return jn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?jn.min():s.readTime?lo(s.readTime):jn.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=UC(this.serializer),t.addTarget=function(i,s){let a;const h=s.target;if(a=bR(h)?{documents:Zz(i,h)}:{query:kF(i,h)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=zz(i,s.resumeToken);const p=xF(i,s.expectedCount);null!==p&&(a.expectedCount=p)}else if(s.snapshotVersion.compareTo(jn.min())>0){a.readTime=Mw(i,s.snapshotVersion.toTimestamp());const p=xF(i,s.expectedCount);null!==p&&(a.expectedCount=p)}return a}(this.serializer,e);const r=function RW(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=UC(this.serializer),t.removeTarget=e,this.Wo(t)}}class yq extends B4{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function MW(n,e){return n&&n.length>0?(Vn(void 0!==e),n.map(t=>function(r,i){let s=lo(r.updateTime?r.updateTime:i);return s.isEqual(jn.min())&&(s=lo(i)),new gW(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=lo(e.commitTime);return this.listener.cu(r,t)}return Vn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=UC(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jC(this.serializer,r))};this.Wo(t)}}class vq extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Rt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Rt(rt.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,t,r,s,a,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Rt(rt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class bq{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(co(t),this.mu=!1):Ut("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Iq{constructor(e,t,r,i,s){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{r.enqueueAndForget((0,at.Z)(function*(){var p;ug(a)&&(Ut("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,at.Z)(function*(m){const w=un(m);w.vu.add(4),yield Fw(w),w.bu.set("Unknown"),w.vu.delete(4),yield YC(w)}),function(m){return p.apply(this,arguments)})(a))}))}),this.bu=new bq(r,i)}}function YC(n){return iL.apply(this,arguments)}function iL(){return iL=(0,at.Z)(function*(n){if(ug(n))for(const e of n.Ru)yield e(!0)}),iL.apply(this,arguments)}function Fw(n){return sL.apply(this,arguments)}function sL(){return sL=(0,at.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),sL.apply(this,arguments)}function WR(n,e){const t=un(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),cL(t)?aL(t):Vw(t).Ko()&&oL(t,e))}function QC(n,e){const t=un(n),r=Vw(t);t.Au.delete(e),r.Ko()&&z4(t,e),0===t.Au.size&&(r.Ko()?r.jo():ug(t)&&t.bu.set("Unknown"))}function oL(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vw(n).su(e)}function z4(n,e){n.Vu.qt(e),Vw(n).iu(e)}function aL(n){n.Vu=new IW({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Vw(n).start(),n.bu.gu()}function cL(n){return ug(n)&&!Vw(n).Uo()&&n.Au.size>0}function ug(n){return 0===un(n).vu.size}function H4(n){n.Vu=void 0}function Eq(n){return lL.apply(this,arguments)}function lL(){return lL=(0,at.Z)(function*(n){n.Au.forEach((e,t)=>{oL(n,e)})}),lL.apply(this,arguments)}function Tq(n,e){return uL.apply(this,arguments)}function uL(){return uL=(0,at.Z)(function*(n,e){H4(n),cL(n)?(n.bu.Iu(e),aL(n)):n.bu.set("Unknown")}),uL.apply(this,arguments)}function Cq(n,e,t){return dL.apply(this,arguments)}function dL(){return dL=(0,at.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Vz&&2===e.state&&e.cause)try{yield(r=(0,at.Z)(function*(i,s){const a=s.cause;for(const h of s.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,a),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qR(n,r)}else if(e instanceof xR?n.Vu.Ht(e):e instanceof Lz?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(jn.min()))try{const r=yield R4(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=i.Au.get(p);m&&i.Au.set(p,m.withResumeToken(h.resumeToken,s))}}),a.targetMismatches.forEach((h,p)=>{const m=i.Au.get(h);if(!m)return;i.Au.set(h,m.withResumeToken($o.EMPTY_BYTE_STRING,m.snapshotVersion)),z4(i,h);const w=new dp(m.target,h,p,m.sequenceNumber);oL(i,w)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Ut("RemoteStore","Failed to raise snapshot:",r),yield qR(n,r)}var r}),dL.apply(this,arguments)}function qR(n,e,t){return hL.apply(this,arguments)}function hL(){return hL=(0,at.Z)(function*(n,e,t){if(!Xm(e))throw e;n.vu.add(1),yield Fw(n),n.bu.set("Offline"),t||(t=()=>R4(n.localStore)),n.asyncQueue.enqueueRetryable((0,at.Z)(function*(){Ut("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield YC(n)}))}),hL.apply(this,arguments)}function G4(n,e){return e().catch(t=>qR(n,t,e))}function Lw(n){return fL.apply(this,arguments)}function fL(){return fL=(0,at.Z)(function*(n){const e=un(n),t=dg(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Aq(e);)try{const i=yield uq(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Dq(e,i)}catch(i){yield qR(e,i)}$4(e)&&W4(e)}),fL.apply(this,arguments)}function Aq(n){return ug(n)&&n.Eu.length<10}function Dq(n,e){n.Eu.push(e);const t=dg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function $4(n){return ug(n)&&!dg(n).Uo()&&n.Eu.length>0}function W4(n){dg(n).start()}function Sq(n){return pL.apply(this,arguments)}function pL(){return pL=(0,at.Z)(function*(n){dg(n).hu()}),pL.apply(this,arguments)}function xq(n){return mL.apply(this,arguments)}function mL(){return mL=(0,at.Z)(function*(n){const e=dg(n);for(const t of n.Eu)e.uu(t.mutations)}),mL.apply(this,arguments)}function Mq(n,e,t){return gL.apply(this,arguments)}function gL(){return gL=(0,at.Z)(function*(n,e,t){const r=n.Eu.shift(),i=CF.from(r,e,t);yield G4(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lw(n)}),gL.apply(this,arguments)}function Rq(n,e){return _L.apply(this,arguments)}function _L(){return _L=(0,at.Z)(function*(n,e){var t;e&&dg(n).ou&&(yield(t=(0,at.Z)(function*(r,i){if(Pz(s=i.code)&&s!==rt.ABORTED){const a=r.Eu.shift();dg(r).Qo(),yield G4(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),yield Lw(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),$4(n)&&W4(n)}),_L.apply(this,arguments)}function q4(n,e){return yL.apply(this,arguments)}function yL(){return yL=(0,at.Z)(function*(n,e){const t=un(n);t.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const r=ug(t);t.vu.add(3),yield Fw(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield YC(t)}),yL.apply(this,arguments)}function vL(n,e){return wL.apply(this,arguments)}function wL(){return wL=(0,at.Z)(function*(n,e){const t=un(n);e?(t.vu.delete(2),yield YC(t)):e||(t.vu.add(2),yield Fw(t),t.bu.set("Unknown"))}),wL.apply(this,arguments)}function Vw(n){return n.Su||(n.Su=function(e,t,r){const i=un(e);return i.fu(),new _q(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Eq.bind(null,n),ao:Tq.bind(null,n),nu:Cq.bind(null,n)}),n.Ru.push(function(){var e=(0,at.Z)(function*(t){t?(n.Su.Qo(),cL(n)?aL(n):n.bu.set("Unknown")):(yield n.Su.stop(),H4(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function dg(n){return n.Du||(n.Du=function(e,t,r){const i=un(e);return i.fu(),new yq(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Sq.bind(null,n),ao:Rq.bind(null,n),au:xq.bind(null,n),cu:Mq.bind(null,n)}),n.Ru.push(function(){var e=(0,at.Z)(function*(t){t?(n.Du.Qo(),yield Lw(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ut("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class bL{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,h=new bL(e,t,a,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uw(n,e){if(co("AsyncQueue",`${e}: ${n}`),Xm(n))return new Rt(rt.UNAVAILABLE,`${e}: ${n}`);throw n}class jw{constructor(e){this.comparator=e?(t,r)=>e(t,r)||an.comparator(t.key,r.key):(t,r)=>an.comparator(t.key,r.key),this.keyedMap=RC(),this.sortedSet=new es(this.comparator)}static emptySet(e){return new jw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jw)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new jw;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Z4{constructor(){this.Cu=new es(an.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):yn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bw{constructor(e,t,r,i,s,a,h,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(h=>{a.push({type:0,doc:h})}),new Bw(e,t,jw.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Pq{constructor(){this.Nu=void 0,this.listeners=[]}}class kq{constructor(){this.queries=new lp(e=>fz(e),xC),this.onlineState="Unknown",this.ku=new Set}}function IL(n,e){return EL.apply(this,arguments)}function EL(){return EL=(0,at.Z)(function*(n,e){const t=un(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Pq),i)try{s.Nu=yield t.onListen(r)}catch(a){const h=Uw(a,`Initialization of query '${bF(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&AL(t)}),EL.apply(this,arguments)}function TL(n,e){return CL.apply(this,arguments)}function CL(){return CL=(0,at.Z)(function*(n,e){const t=un(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),CL.apply(this,arguments)}function Nq(n,e){const t=un(n);let r=!1;for(const i of e){const a=t.queries.get(i.query);if(a){for(const h of a.listeners)h.$u(i)&&(r=!0);a.Nu=i}}r&&AL(t)}function Oq(n,e,t){const r=un(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function AL(n){n.ku.forEach(e=>{e.next()})}class DL{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Bw(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Bw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fq{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class K4{constructor(e){this.serializer=e}rr(e){return qh(this.serializer,e)}ur(e){return e.metadata.exists?qz(this.serializer,e.document,!1):ds.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return lo(e)}}class Lq{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Y4(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Xr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new K4(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const a of i.metadata.queries){const h=(t.get(a)||Ir()).add(s);t.set(a,h)}}return t}complete(){var e=this;return(0,at.Z)(function*(){const t=yield function dq(n,e,t,r){return KF.apply(this,arguments)}(e.localStore,new K4(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield hq(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Y4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Q4{constructor(e){this.key=e}}class X4{constructor(e){this.key=e}}class J4{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ir(),this.mutatedKeys=Ir(),this.tc=mz(e),this.ec=new jw(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Z4,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,m="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,x)=>{const F=i.get(w),z=MC(this.query,x)?x:null,oe=!!F&&this.mutatedKeys.has(F.key),ge=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let le=!1;F&&z?F.data.isEqual(z.data)?oe!==ge&&(r.track({type:3,doc:z}),le=!0):this.rc(F,z)||(r.track({type:2,doc:z}),le=!0,(p&&this.tc(z,p)>0||m&&this.tc(z,m)<0)&&(h=!0)):!F&&z?(r.track({type:0,doc:z}),le=!0):F&&!z&&(r.track({type:1,doc:F}),le=!0,(p||m)&&(h=!0)),le&&(z?(a=a.add(z),s=ge?s.add(w):s.delete(w)):(a=a.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const w="F"===this.query.limitType?a.last():a.first();a=a.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{ec:a,ic:r,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((m,w)=>function(x,F){const z=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yn()}};return z(x)-z(F)}(m.type,w.type)||this.tc(m.doc,w.doc)),this.oc(r);const a=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new Bw(this.query,e.ec,i,s,e.mutatedKeys,0===h,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Z4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ir(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new X4(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Q4(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Ir();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Bw.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vq{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Uq{constructor(e){this.key=e,this.fc=!1}}class jq{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new lp(h=>fz(h),xC),this._c=new Map,this.mc=new Set,this.gc=new es(an.comparator),this.yc=new Map,this.Ic=new BF,this.Tc={},this.Ec=new Map,this.Ac=My.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Bq(n,e){return SL.apply(this,arguments)}function SL(){return SL=(0,at.Z)(function*(n,e){const t=QL(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=yield Nw(t.localStore,jc(e)),h=t.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=yield xL(t,e,r,"current"===h,a.resumeToken),t.isPrimaryClient&&WR(t.remoteStore,a)}return i}),SL.apply(this,arguments)}function xL(n,e,t,r,i){return ML.apply(this,arguments)}function ML(){return ML=(0,at.Z)(function*(n,e,t,r,i){n.Rc=(x,F,z)=>{return(oe=(0,at.Z)(function*(ge,le,Be,dt){let pt=le.view.sc(Be);pt.zi&&(pt=yield BR(ge.localStore,le.query,!1).then(({documents:cn})=>le.view.sc(cn,pt)));const It=dt&&dt.targetChanges.get(le.targetId),qt=le.view.applyChanges(pt,ge.isPrimaryClient,It);return jL(ge,le.targetId,qt.cc),qt.snapshot}),function(ge,le,Be,dt){return oe.apply(this,arguments)})(n,x,F,z);var oe};const s=yield BR(n.localStore,e,!0),a=new J4(e,s.ir),h=a.sc(s.documents),p=LC.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),m=a.applyChanges(h,n.isPrimaryClient,p);jL(n,t,m.cc);const w=new Vq(e,t,a);return n.wc.set(e,w),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),m.snapshot}),ML.apply(this,arguments)}function zq(n,e){return RL.apply(this,arguments)}function RL(){return RL=(0,at.Z)(function*(n,e){const t=un(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!xC(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ow(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),QC(t.remoteStore,r.targetId),zw(t,r.targetId)}).catch(Qm))):(zw(t,r.targetId),yield Ow(t.localStore,r.targetId,!0))}),RL.apply(this,arguments)}function PL(){return PL=(0,at.Z)(function*(n,e,t){const r=XL(n);try{const i=yield function(s,a){const h=un(s),p=bs.now(),m=a.reduce((F,z)=>F.add(z.key),Ir());let w,x;return h.persistence.runTransaction("Locally write mutations","readwrite",F=>{let z=fl(),oe=Ir();return h.Zi.getEntries(F,m).next(ge=>{z=ge,z.forEach((le,Be)=>{Be.isValidDocument()||(oe=oe.add(le))})}).next(()=>h.localDocuments.getOverlayedDocuments(F,z)).next(ge=>{w=ge;const le=[];for(const Be of a){const dt=yW(Be,w.get(Be.key).overlayedDocument);null!=dt&&le.push(new up(Be.key,dt,JB(dt.value.mapValue),Is.exists(!0)))}return h.mutationQueue.addMutationBatch(F,p,le,a)}).next(ge=>{x=ge;const le=ge.applyToLocalDocumentSet(w,oe);return h.documentOverlayCache.saveOverlays(F,ge.batchId,le)})}).then(()=>({batchId:x.batchId,changes:_z(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new es(dr)),p=p.insert(a,h),s.Tc[s.currentUser.toKey()]=p}(r,i.batchId,t),yield hp(r,i.changes),yield Lw(r.remoteStore)}catch(i){const s=Uw(i,"Failed to persist write");t.reject(s)}}),PL.apply(this,arguments)}function e3(n,e){return kL.apply(this,arguments)}function kL(){return kL=(0,at.Z)(function*(n,e){const t=un(n);try{const r=yield function lq(n,e){const t=un(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((w,x)=>{const F=i.get(x);if(!F)return;h.push(t.Bs.removeMatchingKeys(s,w.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(s,w.addedDocuments,x)));let z=F.withSequenceNumber(s.currentSequenceNumber);var oe,ge,le;null!==e.targetMismatches.get(x)?z=z.withResumeToken($o.EMPTY_BYTE_STRING,jn.min()).withLastLimboFreeSnapshotVersion(jn.min()):w.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(w.resumeToken,r)),i=i.insert(x,z),ge=z,le=w,(0===(oe=F).resumeToken.approximateByteSize()||ge.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,z))});let p=fl(),m=Ir();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),h.push(P4(s,a,e.documentUpdates).next(w=>{p=w.nr,m=w.sr})),!r.isEqual(jn.min())){const w=t.Bs.getLastRemoteSnapshotVersion(s).next(x=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(w)}return $e.waitFor(h).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,m)).next(()=>p)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.yc.get(s);a&&(Vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?Vn(a.fc):i.removedDocuments.size>0&&(Vn(a.fc),a.fc=!1))}),yield hp(t,r,e)}catch(r){yield Qm(r)}}),kL.apply(this,arguments)}function t3(n,e,t){const r=un(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,a)=>{const h=a.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(s,a){const h=un(s);h.onlineState=a;let p=!1;h.queries.forEach((m,w)=>{for(const x of w.listeners)x.Mu(a)&&(p=!0)}),p&&AL(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Gq(n,e,t){return NL.apply(this,arguments)}function NL(){return NL=(0,at.Z)(function*(n,e,t){const r=un(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let a=new es(an.comparator);a=a.insert(s,ds.newNoDocument(s,jn.min()));const h=Ir().add(s),p=new FC(jn.min(),new Map,new es(dr),a,h);yield e3(r,p),r.gc=r.gc.remove(s),r.yc.delete(e),BL(r)}else yield Ow(r.localStore,e,!1).then(()=>zw(r,e,t)).catch(Qm)}),NL.apply(this,arguments)}function $q(n,e){return OL.apply(this,arguments)}function OL(){return OL=(0,at.Z)(function*(n,e){const t=un(n),r=e.batch.batchId;try{const i=yield function cq(n,e){const t=un(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(a,h,p,m){const w=p.batch,x=w.keys();let F=$e.resolve();return x.forEach(z=>{F=F.next(()=>m.getEntry(h,z)).next(oe=>{const ge=p.docVersions.get(z);Vn(null!==ge),oe.version.compareTo(ge)<0&&(w.applyToRemoteDocument(oe,p),oe.isValidDocument()&&(oe.setReadTime(p.commitVersion),m.addEntry(oe)))})}),F.next(()=>a.mutationQueue.removeMutationBatch(h,w))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let h=Ir();for(let p=0;p<a.mutationResults.length;++p)a.mutationResults[p].transformResults.length>0&&(h=h.add(a.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);UL(t,r,null),VL(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield hp(t,i)}catch(i){yield Qm(i)}}),OL.apply(this,arguments)}function Wq(n,e,t){return FL.apply(this,arguments)}function FL(){return FL=(0,at.Z)(function*(n,e,t){const r=un(n);try{const i=yield function(s,a){const h=un(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,a).next(w=>(Vn(null!==w),m=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,a)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(r.localStore,e);UL(r,e,t),VL(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield hp(r,i)}catch(i){yield Qm(i)}}),FL.apply(this,arguments)}function LL(){return LL=(0,at.Z)(function*(n,e){const t=un(n);ug(t.remoteStore)||Ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=un(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>a.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=Uw(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),LL.apply(this,arguments)}function VL(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function UL(n,e,t){const r=un(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function zw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||n3(n,r)})}function n3(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(QC(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),BL(n))}function jL(n,e,t){for(const r of t)r instanceof Q4?(n.Ic.addReference(r.key,e),Zq(n,r)):r instanceof X4?(Ut("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||n3(n,r.key)):yn()}function Zq(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ut("SyncEngine","New document in limbo: "+t),n.mc.add(r),BL(n))}function BL(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new an(Xr.fromString(e)),r=n.Ac.next();n.yc.set(r,new Uq(t)),n.gc=n.gc.insert(t,r),WR(n.remoteStore,new dp(jc(Cw(t.path)),r,"TargetPurposeLimboResolution",su.ct))}}function hp(n,e,t){return zL.apply(this,arguments)}function zL(){return zL=(0,at.Z)(function*(n,e,t){const r=un(n),i=[],s=[],a=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,p)=>{a.push(r.Rc(p,e,t).then(m=>{if((m||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,m?.fromCache?"not-current":"current"),m){i.push(m);const w=WF.Li(p.targetId,m);s.push(w)}}))}),yield Promise.all(a),r.dc.nu(i),yield(h=(0,at.Z)(function*(p,m){const w=un(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>$e.forEach(m,F=>$e.forEach(F.Fi,z=>w.persistence.referenceDelegate.addReference(x,F.targetId,z)).next(()=>$e.forEach(F.Bi,z=>w.persistence.referenceDelegate.removeReference(x,F.targetId,z)))))}catch(x){if(!Xm(x))throw x;Ut("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const F=x.targetId;if(!x.fromCache){const z=w.Ji.get(F),ge=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);w.Ji=w.Ji.insert(F,ge)}}}),function(p,m){return h.apply(this,arguments)})(r.localStore,s))}),zL.apply(this,arguments)}function Kq(n,e){return HL.apply(this,arguments)}function HL(){return HL=(0,at.Z)(function*(n,e){const t=un(n);if(!t.currentUser.isEqual(e)){Ut("SyncEngine","User change. New user:",e.toKey());const r=yield M4(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(a=>{a.forEach(h=>{h.reject(new Rt(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hp(t,r.er)}var i}),HL.apply(this,arguments)}function Yq(n,e){const t=un(n),r=t.yc.get(e);if(r&&r.fc)return Ir().add(r.key);{let i=Ir();const s=t._c.get(e);if(!s)return i;for(const a of s){const h=t.wc.get(a);i=i.unionWith(h.view.nc)}return i}}function Qq(n,e){return GL.apply(this,arguments)}function GL(){return GL=(0,at.Z)(function*(n,e){const t=un(n),r=yield BR(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&jL(t,e.targetId,i.cc),i}),GL.apply(this,arguments)}function Xq(n,e){return $L.apply(this,arguments)}function $L(){return $L=(0,at.Z)(function*(n,e){const t=un(n);return N4(t.localStore,e).then(r=>hp(t,r))}),$L.apply(this,arguments)}function Jq(n,e,t,r){return WL.apply(this,arguments)}function WL(){return WL=(0,at.Z)(function*(n,e,t,r){const i=un(n),s=yield function(a,h){const p=un(a),m=un(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>m.Sn(w,h).next(x=>x?p.localDocuments.getDocuments(w,x):$e.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield Lw(i.remoteStore):"acknowledged"===t||"rejected"===t?(UL(i,e,r||null),VL(i,e),h=e,un(un(i.localStore).mutationQueue).Cn(h)):yn(),yield hp(i,s)):Ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),WL.apply(this,arguments)}function qL(){return qL=(0,at.Z)(function*(n,e){const t=un(n);if(QL(t),XL(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield r3(t,r.toArray());t.vc=!0,yield vL(t.remoteStore,!0);for(const s of i)WR(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(zw(t,a),Ow(t.localStore,a,!0))),QC(t.remoteStore,a)}),yield i,yield r3(t,r),function(s){const a=un(s);a.yc.forEach((h,p)=>{QC(a.remoteStore,p)}),a.Ic.Ts(),a.yc=new Map,a.gc=new es(an.comparator)}(t),t.vc=!1,yield vL(t.remoteStore,!1)}}),qL.apply(this,arguments)}function r3(n,e,t){return ZL.apply(this,arguments)}function ZL(){return ZL=(0,at.Z)(function*(n,e,t){const r=un(n),i=[],s=[];for(const a of e){let h;const p=r._c.get(a);if(p&&0!==p.length){h=yield Nw(r.localStore,jc(p[0]));for(const m of p){const w=r.wc.get(m),x=yield Qq(r,w);x.snapshot&&s.push(x.snapshot)}}else{const m=yield k4(r.localStore,a);h=yield Nw(r.localStore,m),yield xL(r,s3(m),a,!1,h.resumeToken)}i.push(h)}return r.dc.nu(s),i}),ZL.apply(this,arguments)}function s3(n){return dz(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function t7(n){const e=un(n);return un(un(e.localStore).persistence).$i()}function n7(n,e,t,r){return KL.apply(this,arguments)}function KL(){return KL=(0,at.Z)(function*(n,e,t,r){const i=un(n);if(i.vc)return void Ut("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=yield N4(i.localStore,pz(s[0])),h=FC.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$o.EMPTY_BYTE_STRING);yield hp(i,a,h);break}case"rejected":yield Ow(i.localStore,e,!0),zw(i,e,r);break;default:yn()}}),KL.apply(this,arguments)}function r7(n,e,t){return YL.apply(this,arguments)}function YL(){return YL=(0,at.Z)(function*(n,e,t){const r=QL(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ut("SyncEngine","Adding an already active target "+i);continue}const s=yield k4(r.localStore,i),a=yield Nw(r.localStore,s);yield xL(r,s3(s),a.targetId,!1,a.resumeToken),WR(r.remoteStore,a)}for(const i of t)r._c.has(i)&&(yield Ow(r.localStore,i,!1).then(()=>{QC(r.remoteStore,i),zw(r,i)}).catch(Qm))}}),YL.apply(this,arguments)}function QL(n){const e=un(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=e3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gq.bind(null,e),e.dc.nu=Nq.bind(null,e.eventManager),e.dc.Pc=Oq.bind(null,e.eventManager),e}function XL(n){const e=un(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$q.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wq.bind(null,e),e}class XC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,at.Z)(function*(){t.serializer=KC(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return x4(this.persistence,new S4,e.initialUser,this.serializer)}createPersistence(e){return new zF(VR.zs,this.serializer)}createSharedClientState(e){return new V4}terminate(){var e=this;return(0,at.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JL extends XC{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,at.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield XL(r.Vc.syncEngine),yield Lw(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return x4(this.persistence,new S4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new v4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new M5(t,this.persistence);return new x5(e.asyncQueue,r)}createPersistence(e){const t=$F(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?vc.withCacheSize(this.cacheSizeBytes):vc.DEFAULT;return new GF(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,j4(),$R(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new V4}}class o3 extends JL{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,at.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof eL&&(r.sharedClientState.syncEngine={jr:Jq.bind(null,i),zr:n7.bind(null,i),Wr:r7.bind(null,i),$i:t7.bind(null,i),Qr:Xq.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var s=(0,at.Z)(function*(a){yield function e7(n,e){return qL.apply(this,arguments)}(r.Vc.syncEngine,a),r.gcScheduler&&(a&&!r.gcScheduler.started?r.gcScheduler.start():a||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(a&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():a||r.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=j4();if(!eL.D(t))throw new Rt(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=$F(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eL(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Hw{initialize(e,t){var r=this;return(0,at.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>t3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Kq.bind(null,r.syncEngine),yield vL(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kq}createDatastore(e){const t=KC(e.databaseInfo.databaseId),r=new gq(e.databaseInfo);return new vq(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>t3(this.syncEngine,h,0),a=U4.D()?new U4:new fq,new Iq(t,r,i,s,a);var t,r,i,s,a}createSyncEngine(e,t){return function(r,i,s,a,h,p,m){const w=new jq(r,i,s,a,h,p);return m&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,at.Z)(function*(t){const r=un(t);Ut("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Fw(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function a3(n,e=10240){let t=0;return{read:()=>(0,at.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,at.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ZR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class o7{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Go,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,at.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,at.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,at.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const s=yield e.$c(i);return new Fq(JSON.parse(s),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,at.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,at.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,at.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class a7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,at.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Rt(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,at.Z)(function*(s,a){const h=un(s),p=UC(h.serializer)+"/documents",m={documents:a.map(z=>VC(h.serializer,z))},w=yield h.vo("BatchGetDocuments",p,m,a.length),x=new Map;w.forEach(z=>{const oe=function SW(n,e){return"found"in e?function(t,r){Vn(!!r.found);const i=qh(t,r.found.name),s=lo(r.found.updateTime),a=r.found.createTime?lo(r.found.createTime):jn.min(),h=new za({mapValue:{fields:r.found.fields}});return ds.newFoundDocument(i,s,a,h)}(n,e):"missing"in e?function(t,r){Vn(!!r.missing),Vn(!!r.readTime);const i=qh(t,r.missing),s=lo(r.readTime);return ds.newNoDocument(i,s)}(n,e):yn()}(h.serializer,z);x.set(oe.key.toString(),oe)});const F=[];return a.forEach(z=>{const oe=x.get(z.toString());Vn(!!oe),F.push(oe)}),F}),function(s,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new xw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,at.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=an.fromPath(i);e.mutations.push(new EF(s,e.precondition(s)))}),yield(r=(0,at.Z)(function*(i,s){const a=un(i),h=UC(a.serializer)+"/documents",p={writes:s.map(m=>jC(a.serializer,m))};yield a.Io("Commit",h,p)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yn();t=jn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Rt(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jn.min())?Is.exists(!1):Is.updateTime(t):Is.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jn.min()))throw new Rt(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Is.updateTime(t)}return Is.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class c7{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new nL(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,at.Z)(function*(){const t=new a7(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Uc(s)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!IC(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Pz(t)}return!1}}class l7{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ya.UNAUTHENTICATED,this.clientId=xB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var a=(0,at.Z)(function*(h){Ut("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Ut("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return(0,at.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,at.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Uw(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function KR(n,e){return e2.apply(this,arguments)}function e2(){return e2=(0,at.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,at.Z)(function*(s){r.isEqual(s)||(yield M4(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),e2.apply(this,arguments)}function t2(n,e){return n2.apply(this,arguments)}function n2(){return n2=(0,at.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield r2(n);Ut("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>q4(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>q4(e.remoteStore,s)),n._onlineComponents=e}),n2.apply(this,arguments)}function c3(n){return"FirebaseError"===n.name?n.code===rt.FAILED_PRECONDITION||n.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function r2(n){return s2.apply(this,arguments)}function s2(){return s2=(0,at.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ut("FirestoreClient","Using user provided OfflineComponentProvider");try{yield KR(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!c3(t))throw t;Zu("Error using user provided cache. Falling back to memory cache: "+t),yield KR(n,new XC)}}else Ut("FirestoreClient","Using default OfflineComponentProvider"),yield KR(n,new XC);return n._offlineComponents}),s2.apply(this,arguments)}function YR(n){return o2.apply(this,arguments)}function o2(){return o2=(0,at.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ut("FirestoreClient","Using user provided OnlineComponentProvider"),yield t2(n,n._uninitializedComponentsProvider._online)):(Ut("FirestoreClient","Using default OnlineComponentProvider"),yield t2(n,new Hw))),n._onlineComponents}),o2.apply(this,arguments)}function l3(n){return r2(n).then(e=>e.persistence)}function QR(n){return r2(n).then(e=>e.localStore)}function u3(n){return YR(n).then(e=>e.remoteStore)}function a2(n){return YR(n).then(e=>e.syncEngine)}function Gw(n){return c2.apply(this,arguments)}function c2(){return c2=(0,at.Z)(function*(n){const e=yield YR(n),t=e.eventManager;return t.onListen=Bq.bind(null,e.syncEngine),t.onUnlisten=zq.bind(null,e.syncEngine),t}),c2.apply(this,arguments)}function h3(n,e,t={}){const r=new Go;return n.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return function(i,s,a,h,p){const m=new ZR({next:x=>{s.enqueueAndForget(()=>TL(i,w));const F=x.docs.has(a);!F&&x.fromCache?p.reject(new Rt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&h&&"server"===h.source?p.reject(new Rt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new DL(Cw(a.path),m,{includeMetadataChanges:!0,Ku:!0});return IL(i,w)}(yield Gw(n),n.asyncQueue,e,t,r)})),r.promise}function f3(n,e,t={}){const r=new Go;return n.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return function(i,s,a,h,p){const m=new ZR({next:x=>{s.enqueueAndForget(()=>TL(i,w)),x.fromCache&&"server"===h.source?p.reject(new Rt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new DL(a,m,{includeMetadataChanges:!0,Ku:!0});return IL(i,w)}(yield Gw(n),n.asyncQueue,e,t,r)})),r.promise}function p3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const m3=new Map;function l2(n,e,t){if(!t)throw new Rt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function g3(n,e,t,r){if(!0===e&&!0===r)throw new Rt(rt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _3(n){if(!an.isDocumentKey(n))throw new Rt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y3(n){if(an.isDocumentKey(n))throw new Rt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XR(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yn()}function jr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Rt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XR(n);throw new Rt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function v3(n,e){if(e<=0)throw new Rt(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class w3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=p3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Rt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Rt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Rt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class JC{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _5;switch(t.type){case"firstParty":return new b5(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Rt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m3.get(e);t&&(Ut("ComponentProvider","Removing Datastore"),m3.delete(e),t.terminate())}(this),Promise.resolve()}}function b3(n,e,t,r={}){var i;const s=(n=jr(n,JC))._getSettings(),a=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=ya.MOCK_USER;else{h=(0,On.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Rt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ya(m)}n._authCredentials=new y5(new DB(h,p))}}class hs{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hs(this.firestore,e,this._key)}}class Ha{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class Zh extends Ha{constructor(e,t,r){super(e,t,Cw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hs(this.firestore,null,new an(e))}withConverter(e){return new Zh(this.firestore,e,this._path)}}function I3(n,e,...t){if(n=(0,On.m9)(n),l2("collection","path",e),n instanceof JC){const r=Xr.fromString(e,...t);return y3(r),new Zh(n,null,r)}{if(!(n instanceof hs||n instanceof Zh))throw new Rt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xr.fromString(e,...t));return y3(r),new Zh(n.firestore,null,r)}}function JR(n,e,...t){if(n=(0,On.m9)(n),1===arguments.length&&(e=xB.A()),l2("doc","path",e),n instanceof JC){const r=Xr.fromString(e,...t);return _3(r),new hs(n,null,new an(r))}{if(!(n instanceof hs||n instanceof Zh))throw new Rt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xr.fromString(e,...t));return _3(r),new hs(n.firestore,n instanceof Zh?n.converter:null,new an(r))}}function E3(n,e){return n=(0,On.m9)(n),e=(0,On.m9)(e),(n instanceof hs||n instanceof Zh)&&(e instanceof hs||e instanceof Zh)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function u2(n,e){return n=(0,On.m9)(n),e=(0,On.m9)(e),n instanceof Ha&&e instanceof Ha&&n.firestore===e.firestore&&xC(n._query,e._query)&&n.converter===e.converter}class v7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nL(this,"async_queue_retry"),this.Xc=()=>{const t=$R();t&&Ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=$R();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=$R();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Go;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,at.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Xm(t))throw t;Ut("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,co("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=bL.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&yn()}verifyOperationInProgress(){}sa(){var e=this;return(0,at.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function d2(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class w7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Go,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fs extends JC{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new v7,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||T3(this),this._firestoreClient.terminate()}}function I7(n,e){const t="object"==typeof n?n:(0,dw.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,dw._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,On.P0)("firestore");s&&b3(i,...s)}return i}function uo(n){return n._firestoreClient||T3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function T3(n){var e,t,r;const i=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Q5(n._databaseId,h,n._persistenceKey,(m=i).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,p3(m.experimentalLongPollingOptions),m.useFetchStreams));var h,m;n._firestoreClient=new l7(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function C3(n,e,t){const r=new Go;return n.asyncQueue.enqueue((0,at.Z)(function*(){try{yield KR(n,t),yield t2(n,e),r.resolve()}catch(i){const s=i;if(!c3(s))throw s;Zu("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function A3(n){if(n._initialized||n._terminated)throw new Rt(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kh($o.fromBase64String(e))}catch(t){throw new Rt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kh($o.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Rt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Py{constructor(e){this._methodName=e}}class e1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dr(this._lat,e._lat)||dr(this._long,e._long)}}const P7=/^__.*__$/;class k7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new up(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sw(e,this.data,t,this.fieldTransforms)}}class D3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new up(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function S3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn()}}class t1{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new t1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return s1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(S3(this.ca)&&P7.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class N7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||KC(e)}ya(e,t,r,i=!1){return new t1({ca:e,methodName:t,ga:r,path:qs.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(n){const e=n._freezeSettings(),t=KC(n._databaseId);return new N7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function n1(n,e,t,r,i,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,e,t,i);m2("Data must be an object, but it was:",a,r);const h=R3(r,a);let p,m;if(s.merge)p=new hl(a.fieldMask),m=a.fieldTransforms;else if(s.mergeFields){const w=[];for(const x of s.mergeFields){const F=nA(e,x,t);if(!a.contains(F))throw new Rt(rt.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);k3(w,F)||w.push(F)}p=new hl(w),m=a.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,m=a.fieldTransforms;return new k7(new za(h),p,m)}class tA extends Py{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tA}}function x3(n,e,t){return new t1({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class h2 extends Py{_toFieldTransform(e){return new kC(e.path,new Aw)}isEqual(e){return e instanceof h2}}class O7 extends Py{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=x3(this,e,!0),r=this.pa.map(s=>Ny(s,t)),i=new Ey(r);return new kC(e.path,i)}isEqual(e){return this===e}}class F7 extends Py{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=x3(this,e,!0),r=this.pa.map(s=>Ny(s,t)),i=new Ty(r);return new kC(e.path,i)}isEqual(e){return this===e}}class L7 extends Py{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Dw(e.serializer,bz(e.serializer,this.Ia));return new kC(e.path,t)}isEqual(e){return this===e}}function f2(n,e,t,r){const i=n.ya(1,e,t);m2("Data must be an object, but it was:",i,r);const s=[],a=za.empty();Jm(r,(p,m)=>{const w=r1(e,p,t);m=(0,On.m9)(m);const x=i.da(w);if(m instanceof tA)s.push(w);else{const F=Ny(m,x);null!=F&&(s.push(w),a.set(w,F))}});const h=new hl(s);return new D3(a,h,i.fieldTransforms)}function p2(n,e,t,r,i,s){const a=n.ya(1,e,t),h=[nA(e,r,t)],p=[i];if(s.length%2!=0)throw new Rt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<s.length;F+=2)h.push(nA(e,s[F])),p.push(s[F+1]);const m=[],w=za.empty();for(let F=h.length-1;F>=0;--F)if(!k3(m,h[F])){const z=h[F];let oe=p[F];oe=(0,On.m9)(oe);const ge=a.da(z);if(oe instanceof tA)m.push(z);else{const le=Ny(oe,ge);null!=le&&(m.push(z),w.set(z,le))}}const x=new hl(m);return new D3(w,x,a.fieldTransforms)}function M3(n,e,t,r=!1){return Ny(t,n.ya(r?4:3,e))}function Ny(n,e){if(P3(n=(0,On.m9)(n)))return m2("Unsupported field value:",e,n),R3(n,e);if(n instanceof Py)return function(t,r){if(!S3(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const a of t){let h=Ny(a,r.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,On.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bz(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=bs.fromDate(t);return{timestampValue:Mw(r.serializer,i)}}if(t instanceof bs){const i=new bs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mw(r.serializer,i)}}if(t instanceof e1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kh)return{bytesValue:zz(r.serializer,t._byteString)};if(t instanceof hs){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:MF(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${XR(t)}`)}(n,e)}function R3(n,e){const t={};return GB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jm(n,(r,i)=>{const s=Ny(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function P3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bs||n instanceof e1||n instanceof Kh||n instanceof hs||n instanceof Py)}function m2(n,e,t){if(!P3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=XR(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function nA(n,e,t){if((e=(0,On.m9)(e))instanceof fp)return e._internalPath;if("string"==typeof e)return r1(n,e);throw s1("Field path arguments must be of type string or ",n,!1,void 0,t)}const V7=new RegExp("[~\\*/\\[\\]]");function r1(n,e,t){if(e.search(V7)>=0)throw s1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fp(...e.split("."))._internalPath}catch{throw s1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function s1(n,e,t,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||a)&&(p+=" (found",s&&(p+=` in field ${r}`),a&&(p+=` in document ${i}`),p+=")"),new Rt(rt.INVALID_ARGUMENT,h+n+p)}function k3(n,e){return n.some(t=>t.isEqual(e))}class rA{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new U7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(o1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class U7 extends rA{data(){return super.data()}}function o1(n,e){return"string"==typeof e?r1(n,e):e instanceof fp?e._internalPath:e._delegate._internalPath}function N3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Rt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g2{}class iA extends g2{}function hg(n,e,...t){let r=[];e instanceof g2&&r.push(e),r=r.concat(t),function(i){const s=i.filter(h=>h instanceof $w).length,a=i.filter(h=>h instanceof sA).length;if(s>1||s>0&&a>0)throw new Rt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class sA extends iA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sA(e,t,r)}_apply(e){const t=this._parse(e);return V3(e._query,t),new Ha(e.firestore,e.converter,wF(e._query,t))}_parse(e){const t=ky(e.firestore);return function(i,s,a,h,p,m,w){let x;if(p.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new Rt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){L3(w,m);const F=[];for(const z of w)F.push(F3(h,i,z));x={arrayValue:{values:F}}}else x=F3(h,i,w)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||L3(w,m),x=M3(a,"where",w,"in"===m||"not-in"===m);return Ur.create(p,m,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class $w extends g2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $w(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const h of a)V3(s,h),s=wF(s,h)}(e._query,t),new Ha(e.firestore,e.converter,wF(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _2 extends iA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _2(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new Rt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Rt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ew(i,s);return function(h,p){if(null===yF(h)){const m=ER(h);null!==m&&U3(0,m,p.field)}}(r,a),a}(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new cp(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class a1 extends iA{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new a1(e,t,r)}_apply(e){return new Ha(e.firestore,e.converter,TR(e._query,this._limit,this._limitType))}}class c1 extends iA{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new c1(e,t,r)}_apply(e){const t=O3(e,this.type,this._docOrFields,this._inclusive);return new Ha(e.firestore,e.converter,(i=t,new cp((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class l1 extends iA{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new l1(e,t,r)}_apply(e){const t=O3(e,this.type,this._docOrFields,this._inclusive);return new Ha(e.firestore,e.converter,(i=t,new cp((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function O3(n,e,t,r){if(t[0]=(0,On.m9)(t[0]),t[0]instanceof rA)return function(i,s,a,h,p){if(!h)throw new Rt(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const m=[];for(const w of Iy(i))if(w.field.isKeyField())m.push(wy(s,h.key));else{const x=h.data.field(w.field);if(gR(x))throw new Rt(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=w.field.canonicalString();throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}m.push(x)}return new sg(m,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ky(n.firestore);return function(s,a,h,p,m,w){const x=s.explicitOrderBy;if(m.length>x.length)throw new Rt(rt.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let z=0;z<m.length;z++){const oe=m[z];if(x[z].field.isKeyField()){if("string"!=typeof oe)throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof oe}`);if(!vF(s)&&-1!==oe.indexOf("/"))throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${oe}' contains a slash.`);const ge=s.path.child(Xr.fromString(oe));if(!an.isDocumentKey(ge))throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${ge}' is not because it contains an odd number of segments.`);const le=new an(ge);F.push(wy(a,le))}else{const ge=M3(h,p,oe);F.push(ge)}}return new sg(F,w)}(n._query,n.firestore._databaseId,i,e,t,r)}}function F3(n,e,t){if("string"==typeof(t=(0,On.m9)(t))){if(""===t)throw new Rt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vF(e)&&-1!==t.indexOf("/"))throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xr.fromString(t));if(!an.isDocumentKey(r))throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wy(n,new an(r))}if(t instanceof hs)return wy(n,t._key);throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XR(t)}.`)}function L3(n,e){if(!Array.isArray(n)||0===n.length)throw new Rt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V3(n,e){if(e.isInequality()){const r=ER(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=yF(n);null!==s&&U3(0,i,s)}const t=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Rt(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function U3(n,e,t){if(!t.isEqual(e))throw new Rt(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class y2{convertValue(e,t="none"){switch(rg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ap(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Jm(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new e1(Zs(e.latitude),Zs(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_R(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(TC(e));default:return null}}convertTimestamp(e){const t=eg(e);return new bs(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xr.fromString(e);Vn(Xz(r));const i=new tg(r.get(1),r.get(3)),s=new an(r.popFirst(5));return i.isEqual(t)||co(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function u1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Z7 extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,t)}}class Oy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pp extends rA{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(o1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class oA extends pp{data(e={}){return super.data(e)}}class fg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Oy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new oA(this._firestore,this._userDataWriter,r.key,r,new Oy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new oA(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Oy(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const h=new oA(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Oy(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,m=-1;return 0!==a.type&&(p=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),m=s.indexOf(a.doc.key)),{type:Y7(a.type),doc:h,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Y7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yn()}}function B3(n,e){return n instanceof pp&&e instanceof pp?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof fg&&e instanceof fg&&n._firestore===e._firestore&&u2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class pg extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,t)}}function z3(n,e,t){n=jr(n,hs);const r=jr(n.firestore,fs),i=u1(n.converter,e,t);return Ww(r,[n1(ky(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Is.none())])}function H3(n,e,t,...r){n=jr(n,hs);const i=jr(n.firestore,fs),s=ky(i);let a;return a="string"==typeof(e=(0,On.m9)(e))||e instanceof fp?p2(s,"updateDoc",n._key,e,t,r):f2(s,"updateDoc",n._key,e),Ww(i,[a.toMutation(n._key,Is.exists(!0))])}function G3(n,...e){var t,r,i;n=(0,On.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||d2(e[a])||(s=e[a],a++);const h={includeMetadataChanges:s.includeMetadataChanges};if(d2(e[a])){const x=e[a];e[a]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[a+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[a+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let p,m,w;if(n instanceof hs)m=jr(n.firestore,fs),w=Cw(n._key.path),p={next:x=>{e[a]&&e[a](v2(m,n,x))},error:e[a+1],complete:e[a+2]};else{const x=jr(n,Ha);m=jr(x.firestore,fs),w=x._query;const F=new pg(m);p={next:z=>{e[a]&&e[a](new fg(m,F,x,z))},error:e[a+1],complete:e[a+2]},N3(n._query)}return function(x,F,z,oe){const ge=new ZR(oe),le=new DL(F,ge,z);return x.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return IL(yield Gw(x),le)})),()=>{ge.Dc(),x.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return TL(yield Gw(x),le)}))}}(uo(m),w,h,p)}function Ww(n,e){return function(t,r){const i=new Go;return t.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return function Hq(n,e,t){return PL.apply(this,arguments)}(yield a2(t),r,i)})),i.promise}(uo(n),e)}function v2(n,e,t){const r=t.docs.get(e._key),i=new pg(n);return new pp(n,i,e._key,r,new Oy(t.hasPendingWrites,t.fromCache),e.converter)}const p8={maxAttempts:5};class $3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ky(e)}set(e,t,r){this._verifyNotCommitted();const i=mg(e,this._firestore),s=u1(i.converter,t,r),a=n1(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(a.toMutation(i._key,Is.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=mg(e,this._firestore);let a;return a="string"==typeof(t=(0,On.m9)(t))||t instanceof fp?p2(this._dataReader,"WriteBatch.update",s._key,t,r,i):f2(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Is.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mg(e,this._firestore);return this._mutations=this._mutations.concat(new xw(t._key,Is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mg(n,e){if((n=(0,On.m9)(n)).firestore!==e)throw new Rt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class m8 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ky(e)}get(e){const t=mg(e,this._firestore),r=new Z7(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return yn();const s=i[0];if(s.isFoundDocument())return new rA(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new rA(this._firestore,r,t._key,null,t.converter);throw yn()})}set(e,t,r){const i=mg(e,this._firestore),s=u1(i.converter,t,r),a=n1(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,a),this}update(e,t,r,...i){const s=mg(e,this._firestore);let a;return a="string"==typeof(t=(0,On.m9)(t))||t instanceof fp?p2(this._dataReader,"Transaction.update",s._key,t,r,i):f2(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=mg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mg(e,this._firestore),r=new pg(this._firestore);return super.get(e).then(i=>new pp(this._firestore,r,t._key,i._document,new Oy(!1,!1),t.converter))}}function w2(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Rt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function q3(){if(typeof Uint8Array>"u")throw new Rt("unimplemented","Uint8Arrays are not available in this environment.")}function Z3(){if(!function K5(){return typeof atob<"u"}())throw new Rt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){vw=dw.SDK_VERSION,(0,dw._registerComponent)(new $l.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),a=new fs(new v5(t.getProvider("auth-internal")),new I5(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Rt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tg(h.options.projectId,p)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,dw.registerVersion)(AB,"3.13.0",n),(0,dw.registerVersion)(AB,"3.13.0","esm2017")}();class aA{constructor(e){this._delegate=e}static fromBase64String(e){return Z3(),new aA(Kh.fromBase64String(e))}static fromUint8Array(e){return q3(),new aA(Kh.fromUint8Array(e))}toBase64(){return Z3(),this._delegate.toBase64()}toUint8Array(){return q3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function b2(n){return function T8(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class C8{enableIndexedDbPersistence(e,t){return function E7(n,e){A3(n=jr(n,fs));const t=uo(n);if(t._uninitializedComponentsProvider)throw new Rt(rt.FAILED_PRECONDITION,"SDK cache is already specified.");Zu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Hw;return C3(t,i,new JL(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function T7(n){A3(n=jr(n,fs));const e=uo(n);if(e._uninitializedComponentsProvider)throw new Rt(rt.FAILED_PRECONDITION,"SDK cache is already specified.");Zu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Hw;return C3(e,r,new o3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function C7(n){if(n._initialized&&!n._terminated)throw new Rt(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Go;return n._queue.enqueueAndForgetEvenWhileRestricted((0,at.Z)(function*(){try{yield(t=(0,at.Z)(function*(r){if(!Fd.D())return Promise.resolve();const i=r+"main";yield Fd.delete(i)}),function(r){return t.apply(this,arguments)})($F(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class K3{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof tg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){b3(this._delegate,e,t,r)}enableNetwork(){return function D7(n){return function u7(n){return n.asyncQueue.enqueue((0,at.Z)(function*(){const e=yield l3(n),t=yield u3(n);return e.setNetworkEnabled(!0),function(r){const i=un(r);return i.vu.delete(0),YC(i)}(t)}))}(uo(n=jr(n,fs)))}(this._delegate)}disableNetwork(){return function S7(n){return function d7(n){return n.asyncQueue.enqueue((0,at.Z)(function*(){const e=yield l3(n),t=yield u3(n);return e.setNetworkEnabled(!1),(r=(0,at.Z)(function*(i){const s=un(i);s.vu.add(0),yield Fw(s),s.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(uo(n=jr(n,fs)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,g3("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function A7(n){return function(e){const t=new Go;return e.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return function qq(n,e){return LL.apply(this,arguments)}(yield a2(e),t)})),t.promise}(uo(n=jr(n,fs)))}(this._delegate)}onSnapshotsInSync(e){return function s8(n,e){return function p7(n,e){const t=new ZR(e);return n.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return r=yield Gw(n),i=t,un(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return r=yield Gw(n),i=t,void un(r).ku.delete(i);var r,i}))}}(uo(n=jr(n,fs)),d2(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Rt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qw(this,I3(this._delegate,e))}catch(t){throw Bc(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ku(this,JR(this._delegate,e))}catch(t){throw Bc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zc(this,function y7(n,e){if(n=jr(n,JC),l2("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rt(rt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ha(n,null,(t=e,new cp(Xr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function g8(n,e,t){n=jr(n,fs);const r=Object.assign(Object.assign({},p8),t);return function(i){if(i.maxAttempts<1)throw new Rt(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,a){const h=new Go;return i.asyncQueue.enqueueAndForget((0,at.Z)(function*(){const p=yield function d3(n){return YR(n).then(e=>e.datastore)}(i);new c7(i.asyncQueue,p,a,s,h).run()})),h.promise}(uo(n),i=>e(new m8(n,i)),r)}(this._delegate,t=>e(new Y3(this,t)))}batch(){return uo(this._delegate),new Q3(new $3(this._delegate,e=>Ww(this._delegate,e)))}loadBundle(e){return function x7(n,e){const t=uo(n=jr(n,fs)),r=new w7;return function m7(n,e,t,r){const i=function(s,a){let h;return h="string"==typeof s?Nz().encode(s):s,p=function(p,m){if(p instanceof Uint8Array)return a3(p,m);if(p instanceof ArrayBuffer)return a3(new Uint8Array(p),m);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new o7(p,a);var p}(t,KC(e));n.asyncQueue.enqueueAndForget((0,at.Z)(function*(){!function i7(n,e,t){const r=un(n);var i;(i=(0,at.Z)(function*(s,a,h){try{const p=yield a.getMetadata();if(yield function(F,z){const oe=un(F),ge=lo(z.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",le=>oe.qs.getBundleMetadata(le,z.id)).then(le=>!!le&&le.createTime.compareTo(ge)>=0)}(s.localStore,p))return yield a.close(),h._completeWith({taskState:"Success",documentsLoaded:(F=p).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);h._updateProgress(Y4(p));const m=new Lq(p,s.localStore,a.serializer);let w=yield a.bc();for(;w;){const F=yield m.zu(w);F&&h._updateProgress(F),w=yield a.bc()}const x=yield m.complete();return yield hp(s,x.Ju,void 0),yield function(F,z){const oe=un(F);return oe.persistence.runTransaction("Save bundle","readwrite",ge=>oe.qs.saveBundleMetadata(ge,z))}(s.localStore,p),h._completeWith(x.progress),Promise.resolve(x.Hu)}catch(p){return Zu("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var F}),function(s,a,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield a2(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function M7(n,e){return function g7(n,e){return n.asyncQueue.enqueue((0,at.Z)(function*(){return function(t,r){const i=un(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(yield QR(n),e)}))}(uo(n=jr(n,fs)),e).then(t=>t?new Ha(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zc(this,t):null)}}class d1 extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new aA(new Kh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ku.forKey(t,this.firestore,null)}}class Y3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new d1(e)}get(e){const t=Ly(e);return this._delegate.get(t).then(r=>new cA(this._firestore,new pp(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ly(e);return r?(w2("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ly(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ly(e);return this._delegate.delete(t),this}}class Q3{constructor(e){this._delegate=e}set(e,t,r){const i=Ly(e);return r?(w2("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ly(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ly(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fy{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new oA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lA(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fy.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Fy(e,new d1(e),t),i.set(t,s)),s}}Fy.INSTANCES=new WeakMap;class Ku{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new d1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Rt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ku(t,new hs(t._delegate,r,new an(e)))}static forKey(e,t,r){return new Ku(t,new hs(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new qw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qw(this.firestore,I3(this._delegate,e))}catch(t){throw Bc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,On.m9)(e))instanceof hs&&E3(this._delegate,e)}set(e,t){t=w2("DocumentReference.set",t);try{return t?z3(this._delegate,e,t):z3(this._delegate,e)}catch(r){throw Bc(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?H3(this._delegate,e):H3(this._delegate,e,t,...r)}catch(i){throw Bc(i,"updateDoc()","DocumentReference.update()")}}delete(){return function r8(n){return Ww(jr(n.firestore,fs),[new xw(n._key,Is.none())])}(this._delegate)}onSnapshot(...e){const t=X3(e),r=J3(e,i=>new cA(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return G3(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function X7(n){n=jr(n,hs);const e=jr(n.firestore,fs),t=uo(e),r=new pg(e);return function h7(n,e){const t=new Go;return n.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return(r=(0,at.Z)(function*(i,s,a){try{const h=yield function(p,m){const w=un(p);return w.persistence.runTransaction("read document","readonly",x=>w.localDocuments.getDocument(x,m))}(i,s);h.isFoundDocument()?a.resolve(h):h.isNoDocument()?a.resolve(null):a.reject(new Rt(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Uw(h,`Failed to get document '${s} from cache`);a.reject(p)}}),function(i,s,a){return r.apply(this,arguments)})(yield QR(n),e,t);var r})),t.promise}(t,n._key).then(i=>new pp(e,r,n._key,i,new Oy(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function J7(n){n=jr(n,hs);const e=jr(n.firestore,fs);return h3(uo(e),n._key,{source:"server"}).then(t=>v2(e,n,t))}(this._delegate):function Q7(n){n=jr(n,hs);const e=jr(n.firestore,fs);return h3(uo(e),n._key).then(t=>v2(e,n,t))}(this._delegate),t.then(r=>new cA(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ku(this.firestore,this._delegate.withConverter(e?Fy.getInstance(this.firestore,e):null))}}function Bc(n,e,t){return n.message=n.message.replace(e,t),n}function X3(n){for(const e of n)if("object"==typeof e&&!b2(e))return e;return{}}function J3(n,e){var t,r;let i;return i=b2(n[0])?n[0]:b2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class cA{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ku(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return B3(this._delegate,e._delegate)}}class lA extends cA{data(e){const t=this._delegate.data(e);return function g5(n,e){n||yn()}(void 0!==t),t}}class zc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new d1(e)}where(e,t,r){try{return new zc(this.firestore,hg(this._delegate,function j7(n,e,t){const r=e,i=o1("where",n);return sA._create(i,r,t)}(e,t,r)))}catch(i){throw Bc(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zc(this.firestore,hg(this._delegate,function B7(n,e="asc"){const t=e,r=o1("orderBy",n);return _2._create(r,t)}(e,t)))}catch(r){throw Bc(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zc(this.firestore,hg(this._delegate,function z7(n){return v3("limit",n),a1._create("limit",n,"F")}(e)))}catch(t){throw Bc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zc(this.firestore,hg(this._delegate,function H7(n){return v3("limitToLast",n),a1._create("limitToLast",n,"L")}(e)))}catch(t){throw Bc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zc(this.firestore,hg(this._delegate,function G7(...n){return c1._create("startAt",n,!0)}(...e)))}catch(t){throw Bc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zc(this.firestore,hg(this._delegate,function $7(...n){return c1._create("startAfter",n,!1)}(...e)))}catch(t){throw Bc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zc(this.firestore,hg(this._delegate,function W7(...n){return l1._create("endBefore",n,!1)}(...e)))}catch(t){throw Bc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zc(this.firestore,hg(this._delegate,function q7(...n){return l1._create("endAt",n,!0)}(...e)))}catch(t){throw Bc(t,"endAt()","Query.endAt()")}}isEqual(e){return u2(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function t8(n){n=jr(n,Ha);const e=jr(n.firestore,fs),t=uo(e),r=new pg(e);return function f7(n,e){const t=new Go;return n.asyncQueue.enqueueAndForget((0,at.Z)(function*(){return(r=(0,at.Z)(function*(i,s,a){try{const h=yield BR(i,s,!0),p=new J4(s,h.ir),m=p.sc(h.documents),w=p.applyChanges(m,!1);a.resolve(w.snapshot)}catch(h){const p=Uw(h,`Failed to execute query '${s} against cache`);a.reject(p)}}),function(i,s,a){return r.apply(this,arguments)})(yield QR(n),e,t);var r})),t.promise}(t,n._query).then(i=>new fg(e,r,n,i))}(this._delegate):"server"===e?.source?function n8(n){n=jr(n,Ha);const e=jr(n.firestore,fs),t=uo(e),r=new pg(e);return f3(t,n._query,{source:"server"}).then(i=>new fg(e,r,n,i))}(this._delegate):function e8(n){n=jr(n,Ha);const e=jr(n.firestore,fs),t=uo(e),r=new pg(e);return N3(n._query),f3(t,n._query).then(i=>new fg(e,r,n,i))}(this._delegate),t.then(r=>new I2(this.firestore,new fg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=X3(e),r=J3(e,i=>new I2(this.firestore,new fg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return G3(this._delegate,t,r)}withConverter(e){return new zc(this.firestore,this._delegate.withConverter(e?Fy.getInstance(this.firestore,e):null))}}class D8{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lA(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class I2{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lA(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new D8(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lA(this._firestore,r))})}isEqual(e){return B3(this._delegate,e._delegate)}}class qw extends zc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ku(this.firestore,e):null}doc(e){try{return new Ku(this.firestore,void 0===e?JR(this._delegate):JR(this._delegate,e))}catch(t){throw Bc(t,"doc()","CollectionReference.doc()")}}add(e){return function i8(n,e){const t=jr(n.firestore,fs),r=JR(n),i=u1(n.converter,e);return Ww(t,[n1(ky(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Is.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ku(this.firestore,t))}isEqual(e){return E3(this._delegate,e._delegate)}withConverter(e){return new qw(this.firestore,this._delegate.withConverter(e?Fy.getInstance(this.firestore,e):null))}}function Ly(n){return jr(n,hs)}class E2{constructor(...e){this._delegate=new fp(...e)}static documentId(){return new E2(qs.keyField().canonicalString())}isEqual(e){return(e=(0,On.m9)(e))instanceof fp&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vy{constructor(e){this._delegate=e}static serverTimestamp(){const e=function y8(){return new h2("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vy(e)}static delete(){const e=function _8(){return new tA("deleteField")}();return e._methodName="FieldValue.delete",new Vy(e)}static arrayUnion(...e){const t=function v8(...n){return new O7("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Vy(t)}static arrayRemove(...e){const t=function w8(...n){return new F7("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Vy(t)}static increment(e){const t=function b8(n){return new L7("increment",n)}(e);return t._methodName="FieldValue.increment",new Vy(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const S8={Firestore:K3,GeoPoint:e1,Timestamp:bs,Blob:aA,Transaction:Y3,WriteBatch:Q3,DocumentReference:Ku,DocumentSnapshot:cA,Query:zc,QueryDocumentSnapshot:lA,QuerySnapshot:I2,CollectionReference:qw,FieldPath:E2,FieldValue:Vy,setLogLevel:function A8(n){!function m5(n){Ym.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function M8(n){(function x8(n,e){n.INTERNAL.registerComponent(new $l.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},S8)))})(n,(e,t)=>new K3(e,t,new C8)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(a9.Z);var R8=W(3019),h1=W(3093),P8=W(4552);class k8 extends wi.x{constructor(e=1/0,t=1/0,r=P8.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:a}=this;t||(r.push(e),!i&&r.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let a=0;a<s.length&&!e.closed;a+=r?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const a=t.now();let h=0;for(let p=1;p<r.length&&r[p]<=a;p+=2)h=p;h&&r.splice(0,h+1)}}}var N8=W(3020);function eH(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,N8.B)({connector:()=>new k8(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function tH(n,e){return(0,vo.m)(e)?(0,qr.w)(()=>n,e):(0,qr.w)(()=>n)}var T2=W(5137),Uy=W(4097);class Zw{constructor(e){return e}}class nH{constructor(){return(0,Uy.C6)()}}const C2=new u.OlP("angularfire2._apps"),F8={provide:Zw,useFactory:function O8(n){return n&&1===n.length?n[0]:new Zw((0,Uy.Mq)())},deps:[[new u.FiY,C2]]},L8={provide:nH,deps:[[new u.FiY,C2]]};function V8(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Zw(r)}}let U8=(()=>{class n{constructor(t){(0,Uy.KN)("angularfire",ti.q4.full,"core"),(0,Uy.KN)("angularfire",ti.q4.full,"app"),(0,Uy.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[F8,L8]}),n})();function j8(n,...e){return{ngModule:U8,providers:[{provide:C2,useFactory:V8(n),multi:!0,deps:[u.R0b,u.zs3,ti.HU,...e]}]}}const B8=(0,ti.u3)(Uy.ZF,!0),A2=new Map,rH={activated:!1,tokenObservers:[]},z8={initialized:!1,enabled:!1};function Ks(n){return A2.get(n)||Object.assign({},rH)}function f1(){return z8}const D2="https://content-firebaseappcheck.googleapis.com/v1",W8="exchangeDebugToken",iH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Z8{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,at.Z)(function*(){t.stop();try{t.pending=new On.BH,yield function K8(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new On.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ga=new On.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function S2(n){if(!Ks(n).activated)throw Ga.create("use-before-activation",{appName:n.name})}function g1(n,e){return M2.apply(this,arguments)}function M2(){return M2=(0,at.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(e),headers:r};let a,h;try{a=yield fetch(n,s)}catch(x){throw Ga.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==a.status)throw Ga.create("fetch-status-error",{httpStatus:a.status});try{h=yield a.json()}catch(x){throw Ga.create("fetch-parse-error",{originalErrorMessage:x?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Ga.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const m=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+m,issuedAtTimeMillis:w}}),M2.apply(this,arguments)}function sH(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${D2}/projects/${t}/apps/${r}:${W8}?key=${i}`,body:{debug_token:e}}}const J8="firebase-app-check-database",eZ=1,uA="firebase-app-check-store";let _1=null;function R2(){return R2=(0,at.Z)(function*(n,e){const r=(yield function aH(){return _1||(_1=new Promise((n,e)=>{try{const t=indexedDB.open(J8,eZ);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ga.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(uA,{keyPath:"compositeKey"})}}catch(t){e(Ga.create("storage-open",{originalErrorMessage:t?.message}))}}),_1)}()).transaction(uA,"readwrite"),s=r.objectStore(uA).put({compositeKey:n,value:e});return new Promise((a,h)=>{s.onsuccess=p=>{a()},r.onerror=p=>{var m;h(Ga.create("storage-set",{originalErrorMessage:null===(m=p.target.error)||void 0===m?void 0:m.message}))}})}),R2.apply(this,arguments)}const dA=new ol.Yd("@firebase/app-check");function N2(n,e){return(0,On.hl)()?function nZ(n,e){return function cH(n,e){return R2.apply(this,arguments)}(function uH(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{dA.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function F2(){return f1().enabled}function L2(){return V2.apply(this,arguments)}function V2(){return V2=(0,at.Z)(function*(){const n=f1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),V2.apply(this,arguments)}const cZ={error:"UNKNOWN_ERROR"};function lZ(n){return On.US.encodeString(JSON.stringify(n),!1)}function y1(n){return U2.apply(this,arguments)}function U2(){return U2=(0,at.Z)(function*(n,e=!1){const t=n.app;S2(t);const r=Ks(t);let s,i=r.token;if(i&&!Kw(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(Kw(p)?i=p:yield N2(t,void 0))}if(!e&&i&&Kw(i))return{token:i.token};let h,a=!1;if(F2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=g1(sH(t,yield L2()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const p=yield r.exchangeTokenPromise;return yield N2(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=yield Ks(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?dA.warn(p.message):dA.error(p),s=p}return i?s?h=Kw(i)?{token:i.token,internalError:s}:pH(s):(h={token:i.token},r.token=i,yield N2(t,i)):h=pH(s),a&&function fH(n,e){const t=Ks(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h}),U2.apply(this,arguments)}function j2(){return j2=(0,at.Z)(function*(n){const e=n.app;S2(e);const{provider:t}=Ks(e);if(F2()){const r=yield L2(),{token:i}=yield g1(sH(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),j2.apply(this,arguments)}function z2(n,e){const t=Ks(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function hH(n){const{app:e}=n,t=Ks(e);let r=t.tokenRefresher;r||(r=function uZ(n){const{app:e}=n;return new Z8((0,at.Z)(function*(){let r;if(r=Ks(e).token?yield y1(n,!0):yield y1(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ks(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},iH.RETRIAL_MIN_WAIT,iH.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Kw(n){return n.expireTimeMillis-Date.now()>0}function pH(n){return{token:lZ(cZ),error:n}}class dZ{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ks(this.app);for(const t of e)z2(this.app,t.next);return Promise.resolve()}}const IH="app-check-internal";!function CZ(){(0,Yr._registerComponent)(new $l.wA("app-check",n=>function hZ(n,e){return new dZ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(IH).initialize()})),(0,Yr._registerComponent)(new $l.wA(IH,n=>function fZ(n){return{getToken:e=>y1(n,e),getLimitedUseToken:()=>function dH(n){return j2.apply(this,arguments)}(n),addTokenListener:e=>function B2(n,e,t,r){const{app:i}=n,s=Ks(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Kw(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),hH(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>hH(n))}(n,"INTERNAL",e),removeTokenListener:e=>z2(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yr.registerVersion)("@firebase/app-check","0.8.0")}();class hA{constructor(){return(0,ti.vb)("app-check")}}typeof window<"u"&&window;var MZ=W(120);const TH=new u.OlP("angularfire2.auth.use-emulator"),CH=new u.OlP("angularfire2.auth.settings"),AH=new u.OlP("angularfire2.auth.tenant-id"),DH=new u.OlP("angularfire2.auth.langugage-code"),SH=new u.OlP("angularfire2.auth.use-device-language"),xH=new u.OlP("angularfire.auth.persistence"),MH=(n,e,t,r,i,s,a,h)=>(0,mc.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),a)for(const[m,w]of Object.entries(a))p.settings[m]=w;return h&&p.setPersistence(h),p},[t,r,i,s,a,h]);let RH=(()=>{class n{constructor(t,r,i,s,a,h,p,m,w,x,F,z){const oe=new wi.x,ge=(0,D.of)(void 0).pipe((0,h1.Q)(a.outsideAngular),(0,qr.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(W.bind(W,8661)))),(0,Ge.U)(()=>(0,mc.on)(t,s,r)),(0,Ge.U)(le=>MH(le,s,h,m,w,x,p,F)),eH({bufferSize:1,refCount:!1}));if(Os(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,D.of)(null);else{ge.pipe(Hr()).subscribe();const Be=ge.pipe((0,qr.w)(It=>It.getRedirectResult().then(qt=>qt,()=>null)),ti.iC,eH({bufferSize:1,refCount:!1})),dt=ge.pipe((0,qr.w)(It=>new vi.y(qt=>({unsubscribe:s.runOutsideAngular(()=>It.onAuthStateChanged(cn=>qt.next(cn),cn=>qt.error(cn),()=>qt.complete()))})))),pt=ge.pipe((0,qr.w)(It=>new vi.y(qt=>({unsubscribe:s.runOutsideAngular(()=>It.onIdTokenChanged(cn=>qt.next(cn),cn=>qt.error(cn),()=>qt.complete()))}))));this.authState=Be.pipe(tH(dt),(0,T2.R)(a.outsideAngular),(0,h1.Q)(a.insideAngular)),this.user=Be.pipe(tH(pt),(0,T2.R)(a.outsideAngular),(0,h1.Q)(a.insideAngular)),this.idToken=this.user.pipe((0,qr.w)(It=>It?(0,b.D)(It.getIdToken()):(0,D.of)(null))),this.idTokenResult=this.user.pipe((0,qr.w)(It=>It?(0,b.D)(It.getIdTokenResult()):(0,D.of)(null))),this.credential=(0,R8.T)(Be,oe,this.authState.pipe(Ri(It=>!It))).pipe((0,Ge.U)(It=>It?.user?It:null),(0,T2.R)(a.outsideAngular),(0,h1.Q)(a.insideAngular))}return(0,mc.pX)(this,ge,s,{spy:{apply:(le,Be,dt)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&dt.then(pt=>oe.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mc.Dh),u.LFG(mc.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ti.HU),u.LFG(TH,8),u.LFG(CH,8),u.LFG(AH,8),u.LFG(DH,8),u.LFG(SH,8),u.LFG(xH,8),u.LFG(hA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function PH(n,e){return function PZ(n,e=LM.z){return new vi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function q2(n,e){return PH(n,e).pipe((0,Ge.U)(t=>({payload:t,type:"query"})))}function w1(n,e){return q2(n,e).pipe(to(void 0),gO(),(0,Ge.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(a=>({type:a.type,payload:a}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,h)=>{const p=i.find(w=>w.doc.ref.isEqual(a.ref)),m=t?.payload.docs.find(w=>w.ref.isEqual(a.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(a.metadata)||!p&&m&&JSON.stringify(m.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:a}})}),s}))}function kH(n,e,t){return w1(n,t).pipe(Vr((r,i)=>function NZ(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function OZ(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Z2(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Z2(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Z2(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),(0,o9.x)(),(0,Ge.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Z2(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function NH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class OH{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=w1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ge.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(to(void 0),gO(),Ri(([r,i])=>i.length>0||!r),(0,Ge.U)(([r,i])=>i),ti.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NH(e);return kH(this.query,t,this.afs.schedulers.outsideAngular).pipe(ti.iC)}valueChanges(e={}){return q2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ti.iC)}get(e){return(0,b.D)(this.query.get(e)).pipe(ti.iC)}add(e){return this.ref.add(e)}doc(e){return new FH(this.ref.doc(e),this.afs)}}class FH{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=LH(r,t);return new OH(i,s,this.afs)}snapshotChanges(){return function kZ(n,e){return PH(n,e).pipe(to(void 0),gO(),(0,Ge.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ti.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,b.D)(this.ref.get(e)).pipe(ti.iC)}}class FZ{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?w1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ri(t=>t.length>0),ti.iC):w1(this.query,this.afs.schedulers.outsideAngular).pipe(ti.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NH(e);return kH(this.query,t,this.afs.schedulers.outsideAngular).pipe(ti.iC)}valueChanges(e={}){return q2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ti.iC)}get(e){return(0,b.D)(this.query.get(e)).pipe(ti.iC)}}const LZ=new u.OlP("angularfire2.enableFirestorePersistence"),VZ=new u.OlP("angularfire2.firestore.persistenceSettings"),UZ=new u.OlP("angularfire2.firestore.settings"),jZ=new u.OlP("angularfire2.firestore.use-emulator");function LH(n,e=(t=>t)){return{query:e(n),ref:n}}let VH=(()=>{class n{constructor(t,r,i,s,a,h,p,m,w,x,F,z,oe,ge,le,Be,dt){this.schedulers=p;const pt=(0,mc.on)(t,h,r),It=w;x&&MH(pt,h,F,oe,ge,le,z,Be),[this.firestore,this.persistenceEnabled$]=(0,mc.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const qt=h.runOutsideAngular(()=>pt.firestore());if(s&&qt.settings(s),It&&qt.useEmulator(...It),i&&!Os(a)){const cn=()=>{try{return(0,b.D)(qt.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(hr){return typeof console<"u"&&console.warn(hr),(0,D.of)(!1)}};return[qt,h.runOutsideAngular(cn)]}return[qt,(0,D.of)(!1)]},[s,It,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:a}=LH(i,r),h=this.schedulers.ngZone.run(()=>s);return new OH(h,a,this)}collectionGroup(t,r){const i=r||(a=>a),s=this.firestore.collectionGroup(t);return new FZ(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new FH(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mc.Dh),u.LFG(mc.xv,8),u.LFG(LZ,8),u.LFG(UZ,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ti.HU),u.LFG(VZ,8),u.LFG(jZ,8),u.LFG(RH,8),u.LFG(TH,8),u.LFG(CH,8),u.LFG(AH,8),u.LFG(DH,8),u.LFG(SH,8),u.LFG(xH,8),u.LFG(hA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UH=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.router=i}uploadProduct(r){this.firestore.collection("products").add({...r,id:this.firestore.createId()}).then(()=>{console.log("Success"),this.router.navigate(["/"])}).catch(i=>{console.log(i)})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(VH),u.LFG(Hs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const b1_firebaseConfig={apiKey:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",authDomain:"anywhere-ecom.firebaseapp.com",projectId:"anywhere-ecom",storageBucket:"anywhere-ecom.appspot.com",messagingSenderId:"24709365004",appId:"1:24709365004:web:84a49a9af3b72dc0eedd29"};class jH{constructor(e,t,r,i){this.email=e,this.id=t,this._token=r,this._tokenExpirationDate=i}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}class I1{}class E1{}class Yh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(h=>-1===s.indexOf(h)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class BZ{encodeKey(e){return BH(e)}encodeValue(e){return BH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const HZ=/%(\d[a-f0-9])/gi,GZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BH(n){return encodeURIComponent(n).replace(HZ,(e,t)=>GZ[t]??e)}function T1(n){return`${n}`}class gg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new BZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zZ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[a,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(a)||[];p.push(h),t.set(a,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(T1):[T1(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(T1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(T1(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $Z{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function HH(n){return typeof Blob<"u"&&n instanceof Blob}function GH(n){return typeof FormData<"u"&&n instanceof FormData}class fA{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function WZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yh),this.context||(this.context=new $Z),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+a}}else this.params=new gg,this.urlWithParams=t}serializeBody(){return null===this.body?null:zH(this.body)||HH(this.body)||GH(this.body)||function qZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GH(this.body)?null:HH(this.body)?this.body.type||null:zH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,m=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((x,F)=>x.set(F,e.setHeaders[F]),p)),e.setParams&&(m=Object.keys(e.setParams).reduce((x,F)=>x.set(F,e.setParams[F]),m)),new fA(t,r,s,{params:m,headers:p,context:w,reportProgress:h,responseType:i,withCredentials:a})}}var Yw=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Yw||{});class K2{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Y2 extends K2{constructor(e={}){super(e),this.type=Yw.ResponseHeader}clone(e={}){return new Y2({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qw extends K2{constructor(e={}){super(e),this.type=Yw.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $H extends K2{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Q2(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let X2=(()=>{var n;class e{constructor(r){this.handler=r}request(r,i,s={}){let a;if(r instanceof fA)a=r;else{let m,w;m=s.headers instanceof Yh?s.headers:new Yh(s.headers),s.params&&(w=s.params instanceof gg?s.params:new gg({fromObject:s.params})),a=new fA(r,i,void 0!==s.body?s.body:null,{headers:m,context:s.context,params:w,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=(0,D.of)(a).pipe(no(m=>this.handler.handle(m)));if(r instanceof fA||"events"===s.observe)return h;const p=h.pipe(Ri(m=>m instanceof Qw));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,Ge.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return p.pipe((0,Ge.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return p.pipe((0,Ge.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return p.pipe((0,Ge.U)(m=>m.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new gg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Q2(s,i))}post(r,i,s={}){return this.request("POST",r,Q2(s,i))}put(r,i,s={}){return this.request("PUT",r,Q2(s,i))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(I1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function ZH(n,e){return e(n)}function KZ(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const QZ=new u.OlP(""),pA=new u.OlP(""),KH=new u.OlP("");function XZ(){let n=null;return(e,t)=>{null===n&&(n=((0,u.f3M)(QZ,{optional:!0})??[]).reduceRight(KZ,ZH));const r=(0,u.f3M)(u.HDt),i=r.add();return n(e,t).pipe(ys(()=>r.remove(i)))}}let YH=(()=>{var n;class e extends I1{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=(0,u.f3M)(u.HDt)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(pA),...this.injector.get(KH,[])]));this.chain=s.reduceRight((a,h)=>function YZ(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(a,h,this.injector),ZH)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ys(()=>this.pendingTasks.remove(i)))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(E1),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const nK=/^\)\]\}',?\n/;let XH=(()=>{var n;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new u.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,b.D)(i.\u0275loadImpl()):(0,D.of)(null)).pipe((0,qr.w)(()=>new vi.y(a=>{const h=i.build();if(h.open(r.method,r.urlWithParams),r.withCredentials&&(h.withCredentials=!0),r.headers.forEach((le,Be)=>h.setRequestHeader(le,Be.join(","))),r.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const le=r.detectContentTypeHeader();null!==le&&h.setRequestHeader("Content-Type",le)}if(r.responseType){const le=r.responseType.toLowerCase();h.responseType="json"!==le?le:"text"}const p=r.serializeBody();let m=null;const w=()=>{if(null!==m)return m;const le=h.statusText||"OK",Be=new Yh(h.getAllResponseHeaders()),dt=function rK(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(h)||r.url;return m=new Y2({headers:Be,status:h.status,statusText:le,url:dt}),m},x=()=>{let{headers:le,status:Be,statusText:dt,url:pt}=w(),It=null;204!==Be&&(It=typeof h.response>"u"?h.responseText:h.response),0===Be&&(Be=It?200:0);let qt=Be>=200&&Be<300;if("json"===r.responseType&&"string"==typeof It){const cn=It;It=It.replace(nK,"");try{It=""!==It?JSON.parse(It):null}catch(hr){It=cn,qt&&(qt=!1,It={error:hr,text:It})}}qt?(a.next(new Qw({body:It,headers:le,status:Be,statusText:dt,url:pt||void 0})),a.complete()):a.error(new $H({error:It,headers:le,status:Be,statusText:dt,url:pt||void 0}))},F=le=>{const{url:Be}=w(),dt=new $H({error:le,status:h.status||0,statusText:h.statusText||"Unknown Error",url:Be||void 0});a.error(dt)};let z=!1;const oe=le=>{z||(a.next(w()),z=!0);let Be={type:Yw.DownloadProgress,loaded:le.loaded};le.lengthComputable&&(Be.total=le.total),"text"===r.responseType&&h.responseText&&(Be.partialText=h.responseText),a.next(Be)},ge=le=>{let Be={type:Yw.UploadProgress,loaded:le.loaded};le.lengthComputable&&(Be.total=le.total),a.next(Be)};return h.addEventListener("load",x),h.addEventListener("error",F),h.addEventListener("timeout",F),h.addEventListener("abort",F),r.reportProgress&&(h.addEventListener("progress",oe),null!==p&&h.upload&&h.upload.addEventListener("progress",ge)),h.send(p),a.next({type:Yw.Sent}),()=>{h.removeEventListener("error",F),h.removeEventListener("abort",F),h.removeEventListener("load",x),h.removeEventListener("timeout",F),r.reportProgress&&(h.removeEventListener("progress",oe),null!==p&&h.upload&&h.upload.removeEventListener("progress",ge)),h.readyState!==h.DONE&&h.abort()}})))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Fs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const J2=new u.OlP("XSRF_ENABLED"),JH=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),eG=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tG{}let oK=(()=>{var n;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wa(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e),u.LFG(u.Lbi),u.LFG(JH))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function aK(n,e){const t=n.url.toLowerCase();if(!(0,u.f3M)(J2)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,u.f3M)(tG).getToken(),i=(0,u.f3M)(eG);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var _g=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(_g||{});function jy(n,e){return{\u0275kind:n,\u0275providers:e}}function cK(...n){const e=[X2,XH,YH,{provide:I1,useExisting:YH},{provide:E1,useExisting:XH},{provide:pA,useValue:aK,multi:!0},{provide:J2,useValue:!0},{provide:tG,useClass:oK}];for(const t of n)e.push(...t.\u0275providers);return(0,u.MR2)(e)}const nG=new u.OlP("LEGACY_INTERCEPTOR_FN");let uK=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[cK(jy(_g.LegacyInterceptors,[{provide:nG,useFactory:XZ},{provide:pA,useExisting:nG,multi:!0}]))]}),e})(),mA=(()=>{var n;class e{constructor(r,i){this.http=r,this.router=i,this.users=localStorage.getItem("users")||"",this.user=new T.X(null)}getUsers(){this.http.get("http://localhost:3000/users").subscribe(r=>this.objUsers=r)}signup(r){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:r.email,password:r.inputPassword,returnSecureToken:!0}).pipe(nr(this.handleError),(0,Gn.b)(a=>{this.handleAuth(a.email,a.localId,a.idToken,+a.expiresIn)}))}handleError(r){return console.log(r.error.error.message),r.error}handleAuth(r,i,s,a){const h=new Date((new Date).getTime()+1e3*a),p=new jH(r,i,s,h);this.user.next(p),localStorage.setItem("loggedData",JSON.stringify(p))}login(r,i){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:r,password:i,returnSecureToken:!0}).pipe(nr(this.handleError),(0,Gn.b)(s=>{this.handleAuth(s.email,s.localId,s.idToken,+s.expiresIn),this.user.next(s.idToken),this.router.navigate(["/admin"])}))}isLogged(){return localStorage.getItem("loggedData")}logout(){this.user.next(null),localStorage.removeItem("loggedData"),this.router.navigate(["/login"])}autoLogin(){const r=localStorage.getItem("loggedData"),i=r?JSON.parse(r):null;if(!i)return;const s=new jH(i.email,i.userId,i._token,new Date(i._tokenExpirationDate));s.token&&this.user.next(s)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(X2),u.LFG(Hs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function gK(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.logout())}),u._uU(1," Logout "),u.qZA()}}function _K(n,e){1&n&&(u.TgZ(0,"button",6),u._uU(1," Login "),u.qZA())}let yK=(()=>{var n;class e{constructor(r){this.auth=r,this.isAuth=!1}ngOnInit(){this.auth.user.subscribe(r=>{this.isAuth=!!r})}logout(){this.auth.logout()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(mA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:5,vars:2,consts:[[1,"bg-transparent"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-transparent"],[1,"container-fluid"],["class","btn  btn-outline-dark mx-auto",3,"click",4,"ngIf"],["class","btn  btn-outline-dark mx-auto","routerLink","/login",4,"ngIf"],[1,"btn","btn-outline-dark","mx-auto",3,"click"],["routerLink","/login",1,"btn","btn-outline-dark","mx-auto"]],template:function(r,i){1&r&&(u.TgZ(0,"header",0)(1,"nav",1)(2,"div",2),u.YNc(3,gK,2,0,"button",3),u.YNc(4,_K,2,0,"button",4),u.qZA()()()),2&r&&(u.xp6(3),u.Q6J("ngIf",i.isAuth),u.xp6(1),u.Q6J("ngIf",!i.isAuth))},dependencies:[ks,zg]}),e})(),vK=(()=>{var n;class e{constructor(r){this.prodService=r,this.list=["smartphones","skincare","fragrances","laptops","groceries"]}formHandler(r){let i=r.form.value,s=[];s.push(i.images),console.log(s);let a={...i,images:s};console.log(a),this.prodService.uploadProduct(a)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(UH))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-admin-panel"]],decls:18,vars:0,consts:[[1,"row"],[1,"col-2","position-fixed","h-100","bg-white","rounded"],[1,"py-3","mx-1"],[1,"mt-0","mb-3","mx-2"],["routerLink","/",1,"navbar-brand","fw-bold"],["src","\\assets\\logo.svg","alt","Anywhere-logo"],[1,"h4","fw-bold"],[1,"list-group"],["routerLink","product-list",1,"list-group-item"],["routerLink","add-product",1,"list-group-item"],["routerLink","add-category",1,"list-group-item"],[1,"col-8","mx-auto","rounded"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u._UZ(5,"img",5),u.TgZ(6,"span",6),u._uU(7," Anywhere App "),u.qZA()()(),u.TgZ(8,"ul",7)(9,"a",8),u._uU(10,"Product List"),u.qZA(),u.TgZ(11,"a",9),u._uU(12,"Add Product"),u.qZA(),u.TgZ(13,"a",10),u._uU(14,"Add Category"),u.qZA()()(),u._UZ(15,"app-header"),u.qZA(),u.TgZ(16,"div",11),u._UZ(17,"router-outlet"),u.qZA()())},dependencies:[Np,zg,yK],styles:["#filterBar[_ngcontent-%COMP%]{position:fixed;left:4%;border-radius:10px;background-color:#feffff!important}"]}),e})(),rG=(()=>{var n;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),e})(),By=(()=>{var n;class e extends rG{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),e})();const Yu=new u.OlP("NgValueAccessor"),IK={provide:Yu,useExisting:(0,u.Gpc)(()=>yg),multi:!0},TK=new u.OlP("CompositionEventMode");let yg=(()=>{var n;class e extends rG{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function EK(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(TK,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([IK]),u.qOj]}),e})();function vg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sG(n){return null!=n&&"number"==typeof n.length}const bc=new u.OlP("NgValidators"),wg=new u.OlP("NgAsyncValidators"),CK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ho{static min(e){return function oG(n){return e=>{if(vg(e.value)||vg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function aG(n){return e=>{if(vg(e.value)||vg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return cG(e)}static requiredTrue(e){return function lG(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return uG(e)}static minLength(e){return dG(e)}static maxLength(e){return function hG(n){return e=>sG(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function fG(n){if(!n)return A1;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(vg(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return vG(e)}static composeAsync(e){return wG(e)}}function cG(n){return vg(n.value)?{required:!0}:null}function uG(n){return vg(n.value)||CK.test(n.value)?null:{email:!0}}function dG(n){return e=>vg(e.value)||!sG(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function A1(n){return null}function pG(n){return null!=n}function mG(n){return(0,u.QGY)(n)?(0,b.D)(n):n}function gG(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _G(n,e){return e.map(t=>t(n))}function yG(n){return n.map(e=>function AK(n){return!n.validate}(e)?e:t=>e.validate(t))}function vG(n){if(!n)return null;const e=n.filter(pG);return 0==e.length?null:function(t){return gG(_G(t,e))}}function eV(n){return null!=n?vG(yG(n)):null}function wG(n){if(!n)return null;const e=n.filter(pG);return 0==e.length?null:function(t){return function wK(...n){const e=(0,en.jO)(n),{args:t,keys:r}=Me(n),i=new vi.y(s=>{const{length:a}=t;if(!a)return void s.complete();const h=new Array(a);let p=a,m=a;for(let w=0;w<a;w++){let x=!1;(0,xa.Xf)(t[w]).subscribe((0,Qt.x)(s,F=>{x||(x=!0,m--),h[w]=F},()=>p--,void 0,()=>{(!p||!x)&&(m||s.next(r?Rn(r,h):h),s.complete())}))}});return e?i.pipe(Jt(e)):i}(_G(t,e).map(mG)).pipe((0,Ge.U)(gG))}}function tV(n){return null!=n?wG(yG(n)):null}function bG(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function IG(n){return n._rawValidators}function EG(n){return n._rawAsyncValidators}function nV(n){return n?Array.isArray(n)?n:[n]:[]}function D1(n,e){return Array.isArray(n)?n.includes(e):n===e}function TG(n,e){const t=nV(e);return nV(n).forEach(i=>{D1(t,i)||t.push(i)}),t}function CG(n,e){return nV(e).filter(t=>!D1(n,t))}class AG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eV(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hc extends AG{get formDirective(){return null}get path(){return null}}class bg extends AG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class DG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xw=(()=>{var n;class e extends DG{constructor(r){super(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(bg,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),e})(),Jw=(()=>{var n;class e extends DG{constructor(r){super(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Hc,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),e})();const gA="VALID",x1="INVALID",eb="PENDING",_A="DISABLED";function sV(n){return(M1(n)?n.validators:n)||null}function oV(n,e){return(M1(e)?e.asyncValidators:n)||null}function M1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class RG{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gA}get invalid(){return this.status===x1}get pending(){return this.status==eb}get disabled(){return this.status===_A}get enabled(){return this.status!==_A}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CG(e,this._rawAsyncValidators))}hasValidator(e){return D1(this._rawValidators,e)}hasAsyncValidator(e){return D1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_A,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gA,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gA||this.status===eb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_A:gA}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eb,this._hasOwnPendingAsyncValidator=!0;const t=mG(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?_A:this.errors?x1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eb)?eb:this._anyControlsHaveStatus(x1)?x1:gA}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){M1(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function MK(n){return Array.isArray(n)?eV(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function RK(n){return Array.isArray(n)?tV(n):n||null}(this._rawAsyncValidators)}}class zy extends RG{constructor(e,t,r){super(sV(t),oV(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function MG(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function xG(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Hy=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yA}),yA="always";function R1(n,e){return[...e.path,n]}function vA(n,e,t=yA){aV(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function NK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&PG(n,e)})}(n,e),function FK(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function OK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&PG(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function kK(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function P1(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),N1(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function k1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function aV(n,e){const t=IG(n);null!==e.validator?n.setValidators(bG(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=EG(n);null!==e.asyncValidator?n.setAsyncValidators(bG(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();k1(e._rawValidators,i),k1(e._rawAsyncValidators,i)}function N1(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=IG(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=EG(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return k1(e._rawValidators,r),k1(e._rawAsyncValidators,r),t}function PG(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kG(n,e){aV(n,e)}function lV(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function NG(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function uV(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===yg?t=s:function UK(n){return Object.getPrototypeOf(n.constructor)===By}(s)?r=s:i=s}),i||r||t||null}const BK={provide:Hc,useExisting:(0,u.Gpc)(()=>O1)},wA=(()=>Promise.resolve())();let O1=(()=>{var n;class e extends Hc{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new zy({},eV(r),tV(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){wA.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),vA(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){wA.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){wA.then(()=>{const i=this._findContainer(r.path),s=new zy({});kG(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){wA.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){wA.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,NG(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(bc,10),u.Y36(wg,10),u.Y36(Hy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([BK]),u.qOj]}),e})();function OG(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function FG(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ic=class extends RG{constructor(e=null,t,r){super(sV(t),oV(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),M1(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=FG(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){FG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},GK={provide:bg,useExisting:(0,u.Gpc)(()=>dV)},UG=(()=>Promise.resolve())();let dV=(()=>{var n;class e extends bg{constructor(r,i,s,a,h,p){super(),this._changeDetectorRef=h,this.callSetDisabledState=p,this.control=new Ic,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=uV(0,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),lV(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){UG.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&(0,u.VuI)(i);UG.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?R1(r,this._parent):[r]}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Hc,9),u.Y36(bc,10),u.Y36(wg,10),u.Y36(Yu,10),u.Y36(u.sBO,8),u.Y36(Hy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([GK]),u.qOj,u.TTD]}),e})(),tb=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),BG=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();const hV=new u.OlP("NgModelWithFormControlWarning"),YK={provide:Hc,useExisting:(0,u.Gpc)(()=>Gy)};let Gy=(()=>{var n;class e extends Hc{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return vA(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){P1(r.control||null,r,!1),function jK(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,NG(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,s=this.form.get(r.path);i!==s&&(P1(i||null,r),(n=>n instanceof Ic)(s)&&(vA(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);kG(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function LK(n,e){return N1(n,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aV(this.form,this),this._oldForm&&N1(this._oldForm,this)}_checkFormPresent(){}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(bc,10),u.Y36(wg,10),u.Y36(Hy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([YK]),u.qOj,u.TTD]}),e})();const JK={provide:bg,useExisting:(0,u.Gpc)(()=>nb)};let nb=(()=>{var n;class e extends bg{set isDisabled(r){}constructor(r,i,s,a,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=uV(0,a)}ngOnChanges(r){this._added||this._setUpControl(),lV(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return R1(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(n=e)._ngModelWarningSentOnce=!1,n.\u0275fac=function(r){return new(r||n)(u.Y36(Hc,13),u.Y36(bc,10),u.Y36(wg,10),u.Y36(Yu,10),u.Y36(hV,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([JK]),u.qOj,u.TTD]}),e})();const eY={provide:Yu,useExisting:(0,u.Gpc)(()=>bA),multi:!0};function WG(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let bA=(()=>{var n;class e extends By{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const s=WG(this._getOptionId(r),r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function tY(n){return n.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&u.NdJ("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([eY]),u.qOj]}),e})(),mV=(()=>{var n;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(WG(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(bA,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const nY={provide:Yu,useExisting:(0,u.Gpc)(()=>gV),multi:!0};function qG(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let gV=(()=>{var n;class e extends By{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const s=r.map(a=>this._getOptionId(a));i=(a,h)=>{a._setSelected(s.indexOf(h.toString())>-1)}}else i=(s,a)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const s=[],a=i.selectedOptions;if(void 0!==a){const h=a;for(let p=0;p<h.length;p++){const w=this._getOptionValue(h[p].value);s.push(w)}}else{const h=i.options;for(let p=0;p<h.length;p++){const m=h[p];if(m.selected){const w=this._getOptionValue(m.value);s.push(w)}}}this.value=s,r(s)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function rY(n){return n.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&u.NdJ("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([nY]),u.qOj]}),e})(),_V=(()=>{var n;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(qG(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(qG(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(gV,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();let $y=(()=>{var n;class e{constructor(){this._validator=A1}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):A1,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),e})();const oY={provide:bc,useExisting:(0,u.Gpc)(()=>IA),multi:!0};let IA=(()=>{var n;class e extends $y{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.VuI,this.createValidator=r=>cG}enabled(r){return r}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([oY]),u.qOj]}),e})();const cY={provide:bc,useExisting:(0,u.Gpc)(()=>F1),multi:!0};let F1=(()=>{var n;class e extends $y{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=u.VuI,this.createValidator=r=>uG}enabled(r){return r}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[u._Bn([cY]),u.qOj]}),e})();const lY={provide:bc,useExisting:(0,u.Gpc)(()=>L1),multi:!0};let L1=(()=>{var n;class e extends $y{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=r=>function ZG(n){return"number"==typeof n?n:parseInt(n,10)}(r),this.createValidator=r=>dG(r)}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&u.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([lY]),u.qOj]}),e})(),t6=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[BG]}),e})(),fY=(()=>{var n;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Hy,useValue:r.callSetDisabledState??yA}]}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[t6]}),e})(),pY=(()=>{var n;class e{static withConfig(r){return{ngModule:e,providers:[{provide:hV,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Hy,useValue:r.callSetDisabledState??yA}]}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[t6]}),e})();function mY(n,e){if(1&n&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.error)}}let gY=(()=>{var n;class e{constructor(r,i){this.auth=r,this.router=i,this.error="",this.isEmail=!0}formOp(r){this.auth.login(r.value.email,r.value.password).subscribe()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(mA),u.Y36(Hs))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:2,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","text-white","my-0"],[1,"text-primary","fw-bolder","display-3"],[1,"h6","text-secondary","my-2"],["href","/signup",1,"text-decoration-none"],["id","box",1,"col-xl-6","col-lg-6","col-md-10","col-sm-12","my-5","rounded"],["id","form",3,"ngSubmit"],["authForm","ngForm"],["class","text-danger small",4,"ngIf"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","ngModel","","name","email","placeholder","Enter Email","email","","required","",1,"form-control","rounded-4","py-3"],["for","password",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","password","ngModel","","name","password","placeholder","Enter Password","required","","password","","minlength","8",1,"form-control","rounded-4","py-3"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["href","/signup",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"]],template:function(r,i){if(1&r){const s=u.EpF();u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"WELCOME BACK"),u.qZA(),u.TgZ(3,"h1",2),u._uU(4," Account Login "),u.TgZ(5,"span",3),u._uU(6,"."),u.qZA()(),u.TgZ(7,"p",4),u._uU(8,"Don't have an Account? "),u.TgZ(9,"a",5),u._uU(10,"Create New Account"),u.qZA()(),u.TgZ(11,"div",6)(12,"form",7,8),u.NdJ("ngSubmit",function(){u.CHM(s);const h=u.MAs(13);return u.KtG(i.formOp(h))}),u.YNc(14,mY,2,1,"span",9),u.TgZ(15,"div",10)(16,"label",11),u._uU(17,"Email"),u.qZA(),u._UZ(18,"input",12),u.qZA(),u.TgZ(19,"div",10)(20,"label",13),u._uU(21,"Password"),u.qZA(),u._UZ(22,"input",14),u.qZA(),u.TgZ(23,"div",15)(24,"a",16),u._uU(25,"Change Method"),u.qZA(),u.TgZ(26,"button",17),u._uU(27,"Next"),u.qZA()()()()()}if(2&r){const s=u.MAs(13);u.xp6(14),u.Q6J("ngIf",i.error),u.xp6(12),u.Q6J("disabled",!s.valid)}},dependencies:[ks,tb,yg,Xw,Jw,IA,L1,F1,dV,O1]}),e})();function _Y(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Enter a valid Email "),u.qZA())}function yY(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Email is required "),u.qZA())}function vY(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,_Y,2,0,"span",14),u.YNc(2,yY,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("email").errors.email),u.xp6(1),u.Q6J("ngIf",t.authForm.get("email").errors.required)}}function wY(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Passoword is required "),u.qZA())}function bY(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Passoword should match the criteria and should be 8 chars long "),u.qZA())}function IY(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,wY,2,0,"span",14),u.YNc(2,bY,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("inputPassword").errors.required),u.xp6(1),u.Q6J("ngIf",t.authForm.get("inputPassword").errors.pattern||t.authForm.get("inputPassword").errors.minlength)}}function EY(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Confirm Passoword is required "),u.qZA())}function TY(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Both password should match "),u.qZA())}function CY(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,EY,2,0,"span",14),u.YNc(2,TY,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("confirmPassword").errors.required),u.xp6(1),u.Q6J("ngIf",t.ifMatched&&t.authForm.get("inputPassword").valid)}}let AY=(()=>{var n;class e{constructor(r){this.auth=r,this.confirmPassword="",this.inputPassword="",this.ifMatched=!0,this.passwordRegex=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/,this.isValid=!1,this.numEx=/^[A-Za-z]+$/}ngOnInit(){this.authForm=new zy({email:new Ic(null,[ho.required,ho.email]),inputPassword:new Ic(null,[ho.required,ho.pattern(this.passwordRegex)]),confirmPassword:new Ic(null,[ho.required,ho.pattern(this.passwordRegex)])})}onSubmit(){console.log(this.authForm),this.auth.signup(this.authForm.value).subscribe()}passwordMatch(){this.ifMatched=this.confirmPassword===this.inputPassword}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(mA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sign-up"]],decls:39,vars:5,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","text-white"],[1,"text-primary","fw-bolder","display-4"],[1,"h6","text-secondary"],["routerLink","/login",1,"text-decoration-none"],[1,"col-xl-6","col-md-10","col-sm-12","my-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["id","",1,"text-danger"],[1,"col-11"],[1,"form-group",3,"has-error"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","formControlName","email","placeholder","Enter Email","required","","email","",1,"form-control","rounded-4","py-3"],["class","small text-danger",4,"ngIf"],["for","inputPassword",1,"col-sm-5","col-form-label","fw-semibold"],["title","A mixture of both uppercase and lowercase letters.\n  A mixture of letters and numbers.\n  Inclusion of at least one special character, e.g., ! @ # ? ]","data-bs-placement","bottom",1,"tt"],["type","password","id","inputPassword","formControlName","inputPassword","placeholder","Enter Password","required","","minlength","8","password","",1,"form-control","rounded-4","py-3",3,"ngModelChange"],["for","confirmPassword",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Re-enter Password","required","","minlength","8",1,"form-control","rounded-4","py-3",3,"ngModelChange"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["routerLink","/login",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"small","text-danger"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"START FOR FREE"),u.qZA(),u.TgZ(3,"h1",2),u._uU(4," Create new account "),u.TgZ(5,"span",3),u._uU(6,"."),u.qZA()(),u.TgZ(7,"p",4),u._uU(8," Already A Member? "),u.TgZ(9,"a",5),u._uU(10,"Log In"),u.qZA()(),u.TgZ(11,"div",6)(12,"form",7),u.NdJ("ngSubmit",function(){return i.onSubmit()}),u.TgZ(13,"div",8),u._UZ(14,"span",9),u.TgZ(15,"div",10)(16,"div",11)(17,"label",12),u._uU(18,"Email"),u.qZA(),u._UZ(19,"input",13),u.qZA(),u.YNc(20,vY,3,2,"span",14),u.qZA()(),u.TgZ(21,"div",10)(22,"div",11)(23,"label",15),u._uU(24,"Password"),u.qZA(),u.TgZ(25,"span",16)(26,"input",17),u.NdJ("ngModelChange",function(){return i.passwordMatch()}),u.qZA()()(),u.YNc(27,IY,3,2,"span",14),u.qZA(),u.TgZ(28,"div",10)(29,"div",11)(30,"label",18),u._uU(31,"Confirm Password"),u.qZA(),u.TgZ(32,"input",19),u.NdJ("ngModelChange",function(){return i.passwordMatch()}),u.qZA()(),u.YNc(33,CY,3,2,"span",14),u.qZA(),u.TgZ(34,"div",20)(35,"a",21),u._uU(36,"Change Method"),u.qZA(),u.TgZ(37,"button",22),u._uU(38," Create Account "),u.qZA()()()()()),2&r&&(u.xp6(12),u.Q6J("formGroup",i.authForm),u.xp6(8),u.Q6J("ngIf",!i.authForm.get("email").valid&&i.authForm.get("email").touched),u.xp6(7),u.Q6J("ngIf",!i.authForm.get("inputPassword").valid&&i.authForm.get("inputPassword").touched),u.xp6(6),u.Q6J("ngIf",!i.authForm.get("confirmPassword").valid&&i.authForm.get("confirmPassword").touched),u.xp6(4),u.Q6J("disabled",!i.authForm.valid||!i.ifMatched))},dependencies:[ks,zg,tb,yg,Xw,Jw,IA,L1,F1,Gy,nb]}),e})(),DY=(()=>{var n;class e{constructor(r,i){this.auth=r,this.router=i}canActivate(){return!!this.auth.isLogged()||(this.router.navigate(["login"]),!1)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(mA),u.LFG(Hs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();(0,Yr.registerVersion)("firebase","10.4.0","app");const n6="firebasestorage.googleapis.com",r6="storageBucket";class Ps extends On.ZR{constructor(e,t,r=0){super(yV(e),`Firebase Storage: ${t} (${yV(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yV(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Es=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Es||{});function yV(n){return"storage/"+n}function vV(){return new Ps(Es.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function i6(){return new Ps(Es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s6(){return new Ps(Es.CANCELED,"User canceled the upload/download.")}function o6(){return new Ps(Es.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rb(n){return new Ps(Es.INVALID_ARGUMENT,n)}function a6(){return new Ps(Es.APP_DELETED,"The Firebase app was deleted.")}function c6(n){return new Ps(Es.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function EA(n,e){return new Ps(Es.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function TA(n){throw new Ps(Es.INTERNAL_ERROR,"Internal error: "+n)}class Ec{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ec.makeFromUrl(e,t)}catch{return new Ec(e,"")}if(""===r.path)return r;throw function UY(n){return new Ps(Es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function m(It){It.path_=decodeURIComponent(It.path)}const x=t.replace(/[.]/g,"\\."),pt=[{regex:h,indices:{bucket:1,path:3},postModify:function s(It){"/"===It.path.charAt(It.path.length-1)&&(It.path_=It.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:m},{regex:new RegExp(`^https?://${t===n6?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:m}];for(let It=0;It<pt.length;It++){const qt=pt[It],cn=qt.regex.exec(e);if(cn){let Fi=cn[qt.indices.path];Fi||(Fi=""),r=new Ec(cn[qt.indices.bucket],Fi),qt.postModify(r);break}}if(null==r)throw function VY(n){return new Ps(Es.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class GY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function V1(n){return"string"==typeof n||n instanceof String}function l6(n){return wV()&&n instanceof Blob}function wV(){return typeof Blob<"u"&&!(0,On.UG)()}function bV(n,e,t,r){if(r<e)throw rb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw rb(`Invalid value for '${n}'. Expected ${t} or less.`)}function mp(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function u6(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ib=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ib||{});function d6(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class YY{constructor(e,t,r,i,s,a,h,p,m,w,x,F=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=w,this.connectionFactory_=x,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,oe)=>{this.resolve_=z,this.reject_=oe,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,a=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function qY(n){return void 0!==n}(p)?s():s(p)}catch(p){a(p)}else if(null!==h){const p=vV();p.serverResponse=h.getErrorText(),a(this.errorCallback_?this.errorCallback_(h,p):p)}else a(i.canceled?this.appDelete_?a6():s6():i6())};this.canceled_?t(0,new U1(!1,null,!0)):this.backoffId_=function $Y(n,e,t){let r=1,i=null,s=null,a=!1,h=0;function p(){return 2===h}let m=!1;function w(...le){m||(m=!0,e.apply(null,le))}function x(le){i=setTimeout(()=>{i=null,n(z,p())},le)}function F(){s&&clearTimeout(s)}function z(le,...Be){if(m)return void F();if(le)return F(),void w.call(null,le,...Be);if(p()||a)return F(),void w.call(null,le,...Be);let pt;r<64&&(r*=2),1===h?(h=2,pt=0):pt=1e3*(r+Math.random()),x(pt)}let oe=!1;function ge(le){oe||(oe=!0,F(),!m&&(null!==i?(le||(h=2),clearTimeout(i),x(0)):le||(h=1)))}return x(0),s=setTimeout(()=>{a=!0,ge(!0)},t),ge}((r,i)=>{if(i)return void r(!1,new U1(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const h=s.getErrorCode()===ib.NO_ERROR,p=s.getStatus();if(!h||d6(p,this.additionalRetryCodes_)&&this.retry){const w=s.getErrorCode()===ib.ABORT;return void r(!1,new U1(!1,null,w))}const m=-1!==this.successCodes_.indexOf(p);r(!0,new U1(m,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function WY(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class U1{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rQ(...n){const e=function nQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(wV())return new Blob(n);throw new Ps(Es.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ou={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class IV{constructor(e,t){this.data=e,this.contentType=t||null}}function EV(n,e){switch(n){case ou.RAW:return new IV(h6(e));case ou.BASE64:case ou.BASE64URL:return new IV(f6(n,e));case ou.DATA_URL:return new IV(function aQ(n){const e=new p6(n);return e.base64?f6(ou.BASE64,e.rest):function oQ(n){let e;try{e=decodeURIComponent(n)}catch{throw EA(ou.DATA_URL,"Malformed data URL.")}return h6(e)}(e.rest)}(e),function cQ(n){return new p6(n).contentType}(e))}throw vV()}function h6(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function f6(n,e){switch(n){case ou.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw EA(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ou.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw EA(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function sQ(n){if(typeof atob>"u")throw function HY(n){return new Ps(Es.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:EA(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class p6{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw EA(ou.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function lQ(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Qh{constructor(e,t){let r=0,i="";l6(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(l6(this.data_)){const i=function iQ(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Qh(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Qh(r,!0)}}static getBlob(...e){if(wV()){const t=e.map(r=>r instanceof Qh?r.data_:r);return new Qh(rQ.apply(null,t))}{const t=e.map(a=>V1(a)?EV(ou.RAW,a).data:a.data_);let r=0;t.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(a=>{for(let h=0;h<a.length;h++)i[s++]=a[h]}),new Qh(i,!0)}}uploadData(){return this.data_}}function TV(n){let e;try{e=JSON.parse(n)}catch{return null}return function KY(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function m6(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function hQ(n,e){return e}class Gc{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||hQ}}let j1=null;function CA(){if(j1)return j1;const n=[];n.push(new Gc("bucket")),n.push(new Gc("generation")),n.push(new Gc("metageneration")),n.push(new Gc("name","fullPath",!0));const t=new Gc("name");t.xform=function e(s,a){return function fQ(n){return!V1(n)||n.length<2?n:m6(n)}(a)},n.push(t);const i=new Gc("size");return i.xform=function r(s,a){return void 0!==a?Number(a):a},n.push(i),n.push(new Gc("timeCreated")),n.push(new Gc("updated")),n.push(new Gc("md5Hash",null,!0)),n.push(new Gc("cacheControl",null,!0)),n.push(new Gc("contentDisposition",null,!0)),n.push(new Gc("contentEncoding",null,!0)),n.push(new Gc("contentLanguage",null,!0)),n.push(new Gc("contentType",null,!0)),n.push(new Gc("metadata","customMetadata",!0)),j1=n,j1}function g6(n,e,t){const r=TV(e);return null===r?null:function mQ(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const a=t[s];r[a.local]=a.xform(r,e[a.server])}return function pQ(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Ec(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function CV(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const _6="prefixes",y6="items";class Xh{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Jh(n){if(!n)throw vV()}function B1(n,e){return function t(r,i){const s=g6(n,i,e);return Jh(null!==s),s}}function sb(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function FY(){return new Ps(Es.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function OY(){return new Ps(Es.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function NY(n){return new Ps(Es.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function LY(n){return new Ps(Es.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function AA(n){const e=sb(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function kY(n){return new Ps(Es.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function v6(n,e,t){const i=mp(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,h=new Xh(i,"GET",B1(n,t),a);return h.errorHandler=AA(e),h}function bQ(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=mp(e.bucketOnlyServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,w=new Xh(h,"GET",function vQ(n,e){return function t(r,i){const s=function yQ(n,e,t){const r=TV(t);return null===r?null:function _Q(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[_6])for(const i of t[_6]){const s=i.replace(/\/$/,""),a=n._makeStorageReference(new Ec(e,s));r.prefixes.push(a)}if(t[y6])for(const i of t[y6]){const s=n._makeStorageReference(new Ec(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Jh(null!==s),s}}(n,e.bucket),m);return w.urlParams=s,w.errorHandler=sb(e),w}function b6(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function CQ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function I6(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let pt="";for(let It=0;It<2;It++)pt+=Math.random().toString().slice(2);return pt}();a["Content-Type"]="multipart/related; boundary="+p;const m=b6(e,r,i),w=CV(m,t),z=Qh.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+m.contentType+"\r\n\r\n",r,"\r\n--"+p+"--");if(null===z)throw o6();const oe={name:m.fullPath},ge=mp(s,n.host,n._protocol),Be=n.maxUploadRetryTime,dt=new Xh(ge,"POST",B1(n,t),Be);return dt.urlParams=oe,dt.headers=a,dt.body=z.uploadData(),dt.errorHandler=sb(e),dt}class z1{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function AV(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Jh(!1)}return Jh(!!t&&-1!==(e||["active"]).indexOf(t)),t}const xQ={STATE_CHANGED:"state_changed"},$c={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DV(n){switch(n){case"running":case"pausing":case"canceling":return $c.RUNNING;case"paused":return $c.PAUSED;case"success":return $c.SUCCESS;case"canceled":return $c.CANCELED;default:return $c.ERROR}}class MQ{constructor(e,t,r){if(function ZY(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function ob(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let T6=null;class RQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ib.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ib.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ib.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw TA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw TA("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw TA("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw TA("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw TA("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class PQ extends RQ{initXhr(){this.xhr_.responseType="text"}}function Ld(){return T6?T6():new PQ}class C6{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=CA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Es.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(d6(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=i6()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Es.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function AQ(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),a=b6(e,r,i),h={name:a.fullPath},p=mp(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},x=CV(a,t),oe=new Xh(p,"POST",function z(ge){let le;AV(ge);try{le=ge.getResponseHeader("X-Goog-Upload-URL")}catch{Jh(!1)}return Jh(V1(le)),le},n.maxUploadRetryTime);return oe.urlParams=h,oe.headers=w,oe.body=x,oe.errorHandler=sb(e),oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ld,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function DQ(n,e,t,r){const p=new Xh(t,"POST",function s(m){const w=AV(m,["active","final"]);let x=null;try{x=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Jh(!1)}x||Jh(!1);const F=Number(x);return Jh(!isNaN(F)),new z1(F,r.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=sb(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ld,t,r);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new z1(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=function SQ(n,e,t,r,i,s,a,h){const p=new z1(0,0);if(a?(p.current=a.current,p.total=a.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw function BY(){return new Ps(Es.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const m=p.total-p.current;let w=m;i>0&&(w=Math.min(w,i));const x=p.current;let z="";z=0===w?"finalize":m===w?"upload, finalize":"upload";const oe={"X-Goog-Upload-Command":z,"X-Goog-Upload-Offset":`${p.current}`},ge=r.slice(x,x+w);if(null===ge)throw o6();const pt=new Xh(t,"POST",function le(It,qt){const cn=AV(It,["active","final"]),hr=p.current+w,Fi=r.size();let Ud;return Ud="final"===cn?B1(e,s)(It,qt):null,new z1(hr,Fi,"final"===cn,Ud)},e.maxUploadRetryTime);return pt.headers=oe,pt.body=ge.uploadData(),pt.progressCallback=h||null,pt.errorHandler=sb(n),pt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(a,Ld,i,s,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=v6(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ld,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=I6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ld,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=s6(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=DV(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new MQ(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(DV(this._state)){case $c.SUCCESS:ob(this._resolve.bind(null,this.snapshot))();break;case $c.CANCELED:case $c.ERROR:ob(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(DV(this._state)){case $c.RUNNING:case $c.PAUSED:e.next&&ob(e.next.bind(e,this.snapshot))();break;case $c.SUCCESS:e.complete&&ob(e.complete.bind(e))();break;default:e.error&&ob(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Wy{constructor(e,t){this._service=e,this._location=t instanceof Ec?t:Ec.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wy(e,t)}get root(){const e=new Ec(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m6(this._location.path)}get storage(){return this._service}get parent(){const e=function uQ(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ec(this._location.bucket,e);return new Wy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw c6(e)}}function D6(n,e,t){return SV.apply(this,arguments)}function SV(){return SV=(0,at.Z)(function*(n,e,t){const i=yield S6(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield D6(n,e,i.nextPageToken))}),SV.apply(this,arguments)}function S6(n,e){null!=e&&"number"==typeof e.maxResults&&bV("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=bQ(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Ld)}function GQ(n){n._throwIfRoot("getDownloadURL");const e=function IQ(n,e,t){const i=mp(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,h=new Xh(i,"GET",function wQ(n,e){return function t(r,i){const s=g6(n,i,e);return Jh(null!==s),function gQ(n,e,t,r){const i=TV(e);if(null===i||!V1(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(m=>{const x=n.fullPath;return mp("/b/"+a(n.bucket)+"/o/"+a(x),t,r)+u6({alt:"media",token:m})})[0]}(s,i,n.host,n._protocol)}}(n,t),a);return h.errorHandler=AA(e),h}(n.storage,n._location,CA());return n.storage.makeRequestWithTokens(e,Ld).then(t=>{if(null===t)throw function zY(){return new Ps(Es.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function x6(n,e){const t=function dQ(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ec(n._location.bucket,t);return new Wy(n.storage,r)}function M6(n,e){if(n instanceof xV){const t=n;if(null==t._bucket)throw function jY(){return new Ps(Es.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r6+"' property when initializing the app?")}();const r=new Wy(t,t._bucket);return null!=e?M6(r,e):r}return void 0!==e?x6(n,e):n}function ZQ(n,e){if(e&&function WQ(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof xV)return function qQ(n,e){return new Wy(n,e)}(n,e);throw rb("To use ref(service, url), the first argument must be a Storage instance.")}return M6(n,e)}function R6(n,e){const t=e?.[r6];return null==t?null:Ec.makeFromBucketSpec(t,n)}class xV{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=n6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ec.makeFromBucketSpec(i,this._host):R6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ec.makeFromBucketSpec(this._url,e):R6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bV("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bV("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,at.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,at.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wy(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new GY(a6());{const a=function tQ(n,e,t,r,i,s,a=!0){const h=u6(n.urlParams),p=n.url+h,m=Object.assign({},n.headers);return function JY(n,e){e&&(n["X-Firebase-GMPID"]=e)}(m,e),function QY(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(m,t),function XY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(m,s),function eQ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(m,r),new YY(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,at.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const P6="@firebase/storage",N6="storage";function O6(n){return GQ(n=(0,On.m9)(n))}function MV(n,e){return ZQ(n=(0,On.m9)(n),e)}function F6(n,e,t,r={}){!function KQ(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,On.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function sX(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new xV(t,r,i,e,Yr.SDK_VERSION)}!function oX(){(0,Yr._registerComponent)(new $l.wA(N6,sX,"PUBLIC").setMultipleInstances(!0)),(0,Yr.registerVersion)(P6,"0.11.2",""),(0,Yr.registerVersion)(P6,"0.11.2","esm2017")}();let H1=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.router=i}getProducts(){return this.firestore.collection("products").valueChanges()}deleteProduct(r){this.firestore.collection("products",i=>i.where("id","==",r)).get().subscribe(i=>{i.forEach(s=>{s.ref.delete().then(()=>{console.log("deleted")})})})}getProductById(r){return this.firestore.collection("products",i=>i.where("id","==",r)).valueChanges()}updateProduct(r,i){this.firestore.collection("products",s=>s.where("id","==",r)).get().subscribe(s=>{s.forEach(a=>{a.ref.update(i).then(()=>{console.log("updated"),this.router.navigate(["admin"])})})})}getCategories(){return this.firestore.collection("categories").doc("UhXnpCPXIasl4tEGsBu7").valueChanges()}setCategories(r){return this.firestore.collection("categories").doc("UhXnpCPXIasl4tEGsBu7").set(r)}uploadPhotoService(r){console.log(r.changingThisBreaksApplicationSecurity)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(VH),u.LFG(Hs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const aX=["wrapper"],cX=["sourceImage"];function lX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"img",4,5),u.NdJ("load",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.imageLoadedInView())})("mousedown",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.startMove(i,s.moveTypes.Drag))})("touchstart",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.startMove(i,s.moveTypes.Drag))})("error",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.loadImageError(i))}),u.qZA()}if(2&n){const t=u.oxw();u.Udp("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),u.ekj("ngx-ic-draggable",!t.disabled&&t.allowMoveImage),u.Q6J("src",t.safeImgDataUrl,u.LSH),u.uIk("alt",t.imageAltText)}}function uX(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"span",9),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"topleft"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"topleft"))}),u._UZ(2,"span",10),u.qZA(),u.TgZ(3,"span",11),u._UZ(4,"span",10),u.qZA(),u.TgZ(5,"span",12),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"topright"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"topright"))}),u._UZ(6,"span",10),u.qZA(),u.TgZ(7,"span",13),u._UZ(8,"span",10),u.qZA(),u.TgZ(9,"span",14),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"bottomright"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"bottomright"))}),u._UZ(10,"span",10),u.qZA(),u.TgZ(11,"span",15),u._UZ(12,"span",10),u.qZA(),u.TgZ(13,"span",16),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"bottomleft"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"bottomleft"))}),u._UZ(14,"span",10),u.qZA(),u.TgZ(15,"span",17),u._UZ(16,"span",10),u.qZA(),u.TgZ(17,"span",18),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"top"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"top"))}),u.qZA(),u.TgZ(18,"span",19),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"right"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"right"))}),u.qZA(),u.TgZ(19,"span",20),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"bottom"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"bottom"))}),u.qZA(),u.TgZ(20,"span",21),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"left"))})("touchstart",function(i){u.CHM(t);const s=u.oxw(2);return u.KtG(s.startMove(i,s.moveTypes.Resize,"left"))}),u.qZA(),u.BQk()}}function dX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",6),u.NdJ("keydown",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.keyboardAccess(i))}),u.TgZ(1,"div",7),u.NdJ("mousedown",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.startMove(i,s.moveTypes.Move))})("touchstart",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.startMove(i,s.moveTypes.Move))}),u.qZA(),u.YNc(2,uX,21,0,"ng-container",8),u.qZA()}if(2&n){const t=u.oxw();u.Udp("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),u.ekj("ngx-ic-round",t.roundCropper),u.uIk("aria-label",t.cropperFrameAriaLabel),u.xp6(2),u.Q6J("ngIf",!t.hideResizeSquares)}}class hX{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(e){Object.keys(e).filter(t=>t in this).forEach(t=>this[t]=e[t]),this.validateOptions()}setOptionsFromChanges(e){Object.keys(e).filter(t=>t in this).forEach(t=>this[t]=e[t].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Qu=function(n){return n.Drag="drag",n.Move="move",n.Resize="resize",n.Pinch="pinch",n}(Qu||{});function L6(n,e){return n/100*e}let _X=(()=>{class n{crop(t,r,i,s,a){const h=this.getImagePosition(t,r,i,s),p=h.x2-h.x1,m=h.y2-h.y1,w=document.createElement("canvas");w.width=p,w.height=m;const x=w.getContext("2d");if(!x)return null;null!=s.backgroundColor&&(x.fillStyle=s.backgroundColor,x.fillRect(0,0,p,m));const F=(s.transform.scale||1)*(s.transform.flipH?-1:1),z=(s.transform.scale||1)*(s.transform.flipV?-1:1),{translateH:oe,translateV:ge}=this.getCanvasTranslate(t,r,s),le=r.transformed;x.setTransform(F,0,0,z,le.size.width/2+oe,le.size.height/2+ge),x.translate(-h.x1/F,-h.y1/z),x.rotate((s.transform.rotate||0)*Math.PI/180),x.drawImage(le.image,-le.size.width/2,-le.size.height/2);const Be={width:p,height:m,imagePosition:h,cropperPosition:{...i}};s.containWithinAspectRatio&&(Be.offsetImagePosition=this.getOffsetImagePosition(t,r,i,s));const dt=this.getResizeRatio(p,m,s);return 1!==dt&&(Be.width=Math.round(p*dt),Be.height=s.maintainAspectRatio?Math.round(Be.width/s.aspectRatio):Math.round(m*dt),function gX(n,e,t){const r=n.width,i=n.height,s=r/(e=Math.round(e)),a=i/(t=Math.round(t)),h=Math.ceil(s/2),p=Math.ceil(a/2),m=n.getContext("2d");if(m){const w=m.getImageData(0,0,r,i),x=m.createImageData(e,t),F=w.data,z=x.data;for(let oe=0;oe<t;oe++)for(let ge=0;ge<e;ge++){const le=4*(ge+oe*e),Be=oe*a;let dt=0,pt=0,It=0,qt=0,cn=0,hr=0,Fi=0;const Ud=Math.floor(ge*s),aP=Math.floor(oe*a);let YV=Math.ceil((ge+1)*s),QV=Math.ceil((oe+1)*a);YV=Math.min(YV,r),QV=Math.min(QV,i);for(let cP=aP;cP<QV;cP++){const N$=Math.abs(Be-cP)/p,Vte=ge*s,Ute=N$*N$;for(let lP=Ud;lP<YV;lP++){const O$=Math.abs(Vte-lP)/h,hb=Math.sqrt(Ute+O$*O$);if(hb>=1)continue;dt=2*hb*hb*hb-3*hb*hb+1;const fb=4*(lP+cP*r);Fi+=dt*F[fb+3],It+=dt,F[fb+3]<255&&(dt=dt*F[fb+3]/250),qt+=dt*F[fb],cn+=dt*F[fb+1],hr+=dt*F[fb+2],pt+=dt}}z[le]=qt/pt,z[le+1]=cn/pt,z[le+2]=hr/pt,z[le+3]=Fi/It}n.width=e,n.height=t,m.putImageData(x,0,0)}}(w,Be.width,Be.height)),"blob"===a?this.cropToBlob(Be,w,s):(Be.base64=w.toDataURL("image/"+s.format,this.getQuality(s)),Be)}cropToBlob(t,r,i){var s=this;return(0,at.Z)(function*(){return t.blob=yield new Promise(a=>r.toBlob(a,"image/"+i.format,s.getQuality(i))),t.blob&&(t.objectUrl=URL.createObjectURL(t.blob)),t})()}getCanvasTranslate(t,r,i){if("px"===i.transform.translateUnit){const s=this.getRatio(t,r);return{translateH:(i.transform.translateH||0)*s,translateV:(i.transform.translateV||0)*s}}return{translateH:i.transform.translateH?L6(i.transform.translateH,r.transformed.size.width):0,translateV:i.transform.translateV?L6(i.transform.translateV,r.transformed.size.height):0}}getRatio(t,r){return r.transformed.size.width/t.nativeElement.offsetWidth}getImagePosition(t,r,i,s){const a=this.getRatio(t,r),h={x1:Math.round(i.x1*a),y1:Math.round(i.y1*a),x2:Math.round(i.x2*a),y2:Math.round(i.y2*a)};return s.containWithinAspectRatio||(h.x1=Math.max(h.x1,0),h.y1=Math.max(h.y1,0),h.x2=Math.min(h.x2,r.transformed.size.width),h.y2=Math.min(h.y2,r.transformed.size.height)),h}getOffsetImagePosition(t,r,i,s){const p=r.transformed.size.width/t.nativeElement.offsetWidth;let m,w;(s.canvasRotation+r.exifTransform.rotate)%2?(m=(r.transformed.size.width-r.original.size.height)/2,w=(r.transformed.size.height-r.original.size.width)/2):(m=(r.transformed.size.width-r.original.size.width)/2,w=(r.transformed.size.height-r.original.size.height)/2);const x={x1:Math.round(i.x1*p)-m,y1:Math.round(i.y1*p)-w,x2:Math.round(i.x2*p)-m,y2:Math.round(i.y2*p)-w};return s.containWithinAspectRatio||(x.x1=Math.max(x.x1,0),x.y1=Math.max(x.y1,0),x.x2=Math.min(x.x2,r.transformed.size.width),x.y2=Math.min(x.y2,r.transformed.size.height)),x}getResizeRatio(t,r,i){const s=i.resizeToWidth/t,a=i.resizeToHeight/r,h=new Array;i.resizeToWidth>0&&h.push(s),i.resizeToHeight>0&&h.push(a);const p=0===h.length?1:Math.min(...h);return p>1&&!i.onlyScaleDown?p:Math.min(p,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yX=(()=>{class n{resetCropperPosition(t,r,i){if(!t?.nativeElement)return;const s=t.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)r.x1=0,r.x2=s.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:s.offsetWidth,r.y1=0,r.y2=s.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:s.offsetHeight;else{const a=Math.min(i.cropperScaledMaxWidth,s.offsetWidth),h=Math.min(i.cropperScaledMaxHeight,s.offsetHeight);if(i.maintainAspectRatio)if(s.offsetWidth/i.aspectRatio<s.offsetHeight){r.x1=0,r.x2=a;const p=a/i.aspectRatio;r.y1=(s.offsetHeight-p)/2,r.y2=r.y1+p}else{r.y1=0,r.y2=h;const p=h*i.aspectRatio;r.x1=(s.offsetWidth-p)/2,r.x2=r.x1+p}else r.x1=0,r.x2=a,r.y1=0,r.y2=h}}move(t,r,i){const s=this.getClientX(t)-r.clientX,a=this.getClientY(t)-r.clientY;i.x1=r.x1+s,i.y1=r.y1+a,i.x2=r.x2+s,i.y2=r.y2+a}resize(t,r,i,s,a){const h=this.getClientX(t)-r.clientX,p=this.getClientY(t)-r.clientY;switch(r.position){case"left":i.x1=Math.min(Math.max(r.x1+h,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(r.x1+h,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth),i.y1=Math.min(Math.max(r.y1+p,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(r.y1+p,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(r.x2+h,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth),i.y1=Math.min(Math.max(r.y1+p,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(r.x2+h,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(r.x2+h,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth),i.y2=Math.max(Math.min(r.y2+p,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(r.y2+p,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(r.x1+h,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth),i.y2=Math.max(Math.min(r.y2+p,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"center":const m=t.scale,w=Math.min(Math.max(a.cropperScaledMinWidth,Math.abs(r.x2-r.x1)*m),a.cropperScaledMaxWidth),x=Math.min(Math.max(a.cropperScaledMinHeight,Math.abs(r.y2-r.y1)*m),a.cropperScaledMaxHeight);i.x1=r.clientX-w/2,i.x2=r.clientX+w/2,i.y1=r.clientY-x/2,i.y2=r.clientY+x/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>s.width&&(i.x1-=i.x2-s.width,i.x2=s.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>s.height&&(i.y1-=i.y2-s.height,i.y2=s.height)}a.maintainAspectRatio&&this.checkAspectRatio(r.position,i,s,a)}checkAspectRatio(t,r,i,s){let a=0,h=0;switch(t){case"top":r.x2=r.x1+(r.y2-r.y1)*s.aspectRatio,a=Math.max(r.x2-i.width,0),h=Math.max(0-r.y1,0),(a>0||h>0)&&(r.x2-=h*s.aspectRatio>a?h*s.aspectRatio:a,r.y1+=h*s.aspectRatio>a?h:a/s.aspectRatio);break;case"bottom":r.x2=r.x1+(r.y2-r.y1)*s.aspectRatio,a=Math.max(r.x2-i.width,0),h=Math.max(r.y2-i.height,0),(a>0||h>0)&&(r.x2-=h*s.aspectRatio>a?h*s.aspectRatio:a,r.y2-=h*s.aspectRatio>a?h:a/s.aspectRatio);break;case"topleft":r.y1=r.y2-(r.x2-r.x1)/s.aspectRatio,a=Math.max(0-r.x1,0),h=Math.max(0-r.y1,0),(a>0||h>0)&&(r.x1+=h*s.aspectRatio>a?h*s.aspectRatio:a,r.y1+=h*s.aspectRatio>a?h:a/s.aspectRatio);break;case"topright":r.y1=r.y2-(r.x2-r.x1)/s.aspectRatio,a=Math.max(r.x2-i.width,0),h=Math.max(0-r.y1,0),(a>0||h>0)&&(r.x2-=h*s.aspectRatio>a?h*s.aspectRatio:a,r.y1+=h*s.aspectRatio>a?h:a/s.aspectRatio);break;case"right":case"bottomright":r.y2=r.y1+(r.x2-r.x1)/s.aspectRatio,a=Math.max(r.x2-i.width,0),h=Math.max(r.y2-i.height,0),(a>0||h>0)&&(r.x2-=h*s.aspectRatio>a?h*s.aspectRatio:a,r.y2-=h*s.aspectRatio>a?h:a/s.aspectRatio);break;case"left":case"bottomleft":r.y2=r.y1+(r.x2-r.x1)/s.aspectRatio,a=Math.max(0-r.x1,0),h=Math.max(r.y2-i.height,0),(a>0||h>0)&&(r.x1+=h*s.aspectRatio>a?h*s.aspectRatio:a,r.y2-=h*s.aspectRatio>a?h:a/s.aspectRatio);break;case"center":r.x2=r.x1+(r.y2-r.y1)*s.aspectRatio,r.y2=r.y1+(r.x2-r.x1)/s.aspectRatio;const p=Math.max(0-r.x1,0),m=Math.max(r.x2-i.width,0),w=Math.max(r.y2-i.height,0),x=Math.max(0-r.y1,0);(p>0||m>0||w>0||x>0)&&(r.x1+=w*s.aspectRatio>p?w*s.aspectRatio:p,r.x2-=x*s.aspectRatio>m?x*s.aspectRatio:m,r.y1+=x*s.aspectRatio>m?x:m/s.aspectRatio,r.y2-=w*s.aspectRatio>p?w:p/s.aspectRatio)}}getClientX(t){return t.touches?.[0].clientX||t.clientX||0}getClientY(t){return t.touches?.[0].clientY||t.clientY||0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let EX=(()=>{class n{constructor(){this.autoRotateSupported=function wX(){return new Promise(n=>{const e=new Image;e.onload=()=>{n(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(t,r){return t.arrayBuffer().then(i=>this.checkImageTypeAndLoadImageFromArrayBuffer(i,t.type,r))}checkImageTypeAndLoadImageFromArrayBuffer(t,r,i){return this.isValidImageType(r)?this.loadImageFromArrayBuffer(t,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(t)}loadImageFromURL(t,r){return fetch(t).then(i=>i.arrayBuffer()).then(i=>this.loadImageFromArrayBuffer(i,r))}loadBase64Image(t,r){const i=this.base64ToArrayBuffer(t);return this.loadImageFromArrayBuffer(i,r)}base64ToArrayBuffer(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");const r=atob(t),i=r.length,s=new Uint8Array(i);for(let a=0;a<i;a++)s[a]=r.charCodeAt(a);return s.buffer}loadImageFromArrayBuffer(t,r){return new Promise((i,s)=>{const a=new Blob([t]),h=URL.createObjectURL(a),p=new Image;p.onload=()=>i({originalImage:p,originalObjectUrl:h,originalArrayBuffer:t}),p.onerror=s,p.src=h}).then(i=>this.transformImageFromArrayBuffer(i,r))}transformImageFromArrayBuffer(t,r){var i=this;return(0,at.Z)(function*(){const s=yield i.autoRotateSupported,a=yield function bX(n){switch("object"==typeof n&&(n=function IX(n){const e=new DataView(n);if(65496!==e.getUint16(0,!1))return-2;const t=e.byteLength;let r=2;for(;r<t;){if(e.getUint16(r+2,!1)<=8)return-1;const i=e.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!==e.getUint32(r+=2,!1))return-1;const s=18761==e.getUint16(r+=6,!1);r+=e.getUint32(r+4,s);const a=e.getUint16(r,s);r+=2;for(let h=0;h<a;h++)if(274==e.getUint16(r+12*h,s))return e.getUint16(r+12*h+8,s)}else{if(65280!=(65280&i))break;r+=e.getUint16(r,!1)}}return-1}(n)),n){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(s?-1:t.originalArrayBuffer);return t.originalImage&&t.originalImage.complete?i.transformLoadedImage({original:{objectUrl:t.originalObjectUrl,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:a},r):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(t,r){var i=this;return(0,at.Z)(function*(){const s=r.canvasRotation+t.exifTransform.rotate,a={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===s&&!t.exifTransform.flip&&!r.containWithinAspectRatio)return{original:{objectUrl:t.original.objectUrl,image:t.original.image,size:{...a}},transformed:{objectUrl:t.original.objectUrl,image:t.original.image,size:{...a}},exifTransform:t.exifTransform};const h=i.getTransformedSize(a,t.exifTransform,r),p=document.createElement("canvas");p.width=h.width,p.height=h.height;const m=p.getContext("2d");m?.setTransform(t.exifTransform.flip?-1:1,0,0,1,p.width/2,p.height/2),m?.rotate(Math.PI*(s/2)),m?.drawImage(t.original.image,-a.width/2,-a.height/2);const w=yield new Promise(z=>p.toBlob(z,r.format));if(!w)throw new Error("Failed to get Blob for transformed image.");const x=URL.createObjectURL(w),F=yield i.loadImageFromObjectUrl(x);return{original:{objectUrl:t.original.objectUrl,image:t.original.image,size:{...a}},transformed:{objectUrl:x,image:F,size:{width:F.width,height:F.height}},exifTransform:t.exifTransform}})()}loadImageFromObjectUrl(t){return new Promise((r,i)=>{const s=new Image;s.onload=()=>r(s),s.onerror=i,s.src=t})}getTransformedSize(t,r,i){const s=i.canvasRotation+r.rotate;if(i.containWithinAspectRatio){if(s%2){const h=t.height/i.aspectRatio;return{width:Math.max(t.height,t.width*i.aspectRatio),height:Math.max(t.width,h)}}{const h=t.width/i.aspectRatio;return{width:Math.max(t.width,t.height*i.aspectRatio),height:Math.max(t.height,h)}}}return s%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TX=(()=>{class n{constructor(t,r,i,s,a,h){this.cropService=t,this.cropperPositionService=r,this.loadImageService=i,this.sanitizer=s,this.cd=a,this.hammerLoader=h,this.settings=new hX,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Qu,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new u.vpe,this.startCropImage=new u.vpe,this.imageLoaded=new u.vpe,this.cropperReady=new u.vpe,this.loadImageFailed=new u.vpe,this.transformChange=new u.vpe,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage?.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!t.maintainAspectRatio&&!t.aspectRatio?t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent?.target?.files?.length>0}setCssTransform(){const t=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${t}, ${this.transform.translateV||0}${t}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(r=>this.setLoadedImage(r)).catch(r=>this.loadImageError(r))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.objectUrl),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit({...this.maxSize}),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){this.loadedImage&&(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){var t=this;return(0,at.Z)(function*(){yield t.hammerLoader?.();const r=window?.Hammer||null;if(r){const i=new r(t.wrapper.nativeElement);i.get("pinch").set({enable:!0}),i.on("pinchmove",t.onPinch.bind(t)),i.on("pinchend",t.pinchStop.bind(t)),i.on("pinchstart",t.startPinch.bind(t))}else(0,u.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})()}resizeCropperPosition(){const t=this.sourceImage.nativeElement;(this.maxSize.width!==t.offsetWidth||this.maxSize.height!==t.offsetHeight)&&(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){const r=+t.key;r>=1&&r<=9&&(this.settings.stepSize=r)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const i=t.shiftKey?Qu.Resize:Qu.Move,s=t.altKey?function pX(n){switch(n){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function fX(n){switch(n){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),a=function mX(n,e){switch(n){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},i,s),this.moveImg(a),this.moveStop()}startMove(t,r,i=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===Qu.Pinch||r===Qu.Drag&&!this.allowMoveImage||(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:r,position:i,transform:{...this.transform},clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t),...this.cropper})}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:Qu.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2,...this.cropper})}moveImg(t){if(this.moveStart.active){if(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Qu.Move)this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Qu.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Qu.Drag){const r=this.cropperPositionService.getClientX(t)-this.moveStart.clientX,i=this.cropperPositionService.getClientY(t)-this.moveStart.clientY;this.transform={...this.transform,translateH:(this.moveStart.transform?.translateH||0)+r,translateV:(this.moveStart.transform?.translateV||0)+i},this.setCssTransform()}this.cd.detectChanges()}}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Qu.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){const t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===Qu.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(t=this.settings.output){if(null!=this.loadedImage?.transformed?.image){if(this.startCropImage.emit(),"blob"===t)return this.cropToBlob();if("base64"===t)return this.cropToBase64()}return null}cropToBlob(){const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings,"blob");return t?Promise.resolve(t).then(r=>(this.imageCropped.emit(r),t)):null}cropToBase64(){const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings,"base64");return t?(this.imageCropped.emit(t),t):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_X),u.Y36(yX),u.Y36(EX),u.Y36(Us),u.Y36(u.sBO),u.Y36(ji,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["image-cropper"]],viewQuery:function(t,r){if(1&t&&(u.Gf(aX,7),u.Gf(cX,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.wrapper=i.first),u.iGM(i=u.CRH())&&(r.sourceImage=i.first)}},hostVars:6,hostBindings:function(t,r){1&t&&u.NdJ("resize",function(){return r.onResize()},!1,u.Jf7)("mousemove",function(s){return r.moveImg(s)},!1,u.evT)("touchmove",function(s){return r.moveImg(s)},!1,u.evT)("mouseup",function(){return r.moveStop()},!1,u.evT)("touchend",function(){return r.moveStop()},!1,u.evT),2&t&&(u.Udp("text-align",r.alignImage),u.ekj("disabled",r.disabled)("ngx-ix-hidden",r.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[u.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart","error"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,r){1&t&&(u.TgZ(0,"div",null,0),u.YNc(2,lX,2,8,"img",1),u._UZ(3,"div",2),u.YNc(4,dX,3,16,"div",3),u.qZA()),2&t&&(u.Udp("background",r.imageVisible&&r.backgroundColor),u.xp6(2),u.Q6J("ngIf",r.safeImgDataUrl),u.xp6(1),u.Udp("width",r.maxSize.width,"px")("height",r.maxSize.height,"px")("margin-left","center"===r.alignImage?r.marginLeft:null),u.xp6(1),u.Q6J("ngIf",r.imageVisible))},dependencies:[ks],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),n})(),CX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Nr]]}),n})();function AX(n,e){1&n&&(u.TgZ(0,"span",22),u._uU(1," Title is required "),u.qZA())}function DX(n,e){if(1&n&&(u.TgZ(0,"span",22),u.YNc(1,AX,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("title").errors.required)}}function SX(n,e){if(1&n&&(u.TgZ(0,"option",23),u._uU(1),u.ALo(2,"uppercase"),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.hij(" ",u.lcZ(2,2,t)," ")}}function xX(n,e){1&n&&(u.TgZ(0,"span",22),u._uU(1," Category is required "),u.qZA())}function MX(n,e){if(1&n&&(u.TgZ(0,"span",22),u.YNc(1,xX,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("category").errors.required)}}function RX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"image-cropper",24),u.NdJ("imageCropped",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.imageCropped(i))})("imageLoaded",function(i){u.CHM(t);const s=u.oxw();return u.KtG(s.imageLoaded(i))})("cropperReady",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.cropperReady())})("loadImageFailed",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.loadImageFailed())}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!1)("aspectRatio",1.6)("hideResizeSquares",!0)}}function PX(n,e){if(1&n&&u._UZ(0,"img",25),2&n){const t=u.oxw();u.Q6J("src",t.croppedImage,u.LSH)}}function kX(n,e){1&n&&(u.TgZ(0,"span",22),u._uU(1," Price should only contain numbers. "),u.qZA())}function NX(n,e){1&n&&(u.TgZ(0,"span",22),u._uU(1," Price is required "),u.qZA())}function OX(n,e){if(1&n&&(u.TgZ(0,"span",22),u.YNc(1,kX,2,0,"span",6),u.YNc(2,NX,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.required)}}function FX(n,e){1&n&&(u.TgZ(0,"span",22),u._uU(1," Stock should only contain numbers. "),u.qZA())}function LX(n,e){1&n&&(u.TgZ(0,"span",22),u._uU(1," Stock is required "),u.qZA())}function VX(n,e){if(1&n&&(u.TgZ(0,"span",22),u.YNc(1,FX,2,0,"span",6),u.YNc(2,LX,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.required)}}let UX=(()=>{var n;class e{constructor(r,i,s,a){this.sanitizer=r,this.data=i,this.prodService=s,this.http=a,this.firebaseApp=(0,Yr.initializeApp)(b1_firebaseConfig),this.storage=function iX(n=(0,Yr.getApp)(),e){n=(0,On.m9)(n);const r=(0,Yr._getProvider)(n,N6).getImmediate({identifier:e}),i=(0,On.P0)("storage");return i&&F6(r,...i),r}(this.firebaseApp),this.imageChangedEvent="",this.croppedImage="",this.numRegex=/\d+$/,this.list=[]}fileChangeEvent(r){this.imageChangedEvent=r,this.croppedImage=r.target.files[0]}imageCropped(r){r.objectUrl&&(this.croppedImage=r.objectUrl,console.log(r),fetch(r.objectUrl).then(i=>i.blob()).then(i=>{const s=new File([i],"png",{type:i.type}),a=new FileReader;a.readAsDataURL(s),a.addEventListener("load",()=>{console.log(a.result),this.base64=s})}))}imageLoaded(r){}cropperReady(){}loadImageFailed(){}ngOnInit(){this.productForm=new zy({title:new Ic("",ho.required),category:new Ic("",ho.required),image:new Ic(null,ho.required),price:new Ic(null,[ho.required,ho.pattern(this.numRegex)]),stock:new Ic(null,[ho.required,ho.pattern(this.numRegex)])}),this.data.getCategories().subscribe(r=>{this.list=Object.values(r)})}formHandler(){let r=this.productForm.value,i=[];(function YQ(n,e,t){return function A6(n,e,t){n._throwIfRoot("uploadBytes");const r=I6(n.storage,n._location,CA(),new Qh(e,!0),t);return n.storage.makeRequestWithTokens(r,Ld).then(i=>({metadata:i,ref:n}))}(n=(0,On.m9)(n),e,t)})(MV(this.storage,`images/${r.title}`),this.base64).then(a=>(console.log("Uploaded a blob or file!"),O6(a.ref))).then(a=>{console.log(a),i.push(a)}).then(()=>{let a={...r,images:i};this.prodService.uploadProduct(a)})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Us),u.Y36(H1),u.Y36(UH),u.Y36(X2))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-product"]],decls:34,vars:9,consts:[[1,"container"],[1,"col-6","bg-white","mx-auto","rounded","px-3","py-4"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","title",1,"form-label"],["type","text","formControlName","title","id","title",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","category",1,"form-label"],["formControlName","category","id","category","ngModel","general",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","mt-2"],["for","images",1,"form-label"],["type","file","formControlName","image",1,"form-control",3,"change"],[1,"col-6"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","hideResizeSquares","imageCropped","imageLoaded","cropperReady","loadImageFailed",4,"ngIf"],["width","250px",3,"src",4,"ngIf"],["for","price",1,"form-label"],["type","text","formControlName","price","id","price",1,"form-control"],["for","stock",1,"form-label"],["type","text","formControlName","stock","id","stock",1,"form-control"],[1,"col","my-2"],[1,"btn","btn-success",3,"disabled"],[1,"small","text-danger"],[3,"value"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","hideResizeSquares","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["width","250px",3,"src"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2),u.NdJ("ngSubmit",function(){return i.formHandler()}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Title"),u.qZA(),u._UZ(6,"input",5),u.YNc(7,DX,2,1,"span",6),u.qZA(),u.TgZ(8,"div",3)(9,"label",7),u._uU(10,"Category"),u.qZA(),u.TgZ(11,"select",8),u.YNc(12,SX,3,4,"option",9),u.qZA(),u.YNc(13,MX,2,1,"span",6),u.qZA(),u.TgZ(14,"div",10)(15,"label",11),u._uU(16,"Image"),u.qZA(),u.TgZ(17,"input",12),u.NdJ("change",function(a){return i.fileChangeEvent(a)}),u.qZA(),u.TgZ(18,"div",13),u.YNc(19,RX,1,4,"image-cropper",14),u.qZA(),u.YNc(20,PX,1,1,"img",15),u.qZA(),u.TgZ(21,"div",3)(22,"label",16),u._uU(23,"Price"),u.qZA(),u._UZ(24,"input",17),u.YNc(25,OX,3,2,"span",6),u.qZA(),u.TgZ(26,"div",3)(27,"label",18),u._uU(28,"Stock"),u.qZA(),u._UZ(29,"input",19),u.YNc(30,VX,3,2,"span",6),u.qZA(),u._UZ(31,"div",20),u.TgZ(32,"button",21),u._uU(33," Add "),u.qZA()()()()),2&r&&(u.xp6(2),u.Q6J("formGroup",i.productForm),u.xp6(5),u.Q6J("ngIf",!i.productForm.get("title").valid&&i.productForm.get("title").touched),u.xp6(5),u.Q6J("ngForOf",i.list),u.xp6(1),u.Q6J("ngIf",!i.productForm.get("category").valid&&i.productForm.get("category").touched),u.xp6(6),u.Q6J("ngIf",i.croppedImage),u.xp6(1),u.Q6J("ngIf",i.croppedImage),u.xp6(5),u.Q6J("ngIf",!i.productForm.get("price").valid&&i.productForm.get("price").touched),u.xp6(5),u.Q6J("ngIf",!i.productForm.get("stock").valid&&i.productForm.get("stock").touched),u.xp6(2),u.Q6J("disabled",!i.productForm.valid))},dependencies:[Zo,ks,tb,mV,_V,yg,bA,Xw,Jw,Gy,nb,TX,Ai]}),e})();function jX(n,e){1&n&&(u.TgZ(0,"span",8),u._uU(1," category is required "),u.qZA())}function BX(n,e){1&n&&(u.TgZ(0,"span",8),u._uU(1," Category should be of minimum 3 chars. "),u.qZA())}function zX(n,e){if(1&n&&(u.TgZ(0,"span",8),u.YNc(1,jX,2,0,"span",6),u.YNc(2,BX,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.categoryForm.get("category").errors.required),u.xp6(1),u.Q6J("ngIf",t.categoryForm.get("category").errors.minlength)}}let HX=(()=>{var n;class e{constructor(r,i){this.data=r,this.router=i}ngOnInit(){this.categoryForm=new zy({category:new Ic("",ho.required)}),this.data.getCategories().subscribe(r=>{this.cat=Object.values(r)})}formHandler(){let r=this.categoryForm.value.category;console.log(r),this.cat.push(r),this.data.setCategories({...this.cat}),this.router.navigate(["/"])}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(H1),u.Y36(Hs))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-category"]],decls:10,vars:3,consts:[[1,"container","mt-5"],[1,"col-6","bg-white","mx-auto","rounded","px-3","py-4"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","category",1,"form-label"],["type","text","formControlName","category","id","category",1,"form-control"],["class","small text-danger",4,"ngIf"],[1,"btn","btn-primary","my-3",3,"disabled"],[1,"small","text-danger"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2),u.NdJ("ngSubmit",function(){return i.formHandler()}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Category"),u.qZA(),u._UZ(6,"input",5),u.YNc(7,zX,3,2,"span",6),u.qZA(),u.TgZ(8,"button",7),u._uU(9," Add "),u.qZA()()()()),2&r&&(u.xp6(2),u.Q6J("formGroup",i.categoryForm),u.xp6(5),u.Q6J("ngIf",!i.categoryForm.get("category").valid&&i.categoryForm.get("category").touched),u.xp6(1),u.Q6J("disabled",!i.categoryForm.valid))},dependencies:[ks,tb,yg,Xw,Jw,Gy,nb]}),e})(),GX=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loader"]],decls:13,vars:0,consts:[[1,"loader"],[1,"bar1"],[1,"bar2"],[1,"bar3"],[1,"bar4"],[1,"bar5"],[1,"bar6"],[1,"bar7"],[1,"bar8"],[1,"bar9"],[1,"bar10"],[1,"bar11"],[1,"bar12"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),u.qZA())},styles:[".loader[_ngcontent-%COMP%]{position:relative;width:54px;height:54px;top:5em;border-radius:10px}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8%;height:24%;background:rgb(255,255,255);position:absolute;left:50%;top:30%;opacity:0;border-radius:50px;box-shadow:0 0 3px #0003;animation:_ngcontent-%COMP%_fade458 1s linear infinite}@keyframes _ngcontent-%COMP%_fade458{0%{opacity:1}to{opacity:.25}}.loader[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%]{transform:rotate(0) translateY(-130%);animation-delay:0s}.loader[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%]{transform:rotate(30deg) translateY(-130%);animation-delay:-1.1s}.loader[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{transform:rotate(60deg) translateY(-130%);animation-delay:-1s}.loader[_ngcontent-%COMP%]   .bar4[_ngcontent-%COMP%]{transform:rotate(90deg) translateY(-130%);animation-delay:-.9s}.loader[_ngcontent-%COMP%]   .bar5[_ngcontent-%COMP%]{transform:rotate(120deg) translateY(-130%);animation-delay:-.8s}.loader[_ngcontent-%COMP%]   .bar6[_ngcontent-%COMP%]{transform:rotate(150deg) translateY(-130%);animation-delay:-.7s}.loader[_ngcontent-%COMP%]   .bar7[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-130%);animation-delay:-.6s}.loader[_ngcontent-%COMP%]   .bar8[_ngcontent-%COMP%]{transform:rotate(210deg) translateY(-130%);animation-delay:-.5s}.loader[_ngcontent-%COMP%]   .bar9[_ngcontent-%COMP%]{transform:rotate(240deg) translateY(-130%);animation-delay:-.4s}.loader[_ngcontent-%COMP%]   .bar10[_ngcontent-%COMP%]{transform:rotate(270deg) translateY(-130%);animation-delay:-.3s}.loader[_ngcontent-%COMP%]   .bar11[_ngcontent-%COMP%]{transform:rotate(300deg) translateY(-130%);animation-delay:-.2s}.loader[_ngcontent-%COMP%]   .bar12[_ngcontent-%COMP%]{transform:rotate(330deg) translateY(-130%);animation-delay:-.1s}"]}),e})();function $X(n,e){1&n&&u._UZ(0,"app-loader")}function WX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.ALo(3,"uppercase"),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td")(11,"button",7),u.NdJ("click",function(){const s=u.CHM(t).$implicit,a=u.oxw(2);return u.KtG(a.editProduct(s.id))}),u._UZ(12,"i",8),u.qZA(),u.TgZ(13,"button",7),u.NdJ("click",function(){const i=u.CHM(t),s=i.$implicit,a=i.index,h=u.oxw(2);return u.KtG(h.deleteProduct(s.id,a))}),u._UZ(14,"i",9),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(u.lcZ(3,4,t.title)),u.xp6(3),u.hij("$",t.price,""),u.xp6(2),u.Oqu(t.category),u.xp6(2),u.Oqu(t.stock)}}function qX(n,e){if(1&n&&(u.TgZ(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th",5),u._uU(5,"Title"),u.qZA(),u.TgZ(6,"th"),u._uU(7,"Price"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Category"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"QTY"),u.qZA(),u.TgZ(12,"th"),u._uU(13,"Actions"),u.qZA()()(),u.TgZ(14,"tbody"),u.YNc(15,WX,15,6,"tr",6),u.qZA()()()),2&n){const t=u.oxw();u.xp6(15),u.Q6J("ngForOf",t.productsList)}}let ZX=(()=>{var n;class e{constructor(r,i){this.data=r,this.router=i}ngOnInit(){this.data.getProducts().subscribe(r=>this.productsList=r)}editProduct(r){this.router.navigate([`admin/edit-product/${r}`])}deleteProduct(r,i){this.productsList.splice(i,1),this.data.deleteProduct(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(H1),u.Y36(Hs))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-product-list"]],decls:3,vars:2,consts:[[1,"text-center","col-1","mx-auto"],[4,"ngIf"],["class","col-10 mx-auto bg-white p-3 mt-0 rounded",4,"ngIf"],[1,"col-10","mx-auto","bg-white","p-3","mt-0","rounded"],[1,"table"],[1,"col-5"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-trash"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u.YNc(1,$X,1,0,"app-loader",1),u.qZA(),u.YNc(2,qX,16,1,"div",2)),2&r&&(u.xp6(1),u.Q6J("ngIf",!i.productsList),u.xp6(1),u.Q6J("ngIf",i.productsList))},dependencies:[Zo,ks,GX,Ai]}),e})();function KX(n,e){1&n&&(u.TgZ(0,"span",18),u._uU(1," Title is required "),u.qZA())}function YX(n,e){if(1&n&&(u.TgZ(0,"span",18),u.YNc(1,KX,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("title").errors.required)}}function QX(n,e){if(1&n&&(u.TgZ(0,"option",19),u._uU(1),u.ALo(2,"uppercase"),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.hij(" ",u.lcZ(2,2,t)," ")}}function XX(n,e){1&n&&(u.TgZ(0,"span",18),u._uU(1," Category is required "),u.qZA())}function JX(n,e){if(1&n&&(u.TgZ(0,"span",18),u.YNc(1,XX,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("category").errors.required)}}function eJ(n,e){1&n&&(u.TgZ(0,"span",18),u._uU(1," Image is required "),u.qZA())}function tJ(n,e){if(1&n&&(u.TgZ(0,"span",18),u.YNc(1,eJ,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("images").errors.required)}}function nJ(n,e){1&n&&(u.TgZ(0,"span",18),u._uU(1," Price should only contain numbers. "),u.qZA())}function rJ(n,e){1&n&&(u.TgZ(0,"span",18),u._uU(1," Price is required "),u.qZA())}function iJ(n,e){if(1&n&&(u.TgZ(0,"span",18),u.YNc(1,nJ,2,0,"span",6),u.YNc(2,rJ,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("price").errors.required)}}function sJ(n,e){1&n&&(u.TgZ(0,"span",18),u._uU(1," Stock should only contain numbers. "),u.qZA())}function oJ(n,e){1&n&&(u.TgZ(0,"span",18),u._uU(1," Stock is required "),u.qZA())}function aJ(n,e){if(1&n&&(u.TgZ(0,"span",18),u.YNc(1,sJ,2,0,"span",6),u.YNc(2,oJ,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.pattern),u.xp6(1),u.Q6J("ngIf",t.productForm.get("stock").errors.required)}}const cJ=[{path:"",redirectTo:"admin",pathMatch:"full"},{path:"admin",component:vK,canActivate:[DY],children:[{path:"",redirectTo:"product-list",pathMatch:"full"},{path:"add-product",component:UX},{path:"add-category",component:HX},{path:"product-list",component:ZX},{path:"edit-product",children:[{path:":id",component:(()=>{var n;class e{constructor(r,i){this.actRoute=r,this.data=i,this.productId="",this.numRegex=/\d+$/,this.list=["smartphones","skincare","fragrances","laptops","groceries"]}ngOnInit(){this.actRoute.params.subscribe(r=>this.productId=r.id),this.productForm=new zy({title:new Ic("",ho.required),category:new Ic("",ho.required),images:new Ic("",ho.required),price:new Ic(null,[ho.required,ho.pattern(this.numRegex)]),stock:new Ic(null,[ho.required,ho.pattern(this.numRegex)])}),this.data.getProductById(this.productId).subscribe(r=>{this.product=r,this.productForm.patchValue({title:r[0].title,category:r[0].category,images:r[0].images[0],price:r[0].price,stock:r[0].stock})})}formHandler(){let r=this.productForm.value,i=[];i.push(r.images),console.log(i);let s={...r,images:i,id:this.productId};console.log(s),this.data.updateProduct(this.product[0].id,s)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(lh),u.Y36(H1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-edit-product"]],decls:32,vars:8,consts:[[1,"container"],[1,"col-6","bg-white","mx-auto","rounded","px-3","py-4"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","title",1,"form-label"],["type","text","formControlName","title","id","title",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","category",1,"form-label"],["formControlName","category","id","category",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","images",1,"form-label"],["type","text","formControlName","images","id","images",1,"form-control"],["for","price",1,"form-label"],["type","text","formControlName","price","id","price",1,"form-control"],["for","stock",1,"form-label"],["type","text","formControlName","stock","id","stock",1,"form-control"],[1,"col","my-2"],[1,"btn","btn-success",3,"disabled"],[1,"small","text-danger"],[3,"value"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2),u.NdJ("ngSubmit",function(){return i.formHandler()}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Title"),u.qZA(),u._UZ(6,"input",5),u.YNc(7,YX,2,1,"span",6),u.qZA(),u.TgZ(8,"div",3)(9,"label",7),u._uU(10,"Category"),u.qZA(),u.TgZ(11,"select",8),u.YNc(12,QX,3,4,"option",9),u.qZA(),u.YNc(13,JX,2,1,"span",6),u.qZA(),u.TgZ(14,"div",3)(15,"label",10),u._uU(16,"Image"),u.qZA(),u._UZ(17,"input",11),u.YNc(18,tJ,2,1,"span",6),u.qZA(),u.TgZ(19,"div",3)(20,"label",12),u._uU(21,"Price"),u.qZA(),u._UZ(22,"input",13),u.YNc(23,iJ,3,2,"span",6),u.qZA(),u.TgZ(24,"div",3)(25,"label",14),u._uU(26,"Stock"),u.qZA(),u._UZ(27,"input",15),u.YNc(28,aJ,3,2,"span",6),u.qZA(),u._UZ(29,"div",16),u.TgZ(30,"button",17),u._uU(31," Edit "),u.qZA()()()()),2&r&&(u.xp6(2),u.Q6J("formGroup",i.productForm),u.xp6(5),u.Q6J("ngIf",!i.productForm.get("title").valid&&i.productForm.get("title").touched),u.xp6(5),u.Q6J("ngForOf",i.list),u.xp6(1),u.Q6J("ngIf",!i.productForm.get("category").valid&&i.productForm.get("category").touched),u.xp6(5),u.Q6J("ngIf",!i.productForm.get("images").valid&&i.productForm.get("images").touched),u.xp6(5),u.Q6J("ngIf",!i.productForm.get("price").valid&&i.productForm.get("price").touched),u.xp6(5),u.Q6J("ngIf",!i.productForm.get("stock").valid&&i.productForm.get("stock").touched),u.xp6(2),u.Q6J("disabled",!i.productForm.valid))},dependencies:[Zo,ks,tb,mV,_V,yg,bA,Xw,Jw,Gy,nb,Ai]}),e})()}]}]},{path:"login",component:gY},{path:"signup",component:AY}];let RV,lJ=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Hb.forRoot(cJ),Hb]}),e})(),uJ=(()=>{var n;class e{constructor(r){this.auth=r,this.title="eCom"}ngOnInit(){this.auth.autoLogin()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(mA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-fluid","ps-0","m-0"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u._UZ(1,"router-outlet"),u.qZA())},dependencies:[Np]}),e})();try{RV=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RV=!1}let SA,DA=(()=>{var n;class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?function Xu(n){return n===Ns}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RV)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function G1(n){return function dJ(){if(null==SA&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>SA=!0}))}finally{SA=SA||!1}return SA}()?n:!!n.capture}function U6(n){return Array.isArray(n)?n:[n]}function j6(n){return n instanceof u.SBq?n.nativeElement:n}function B6(n,e=LM.z){return(0,qi.e)((t,r)=>{let i=null,s=null,a=null;const h=()=>{if(i){i.unsubscribe(),i=null;const m=s;s=null,r.next(m)}};function p(){const m=a+n,w=e.now();if(w<m)return i=this.schedule(void 0,m-w),void r.add(i);h()}t.subscribe((0,Qt.x)(r,m=>{s=m,a=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}const z6=new Set;let Zy,IJ=(()=>{var n;class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TJ}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&function EJ(n,e){if(!z6.has(n))try{Zy||(Zy=document.createElement("style"),e&&(Zy.nonce=e),Zy.setAttribute("type","text/css"),document.head.appendChild(Zy)),Zy.sheet&&(Zy.sheet.insertRule(`@media ${n} {body{ }}`,0),z6.add(n))}catch(t){console.error(t)}}(r,this._nonce),this._matchMedia(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(DA),u.LFG(u.Ojb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function TJ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let CJ=(()=>{var n;class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new wi.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return H6(U6(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let a=Ln(H6(U6(r)).map(h=>this._registerQuery(h).observable));return a=Oo(a.pipe(ss(1)),a.pipe(function bJ(n){return Ri((e,t)=>n<=t)}(1),B6(0))),a.pipe((0,Ge.U)(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:m,query:w})=>{p.matches=p.matches||m,p.breakpoints[w]=m}),p}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);const i=this._mediaMatcher.matchMedia(r),a={observable:new vi.y(h=>{const p=m=>this._zone.run(()=>h.next(m));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(to(i),(0,Ge.U)(({matches:h})=>({query:r,matches:h})),Pi(this._destroySubject)),mql:i};return this._queries.set(r,a),a}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(IJ),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function H6(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const q6="cdk-high-contrast-black-on-white",Z6="cdk-high-contrast-white-on-black",kV="cdk-high-contrast-active";let FJ=(()=>{var n;class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=(0,u.f3M)(CJ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,a=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const r=this._document.body.classList;r.remove(kV,q6,Z6),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?r.add(kV,q6):2===i&&r.add(kV,Z6)}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(DA),u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),W1=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();const HJ=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function zJ(){return!0}});let Vd=(()=>{var n;class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return!function pJ(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[r])}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(FJ),u.LFG(HJ,8),u.LFG(_e))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[W1,W1]}),e})(),X6=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vd,Vd]}),e})();class $J{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const J6=G1({passive:!0,capture:!0});class WJ{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function fJ(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const a=s.get(r);a?a.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,J6)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,J6)))}}const e$={enterDuration:225,exitDuration:150},t$=G1({passive:!0,capture:!0}),n$=["mousedown","touchstart"],r$=["mouseup","mouseleave","touchend","touchcancel"];class q1{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=j6(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...e$,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const a=r.radius||function ZJ(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,p=t-i.top,m=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-a+"px",w.style.top=p-a+"px",w.style.height=2*a+"px",w.style.width=2*a+"px",null!=r.color&&(w.style.backgroundColor=r.color),w.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(w);const x=window.getComputedStyle(w),z=x.transitionDuration,oe="none"===x.transitionProperty||"0s"===z||"0s, 0s"===z||0===i.width&&0===i.height,ge=new $J(this,w,r,oe);w.style.transform="scale3d(1, 1, 1)",ge.state=0,r.persistent||(this._mostRecentTransientRipple=ge);let le=null;return!oe&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Be=()=>this._finishRippleTransition(ge),dt=()=>this._destroyRipple(ge);w.addEventListener("transitionend",Be),w.addEventListener("transitioncancel",dt),le={onTransitionEnd:Be,onTransitionCancel:dt}}),this._activeRipples.set(ge,le),(oe||!m)&&this._finishRippleTransition(ge),ge}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...e$,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=j6(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,n$.forEach(r=>{q1._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{r$.forEach(t=>{this._triggerElement.addEventListener(t,this,t$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function kJ(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function NJ(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(n$.forEach(t=>q1._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&r$.forEach(t=>e.removeEventListener(t,this,t$)))}}q1._eventManager=new WJ;let KJ=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vd,Vd]}),e})(),nee=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vd,Nr,Vd]}),e})(),see=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[X6,Vd,X6,Vd]}),e})();var a$=W(1954);const RA={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=RA;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Pc.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=RA;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=RA;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var c$=W(2631);new class aee extends c$.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class oee extends a$.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=RA.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(RA.cancelAnimationFrame(t),e._scheduled=void 0)}});let OV,lee=1;const Z1={};function l$(n){return n in Z1&&(delete Z1[n],!0)}const uee={setImmediate(n){const e=lee++;return Z1[e]=!0,OV||(OV=Promise.resolve()),OV.then(()=>l$(e)&&n()),e},clearImmediate(n){l$(n)}},{setImmediate:dee,clearImmediate:hee}=uee,K1={setImmediate(...n){const{delegate:e}=K1;return(e?.setImmediate||dee)(...n)},clearImmediate(n){const{delegate:e}=K1;return(e?.clearImmediate||hee)(n)},delegate:void 0};new class pee extends c$.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class fee extends a$.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=K1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(K1.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});W(671);let u$=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})(),Eee=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[W1,u$,W1,u$]}),e})(),Lee=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Eee]}),e})(),Wee=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vd,Lee,Vd]}),e})(),nte=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vd,Nr,KJ]}),e})();W(6710);class T${constructor(){return(0,ti.vb)("auth")}}class ZV{constructor(e){return e}}const C$="firestore",KV=new u.OlP("angularfire2.firestore-instances");function cte(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ZV(r)}}const lte={provide:class ote{constructor(){return(0,ti.vb)(C$)}},deps:[[new u.FiY,KV]]},ute={provide:ZV,useFactory:function ate(n,e){const t=(0,ti.JM)(C$,n,e);return t&&new ZV(t)},deps:[[new u.FiY,KV],Zw]};let dte=(()=>{class n{constructor(){(0,Uy.KN)("angularfire",ti.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ute,lte]}),n})();function hte(n,...e){return{ngModule:dte,providers:[{provide:KV,useFactory:cte(n),multi:!0,deps:[u.R0b,u.zs3,ti.HU,nH,[new u.FiY,T$],[new u.FiY,hA],...e]}]}}const fte=(0,ti.u3)(I7,!0);class pte{constructor(e,t){this._delegate=e,this.firebase=t,(0,Yr._addComponent)(e,new $l.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Yr.deleteApp)(this._delegate)))}_getService(e,t=Yr._DEFAULT_ENTRY_NAME){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Yr._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,Yr._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,Yr._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const A$=new On.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_te=function D$(){const n=function gte(n){const e={},t={__esModule:!0,initializeApp:function s(m,w={}){const x=Yr.initializeApp(m,w);if((0,On.r3)(e,x.name))return e[x.name];const F=new n(x,t);return e[x.name]=F,F},app:i,registerVersion:Yr.registerVersion,setLogLevel:Yr.setLogLevel,onLog:Yr.onLog,apps:null,SDK_VERSION:Yr.SDK_VERSION,INTERNAL:{registerComponent:function h(m){const w=m.name,x=w.replace("-compat","");if(Yr._registerComponent(m)&&"PUBLIC"===m.type){const F=(z=i())=>{if("function"!=typeof z[x])throw A$.create("invalid-app-argument",{appName:w});return z[x]()};void 0!==m.serviceProps&&(0,On.ZB)(F,m.serviceProps),t[x]=F,n.prototype[x]=function(...z){return this._getService.bind(this,w).apply(this,m.multipleInstances?z:[])}}return"PUBLIC"===m.type?t[x]:null},removeApp:function r(m){delete e[m]},useAsService:function p(m,w){return"serverAuth"===w?null:w},modularAPIs:Yr}};function i(m){if(!(0,On.r3)(e,m=m||Yr._DEFAULT_ENTRY_NAME))throw A$.create("no-app",{appName:m});return e[m]}return t.default=t,Object.defineProperty(t,"apps",{get:function a(){return Object.keys(e).map(m=>e[m])}}),i.App=n,t}(pte);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:D$,extendNamespace:function e(t){(0,On.ZB)(n,t)},createSubscribe:On.ne,ErrorFactory:On.LL,deepExtend:On.ZB}),n}(),S$=new ol.Yd("@firebase/app-compat");if((0,On.jU)()&&void 0!==self.firebase){S$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&S$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bte=_te;!function wte(n){(0,Yr.registerVersion)("@firebase/app-compat","0.2.19",n)}();class sP{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class x${constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new sP(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new sP(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?a=>t(new sP(a,this,this._ref)):{next:t.next?a=>t.next(new sP(a,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class M${constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new yp(e,this._service))}get items(){return this._delegate.items.map(e=>new yp(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yp{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function rX(n,e){return x6(n,e)}(this._delegate,e);return new yp(t,this.storage)}get root(){return new yp(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new yp(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new x$(function QQ(n,e,t){return function UQ(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new C6(n,new Qh(e),t)}(n=(0,On.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ou.RAW,r){this._throwIfRoot("putString");const i=EV(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new x$(new C6(this._delegate,new Qh(i.data,!0),s),this)}listAll(){return function tX(n){return function BQ(n){const e={prefixes:[],items:[]};return D6(n,e).then(()=>e)}(n=(0,On.m9)(n))}(this._delegate).then(e=>new M$(e,this.storage))}list(e){return function eX(n,e){return S6(n=(0,On.m9)(n),e)}(this._delegate,e||void 0).then(t=>new M$(t,this.storage))}getMetadata(){return function XQ(n){return function zQ(n){n._throwIfRoot("getMetadata");const e=v6(n.storage,n._location,CA());return n.storage.makeRequestWithTokens(e,Ld)}(n=(0,On.m9)(n))}(this._delegate)}updateMetadata(e){return function JQ(n,e){return function HQ(n,e){n._throwIfRoot("updateMetadata");const t=function EQ(n,e,t,r){const s=mp(e.fullServerUrl(),n.host,n._protocol),h=CV(t,r),m=n.maxOperationRetryTime,w=new Xh(s,"PATCH",B1(n,r),m);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=AA(e),w}(n.storage,n._location,e,CA());return n.storage.makeRequestWithTokens(t,Ld)}(n=(0,On.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return O6(this._delegate)}delete(){return this._throwIfRoot("delete"),function nX(n){return function $Q(n){n._throwIfRoot("deleteObject");const e=function TQ(n,e){const r=mp(e.fullServerUrl(),n.host,n._protocol),h=new Xh(r,"DELETE",function a(p,m){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=AA(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ld)}(n=(0,On.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw c6(e)}}class R${constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(P$(e))throw rb("ref() expected a child path but got a URL, use refFromURL instead.");return new yp(MV(this._delegate,e),this)}refFromURL(e){if(!P$(e))throw rb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ec.makeFromUrl(e,this._delegate.host)}catch{throw rb("refFromUrl() expected a valid full URL but got an invalid one.")}return new yp(MV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){F6(this._delegate,e,t,r)}}function P$(n){return/^[A-Za-z]+:\/\//.test(n)}function Cte(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new R$(t,r)}function k$(n){const e=function Dte(n){return new vi.y(e=>{const t=a=>e.next(a);t(n.snapshot);const s=n.on("state_changed",t);return n.then(a=>{t(a),e.complete()},a=>{t(n.snapshot),(a=>{e.error(a)})(a)}),function(){s()}}).pipe(B6(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ge.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function oP(n){return{getDownloadURL:()=>(0,D.of)(void 0).pipe(ti.fc,(0,qr.w)(()=>n.getDownloadURL()),ti.iC),getMetadata:()=>(0,D.of)(void 0).pipe(ti.fc,(0,qr.w)(()=>n.getMetadata()),ti.iC),delete:()=>(0,b.D)(n.delete()),child:e=>oP(n.child(e)),updateMetadata:e=>(0,b.D)(n.updateMetadata(e)),put:(e,t)=>k$(n.put(e,t)),putString:(e,t,r)=>k$(n.putString(e,t,r)),list:e=>(0,b.D)(n.list(e)),listAll:()=>(0,b.D)(n.listAll())}}!function Ate(n){const e={TaskState:$c,TaskEvent:xQ,StringFormat:ou,Storage:R$,Reference:yp};n.INTERNAL.registerComponent(new $l.wA("storage-compat",Cte,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(bte);const Ste=new u.OlP("angularfire2.storageBucket"),xte=new u.OlP("angularfire2.storage.maxUploadRetryTime"),Mte=new u.OlP("angularfire2.storage.maxOperationRetryTime"),Rte=new u.OlP("angularfire2.storage.use-emulator");let Pte=(()=>{class n{constructor(t,r,i,s,a,h,p,m,w,x){const F=(0,mc.on)(t,a,r);this.storage=(0,mc.cc)(`${F.name}.storage.${i}`,"AngularFireStorage",F.name,()=>{const z=a.runOutsideAngular(()=>F.storage(i||void 0)),oe=w;return oe&&z.useEmulator(...oe),p&&z.setMaxUploadRetryTime(p),m&&z.setMaxOperationRetryTime(m),z},[p,m])}ref(t){return oP(this.storage.ref(t))}refFromURL(t){return oP(this.storage.refFromURL(t))}upload(t,r,i){return oP(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mc.Dh),u.LFG(mc.xv,8),u.LFG(Ste,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ti.HU),u.LFG(xte,8),u.LFG(Mte,8),u.LFG(Rte,8),u.LFG(hA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Nte=(()=>{class n{constructor(){MZ.Z.registerVersion("angularfire",ti.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Pte],imports:[kte]}),n})();W(8762);let Ote=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})(),Fte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})(),Lte=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[uJ]}),n.\u0275inj=u.cJS({imports:[Fte,rl,Nte,lJ,fY,uK,nee,see,Wee,nte,mc.hO,pY,CX,Ote,hte(()=>fte()),mc.hO.initializeApp(b1_firebaseConfig),j8(()=>B8(b1_firebaseConfig))]}),e})();Si().bootstrapModule(Lte).catch(n=>console.error(n))},9322:(nn,et)=>{var u;!function(){"use strict";var te={}.hasOwnProperty;function ve(){for(var $=[],_e=0;_e<arguments.length;_e++){var we=arguments[_e];if(we){var De=typeof we;if("string"===De||"number"===De)$.push(we);else if(Array.isArray(we)){if(we.length){var Ae=ve.apply(null,we);Ae&&$.push(Ae)}}else if("object"===De){if(we.toString!==Object.prototype.toString&&!we.toString.toString().includes("[native code]")){$.push(we.toString());continue}for(var q in we)te.call(we,q)&&we[q]&&$.push(q)}}}return $.join(" ")}nn.exports?(ve.default=ve,nn.exports=ve):void 0!==(u=function(){return ve}.apply(et,[]))&&(nn.exports=u)}()},691:(nn,et,W)=>{"use strict";W.r(et),W.d(et,{Children:()=>At,Component:()=>u.Component,Fragment:()=>u.Fragment,PureComponent:()=>ze,StrictMode:()=>de,Suspense:()=>st,SuspenseList:()=>Ye,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>vr,cloneElement:()=>it,createContext:()=>u.createContext,createElement:()=>u.createElement,createFactory:()=>Sr,createPortal:()=>vn,createRef:()=>u.createRef,default:()=>jt,findDOMNode:()=>Zt,flushSync:()=>ar,forwardRef:()=>wt,hydrate:()=>qn,isElement:()=>xe,isFragment:()=>me,isValidElement:()=>qe,lazy:()=>nt,memo:()=>Ze,render:()=>hn,startTransition:()=>ce,unmountComponentAtNode:()=>St,unstable_batchedUpdates:()=>fn,useCallback:()=>ut,useContext:()=>Ve,useDebugValue:()=>tt,useDeferredValue:()=>Y,useEffect:()=>kt,useErrorBoundary:()=>vt,useId:()=>ae,useImperativeHandle:()=>Ht,useInsertionEffect:()=>G,useLayoutEffect:()=>lt,useMemo:()=>Se,useReducer:()=>ht,useRef:()=>Bt,useState:()=>yt,useSyncExternalStore:()=>_t,useTransition:()=>X,version:()=>ri});var te,B,ve,$,u=W(4354),_e=0,we=[],De=[],Ae=u.options.__b,q=u.options.__r,ee=u.options.diffed,ye=u.options.__c,mt=u.options.unmount;function We(J,se){u.options.__h&&u.options.__h(B,J,_e||se),_e=0;var Ce=B.__H||(B.__H={__:[],__h:[]});return J>=Ce.__.length&&Ce.__.push({__V:De}),Ce.__[J]}function yt(J){return _e=1,ht(Kn,J)}function ht(J,se,Ce){var Xe=We(te++,2);if(Xe.t=J,!Xe.__c&&(Xe.__=[Ce?Ce(se):Kn(void 0,se),function(Ar){var xr=Xe.__N?Xe.__N[0]:Xe.__[0],kr=Xe.t(xr,Ar);xr!==kr&&(Xe.__N=[kr,Xe.__[1]],Xe.__c.setState({}))}],Xe.__c=B,!B.u)){var Ot=function(Ar,xr,kr){if(!Xe.__c.__H)return!0;var gi=Xe.__c.__H.__.filter(function(wn){return wn.__c});if(gi.every(function(wn){return!wn.__N}))return!Lt||Lt.call(this,Ar,xr,kr);var di=!1;return gi.forEach(function(wn){if(wn.__N){var ts=wn.__[0];wn.__=wn.__N,wn.__N=void 0,ts!==wn.__[0]&&(di=!0)}}),!(!di&&Xe.__c.props===Ar)&&(!Lt||Lt.call(this,Ar,xr,kr))};B.u=!0;var Lt=B.shouldComponentUpdate,ur=B.componentWillUpdate;B.componentWillUpdate=function(Ar,xr,kr){if(this.__e){var gi=Lt;Lt=void 0,Ot(Ar,xr,kr),Lt=gi}ur&&ur.call(this,Ar,xr,kr)},B.shouldComponentUpdate=Ot}return Xe.__N||Xe.__}function kt(J,se){var Ce=We(te++,3);!u.options.__s&&er(Ce.__H,se)&&(Ce.__=J,Ce.i=se,B.__H.__h.push(Ce))}function lt(J,se){var Ce=We(te++,4);!u.options.__s&&er(Ce.__H,se)&&(Ce.__=J,Ce.i=se,B.__h.push(Ce))}function Bt(J){return _e=5,Se(function(){return{current:J}},[])}function Ht(J,se,Ce){_e=6,lt(function(){return"function"==typeof J?(J(se()),function(){return J(null)}):J?(J.current=se(),function(){return J.current=null}):void 0},null==Ce?Ce:Ce.concat(J))}function Se(J,se){var Ce=We(te++,7);return er(Ce.__H,se)?(Ce.__V=J(),Ce.i=se,Ce.__h=J,Ce.__V):Ce.__}function ut(J,se){return _e=8,Se(function(){return J},se)}function Ve(J){var se=B.context[J.__c],Ce=We(te++,9);return Ce.c=J,se?(null==Ce.__&&(Ce.__=!0,se.sub(B)),se.props.value):J.__}function tt(J,se){u.options.useDebugValue&&u.options.useDebugValue(se?se(J):J)}function vt(J){var se=We(te++,10),Ce=yt();return se.__=J,B.componentDidCatch||(B.componentDidCatch=function(Xe,Ot){se.__&&se.__(Xe,Ot),Ce[1](Xe)}),[Ce[0],function(){Ce[1](void 0)}]}function ae(){var J=We(te++,11);if(!J.__){for(var se=B.__v;null!==se&&!se.__m&&null!==se.__;)se=se.__;var Ce=se.__m||(se.__m=[0,0]);J.__="P"+Ce[0]+"-"+Ce[1]++}return J.__}function ct(){for(var J;J=we.shift();)if(J.__P&&J.__H)try{J.__H.__h.forEach(Yn),J.__H.__h.forEach($n),J.__H.__h=[]}catch(se){J.__H.__h=[],u.options.__e(se,J.__v)}}u.options.__b=function(J){B=null,Ae&&Ae(J)},u.options.__r=function(J){q&&q(J),te=0;var se=(B=J.__c).__H;se&&(ve===B?(se.__h=[],B.__h=[],se.__.forEach(function(Ce){Ce.__N&&(Ce.__=Ce.__N),Ce.__V=De,Ce.__N=Ce.i=void 0})):(se.__h.forEach(Yn),se.__h.forEach($n),se.__h=[],te=0)),ve=B},u.options.diffed=function(J){ee&&ee(J);var se=J.__c;se&&se.__H&&(se.__H.__h.length&&(1!==we.push(se)&&$===u.options.requestAnimationFrame||(($=u.options.requestAnimationFrame)||rn)(ct)),se.__H.__.forEach(function(Ce){Ce.i&&(Ce.__H=Ce.i),Ce.__V!==De&&(Ce.__=Ce.__V),Ce.i=void 0,Ce.__V=De})),ve=B=null},u.options.__c=function(J,se){se.some(function(Ce){try{Ce.__h.forEach(Yn),Ce.__h=Ce.__h.filter(function(Xe){return!Xe.__||$n(Xe)})}catch(Xe){se.some(function(Ot){Ot.__h&&(Ot.__h=[])}),se=[],u.options.__e(Xe,Ce.__v)}}),ye&&ye(J,se)},u.options.unmount=function(J){mt&&mt(J);var se,Ce=J.__c;Ce&&Ce.__H&&(Ce.__H.__.forEach(function(Xe){try{Yn(Xe)}catch(Ot){se=Ot}}),Ce.__H=void 0,se&&u.options.__e(se,Ce.__v))};var Pt="function"==typeof requestAnimationFrame;function rn(J){var se,Ce=function(){clearTimeout(Xe),Pt&&cancelAnimationFrame(se),setTimeout(J)},Xe=setTimeout(Ce,100);Pt&&(se=requestAnimationFrame(Ce))}function Yn(J){var se=B,Ce=J.__c;"function"==typeof Ce&&(J.__c=void 0,Ce()),B=se}function $n(J){var se=B;J.__c=J.__(),B=se}function er(J,se){return!J||J.length!==se.length||se.some(function(Ce,Xe){return Ce!==J[Xe]})}function Kn(J,se){return"function"==typeof se?se(J):se}function fr(J,se){for(var Ce in se)J[Ce]=se[Ce];return J}function tr(J,se){for(var Ce in J)if("__source"!==Ce&&!(Ce in se))return!0;for(var Xe in se)if("__source"!==Xe&&J[Xe]!==se[Xe])return!0;return!1}function Ne(J,se){return J===se&&(0!==J||1/J==1/se)||J!=J&&se!=se}function ze(J){this.props=J}function Ze(J,se){function Ce(Ot){var Lt=this.props.ref,ur=Lt==Ot.ref;return!ur&&Lt&&(Lt.call?Lt(null):Lt.current=null),se?!se(this.props,Ot)||!ur:tr(this.props,Ot)}function Xe(Ot){return this.shouldComponentUpdate=Ce,(0,u.createElement)(J,Ot)}return Xe.displayName="Memo("+(J.displayName||J.name)+")",Xe.prototype.isReactComponent=!0,Xe.__f=!0,Xe}(ze.prototype=new u.Component).isPureReactComponent=!0,ze.prototype.shouldComponentUpdate=function(J,se){return tr(this.props,J)||tr(this.state,se)};var Le=u.options.__b;u.options.__b=function(J){J.type&&J.type.__f&&J.ref&&(J.props.ref=J.ref,J.ref=null),Le&&Le(J)};var ft=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function wt(J){function se(Ce){var Xe=fr({},Ce);return delete Xe.ref,J(Xe,Ce.ref||null)}return se.$$typeof=ft,se.render=se,se.prototype.isReactComponent=se.__f=!0,se.displayName="ForwardRef("+(J.displayName||J.name)+")",se}var Mt=function(J,se){return null==J?null:(0,u.toChildArray)((0,u.toChildArray)(J).map(se))},At={map:Mt,forEach:Mt,count:function(J){return J?(0,u.toChildArray)(J).length:0},only:function(J){var se=(0,u.toChildArray)(J);if(1!==se.length)throw"Children.only";return se[0]},toArray:u.toChildArray},lr=u.options.__e;u.options.__e=function(J,se,Ce,Xe){if(J.then)for(var Ot,Lt=se;Lt=Lt.__;)if((Ot=Lt.__c)&&Ot.__c)return null==se.__e&&(se.__e=Ce.__e,se.__k=Ce.__k),Ot.__c(J,se);lr(J,se,Ce,Xe)};var ue=u.options.unmount;function pe(J,se,Ce){return J&&(J.__c&&J.__c.__H&&(J.__c.__H.__.forEach(function(Xe){"function"==typeof Xe.__c&&Xe.__c()}),J.__c.__H=null),null!=(J=fr({},J)).__c&&(J.__c.__P===Ce&&(J.__c.__P=se),J.__c=null),J.__k=J.__k&&J.__k.map(function(Xe){return pe(Xe,se,Ce)})),J}function Te(J,se,Ce){return J&&Ce&&(J.__v=null,J.__k=J.__k&&J.__k.map(function(Xe){return Te(Xe,se,Ce)}),J.__c&&J.__c.__P===se&&(J.__e&&Ce.insertBefore(J.__e,J.__d),J.__c.__e=!0,J.__c.__P=Ce)),J}function st(){this.__u=0,this.t=null,this.__b=null}function Ct(J){var se=J.__.__c;return se&&se.__a&&se.__a(J)}function nt(J){var se,Ce,Xe;function Ot(Lt){if(se||(se=J()).then(function(ur){Ce=ur.default||ur},function(ur){Xe=ur}),Xe)throw Xe;if(!Ce)throw se;return(0,u.createElement)(Ce,Lt)}return Ot.displayName="Lazy",Ot.__f=!0,Ot}function Ye(){this.u=null,this.o=null}u.options.unmount=function(J){var se=J.__c;se&&se.__R&&se.__R(),se&&!0===J.__h&&(J.type=null),ue&&ue(J)},(st.prototype=new u.Component).__c=function(J,se){var Ce=se.__c,Xe=this;null==Xe.t&&(Xe.t=[]),Xe.t.push(Ce);var Ot=Ct(Xe.__v),Lt=!1,ur=function(){Lt||(Lt=!0,Ce.__R=null,Ot?Ot(Ar):Ar())};Ce.__R=ur;var Ar=function(){if(! --Xe.__u){if(Xe.state.__a){var kr=Xe.state.__a;Xe.__v.__k[0]=Te(kr,kr.__c.__P,kr.__c.__O)}var gi;for(Xe.setState({__a:Xe.__b=null});gi=Xe.t.pop();)gi.forceUpdate()}},xr=!0===se.__h;Xe.__u++||xr||Xe.setState({__a:Xe.__b=Xe.__v.__k[0]}),J.then(ur,ur)},st.prototype.componentWillUnmount=function(){this.t=[]},st.prototype.render=function(J,se){if(this.__b){if(this.__v.__k){var Ce=document.createElement("div"),Xe=this.__v.__k[0].__c;this.__v.__k[0]=pe(this.__b,Ce,Xe.__O=Xe.__P)}this.__b=null}var Ot=se.__a&&(0,u.createElement)(u.Fragment,null,J.fallback);return Ot&&(Ot.__h=null),[(0,u.createElement)(u.Fragment,null,se.__a?null:J.children),Ot]};var dn=function(J,se,Ce){if(++Ce[1]===Ce[0]&&J.o.delete(se),J.props.revealOrder&&("t"!==J.props.revealOrder[0]||!J.o.size))for(Ce=J.u;Ce;){for(;Ce.length>3;)Ce.pop()();if(Ce[1]<Ce[0])break;J.u=Ce=Ce[2]}};function Mn(J){return this.getChildContext=function(){return J.context},J.children}function Fn(J){var se=this,Ce=J.i;se.componentWillUnmount=function(){(0,u.render)(null,se.l),se.l=null,se.i=null},se.i&&se.i!==Ce&&se.componentWillUnmount(),se.l||(se.i=Ce,se.l={nodeType:1,parentNode:Ce,childNodes:[],appendChild:function(Xe){this.childNodes.push(Xe),se.i.appendChild(Xe)},insertBefore:function(Xe,Ot){this.childNodes.push(Xe),se.i.appendChild(Xe)},removeChild:function(Xe){this.childNodes.splice(this.childNodes.indexOf(Xe)>>>1,1),se.i.removeChild(Xe)}}),(0,u.render)((0,u.createElement)(Mn,{context:se.context},J.__v),se.l)}function vn(J,se){var Ce=(0,u.createElement)(Fn,{__v:J,i:se});return Ce.containerInfo=se,Ce}(Ye.prototype=new u.Component).__a=function(J){var se=this,Ce=Ct(se.__v),Xe=se.o.get(J);return Xe[0]++,function(Ot){var Lt=function(){se.props.revealOrder?(Xe.push(Ot),dn(se,J,Xe)):Ot()};Ce?Ce(Lt):Lt()}},Ye.prototype.render=function(J){this.u=null,this.o=new Map;var se=(0,u.toChildArray)(J.children);J.revealOrder&&"b"===J.revealOrder[0]&&se.reverse();for(var Ce=se.length;Ce--;)this.o.set(se[Ce],this.u=[1,0,this.u]);return J.children},Ye.prototype.componentDidUpdate=Ye.prototype.componentDidMount=function(){var J=this;this.o.forEach(function(se,Ce){dn(J,Ce,se)})};var He=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Jn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_n=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Et=/[A-Z0-9]/g,Ft=typeof document<"u",Dn=function(J){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(J)};function hn(J,se,Ce){return null==se.__k&&(se.textContent=""),(0,u.render)(J,se),"function"==typeof Ce&&Ce(),J?J.__c:null}function qn(J,se,Ce){return(0,u.hydrate)(J,se),"function"==typeof Ce&&Ce(),J?J.__c:null}u.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(J){Object.defineProperty(u.Component.prototype,J,{configurable:!0,get:function(){return this["UNSAFE_"+J]},set:function(se){Object.defineProperty(this,J,{configurable:!0,writable:!0,value:se})}})});var pr=u.options.event;function bn(){}function Bn(){return this.cancelBubble}function ni(){return this.defaultPrevented}u.options.event=function(J){return pr&&(J=pr(J)),J.persist=bn,J.isPropagationStopped=Bn,J.isDefaultPrevented=ni,J.nativeEvent=J};var zn,Br={enumerable:!1,configurable:!0,get:function(){return this.class}},In=u.options.vnode;u.options.vnode=function(J){"string"==typeof J.type&&function(se){var Ce=se.props,Xe=se.type,Ot={};for(var Lt in Ce){var ur=Ce[Lt];if(!("value"===Lt&&"defaultValue"in Ce&&null==ur||Ft&&"children"===Lt&&"noscript"===Xe||"class"===Lt||"className"===Lt)){var Ar=Lt.toLowerCase();"defaultValue"===Lt&&"value"in Ce&&null==Ce.value?Lt="value":"download"===Lt&&!0===ur?ur="":"ondoubleclick"===Ar?Lt="ondblclick":"onchange"!==Ar||"input"!==Xe&&"textarea"!==Xe||Dn(Ce.type)?"onfocus"===Ar?Lt="onfocusin":"onblur"===Ar?Lt="onfocusout":_n.test(Lt)?Lt=Ar:-1===Xe.indexOf("-")&&Jn.test(Lt)?Lt=Lt.replace(Et,"-$&").toLowerCase():null===ur&&(ur=void 0):Ar=Lt="oninput","oninput"===Ar&&Ot[Lt=Ar]&&(Lt="oninputCapture"),Ot[Lt]=ur}}"select"==Xe&&Ot.multiple&&Array.isArray(Ot.value)&&(Ot.value=(0,u.toChildArray)(Ce.children).forEach(function(xr){xr.props.selected=-1!=Ot.value.indexOf(xr.props.value)})),"select"==Xe&&null!=Ot.defaultValue&&(Ot.value=(0,u.toChildArray)(Ce.children).forEach(function(xr){xr.props.selected=Ot.multiple?-1!=Ot.defaultValue.indexOf(xr.props.value):Ot.defaultValue==xr.props.value})),Ce.class&&!Ce.className?(Ot.class=Ce.class,Object.defineProperty(Ot,"className",Br)):(Ce.className&&!Ce.class||Ce.class&&Ce.className)&&(Ot.class=Ot.className=Ce.className),se.props=Ot}(J),J.$$typeof=He,In&&In(J)};var _r=u.options.__r;u.options.__r=function(J){_r&&_r(J),zn=J.__c};var li=u.options.diffed;u.options.diffed=function(J){li&&li(J);var se=J.props,Ce=J.__e;null!=Ce&&"textarea"===J.type&&"value"in se&&se.value!==Ce.value&&(Ce.value=null==se.value?"":se.value),zn=null};var vr={ReactCurrentDispatcher:{current:{readContext:function(J){return zn.__n[J.__c].props.value}}}},ri="17.0.2";function Sr(J){return u.createElement.bind(null,J)}function qe(J){return!!J&&J.$$typeof===He}function me(J){return qe(J)&&J.type===u.Fragment}function it(J){return qe(J)?u.cloneElement.apply(null,arguments):J}function St(J){return!!J.__k&&((0,u.render)(null,J),!0)}function Zt(J){return J&&(J.base||1===J.nodeType&&J)||null}var fn=function(J,se){return J(se)},ar=function(J,se){return J(se)},de=u.Fragment;function ce(J){J()}function Y(J){return J}function X(){return[!1,ce]}var G=lt,xe=qe;function _t(J,se){var Ce=se(),Xe=yt({h:{__:Ce,v:se}}),Ot=Xe[0].h,Lt=Xe[1];return lt(function(){Ot.__=Ce,Ot.v=se,Ne(Ot.__,se())||Lt({h:Ot})},[J,Ce,se]),kt(function(){return Ne(Ot.__,Ot.v())||Lt({h:Ot}),J(function(){Ne(Ot.__,Ot.v())||Lt({h:Ot})})},[J]),Ce}var jt={useState:yt,useId:ae,useReducer:ht,useEffect:kt,useLayoutEffect:lt,useInsertionEffect:lt,useTransition:X,useDeferredValue:Y,useSyncExternalStore:_t,startTransition:ce,useRef:Bt,useImperativeHandle:Ht,useMemo:Se,useCallback:ut,useContext:Ve,useDebugValue:tt,version:"17.0.2",Children:At,render:hn,hydrate:qn,unmountComponentAtNode:St,createPortal:vn,createElement:u.createElement,createContext:u.createContext,createFactory:Sr,cloneElement:it,createRef:u.createRef,Fragment:u.Fragment,isValidElement:qe,isElement:qe,isFragment:me,findDOMNode:Zt,Component:u.Component,PureComponent:ze,memo:Ze,forwardRef:wt,flushSync:ar,unstable_batchedUpdates:fn,StrictMode:de,Suspense:st,SuspenseList:Ye,lazy:nt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vr}},4354:(nn,et,W)=>{"use strict";W.r(et),W.d(et,{Component:()=>Ht,Fragment:()=>Bt,cloneElement:()=>At,createContext:()=>lr,createElement:()=>ht,createRef:()=>lt,h:()=>ht,hydrate:()=>Mt,isValidElement:()=>ve,options:()=>te,render:()=>wt,toChildArray:()=>ct});var u,te,B,ve,$,_e,we,De,Ae,q={},ee=[],ye=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,mt=Array.isArray;function We(ue,pe){for(var Te in pe)ue[Te]=pe[Te];return ue}function yt(ue){var pe=ue.parentNode;pe&&pe.removeChild(ue)}function ht(ue,pe,Te){var st,Ct,nt,Ye={};for(nt in pe)"key"==nt?st=pe[nt]:"ref"==nt?Ct=pe[nt]:Ye[nt]=pe[nt];if(arguments.length>2&&(Ye.children=arguments.length>3?u.call(arguments,2):Te),"function"==typeof ue&&null!=ue.defaultProps)for(nt in ue.defaultProps)void 0===Ye[nt]&&(Ye[nt]=ue.defaultProps[nt]);return kt(ue,Ye,st,Ct,null)}function kt(ue,pe,Te,st,Ct){var nt={type:ue,props:pe,key:Te,ref:st,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ct??++B};return null==Ct&&null!=te.vnode&&te.vnode(nt),nt}function lt(){return{current:null}}function Bt(ue){return ue.children}function Ht(ue,pe){this.props=ue,this.context=pe}function Se(ue,pe){if(null==pe)return ue.__?Se(ue.__,ue.__.__k.indexOf(ue)+1):null;for(var Te;pe<ue.__k.length;pe++)if(null!=(Te=ue.__k[pe])&&null!=Te.__e)return Te.__d||Te.__e;return"function"==typeof ue.type?Se(ue):null}function ut(ue){var pe,Te;if(null!=(ue=ue.__)&&null!=ue.__c){for(ue.__e=ue.__c.base=null,pe=0;pe<ue.__k.length;pe++)if(null!=(Te=ue.__k[pe])&&null!=Te.__e){ue.__e=ue.__c.base=Te.__e;break}return ut(ue)}}function Ve(ue){(!ue.__d&&(ue.__d=!0)&&$.push(ue)&&!tt.__r++||_e!==te.debounceRendering)&&((_e=te.debounceRendering)||we)(tt)}function tt(){var ue,pe,Te,st,Ct,nt,Ye,dn,Mn;for($.sort(De);ue=$.shift();)ue.__d&&(pe=$.length,st=void 0,Ct=void 0,nt=void 0,dn=(Ye=(Te=ue).__v).__e,(Mn=Te.__P)&&(st=[],Ct=[],(nt=We({},Ye)).__v=Ye.__v+1,tr(Mn,Ye,nt,Te.__n,void 0!==Mn.ownerSVGElement,null!=Ye.__h?[dn]:null,st,dn??Se(Ye),Ye.__h,Ct),Ne(st,Ye,Ct),Ye.__e!=dn&&ut(Ye)),$.length>pe&&$.sort(De));tt.__r=0}function vt(ue,pe,Te,st,Ct,nt,Ye,dn,Mn,Fn,vn){var He,Jn,_n,Et,Ft,Dn,hn,qn,pr,bn=0,Bn=st&&st.__k||ee,ni=Bn.length,zn=ni,Br=pe.length;for(Te.__k=[],He=0;He<Br;He++)null!=(Et=Te.__k[He]=null==(Et=pe[He])||"boolean"==typeof Et||"function"==typeof Et?null:"string"==typeof Et||"number"==typeof Et||"bigint"==typeof Et?kt(null,Et,null,null,Et):mt(Et)?kt(Bt,{children:Et},null,null,null):Et.__b>0?kt(Et.type,Et.props,Et.key,Et.ref?Et.ref:null,Et.__v):Et)?(Et.__=Te,Et.__b=Te.__b+1,-1===(qn=rn(Et,Bn,hn=He+bn,zn))?_n=q:(_n=Bn[qn]||q,Bn[qn]=void 0,zn--),tr(ue,Et,_n,Ct,nt,Ye,dn,Mn,Fn,vn),Ft=Et.__e,(Jn=Et.ref)&&_n.ref!=Jn&&(_n.ref&&Ze(_n.ref,null,Et),vn.push(Jn,Et.__c||Ft,Et)),null!=Ft&&(null==Dn&&(Dn=Ft),(pr=_n===q||null===_n.__v)?-1==qn&&bn--:qn!==hn&&(qn===hn+1?bn++:qn>hn?zn>Br-hn?bn+=qn-hn:bn--:bn=qn<hn&&qn==hn-1?qn-hn:0),hn=He+bn,"function"!=typeof Et.type||qn===hn&&_n.__k!==Et.__k?"function"==typeof Et.type||qn===hn&&!pr?void 0!==Et.__d?(Mn=Et.__d,Et.__d=void 0):Mn=Ft.nextSibling:Mn=Pt(ue,Ft,Mn):Mn=ae(Et,Mn,ue),"function"==typeof Te.type&&(Te.__d=Mn))):(_n=Bn[He])&&null==_n.key&&_n.__e&&(_n.__e==Mn&&(_n.__=st,Mn=Se(_n)),Le(_n,_n,!1),Bn[He]=null);for(Te.__e=Dn,He=ni;He--;)null!=Bn[He]&&("function"==typeof Te.type&&null!=Bn[He].__e&&Bn[He].__e==Te.__d&&(Te.__d=Bn[He].__e.nextSibling),Le(Bn[He],Bn[He]))}function ae(ue,pe,Te){for(var st,Ct=ue.__k,nt=0;Ct&&nt<Ct.length;nt++)(st=Ct[nt])&&(st.__=ue,pe="function"==typeof st.type?ae(st,pe,Te):Pt(Te,st.__e,pe));return pe}function ct(ue,pe){return pe=pe||[],null==ue||"boolean"==typeof ue||(mt(ue)?ue.some(function(Te){ct(Te,pe)}):pe.push(ue)),pe}function Pt(ue,pe,Te){return null==Te||Te.parentNode!==ue?ue.insertBefore(pe,null):pe==Te&&null!=pe.parentNode||ue.insertBefore(pe,Te),pe.nextSibling}function rn(ue,pe,Te,st){var Ct=ue.key,nt=ue.type,Ye=Te-1,dn=Te+1,Mn=pe[Te];if(null===Mn||Mn&&Ct==Mn.key&&nt===Mn.type)return Te;if(st>(null!=Mn?1:0))for(;Ye>=0||dn<pe.length;){if(Ye>=0){if((Mn=pe[Ye])&&Ct==Mn.key&&nt===Mn.type)return Ye;Ye--}if(dn<pe.length){if((Mn=pe[dn])&&Ct==Mn.key&&nt===Mn.type)return dn;dn++}}return-1}function $n(ue,pe,Te){"-"===pe[0]?ue.setProperty(pe,Te??""):ue[pe]=null==Te?"":"number"!=typeof Te||ye.test(pe)?Te:Te+"px"}function er(ue,pe,Te,st,Ct){var nt;e:if("style"===pe)if("string"==typeof Te)ue.style.cssText=Te;else{if("string"==typeof st&&(ue.style.cssText=st=""),st)for(pe in st)Te&&pe in Te||$n(ue.style,pe,"");if(Te)for(pe in Te)st&&Te[pe]===st[pe]||$n(ue.style,pe,Te[pe])}else if("o"===pe[0]&&"n"===pe[1])nt=pe!==(pe=pe.replace(/(PointerCapture)$|Capture$/,"$1")),pe=pe.toLowerCase()in ue?pe.toLowerCase().slice(2):pe.slice(2),ue.l||(ue.l={}),ue.l[pe+nt]=Te,Te?st?Te.u=st.u:(Te.u=Date.now(),ue.addEventListener(pe,nt?fr:Kn,nt)):ue.removeEventListener(pe,nt?fr:Kn,nt);else if("dangerouslySetInnerHTML"!==pe){if(Ct)pe=pe.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==pe&&"height"!==pe&&"href"!==pe&&"list"!==pe&&"form"!==pe&&"tabIndex"!==pe&&"download"!==pe&&"rowSpan"!==pe&&"colSpan"!==pe&&"role"!==pe&&pe in ue)try{ue[pe]=Te??"";break e}catch{}"function"==typeof Te||(null==Te||!1===Te&&"-"!==pe[4]?ue.removeAttribute(pe):ue.setAttribute(pe,Te))}}function Kn(ue){var pe=this.l[ue.type+!1];if(ue.t){if(ue.t<=pe.u)return}else ue.t=Date.now();return pe(te.event?te.event(ue):ue)}function fr(ue){return this.l[ue.type+!0](te.event?te.event(ue):ue)}function tr(ue,pe,Te,st,Ct,nt,Ye,dn,Mn,Fn){var vn,He,Jn,_n,Et,Ft,Dn,hn,qn,pr,bn,Bn,ni,zn,Br,In=pe.type;if(void 0!==pe.constructor)return null;null!=Te.__h&&(Mn=Te.__h,dn=pe.__e=Te.__e,pe.__h=null,nt=[dn]),(vn=te.__b)&&vn(pe);e:if("function"==typeof In)try{if(hn=pe.props,qn=(vn=In.contextType)&&st[vn.__c],pr=vn?qn?qn.props.value:vn.__:st,Te.__c?Dn=(He=pe.__c=Te.__c).__=He.__E:("prototype"in In&&In.prototype.render?pe.__c=He=new In(hn,pr):(pe.__c=He=new Ht(hn,pr),He.constructor=In,He.render=ft),qn&&qn.sub(He),He.props=hn,He.state||(He.state={}),He.context=pr,He.__n=st,Jn=He.__d=!0,He.__h=[],He._sb=[]),null==He.__s&&(He.__s=He.state),null!=In.getDerivedStateFromProps&&(He.__s==He.state&&(He.__s=We({},He.__s)),We(He.__s,In.getDerivedStateFromProps(hn,He.__s))),_n=He.props,Et=He.state,He.__v=pe,Jn)null==In.getDerivedStateFromProps&&null!=He.componentWillMount&&He.componentWillMount(),null!=He.componentDidMount&&He.__h.push(He.componentDidMount);else{if(null==In.getDerivedStateFromProps&&hn!==_n&&null!=He.componentWillReceiveProps&&He.componentWillReceiveProps(hn,pr),!He.__e&&(null!=He.shouldComponentUpdate&&!1===He.shouldComponentUpdate(hn,He.__s,pr)||pe.__v===Te.__v)){for(pe.__v!==Te.__v&&(He.props=hn,He.state=He.__s,He.__d=!1),pe.__e=Te.__e,pe.__k=Te.__k,pe.__k.forEach(function(_r){_r&&(_r.__=pe)}),bn=0;bn<He._sb.length;bn++)He.__h.push(He._sb[bn]);He._sb=[],He.__h.length&&Ye.push(He);break e}null!=He.componentWillUpdate&&He.componentWillUpdate(hn,He.__s,pr),null!=He.componentDidUpdate&&He.__h.push(function(){He.componentDidUpdate(_n,Et,Ft)})}if(He.context=pr,He.props=hn,He.__P=ue,He.__e=!1,Bn=te.__r,ni=0,"prototype"in In&&In.prototype.render){for(He.state=He.__s,He.__d=!1,Bn&&Bn(pe),vn=He.render(He.props,He.state,He.context),zn=0;zn<He._sb.length;zn++)He.__h.push(He._sb[zn]);He._sb=[]}else do{He.__d=!1,Bn&&Bn(pe),vn=He.render(He.props,He.state,He.context),He.state=He.__s}while(He.__d&&++ni<25);He.state=He.__s,null!=He.getChildContext&&(st=We(We({},st),He.getChildContext())),Jn||null==He.getSnapshotBeforeUpdate||(Ft=He.getSnapshotBeforeUpdate(_n,Et)),vt(ue,mt(Br=null!=vn&&vn.type===Bt&&null==vn.key?vn.props.children:vn)?Br:[Br],pe,Te,st,Ct,nt,Ye,dn,Mn,Fn),He.base=pe.__e,pe.__h=null,He.__h.length&&Ye.push(He),Dn&&(He.__E=He.__=null)}catch(_r){pe.__v=null,(Mn||null!=nt)&&(pe.__e=dn,pe.__h=!!Mn,nt[nt.indexOf(dn)]=null),te.__e(_r,pe,Te)}else null==nt&&pe.__v===Te.__v?(pe.__k=Te.__k,pe.__e=Te.__e):pe.__e=function ze(ue,pe,Te,st,Ct,nt,Ye,dn,Mn){var Fn,vn,He,Jn=Te.props,_n=pe.props,Et=pe.type,Ft=0;if("svg"===Et&&(Ct=!0),null!=nt)for(;Ft<nt.length;Ft++)if((Fn=nt[Ft])&&"setAttribute"in Fn==!!Et&&(Et?Fn.localName===Et:3===Fn.nodeType)){ue=Fn,nt[Ft]=null;break}if(null==ue){if(null===Et)return document.createTextNode(_n);ue=Ct?document.createElementNS("http://www.w3.org/2000/svg",Et):document.createElement(Et,_n.is&&_n),nt=null,dn=!1}if(null===Et)Jn===_n||dn&&ue.data===_n||(ue.data=_n);else{if(nt=nt&&u.call(ue.childNodes),vn=(Jn=Te.props||q).dangerouslySetInnerHTML,He=_n.dangerouslySetInnerHTML,!dn){if(null!=nt)for(Jn={},Ft=0;Ft<ue.attributes.length;Ft++)Jn[ue.attributes[Ft].name]=ue.attributes[Ft].value;(He||vn)&&(He&&(vn&&He.__html==vn.__html||He.__html===ue.innerHTML)||(ue.innerHTML=He&&He.__html||""))}if(function Yn(ue,pe,Te,st,Ct){var nt;for(nt in Te)"children"===nt||"key"===nt||nt in pe||er(ue,nt,null,Te[nt],st);for(nt in pe)Ct&&"function"!=typeof pe[nt]||"children"===nt||"key"===nt||"value"===nt||"checked"===nt||Te[nt]===pe[nt]||er(ue,nt,pe[nt],Te[nt],st)}(ue,_n,Jn,Ct,dn),He)pe.__k=[];else if(vt(ue,mt(Ft=pe.props.children)?Ft:[Ft],pe,Te,st,Ct&&"foreignObject"!==Et,nt,Ye,nt?nt[0]:Te.__k&&Se(Te,0),dn,Mn),null!=nt)for(Ft=nt.length;Ft--;)null!=nt[Ft]&&yt(nt[Ft]);dn||("value"in _n&&void 0!==(Ft=_n.value)&&(Ft!==ue.value||"progress"===Et&&!Ft||"option"===Et&&Ft!==Jn.value)&&er(ue,"value",Ft,Jn.value,!1),"checked"in _n&&void 0!==(Ft=_n.checked)&&Ft!==ue.checked&&er(ue,"checked",Ft,Jn.checked,!1))}return ue}(Te.__e,pe,Te,st,Ct,nt,Ye,Mn,Fn);(vn=te.diffed)&&vn(pe)}function Ne(ue,pe,Te){for(var st=0;st<Te.length;st++)Ze(Te[st],Te[++st],Te[++st]);te.__c&&te.__c(pe,ue),ue.some(function(Ct){try{ue=Ct.__h,Ct.__h=[],ue.some(function(nt){nt.call(Ct)})}catch(nt){te.__e(nt,Ct.__v)}})}function Ze(ue,pe,Te){try{"function"==typeof ue?ue(pe):ue.current=pe}catch(st){te.__e(st,Te)}}function Le(ue,pe,Te){var st,Ct;if(te.unmount&&te.unmount(ue),(st=ue.ref)&&(st.current&&st.current!==ue.__e||Ze(st,null,pe)),null!=(st=ue.__c)){if(st.componentWillUnmount)try{st.componentWillUnmount()}catch(nt){te.__e(nt,pe)}st.base=st.__P=null,ue.__c=void 0}if(st=ue.__k)for(Ct=0;Ct<st.length;Ct++)st[Ct]&&Le(st[Ct],pe,Te||"function"!=typeof ue.type);Te||null==ue.__e||yt(ue.__e),ue.__=ue.__e=ue.__d=void 0}function ft(ue,pe,Te){return this.constructor(ue,Te)}function wt(ue,pe,Te){var st,Ct,nt,Ye;te.__&&te.__(ue,pe),Ct=(st="function"==typeof Te)?null:Te&&Te.__k||pe.__k,nt=[],Ye=[],tr(pe,ue=(!st&&Te||pe).__k=ht(Bt,null,[ue]),Ct||q,q,void 0!==pe.ownerSVGElement,!st&&Te?[Te]:Ct?null:pe.firstChild?u.call(pe.childNodes):null,nt,!st&&Te?Te:Ct?Ct.__e:pe.firstChild,st,Ye),Ne(nt,ue,Ye)}function Mt(ue,pe){wt(ue,pe,Mt)}function At(ue,pe,Te){var st,Ct,nt,Ye,dn=We({},ue.props);for(nt in ue.type&&ue.type.defaultProps&&(Ye=ue.type.defaultProps),pe)"key"==nt?st=pe[nt]:"ref"==nt?Ct=pe[nt]:dn[nt]=void 0===pe[nt]&&void 0!==Ye?Ye[nt]:pe[nt];return arguments.length>2&&(dn.children=arguments.length>3?u.call(arguments,2):Te),kt(ue.type,dn,st||ue.key,Ct||ue.ref,null)}function lr(ue,pe){var Te={__c:pe="__cC"+Ae++,__:ue,Consumer:function(st,Ct){return st.children(Ct)},Provider:function(st){var Ct,nt;return this.getChildContext||(Ct=[],(nt={})[pe]=this,this.getChildContext=function(){return nt},this.shouldComponentUpdate=function(Ye){this.props.value!==Ye.value&&Ct.some(function(dn){dn.__e=!0,Ve(dn)})},this.sub=function(Ye){Ct.push(Ye);var dn=Ye.componentWillUnmount;Ye.componentWillUnmount=function(){Ct.splice(Ct.indexOf(Ye),1),dn&&dn.call(Ye)}}),st.children}};return Te.Provider.__=Te.Consumer.contextType=Te}u=ee.slice,te={__e:function(ue,pe,Te,st){for(var Ct,nt,Ye;pe=pe.__;)if((Ct=pe.__c)&&!Ct.__)try{if((nt=Ct.constructor)&&null!=nt.getDerivedStateFromError&&(Ct.setState(nt.getDerivedStateFromError(ue)),Ye=Ct.__d),null!=Ct.componentDidCatch&&(Ct.componentDidCatch(ue,st||{}),Ye=Ct.__d),Ye)return Ct.__E=Ct}catch(dn){ue=dn}throw ue}},B=0,ve=function(ue){return null!=ue&&void 0===ue.constructor},Ht.prototype.setState=function(ue,pe){var Te;Te=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=We({},this.state),"function"==typeof ue&&(ue=ue(We({},Te),this.props)),ue&&We(Te,ue),null!=ue&&this.__v&&(pe&&this._sb.push(pe),Ve(this))},Ht.prototype.forceUpdate=function(ue){this.__v&&(this.__e=!0,ue&&this.__h.push(ue),Ve(this))},Ht.prototype.render=Bt,$=[],we="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,De=function(ue,pe){return ue.__v.__b-pe.__v.__b},tt.__r=0,Ae=0},8138:(nn,et,W)=>{"use strict";W.r(et),W.d(et,{Fragment:()=>u.Fragment,jsx:()=>B,jsxDEV:()=>B,jsxs:()=>B});var u=W(4354),te=0;function B(ve,$,_e,we,De,Ae){var q,ee,ye={};for(ee in $)"ref"==ee?q=$[ee]:ye[ee]=$[ee];var mt={type:ve,props:ye,key:_e,ref:q,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--te,__source:De,__self:Ae};if("function"==typeof ve&&(q=ve.defaultProps))for(ee in q)void 0===ye[ee]&&(ye[ee]=q[ee]);return u.options.vnode&&u.options.vnode(mt),mt}},5619:(nn,et,W)=>{"use strict";W.d(et,{X:()=>te});var u=W(8645);class te extends u.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const $=super._subscribe(ve);return!$.closed&&ve.next(this._value),$}getValue(){const{hasError:ve,thrownError:$,_value:_e}=this;if(ve)throw $;return this._throwIfClosed(),_e}next(ve){super.next(this._value=ve)}}},5592:(nn,et,W)=>{"use strict";W.d(et,{y:()=>De});var u=W(305),te=W(7394),B=W(4850),ve=W(8407),$=W(2653),_e=W(4674),we=W(1441);let De=(()=>{class ye{constructor(We){We&&(this._subscribe=We)}lift(We){const yt=new ye;return yt.source=this,yt.operator=We,yt}subscribe(We,yt,ht){const kt=function ee(ye){return ye&&ye instanceof u.Lv||function q(ye){return ye&&(0,_e.m)(ye.next)&&(0,_e.m)(ye.error)&&(0,_e.m)(ye.complete)}(ye)&&(0,te.Nn)(ye)}(We)?We:new u.Hp(We,yt,ht);return(0,we.x)(()=>{const{operator:lt,source:Bt}=this;kt.add(lt?lt.call(kt,Bt):Bt?this._subscribe(kt):this._trySubscribe(kt))}),kt}_trySubscribe(We){try{return this._subscribe(We)}catch(yt){We.error(yt)}}forEach(We,yt){return new(yt=Ae(yt))((ht,kt)=>{const lt=new u.Hp({next:Bt=>{try{We(Bt)}catch(Ht){kt(Ht),lt.unsubscribe()}},error:kt,complete:ht});this.subscribe(lt)})}_subscribe(We){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(We)}[B.L](){return this}pipe(...We){return(0,ve.U)(We)(this)}toPromise(We){return new(We=Ae(We))((yt,ht)=>{let kt;this.subscribe(lt=>kt=lt,lt=>ht(lt),()=>yt(kt))})}}return ye.create=mt=>new ye(mt),ye})();function Ae(ye){var mt;return null!==(mt=ye??$.config.Promise)&&void 0!==mt?mt:Promise}},8645:(nn,et,W)=>{"use strict";W.d(et,{x:()=>we});var u=W(5592),te=W(7394);const ve=(0,W(2306).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=W(9039),_e=W(1441);let we=(()=>{class Ae extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ye=new De(this,this);return ye.operator=ee,ye}_throwIfClosed(){if(this.closed)throw new ve}next(ee){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ee)}})}error(ee){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ee)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ye,isStopped:mt,observers:We}=this;return ye||mt?te.Lc:(this.currentObservers=null,We.push(ee),new te.w0(()=>{this.currentObservers=null,(0,$.P)(We,ee)}))}_checkFinalizedStatuses(ee){const{hasError:ye,thrownError:mt,isStopped:We}=this;ye?ee.error(mt):We&&ee.complete()}asObservable(){const ee=new u.y;return ee.source=this,ee}}return Ae.create=(q,ee)=>new De(q,ee),Ae})();class De extends we{constructor(q,ee){super(),this.destination=q,this.source=ee}next(q){var ee,ye;null===(ye=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ye||ye.call(ee,q)}error(q){var ee,ye;null===(ye=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ye||ye.call(ee,q)}complete(){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ee||ee.call(q)}_subscribe(q){var ee,ye;return null!==(ye=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(q))&&void 0!==ye?ye:te.Lc}}},305:(nn,et,W)=>{"use strict";W.d(et,{Hp:()=>ht,Lv:()=>ye});var u=W(4674),te=W(7394),B=W(2653),ve=W(3894),$=W(2420);const _e=Ae("C",void 0,void 0);function Ae(Se,ut,Ve){return{kind:Se,value:ut,error:Ve}}var q=W(7599),ee=W(1441);class ye extends te.w0{constructor(ut){super(),this.isStopped=!1,ut?(this.destination=ut,(0,te.Nn)(ut)&&ut.add(this)):this.destination=Ht}static create(ut,Ve,tt){return new ht(ut,Ve,tt)}next(ut){this.isStopped?Bt(function De(Se){return Ae("N",Se,void 0)}(ut),this):this._next(ut)}error(ut){this.isStopped?Bt(function we(Se){return Ae("E",void 0,Se)}(ut),this):(this.isStopped=!0,this._error(ut))}complete(){this.isStopped?Bt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ut){this.destination.next(ut)}_error(ut){try{this.destination.error(ut)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function We(Se,ut){return mt.call(Se,ut)}class yt{constructor(ut){this.partialObserver=ut}next(ut){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(ut)}catch(tt){kt(tt)}}error(ut){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(ut)}catch(tt){kt(tt)}else kt(ut)}complete(){const{partialObserver:ut}=this;if(ut.complete)try{ut.complete()}catch(Ve){kt(Ve)}}}class ht extends ye{constructor(ut,Ve,tt){let vt;if(super(),(0,u.m)(ut)||!ut)vt={next:ut??void 0,error:Ve??void 0,complete:tt??void 0};else{let ae;this&&B.config.useDeprecatedNextContext?(ae=Object.create(ut),ae.unsubscribe=()=>this.unsubscribe(),vt={next:ut.next&&We(ut.next,ae),error:ut.error&&We(ut.error,ae),complete:ut.complete&&We(ut.complete,ae)}):vt=ut}this.destination=new yt(vt)}}function kt(Se){B.config.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Se):(0,ve.h)(Se)}function Bt(Se,ut){const{onStoppedNotification:Ve}=B.config;Ve&&q.z.setTimeout(()=>Ve(Se,ut))}const Ht={closed:!0,next:$.Z,error:function lt(Se){throw Se},complete:$.Z}},7394:(nn,et,W)=>{"use strict";W.d(et,{Lc:()=>_e,w0:()=>$,Nn:()=>we});var u=W(4674);const B=(0,W(2306).d)(Ae=>function(ee){Ae(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ye,mt)=>`${mt+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ve=W(9039);class ${constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const We of ee)We.remove(this);else ee.remove(this);const{initialTeardown:ye}=this;if((0,u.m)(ye))try{ye()}catch(We){q=We instanceof B?We.errors:[We]}const{_finalizers:mt}=this;if(mt){this._finalizers=null;for(const We of mt)try{De(We)}catch(yt){q=q??[],yt instanceof B?q=[...q,...yt.errors]:q.push(yt)}}if(q)throw new B(q)}}add(q){var ee;if(q&&q!==this)if(this.closed)De(q);else{if(q instanceof $){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(q)}}_hasParent(q){const{_parentage:ee}=this;return ee===q||Array.isArray(ee)&&ee.includes(q)}_addParent(q){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(q),ee):ee?[ee,q]:q}_removeParent(q){const{_parentage:ee}=this;ee===q?this._parentage=null:Array.isArray(ee)&&(0,ve.P)(ee,q)}remove(q){const{_finalizers:ee}=this;ee&&(0,ve.P)(ee,q),q instanceof $&&q._removeParent(this)}}$.EMPTY=(()=>{const Ae=new $;return Ae.closed=!0,Ae})();const _e=$.EMPTY;function we(Ae){return Ae instanceof $||Ae&&"closed"in Ae&&(0,u.m)(Ae.remove)&&(0,u.m)(Ae.add)&&(0,u.m)(Ae.unsubscribe)}function De(Ae){(0,u.m)(Ae)?Ae():Ae.unsubscribe()}},2653:(nn,et,W)=>{"use strict";W.d(et,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(nn,et,W)=>{"use strict";W.d(et,{E:()=>te});const te=new(W(5592).y)($=>$.complete())},2459:(nn,et,W)=>{"use strict";W.d(et,{D:()=>ut});var u=W(4829),te=W(3093),B=W(5137),_e=W(5592),De=W(4971),Ae=W(4674),q=W(7103);function ye(Ve,tt){if(!Ve)throw new Error("Iterable cannot be null");return new _e.y(vt=>{(0,q.f)(vt,tt,()=>{const ae=Ve[Symbol.asyncIterator]();(0,q.f)(vt,tt,()=>{ae.next().then(ct=>{ct.done?vt.complete():vt.next(ct.value)})},0,!0)})})}var mt=W(8382),We=W(4026),yt=W(4266),ht=W(3664),kt=W(5726),lt=W(9853),Bt=W(541);function ut(Ve,tt){return tt?function Se(Ve,tt){if(null!=Ve){if((0,mt.c)(Ve))return function ve(Ve,tt){return(0,u.Xf)(Ve).pipe((0,B.R)(tt),(0,te.Q)(tt))}(Ve,tt);if((0,yt.z)(Ve))return function we(Ve,tt){return new _e.y(vt=>{let ae=0;return tt.schedule(function(){ae===Ve.length?vt.complete():(vt.next(Ve[ae++]),vt.closed||this.schedule())})})}(Ve,tt);if((0,We.t)(Ve))return function $(Ve,tt){return(0,u.Xf)(Ve).pipe((0,B.R)(tt),(0,te.Q)(tt))}(Ve,tt);if((0,kt.D)(Ve))return ye(Ve,tt);if((0,ht.T)(Ve))return function ee(Ve,tt){return new _e.y(vt=>{let ae;return(0,q.f)(vt,tt,()=>{ae=Ve[De.h](),(0,q.f)(vt,tt,()=>{let ct,Pt;try{({value:ct,done:Pt}=ae.next())}catch(rn){return void vt.error(rn)}Pt?vt.complete():vt.next(ct)},0,!0)}),()=>(0,Ae.m)(ae?.return)&&ae.return()})}(Ve,tt);if((0,Bt.L)(Ve))return function Ht(Ve,tt){return ye((0,Bt.Q)(Ve),tt)}(Ve,tt)}throw(0,lt.z)(Ve)}(Ve,tt):(0,u.Xf)(Ve)}},4829:(nn,et,W)=>{"use strict";W.d(et,{Xf:()=>mt});var u=W(7582),te=W(4266),B=W(4026),ve=W(5592),$=W(8382),_e=W(5726),we=W(9853),De=W(3664),Ae=W(541),q=W(4674),ee=W(3894),ye=W(4850);function mt(Se){if(Se instanceof ve.y)return Se;if(null!=Se){if((0,$.c)(Se))return function We(Se){return new ve.y(ut=>{const Ve=Se[ye.L]();if((0,q.m)(Ve.subscribe))return Ve.subscribe(ut);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,te.z)(Se))return function yt(Se){return new ve.y(ut=>{for(let Ve=0;Ve<Se.length&&!ut.closed;Ve++)ut.next(Se[Ve]);ut.complete()})}(Se);if((0,B.t)(Se))return function ht(Se){return new ve.y(ut=>{Se.then(Ve=>{ut.closed||(ut.next(Ve),ut.complete())},Ve=>ut.error(Ve)).then(null,ee.h)})}(Se);if((0,_e.D)(Se))return lt(Se);if((0,De.T)(Se))return function kt(Se){return new ve.y(ut=>{for(const Ve of Se)if(ut.next(Ve),ut.closed)return;ut.complete()})}(Se);if((0,Ae.L)(Se))return function Bt(Se){return lt((0,Ae.Q)(Se))}(Se)}throw(0,we.z)(Se)}function lt(Se){return new ve.y(ut=>{(function Ht(Se,ut){var Ve,tt,vt,ae;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,u.KL)(Se);!(tt=yield Ve.next()).done;)if(ut.next(tt.value),ut.closed)return}catch(ct){vt={error:ct}}finally{try{tt&&!tt.done&&(ae=Ve.return)&&(yield ae.call(Ve))}finally{if(vt)throw vt.error}}ut.complete()})})(Se,ut).catch(Ve=>ut.error(Ve))})}},3019:(nn,et,W)=>{"use strict";W.d(et,{T:()=>_e});var u=W(7537),te=W(4829),B=W(6232),ve=W(9940),$=W(2459);function _e(...we){const De=(0,ve.yG)(we),Ae=(0,ve._6)(we,1/0),q=we;return q.length?1===q.length?(0,te.Xf)(q[0]):(0,u.J)(Ae)((0,$.D)(q,De)):B.E}},2096:(nn,et,W)=>{"use strict";W.d(et,{of:()=>B});var u=W(9940),te=W(2459);function B(...ve){const $=(0,u.yG)(ve);return(0,te.D)(ve,$)}},8251:(nn,et,W)=>{"use strict";W.d(et,{x:()=>te});var u=W(305);function te(ve,$,_e,we,De){return new B(ve,$,_e,we,De)}class B extends u.Lv{constructor($,_e,we,De,Ae,q){super($),this.onFinalize=Ae,this.shouldUnsubscribe=q,this._next=_e?function(ee){try{_e(ee)}catch(ye){$.error(ye)}}:super._next,this._error=De?function(ee){try{De(ee)}catch(ye){$.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(ee){$.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===($=this.onFinalize)||void 0===$||$.call(this))}}}},3997:(nn,et,W)=>{"use strict";W.d(et,{x:()=>ve});var u=W(2737),te=W(9360),B=W(8251);function ve(_e,we=u.y){return _e=_e??$,(0,te.e)((De,Ae)=>{let q,ee=!0;De.subscribe((0,B.x)(Ae,ye=>{const mt=we(ye);(ee||!_e(q,mt))&&(ee=!1,q=mt,Ae.next(ye))}))})}function $(_e,we){return _e===we}},7398:(nn,et,W)=>{"use strict";W.d(et,{U:()=>B});var u=W(9360),te=W(8251);function B(ve,$){return(0,u.e)((_e,we)=>{let De=0;_e.subscribe((0,te.x)(we,Ae=>{we.next(ve.call($,Ae,De++))}))})}},7537:(nn,et,W)=>{"use strict";W.d(et,{J:()=>B});var u=W(1631),te=W(2737);function B(ve=1/0){return(0,u.z)(te.y,ve)}},1631:(nn,et,W)=>{"use strict";W.d(et,{z:()=>De});var u=W(7398),te=W(4829),B=W(9360),ve=W(7103),$=W(8251),we=W(4674);function De(Ae,q,ee=1/0){return(0,we.m)(q)?De((ye,mt)=>(0,u.U)((We,yt)=>q(ye,We,mt,yt))((0,te.Xf)(Ae(ye,mt))),ee):("number"==typeof q&&(ee=q),(0,B.e)((ye,mt)=>function _e(Ae,q,ee,ye,mt,We,yt,ht){const kt=[];let lt=0,Bt=0,Ht=!1;const Se=()=>{Ht&&!kt.length&&!lt&&q.complete()},ut=tt=>lt<ye?Ve(tt):kt.push(tt),Ve=tt=>{We&&q.next(tt),lt++;let vt=!1;(0,te.Xf)(ee(tt,Bt++)).subscribe((0,$.x)(q,ae=>{mt?.(ae),We?ut(ae):q.next(ae)},()=>{vt=!0},void 0,()=>{if(vt)try{for(lt--;kt.length&&lt<ye;){const ae=kt.shift();yt?(0,ve.f)(q,yt,()=>Ve(ae)):Ve(ae)}Se()}catch(ae){q.error(ae)}}))};return Ae.subscribe((0,$.x)(q,ut,()=>{Ht=!0,Se()})),()=>{ht?.()}}(ye,mt,Ae,ee)))}},3093:(nn,et,W)=>{"use strict";W.d(et,{Q:()=>ve});var u=W(7103),te=W(9360),B=W(8251);function ve($,_e=0){return(0,te.e)((we,De)=>{we.subscribe((0,B.x)(De,Ae=>(0,u.f)(De,$,()=>De.next(Ae),_e),()=>(0,u.f)(De,$,()=>De.complete(),_e),Ae=>(0,u.f)(De,$,()=>De.error(Ae),_e)))})}},3020:(nn,et,W)=>{"use strict";W.d(et,{B:()=>$});var u=W(4829),te=W(8645),B=W(305),ve=W(9360);function $(we={}){const{connector:De=(()=>new te.x),resetOnError:Ae=!0,resetOnComplete:q=!0,resetOnRefCountZero:ee=!0}=we;return ye=>{let mt,We,yt,ht=0,kt=!1,lt=!1;const Bt=()=>{We?.unsubscribe(),We=void 0},Ht=()=>{Bt(),mt=yt=void 0,kt=lt=!1},Se=()=>{const ut=mt;Ht(),ut?.unsubscribe()};return(0,ve.e)((ut,Ve)=>{ht++,!lt&&!kt&&Bt();const tt=yt=yt??De();Ve.add(()=>{ht--,0===ht&&!lt&&!kt&&(We=_e(Se,ee))}),tt.subscribe(Ve),!mt&&ht>0&&(mt=new B.Hp({next:vt=>tt.next(vt),error:vt=>{lt=!0,Bt(),We=_e(Ht,Ae,vt),tt.error(vt)},complete:()=>{kt=!0,Bt(),We=_e(Ht,q),tt.complete()}}),(0,u.Xf)(ut).subscribe(mt))})(ye)}}function _e(we,De,...Ae){if(!0===De)return void we();if(!1===De)return;const q=new B.Hp({next:()=>{q.unsubscribe(),we()}});return(0,u.Xf)(De(...Ae)).subscribe(q)}},5137:(nn,et,W)=>{"use strict";W.d(et,{R:()=>te});var u=W(9360);function te(B,ve=0){return(0,u.e)(($,_e)=>{_e.add(B.schedule(()=>$.subscribe(_e),ve))})}},4664:(nn,et,W)=>{"use strict";W.d(et,{w:()=>ve});var u=W(4829),te=W(9360),B=W(8251);function ve($,_e){return(0,te.e)((we,De)=>{let Ae=null,q=0,ee=!1;const ye=()=>ee&&!Ae&&De.complete();we.subscribe((0,B.x)(De,mt=>{Ae?.unsubscribe();let We=0;const yt=q++;(0,u.Xf)($(mt,yt)).subscribe(Ae=(0,B.x)(De,ht=>De.next(_e?_e(mt,ht,yt,We++):ht),()=>{Ae=null,ye()}))},()=>{ee=!0,ye()}))})}},9397:(nn,et,W)=>{"use strict";W.d(et,{b:()=>$});var u=W(4674),te=W(9360),B=W(8251),ve=W(2737);function $(_e,we,De){const Ae=(0,u.m)(_e)||we||De?{next:_e,error:we,complete:De}:_e;return Ae?(0,te.e)((q,ee)=>{var ye;null===(ye=Ae.subscribe)||void 0===ye||ye.call(Ae);let mt=!0;q.subscribe((0,B.x)(ee,We=>{var yt;null===(yt=Ae.next)||void 0===yt||yt.call(Ae,We),ee.next(We)},()=>{var We;mt=!1,null===(We=Ae.complete)||void 0===We||We.call(Ae),ee.complete()},We=>{var yt;mt=!1,null===(yt=Ae.error)||void 0===yt||yt.call(Ae,We),ee.error(We)},()=>{var We,yt;mt&&(null===(We=Ae.unsubscribe)||void 0===We||We.call(Ae)),null===(yt=Ae.finalize)||void 0===yt||yt.call(Ae)}))}):ve.y}},1954:(nn,et,W)=>{"use strict";W.d(et,{o:()=>$});var u=W(7394);class te extends u.w0{constructor(we,De){super()}schedule(we,De=0){return this}}const B={setInterval(_e,we,...De){const{delegate:Ae}=B;return Ae?.setInterval?Ae.setInterval(_e,we,...De):setInterval(_e,we,...De)},clearInterval(_e){const{delegate:we}=B;return(we?.clearInterval||clearInterval)(_e)},delegate:void 0};var ve=W(9039);class $ extends te{constructor(we,De){super(we,De),this.scheduler=we,this.work=De,this.pending=!1}schedule(we,De=0){var Ae;if(this.closed)return this;this.state=we;const q=this.id,ee=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(ee,q,De)),this.pending=!0,this.delay=De,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(ee,this.id,De),this}requestAsyncId(we,De,Ae=0){return B.setInterval(we.flush.bind(we,this),Ae)}recycleAsyncId(we,De,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return De;null!=De&&B.clearInterval(De)}execute(we,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(we,De);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,De){let q,Ae=!1;try{this.work(we)}catch(ee){Ae=!0,q=ee||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:we,scheduler:De}=this,{actions:Ae}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(Ae,this),null!=we&&(this.id=this.recycleAsyncId(De,we,null)),this.delay=null,super.unsubscribe()}}}},2631:(nn,et,W)=>{"use strict";W.d(et,{v:()=>B});var u=W(4552);class te{constructor($,_e=te.now){this.schedulerActionCtor=$,this.now=_e}schedule($,_e=0,we){return new this.schedulerActionCtor(this,$).schedule(we,_e)}}te.now=u.l.now;class B extends te{constructor($,_e=te.now){super($,_e),this.actions=[],this._active=!1}flush($){const{actions:_e}=this;if(this._active)return void _e.push($);let we;this._active=!0;do{if(we=$.execute($.state,$.delay))break}while($=_e.shift());if(this._active=!1,we){for(;$=_e.shift();)$.unsubscribe();throw we}}}},6321:(nn,et,W)=>{"use strict";W.d(et,{P:()=>ve,z:()=>B});var u=W(1954);const B=new(W(2631).v)(u.o),ve=B},4552:(nn,et,W)=>{"use strict";W.d(et,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(nn,et,W)=>{"use strict";W.d(et,{z:()=>u});const u={setTimeout(te,B,...ve){const{delegate:$}=u;return $?.setTimeout?$.setTimeout(te,B,...ve):setTimeout(te,B,...ve)},clearTimeout(te){const{delegate:B}=u;return(B?.clearTimeout||clearTimeout)(te)},delegate:void 0}},4971:(nn,et,W)=>{"use strict";W.d(et,{h:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(nn,et,W)=>{"use strict";W.d(et,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(nn,et,W)=>{"use strict";W.d(et,{_6:()=>_e,jO:()=>ve,yG:()=>$});var u=W(4674),te=W(671);function B(we){return we[we.length-1]}function ve(we){return(0,u.m)(B(we))?we.pop():void 0}function $(we){return(0,te.K)(B(we))?we.pop():void 0}function _e(we,De){return"number"==typeof B(we)?we.pop():De}},9039:(nn,et,W)=>{"use strict";function u(te,B){if(te){const ve=te.indexOf(B);0<=ve&&te.splice(ve,1)}}W.d(et,{P:()=>u})},2306:(nn,et,W)=>{"use strict";function u(te){const ve=te($=>{Error.call($),$.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}W.d(et,{d:()=>u})},1441:(nn,et,W)=>{"use strict";W.d(et,{O:()=>ve,x:()=>B});var u=W(2653);let te=null;function B($){if(u.config.useDeprecatedSynchronousErrorHandling){const _e=!te;if(_e&&(te={errorThrown:!1,error:null}),$(),_e){const{errorThrown:we,error:De}=te;if(te=null,we)throw De}}else $()}function ve($){u.config.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=$)}},7103:(nn,et,W)=>{"use strict";function u(te,B,ve,$=0,_e=!1){const we=B.schedule(function(){ve(),_e?te.add(this.schedule(null,$)):this.unsubscribe()},$);if(te.add(we),!_e)return we}W.d(et,{f:()=>u})},2737:(nn,et,W)=>{"use strict";function u(te){return te}W.d(et,{y:()=>u})},4266:(nn,et,W)=>{"use strict";W.d(et,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},5726:(nn,et,W)=>{"use strict";W.d(et,{D:()=>te});var u=W(4674);function te(B){return Symbol.asyncIterator&&(0,u.m)(B?.[Symbol.asyncIterator])}},4674:(nn,et,W)=>{"use strict";function u(te){return"function"==typeof te}W.d(et,{m:()=>u})},8382:(nn,et,W)=>{"use strict";W.d(et,{c:()=>B});var u=W(4850),te=W(4674);function B(ve){return(0,te.m)(ve[u.L])}},3664:(nn,et,W)=>{"use strict";W.d(et,{T:()=>B});var u=W(4971),te=W(4674);function B(ve){return(0,te.m)(ve?.[u.h])}},4026:(nn,et,W)=>{"use strict";W.d(et,{t:()=>te});var u=W(4674);function te(B){return(0,u.m)(B?.then)}},541:(nn,et,W)=>{"use strict";W.d(et,{L:()=>ve,Q:()=>B});var u=W(7582),te=W(4674);function B($){return(0,u.FC)(this,arguments,function*(){const we=$.getReader();try{for(;;){const{value:De,done:Ae}=yield(0,u.qq)(we.read());if(Ae)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(De)}}finally{we.releaseLock()}})}function ve($){return(0,te.m)($?.getReader)}},671:(nn,et,W)=>{"use strict";W.d(et,{K:()=>te});var u=W(4674);function te(B){return B&&(0,u.m)(B.schedule)}},9360:(nn,et,W)=>{"use strict";W.d(et,{A:()=>te,e:()=>B});var u=W(4674);function te(ve){return(0,u.m)(ve?.lift)}function B(ve){return $=>{if(te($))return $.lift(function(_e){try{return ve(_e,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(nn,et,W)=>{"use strict";function u(){}W.d(et,{Z:()=>u})},8407:(nn,et,W)=>{"use strict";W.d(et,{U:()=>B,z:()=>te});var u=W(2737);function te(...ve){return B(ve)}function B(ve){return 0===ve.length?u.y:1===ve.length?ve[0]:function(_e){return ve.reduce((we,De)=>De(we),_e)}}},3894:(nn,et,W)=>{"use strict";W.d(et,{h:()=>B});var u=W(2653),te=W(7599);function B(ve){te.z.setTimeout(()=>{const{onUnhandledError:$}=u.config;if(!$)throw ve;$(ve)})}},9853:(nn,et,W)=>{"use strict";function u(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(et,{z:()=>u})},5879:(nn,et,W)=>{"use strict";W.d(et,{$8M:()=>fd,$WT:()=>Ys,$Z:()=>II,AFp:()=>Uo,ALo:()=>yx,AaK:()=>ye,BQk:()=>Kv,CHM:()=>Xs,CRH:()=>rT,EJc:()=>kN,EiD:()=>$P,EpF:()=>XI,F$t:()=>A_,F4k:()=>eE,FYo:()=>Iv,FiY:()=>Je,Gf:()=>Nx,GfV:()=>Eo,GkF:()=>QI,Gpc:()=>yt,HDt:()=>$0,Hsn:()=>Co,JOm:()=>Dg,JVY:()=>aD,JZr:()=>Ht,Jf7:()=>mI,KtG:()=>Ll,L6k:()=>VP,LAX:()=>jP,LFG:()=>jt,LSH:()=>zb,Lbi:()=>Mu,Lck:()=>dN,MAs:()=>C_,MMx:()=>BE,MR2:()=>$b,NdJ:()=>Yv,Ojb:()=>Zb,OlP:()=>Kr,Oqu:()=>Em,P3R:()=>qP,PXZ:()=>HN,Q6J:()=>$v,QGY:()=>JI,Qsj:()=>oI,R0b:()=>Qi,RDi:()=>tD,Rgc:()=>Z_,SBq:()=>Yp,Sil:()=>NN,Suo:()=>F0,TTD:()=>Rl,TgZ:()=>Wv,Udp:()=>Ii,VuI:()=>cy,X6Q:()=>$m,XFs:()=>Et,Xpm:()=>Kc,Xq5:()=>BI,Xts:()=>Hg,Y36:()=>im,YKP:()=>cx,YNc:()=>ZI,Yjl:()=>Ai,Yz7:()=>Te,Z0I:()=>Ye,ZZ4:()=>ow,_Bn:()=>ax,_UZ:()=>YI,_c5:()=>Ms,_uU:()=>DS,aQg:()=>aw,c2e:()=>np,cJS:()=>Ct,cg1:()=>Th,dDg:()=>DT,dqk:()=>bn,eBb:()=>UP,eFA:()=>hM,eJc:()=>Lx,ekj:()=>Vu,eoX:()=>Z0,evT:()=>gI,f3M:()=>se,g9A:()=>oo,h0i:()=>xh,hGG:()=>Wu,hij:()=>jf,iGM:()=>O0,ifc:()=>gi,ip1:()=>G0,jDz:()=>ux,kL8:()=>TE,lG2:()=>Ka,lcZ:()=>pN,lqb:()=>Gs,lri:()=>q0,mCW:()=>uv,n5z:()=>Ap,oAB:()=>wl,oxw:()=>rE,pB0:()=>BP,q3G:()=>uh,q4F:()=>Yg,qFp:()=>dO,qLn:()=>cl,qOj:()=>xf,qZA:()=>qv,qzn:()=>yd,rWj:()=>aM,rg0:()=>pu,sBO:()=>ZN,s_b:()=>Ph,soG:()=>Md,tb:()=>sy,tp0:()=>Kt,uIk:()=>Xt,vHH:()=>Se,vpe:()=>Ru,wAp:()=>tu,xp6:()=>nm,ynx:()=>Zv,z2F:()=>Hm,z3N:()=>Su,zSh:()=>Yr,zs3:()=>Oc});var u=W(8645),te=W(7394),B=W(5592),ve=W(3019),$=W(5619),_e=W(2096),we=W(3020),De=W(4664),Ae=W(3997);function q(o){for(let c in o)if(o[c]===q)return c;throw Error("Could not find renamed property on target object.")}function ee(o,c){for(const l in c)c.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=c[l])}function ye(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ye).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const l=c.indexOf("\n");return-1===l?c:c.substring(0,l)}function mt(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const We=q({__forward_ref__:q});function yt(o){return o.__forward_ref__=yt,o.toString=function(){return ye(this())},o}function ht(o){return kt(o)?o():o}function kt(o){return"function"==typeof o&&o.hasOwnProperty(We)&&o.__forward_ref__===yt}function lt(o){return o&&!!o.\u0275providers}const Ht="https://g.co/ng/security#xss";class Se extends Error{constructor(c,l){super(function ut(o,c){return`NG0${Math.abs(o)}${c?": "+c:""}`}(c,l)),this.code=c}}function Ve(o){return"string"==typeof o?o:null==o?"":String(o)}function Pt(o,c){throw new Se(-201,!1)}function Mt(o,c){null==o&&function At(o,c,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${c} <=Actual]`))}(c,o,null,"!=")}function Te(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ct(o){return{providers:o.providers||[],imports:o.imports||[]}}function nt(o){return dn(o,vn)||dn(o,Jn)}function Ye(o){return null!==nt(o)}function dn(o,c){return o.hasOwnProperty(c)?o[c]:null}function Fn(o){return o&&(o.hasOwnProperty(He)||o.hasOwnProperty(_n))?o[He]:null}const vn=q({\u0275prov:q}),He=q({\u0275inj:q}),Jn=q({ngInjectableDef:q}),_n=q({ngInjectorDef:q});var Et=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Et||{});let Ft;function hn(o){const c=Ft;return Ft=o,c}function qn(o,c,l){const d=nt(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Et.Optional?null:void 0!==c?c:void Pt(ye(o))}const bn=globalThis,St={},Zt="__NG_DI_FLAG__",fn="ngTempTokenPath",de=/\n/gm,Y="__source";let X;function xe(o){const c=X;return X=o,c}function _t(o,c=Et.Default){if(void 0===X)throw new Se(-203,!1);return null===X?qn(o,void 0,c):X.get(o,c&Et.Optional?null:void 0,c)}function jt(o,c=Et.Default){return(function Dn(){return Ft}()||_t)(ht(o),c)}function se(o,c=Et.Default){return jt(o,Ce(c))}function Ce(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Xe(o){const c=[];for(let l=0;l<o.length;l++){const d=ht(o[l]);if(Array.isArray(d)){if(0===d.length)throw new Se(900,!1);let f,g=Et.Default;for(let v=0;v<d.length;v++){const I=d[v],P=Lt(I);"number"==typeof P?-1===P?f=I.token:g|=P:f=I}c.push(jt(f,g))}else c.push(jt(d))}return c}function Ot(o,c){return o[Zt]=c,o.prototype[Zt]=c,o}function Lt(o){return o[Zt]}function xr(o){return{toString:o}.toString()}var kr=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(kr||{}),gi=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(gi||{});const di={},wn=[],ts=q({\u0275cmp:q}),$a=q({\u0275dir:q}),pl=q({\u0275pipe:q}),Wc=q({\u0275mod:q}),xo=q({\u0275fac:q}),Wa=q({__NG_ELEMENT_ID__:q}),Mo=q({__NG_ENV_ID__:q});function ml(o,c,l){let d=o.length;for(;;){const f=o.indexOf(c,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=c.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}l=f+1}}function qa(o,c,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const g=l[d++],v=l[d++],I=l[d++];o.setAttribute(c,v,I,g)}else{const g=f,v=l[++d];Wo(g)?o.setProperty(c,g,v):o.setAttribute(c,g,v),d++}}return d}function Ro(o){return 3===o||4===o||6===o}function Wo(o){return 64===o.charCodeAt(0)}function qo(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let l=-1;for(let d=0;d<c.length;d++){const f=c[d];"number"==typeof f?l=f:0===l||Zo(o,l,f,null,-1===l||2===l?c[++d]:null)}}return o}function Zo(o,c,l,d,f){let g=0,v=o.length;if(-1===c)v=-1;else for(;g<o.length;){const I=o[g++];if("number"==typeof I){if(I===c){v=-1;break}if(I>c){v=g-1;break}}}for(;g<o.length;){const I=o[g];if("number"==typeof I)break;if(I===l){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,c),g=v+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}const ii="ng-template";function jd(o,c,l){let d=0,f=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&f){const v=o[d++];if(l&&"class"===g&&-1!==ml(v.toLowerCase(),c,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===c)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function ks(o){return 4===o.type&&o.value!==ii}function qc(o,c,l){return c===(4!==o.type||l?o.value:ii)}function gl(o,c,l){let d=4;const f=o.attrs||[],g=function Ac(o){for(let c=0;c<o.length;c++)if(Ro(o[c]))return c;return o.length}(f);let v=!1;for(let I=0;I<c.length;I++){const P=c[I];if("number"!=typeof P){if(!v)if(4&d){if(d=2|1&d,""!==P&&!qc(o,P,l)||""===P&&1===c.length){if(ps(d))return!1;v=!0}}else{const O=8&d?P:c[++I];if(8&d&&null!==o.attrs){if(!jd(o.attrs,O,l)){if(ps(d))return!1;v=!0}continue}const re=Tc(8&d?"class":P,f,ks(o),l);if(-1===re){if(ps(d))return!1;v=!0;continue}if(""!==O){let Ee;Ee=re>g?"":f[re+1].toLowerCase();const ke=8&d?Ee:null;if(ke&&-1!==ml(ke,O,0)||2&d&&O!==Ee){if(ps(d))return!1;v=!0}}}}else{if(!v&&!ps(d)&&!ps(P))return!1;if(v&&ps(P))continue;v=!1,d=P|1&d}}return ps(d)||v}function ps(o){return 0==(1&o)}function Tc(o,c,l,d){if(null===c)return-1;let f=0;if(d||!l){let g=!1;for(;f<c.length;){const v=c[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=c[++f];for(;"string"==typeof I;)I=c[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function ba(o,c){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===c)return l;l++}return-1}(c,o)}function Cc(o,c,l=!1){for(let d=0;d<c.length;d++)if(gl(o,c[d],l))return!0;return!1}function Ia(o,c){e:for(let l=0;l<c.length;l++){const d=c[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function yl(o,c){return o?":not("+c.trim()+")":c}function Zc(o){let c=o[0],l=1,d=2,f="",g=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const I=o[++l];f+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ps(v)&&(c+=yl(g,f),f=""),d=v,g=g||!ps(d);l++}return""!==f&&(c+=yl(g,f)),c}function Kc(o){return xr(()=>{const c=zd(o),l={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===kr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||gi.Emulated,styles:o.styles||wn,_:null,schemas:o.schemas||null,tView:null,id:""};bl(l);const d=o.dependencies;return l.directiveDefs=Ea(d,!1),l.pipeDefs=Ea(d,!0),l.id=function Qo(o){let c=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of l)c=Math.imul(31,c)+f.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(l),l})}function Yc(o){return or(o)||$r(o)}function vl(o){return null!==o}function wl(o){return xr(()=>({type:o.type,bootstrap:o.bootstrap||wn,declarations:o.declarations||wn,imports:o.imports||wn,exports:o.exports||wn,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Za(o,c){if(null==o)return di;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=d,c&&(c[f]=g)}return l}function Ka(o){return xr(()=>{const c=zd(o);return bl(c),c})}function Ai(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function or(o){return o[ts]||null}function $r(o){return o[$a]||null}function hi(o){return o[pl]||null}function Ys(o){const c=or(o)||$r(o)||hi(o);return null!==c&&c.standalone}function Di(o,c){const l=o[Wc]||null;if(!l&&!0===c)throw new Error(`Type ${ye(o)} does not have '\u0275mod' property.`);return l}function zd(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:o.inputs||di,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||wn,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Za(o.inputs,c),outputs:Za(o.outputs)}}function bl(o){o.features?.forEach(c=>c(o))}function Ea(o,c){if(!o)return null;const l=c?hi:Yc;return()=>("function"==typeof o?o():o).map(d=>l(d)).filter(vl)}const Wr=0,zt=1,Un=2,Mr=3,Ts=4,Po=5,ns=6,Xo=7,Nr=8,Ns=9,Qs=10,En=11,ui=12,Xu=13,Os=14,zr=15,Ya=16,Cs=17,Gi=18,Jo=19,Qa=20,ea=21,Fs=22,Qc=23,As=24,Qn=25,ta=1,ko=2,Li=7,No=9,fi=11;function $i(o){return Array.isArray(o)&&"object"==typeof o[ta]}function _i(o){return Array.isArray(o)&&!0===o[ta]}function fo(o){return 0!=(4&o.flags)}function ra(o){return o.componentOffset>-1}function Ls(o){return 1==(1&o.flags)}function ms(o){return!!o.template}function Ta(o){return 0!=(512&o[Un])}function po(o,c){return o.hasOwnProperty(xo)?o[xo]:null}let S=null,R=!1;function N(o){const c=S;return S=o,c}const V={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function he(o){if(!go(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Or(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Oe(o){o.dirty=!0,function Fe(o){if(void 0===o.liveConsumerNode)return;const c=R;R=!0;try{for(const l of o.liveConsumerNode)l.dirty||Oe(l)}finally{R=c}}(o),o.consumerMarkedDirty?.(o)}function gn(o){return o&&(o.nextProducerIndex=0),N(o)}function Yt(o,c){if(N(c),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(go(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)yi(o.producerNode[l],o.producerIndexOfThis[l]);for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Or(o){_s(o);for(let c=0;c<o.producerNode.length;c++){const l=o.producerNode[c],d=o.producerLastReadVersion[c];if(d!==l.version||(he(l),d!==l.version))return!0}return!1}function Fr(o){if(_s(o),go(o))for(let c=0;c<o.producerNode.length;c++)yi(o.producerNode[c],o.producerIndexOfThis[c]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function yi(o,c){if(function Dl(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),_s(o),1===o.liveConsumerNode.length)for(let d=0;d<o.producerNode.length;d++)yi(o.producerNode[d],o.producerIndexOfThis[d]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[c]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[c]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,c<o.liveConsumerNode.length){const d=o.liveConsumerIndexOfThis[c],f=o.liveConsumerNode[c];_s(f),f.producerIndexOfThis[d]=c}}function go(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function _s(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let qd=null;function pu(o){const c=N(null);try{return o()}finally{N(c)}}const rd=()=>{},wp={...V,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:rd};class tf{constructor(c,l,d){this.previousValue=c,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Rl(){return Pl}function Pl(o){return o.type.prototype.ngOnChanges&&(o.setInput=_o),mu}function mu(){const o=kl(this),c=o?.current;if(c){const l=o.previous;if(l===di)o.previous=c;else for(let d in c)l[d]=c[d];o.current=null,this.ngOnChanges(c)}}function _o(o,c,l,d){const f=this.declaredInputs[l],g=kl(o)||function Qd(o,c){return o[el]=c}(o,{previous:di,current:null}),v=g.current||(g.current={}),I=g.previous,P=I[f];v[f]=new tf(P&&P.currentValue,c,I===di),o[d]=c}Rl.ngInherit=!0;const el="__ngSimpleChanges__";function kl(o){return o[el]||null}const yo=function(o,c,l){};function Tr(o){for(;Array.isArray(o);)o=o[Wr];return o}function oa(o,c){return Tr(c[o])}function Ds(o,c){return Tr(c[o.index])}function Ol(o,c){return o.data[c]}function Mc(o,c){return o[c]}function rs(o,c){const l=c[o];return $i(l)?l:l[Wr]}function ic(o,c){return null==c?null:o[c]}function nf(o){o[Cs]=0}function Rc(o){1024&o[Un]||(o[Un]|=1024,Ui(o,1))}function rf(o){1024&o[Un]&&(o[Un]&=-1025,Ui(o,-1))}function Ui(o,c){let l=o[Mr];if(null===l)return;l[Po]+=c;let d=l;for(l=l[Mr];null!==l&&(1===c&&1===d[Po]||-1===c&&0===d[Po]);)l[Po]+=c,d=l,l=l[Mr]}const Hn={lFrame:il(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xi(){return Hn.bindingsEnabled}function Da(){return null!==Hn.skipHydrationRootTNode}function Tt(){return Hn.lFrame.lView}function yr(){return Hn.lFrame.tView}function Xs(o){return Hn.lFrame.contextLView=o,o[Nr]}function Ll(o){return Hn.lFrame.contextLView=null,o}function is(){let o=vu();for(;null!==o&&64===o.type;)o=o.parent;return o}function vu(){return Hn.lFrame.currentTNode}function aa(o,c){const l=Hn.lFrame;l.currentTNode=o,l.isParent=c}function od(){return Hn.lFrame.isParent}function ad(){Hn.lFrame.isParent=!1}function Sa(){return Hn.lFrame.bindingIndex++}function wu(o,c){const l=Hn.lFrame;l.bindingIndex=l.bindingRootIndex=o,bu(c)}function bu(o){Hn.lFrame.currentDirectiveIndex=o}function Ul(){return Hn.lFrame.currentQueryIndex}function jl(o){Hn.lFrame.currentQueryIndex=o}function dd(o){const c=o[zt];return 2===c.type?c.declTNode:1===c.type?o[ns]:null}function hd(o,c,l){if(l&Et.SkipSelf){let f=c,g=o;for(;!(f=f.parent,null!==f||l&Et.Host||(f=dd(g),null===f||(g=g[Os],10&f.type))););if(null===f)return!1;c=f,o=g}const d=Hn.lFrame=vo();return d.currentTNode=c,d.lView=o,!0}function vi(o){const c=vo(),l=o[zt];Hn.lFrame=c,c.currentTNode=l.firstChild,c.lView=o,c.tView=l,c.contextLView=o,c.bindingIndex=l.bindingStartIndex,c.inI18n=!1}function vo(){const o=Hn.lFrame,c=null===o?null:o.child;return null===c?il(o):c}function il(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function b(){const o=Hn.lFrame;return Hn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const D=b;function T(){const o=b();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function fe(){return Hn.lFrame.selectedIndex}function Ie(o){Hn.lFrame.selectedIndex=o}function Me(){const o=Hn.lFrame;return Ol(o.tView,o.selectedIndex)}let Jt=!0;function en(){return Jt}function Rn(o){Jt=o}function Wn(o,c){for(let l=c.directiveStart,d=c.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:O,ngOnDestroy:H}=g;v&&(o.contentHooks??=[]).push(-l,v),I&&((o.contentHooks??=[]).push(l,I),(o.contentCheckHooks??=[]).push(l,I)),P&&(o.viewHooks??=[]).push(-l,P),O&&((o.viewHooks??=[]).push(l,O),(o.viewCheckHooks??=[]).push(l,O)),null!=H&&(o.destroyHooks??=[]).push(l,H)}}function Ln(o,c,l){Mi(o,c,3,l)}function Sn(o,c,l,d){(3&o[Un])===l&&Mi(o,c,l,d)}function Rr(o,c){let l=o[Un];(3&l)===c&&(l&=8191,l+=1,o[Un]=l)}function Mi(o,c,l,d){const g=d??-1,v=c.length-1;let I=0;for(let P=void 0!==d?65535&o[Cs]:0;P<v;P++)if("number"==typeof c[P+1]){if(I=c[P],null!=d&&I>=d)break}else c[P]<0&&(o[Cs]+=65536),(I<g||-1==g)&&(js(o,l,c,P),o[Cs]=(4294901760&o[Cs])+P+2),P++}function Bi(o,c){yo(4,o,c);const l=N(null);try{c.call(o)}finally{N(l),yo(5,o,c)}}function js(o,c,l,d){const f=l[d]<0,g=l[d+1],I=o[f?-l[d]:l[d]];f?o[Un]>>13<o[Cs]>>16&&(3&o[Un])===c&&(o[Un]+=8192,Bi(I,g)):Bi(I,g)}const Wi=-1;class Oo{constructor(c,l,d){this.factory=c,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ma(o){return o!==Wi}function wi(o){return 32767&o}function ss(o,c){let l=function qr(o){return o>>16}(o),d=c;for(;l>0;)d=d[Os],l--;return d}let to=!0;function Ri(o){const c=to;return to=o,c}const Bs=255,Lr=5;let Lo=0;const Hr={};function Gn(o,c){const l=ei(o,c);if(-1!==l)return l;const d=c[zt];d.firstCreatePass&&(o.injectorIndex=c.length,nr(d.data,o),nr(c,null),nr(d.blueprint,null));const f=Vr(o,c),g=o.injectorIndex;if(Ma(f)){const v=wi(f),I=ss(f,c),P=I[zt].data;for(let O=0;O<8;O++)c[g+O]=I[v+O]|P[v+O]}return c[g+8]=f,g}function nr(o,c){o.push(0,0,0,0,0,0,0,0,c)}function ei(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function Vr(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=c;for(;null!==f;){if(d=Eg(f),null===d)return Wi;if(l++,f=f[Os],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Wi}function Zr(o,c,l){!function no(o,c,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Wa)&&(d=l[Wa]),null==d&&(d=l[Wa]=Lo++);const f=d&Bs;c.data[o+(f>>Lr)]|=1<<f}(o,c,l)}function ro(o,c,l){if(l&Et.Optional||void 0!==o)return o;Pt()}function ys(o,c,l,d){if(l&Et.Optional&&void 0===d&&(d=null),!(l&(Et.Self|Et.Host))){const f=o[Ns],g=hn(void 0);try{return f?f.get(c,d,l&Et.Optional):qn(c,d,l&Et.Optional)}finally{hn(g)}}return ro(d,0,l)}function Ki(o,c,l,d=Et.Default,f){if(null!==o){if(2048&c[Un]&&!(d&Et.Self)){const v=function Dp(o,c,l,d,f){let g=o,v=c;for(;null!==g&&null!==v&&2048&v[Un]&&!(512&v[Un]);){const I=Pi(g,v,l,d|Et.Self,Hr);if(I!==Hr)return I;let P=g.parent;if(!P){const O=v[Qa];if(O){const H=O.get(l,Hr,d);if(H!==Hr)return H}P=Eg(v),v=v[Os]}g=P}return f}(o,c,l,d,Hr);if(v!==Hr)return v}const g=Pi(o,c,l,d,Hr);if(g!==Hr)return g}return ys(c,l,d,f)}function Pi(o,c,l,d,f){const g=function oc(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(Wa)?o[Wa]:void 0;return"number"==typeof c?c>=0?c&Bs:wo:c}(l);if("function"==typeof g){if(!hd(c,o,d))return d&Et.Host?ro(f,0,d):ys(c,l,d,f);try{let v;if(v=g(d),null!=v||d&Et.Optional)return v;Pt()}finally{D()}}else if("number"==typeof g){let v=null,I=ei(o,c),P=Wi,O=d&Et.Host?c[zr][ns]:null;for((-1===I||d&Et.SkipSelf)&&(P=-1===I?Vr(o,c):c[I+8],P!==Wi&&Bl(d,!1)?(v=c[zt],I=wi(P),c=ss(P,c)):I=-1);-1!==I;){const H=c[zt];if(ih(g,I,H.data)){const re=Xn(I,c,l,v,d,O);if(re!==Hr)return re}P=c[I+8],P!==Wi&&Bl(d,c[zt].data[I+8]===O)&&ih(g,I,c)?(v=H,I=wi(P),c=ss(P,c)):I=-1}}return f}function Xn(o,c,l,d,f,g){const v=c[zt],I=v.data[o+8],H=io(I,v,l,null==d?ra(I)&&to:d!=v&&0!=(3&I.type),f&Et.Host&&g===I);return null!==H?sc(c,v,H,I):Hr}function io(o,c,l,d,f){const g=o.providerIndexes,v=c.data,I=1048575&g,P=o.directiveStart,H=g>>20,Ee=f?I+H:o.directiveEnd;for(let ke=d?I:I+H;ke<Ee;ke++){const gt=v[ke];if(ke<P&&l===gt||ke>=P&&gt.type===l)return ke}if(f){const ke=v[P];if(ke&&ms(ke)&&ke.type===l)return P}return null}function sc(o,c,l,d){let f=o[l];const g=c.data;if(function xa(o){return o instanceof Oo}(f)){const v=f;v.resolving&&function vt(o,c){const l=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new Se(-200,`Circular dependency in DI detected for ${o}${l}`)}(function tt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ve(o)}(g[l]));const I=Ri(v.canSeeViewProviders);v.resolving=!0;const O=v.injectImpl?hn(v.injectImpl):null;hd(o,d,Et.Default);try{f=o[l]=v.factory(void 0,g,o,d),c.firstCreatePass&&l>=d.directiveStart&&function Qt(o,c,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=c.type.prototype;if(d){const v=Pl(c);(l.preOrderHooks??=[]).push(o,v),(l.preOrderCheckHooks??=[]).push(o,v)}f&&(l.preOrderHooks??=[]).push(0-o,f),g&&((l.preOrderHooks??=[]).push(o,g),(l.preOrderCheckHooks??=[]).push(o,g))}(l,g[l],c)}finally{null!==O&&hn(O),Ri(I),v.resolving=!1,D()}}return f}function ih(o,c,l){return!!(l[c+(o>>Lr)]&1<<o)}function Bl(o,c){return!(o&Et.Self||o&Et.Host&&c)}class os{constructor(c,l){this._tNode=c,this._lView=l}get(c,l,d){return Ki(this._tNode,this._lView,c,Ce(d),l)}}function wo(){return new os(is(),Tt())}function Ap(o){return xr(()=>{const c=o.prototype.constructor,l=c[xo]||ac(c),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[xo]||ac(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ac(o){return kt(o)?()=>{const c=ac(ht(o));return c&&c()}:po(o)}function Eg(o){const c=o[zt],l=c.type;return 2===l?c.declTNode:1===l?o[ns]:null}function fd(o){return function si(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const g=l[f];if(Ro(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(g===c)return l[f+1];f+=2}}}return null}(is(),o)}const zl="__parameters__";function L(o,c,l){return xr(()=>{const d=function k(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(c);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return I.annotation=v,I;function I(P,O,H){const re=P.hasOwnProperty(zl)?P[zl]:Object.defineProperty(P,zl,{value:[]})[zl];for(;re.length<=H;)re.push(null);return(re[H]=re[H]||[]).push(v),P}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function Hl(o,c){o.forEach(l=>Array.isArray(l)?Hl(l,c):c(l))}function pb(o,c,l){c>=o.length?o.push(l):o.splice(c,0,l)}function sh(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function Tu(o,c){const l=[];for(let d=0;d<o;d++)l.push(c);return l}function Ra(o,c,l){let d=oh(o,c);return d>=0?o[1|d]=l:(d=~d,function Yy(o,c,l,d){let f=o.length;if(f==c)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>c;)o[f]=o[f-2],f--;o[c]=l,o[c+1]=d}}(o,d,c,l)),d}function Tg(o,c){const l=oh(o,c);if(l>=0)return o[1|l]}function oh(o,c){return function xp(o,c,l){let d=0,f=o.length>>l;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<l];if(c===v)return g<<l;v>c?f=g:d=g+1}return~(f<<l)}(o,c,1)}const Je=Ot(L("Optional"),8),Kt=Ot(L("SkipSelf"),4);function Jy(o){return 128==(128&o.flags)}var Dg=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Dg||{});const Eb=/^>|^->|<!--|-->|--!>|<!-$/g,UA=/(<|>)/g,Tb="\u200b$1\u200b";const Np=new Map;let mP=0;const nv="__ngContext__";function da(o,c){$i(c)?(o[nv]=c[Jo],function jA(o){Np.set(o[Jo],o)}(c)):o[nv]=c}let Mg;function Nc(o,c){return Mg(o,c)}function _d(o){const c=o[Mr];return _i(c)?c[Mr]:c}function HA(o){return Rg(o[ui])}function Db(o){return Rg(o[Ts])}function Rg(o){for(;null!==o&&!_i(o);)o=o[Ts];return o}function Fp(o,c,l,d,f){if(null!=d){let g,v=!1;_i(d)?g=d:$i(d)&&(v=!0,d=d[Wr]);const I=Tr(d);0===o&&null!==l?null==f?qA(c,l,I):vf(c,l,I,f||null,!0):1===o&&null!==l?vf(c,l,I,f||null,!0):2===o?function av(o,c,l){const d=ov(o,c);d&&function MP(o,c,l,d){o.removeChild(c,l,d)}(o,d,c,l)}(c,I,v):3===o&&c.destroyNode(I),null!=g&&function PP(o,c,l,d,f){const g=l[Li];g!==Tr(l)&&Fp(c,o,d,g,f);for(let I=fi;I<l.length;I++){const P=l[I];Lg(P[zt],P,o,c,d,g)}}(c,o,g,l,f)}}function _f(o,c){return o.createComment(function ev(o){return o.replace(Eb,c=>c.replace(UA,Tb))}(c))}function iv(o,c,l){return o.createElement(c,l)}function GA(o,c){const l=o[No],d=l.indexOf(c);rf(c),l.splice(d,1)}function sv(o,c){if(o.length<=fi)return;const l=fi+c,d=o[l];if(d){const f=d[Ya];null!==f&&f!==o&&GA(f,d),c>0&&(o[l-1][Ts]=d[Ts]);const g=sh(o,fi+c);!function CP(o,c){Lg(o,c,c[En],2,null,null),c[Wr]=null,c[ns]=null}(d[zt],d);const v=g[Gi];null!==v&&v.detachView(g[zt]),d[Mr]=null,d[Ts]=null,d[Un]&=-129}return d}function Sb(o,c){if(!(256&c[Un])){const l=c[En];c[Qc]&&Fr(c[Qc]),c[As]&&Fr(c[As]),l.destroyNode&&Lg(o,c,l,3,null,null),function AP(o){let c=o[ui];if(!c)return $A(o[zt],o);for(;c;){let l=null;if($i(c))l=c[ui];else{const d=c[fi];d&&(l=d)}if(!l){for(;c&&!c[Ts]&&c!==o;)$i(c)&&$A(c[zt],c),c=c[Mr];null===c&&(c=o),$i(c)&&$A(c[zt],c),l=c&&c[Ts]}c=l}}(c)}}function $A(o,c){if(!(256&c[Un])){c[Un]&=-129,c[Un]|=256,function WA(o,c){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=c[l[d]];if(!(f instanceof Oo)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=f[g[v]],P=g[v+1];yo(4,I,P);try{P.call(I)}finally{yo(5,I,P)}}else{yo(4,f,g);try{g.call(f)}finally{yo(5,f,g)}}}}}(o,c),function xP(o,c){const l=o.cleanup,d=c[Xo];if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+3];v>=0?d[v]():d[-v].unsubscribe(),g+=2}else l[g].call(d[l[g+1]]);null!==d&&(c[Xo]=null);const f=c[ea];if(null!==f){c[ea]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(o,c),1===c[zt].type&&c[En].destroy();const l=c[Ya];if(null!==l&&_i(c[Mr])){l!==c[Mr]&&GA(l,c);const d=c[Gi];null!==d&&d.detachView(o)}!function Sg(o){Np.delete(o[Jo])}(c)}}function Lp(o,c,l){return function yf(o,c,l){let d=c;for(;null!==d&&40&d.type;)d=(c=d).parent;if(null===d)return l[Wr];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:g}=o.data[d.directiveStart+f];if(g===gi.None||g===gi.Emulated)return null}return Ds(d,l)}}(o,c.parent,l)}function vf(o,c,l,d,f){o.insertBefore(c,l,d,f)}function qA(o,c,l){o.appendChild(c,l)}function ZA(o,c,l,d,f){null!==d?vf(o,c,l,d,f):qA(o,c,l)}function ov(o,c){return o.parentNode(c)}function KA(o,c,l){return xb(o,c,l)}let Mb,cv,eD,lv,xb=function YA(o,c,l){return 40&o.type?Ds(o,l):null};function Og(o,c,l,d){const f=Lp(o,d,c),g=c[En],I=KA(d.parent||c[ns],d,c);if(null!=f)if(Array.isArray(l))for(let P=0;P<l.length;P++)ZA(g,f,l[P],I,!1);else ZA(g,f,l,I,!1);void 0!==Mb&&Mb(g,d,c,l,f)}function Du(o,c){if(null!==c){const l=c.type;if(3&l)return Ds(c,o);if(4&l)return Pb(-1,o[c.index]);if(8&l){const d=c.child;if(null!==d)return Du(o,d);{const f=o[c.index];return _i(f)?Pb(-1,f):Tr(f)}}if(32&l)return Nc(c,o)()||Tr(o[c.index]);{const d=Rb(o,c);return null!==d?Array.isArray(d)?d[0]:Du(_d(o[zr]),d):Du(o,c.next)}}return null}function Rb(o,c){return null!==c?o[zr][ns].projection[c.projection]:null}function Pb(o,c){const l=fi+o+1;if(l<c.length){const d=c[l],f=d[zt].firstChild;if(null!==f)return Du(d,f)}return c[Li]}function Fg(o,c,l,d,f,g,v){for(;null!=l;){const I=d[l.index],P=l.type;if(v&&0===c&&(I&&da(Tr(I),d),l.flags|=2),32!=(32&l.flags))if(8&P)Fg(o,c,l.child,d,f,g,!1),Fp(c,o,f,I,g);else if(32&P){const O=Nc(l,d);let H;for(;H=O();)Fp(c,o,f,H,g);Fp(c,o,f,I,g)}else 16&P?Nb(o,c,d,l,f,g):Fp(c,o,f,I,g);l=v?l.projectionNext:l.next}}function Lg(o,c,l,d,f,g){Fg(l,d,o.firstChild,c,f,g,!1)}function Nb(o,c,l,d,f,g){const v=l[zr],P=v[ns].projection[d.projection];if(Array.isArray(P))for(let O=0;O<P.length;O++)Fp(c,o,f,P[O],g);else{let O=P;const H=v[Mr];Jy(d)&&(O.flags|=128),Fg(o,c,O,H,f,g,!0)}}function XA(o,c,l){""===l?o.removeAttribute(c,"class"):o.setAttribute(c,"class",l)}function Vg(o,c,l){const{mergedAttrs:d,classes:f,styles:g}=l;null!==d&&qa(o,c,d),null!==f&&XA(o,c,f),null!==g&&function NP(o,c,l){o.setAttribute(c,"style",l)}(o,c,g)}function Vp(o){return function Ob(){if(void 0===cv&&(cv=null,bn.trustedTypes))try{cv=bn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return cv}()?.createHTML(o)||o}function tD(o){eD=o}function iD(o){return function Fb(){if(void 0===lv&&(lv=null,bn.trustedTypes))try{lv=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return lv}()?.createScriptURL(o)||o}class bf{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ht})`}}class sD extends bf{getTypeName(){return"HTML"}}class Lb extends bf{getTypeName(){return"Style"}}class Up extends bf{getTypeName(){return"Script"}}class Vb extends bf{getTypeName(){return"URL"}}class LP extends bf{getTypeName(){return"ResourceURL"}}function Su(o){return o instanceof bf?o.changingThisBreaksApplicationSecurity:o}function yd(o,c){const l=function oD(o){return o instanceof bf&&o.getTypeName()||null}(o);if(null!=l&&l!==c){if("ResourceURL"===l&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${l} (see ${Ht})`)}return l===c}function aD(o){return new sD(o)}function VP(o){return new Lb(o)}function UP(o){return new Up(o)}function jP(o){return new Vb(o)}function BP(o){return new LP(o)}class zP{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const l=(new window.DOMParser).parseFromString(Vp(c),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(c):(l.removeChild(l.firstChild),l)}catch{return null}}}class HP{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const l=this.inertDocument.createElement("template");return l.innerHTML=Vp(c),l}}const cD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uv(o){return(o=String(o)).match(cD)?o:"unsafe:"+o}function vd(o){const c={};for(const l of o.split(","))c[l]=!0;return c}function Bg(...o){const c={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(c[d]=!0);return c}const lD=vd("area,br,col,hr,img,wbr"),Hs=vd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uD=vd("rp,rt"),Ub=Bg(lD,Bg(Hs,vd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bg(uD,vd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bg(uD,Hs)),dv=vd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dD=Bg(dv,vd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jb=vd("script,style,template");class hD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let l=c.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(c){const l=c.nodeName.toLowerCase();if(!Ub.hasOwnProperty(l))return this.sanitizedSomething=!0,!jb.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=c.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,I=v.toLowerCase();if(!dD.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=g.value;dv[I]&&(P=uv(P)),this.buf.push(" ",v,'="',xu(P),'"')}return this.buf.push(">"),!0}endElement(c){const l=c.nodeName.toLowerCase();Ub.hasOwnProperty(l)&&!lD.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(c){this.buf.push(xu(c))}checkClobberedElement(c,l){if(l&&(c.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return l}}const cU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fD=/([^\#-~ |!])/g;function xu(o){return o.replace(/&/g,"&amp;").replace(cU,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(fD,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hv;function $P(o,c){let l=null;try{hv=hv||function Ug(o){const c=new HP(o);return function jg(){try{return!!(new window.DOMParser).parseFromString(Vp(""),"text/html")}catch{return!1}}()?new zP(c):c}(o);let d=c?String(c):"";l=hv.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=l.innerHTML,l=hv.getInertBodyElement(d)}while(d!==g);return Vp((new hD).sanitizeChildren(pD(l)||l))}finally{if(l){const d=pD(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function pD(o){return"content"in o&&function lU(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var uh=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(uh||{});function zb(o){const c=fv();return c?c.sanitize(uh.URL,o)||"":yd(o,"URL")?Su(o):uv(Ve(o))}function gD(o){const c=fv();if(c)return iD(c.sanitize(uh.RESOURCE_URL,o)||"");if(yd(o,"ResourceURL"))return iD(Su(o));throw new Se(904,!1)}function qP(o,c,l){return function dU(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?gD:zb}(c,l)(o)}function fv(){const o=Tt();return o&&o[Qs].sanitizer}class Kr{constructor(c,l){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Te({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hg=new Kr("ENVIRONMENT_INITIALIZER"),yD=new Kr("INJECTOR",-1),Hb=new Kr("INJECTOR_DEF_TYPES");class Gb{get(c,l=St){if(l===St){const d=new Error(`NullInjectorError: No provider for ${ye(c)}!`);throw d.name="NullInjectorError",d}return l}}function $b(o){return{\u0275providers:o}}function ZP(...o){return{\u0275providers:vD(0,o),\u0275fromNgModule:!0}}function vD(o,...c){const l=[],d=new Set;let f;const g=v=>{l.push(v)};return Hl(c,v=>{const I=v;Gg(I,g,[],d)&&(f||=[],f.push(I))}),void 0!==f&&wD(f,g),l}function wD(o,c){for(let l=0;l<o.length;l++){const{ngModule:d,providers:f}=o[l];bD(f,g=>{c(g,d)})}}function Gg(o,c,l,d){if(!(o=ht(o)))return!1;let f=null,g=Fn(o);const v=!g&&or(o);if(g||v){if(v&&!v.standalone)return!1;f=o}else{const P=o.ngModule;if(g=Fn(P),!g)return!1;f=P}const I=d.has(f);if(v){if(I)return!1;if(d.add(f),v.dependencies){const P="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const O of P)Gg(O,c,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let O;d.add(f);try{Hl(g.imports,H=>{Gg(H,c,l,d)&&(O||=[],O.push(H))})}finally{}void 0!==O&&wD(O,c)}if(!I){const O=po(f)||(()=>new f);c({provide:f,useFactory:O,deps:wn},f),c({provide:Hb,useValue:f,multi:!0},f),c({provide:Hg,useValue:()=>jt(f),multi:!0},f)}const P=g.providers;if(null!=P&&!I){const O=o;bD(P,H=>{c(H,O)})}}}return f!==o&&void 0!==o.providers}function bD(o,c){for(let l of o)lt(l)&&(l=l.\u0275providers),Array.isArray(l)?bD(l,c):c(l)}const pU=q({provide:String,useValue:q});function ID(o){return null!==o&&"object"==typeof o&&pU in o}function jp(o){return"function"==typeof o}const Yr=new Kr("Set Injector scope."),$l={},ol={};let On;function pv(){return void 0===On&&(On=new Gb),On}class Gs{}class sn extends Gs{get destroyed(){return this._destroyed}constructor(c,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qb(c,v=>this.processProvider(v)),this.records.set(yD,zp(void 0,this)),f.has("environment")&&this.records.set(Gs,zp(void 0,this));const g=this.records.get(Yr);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Hb.multi,wn,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of c)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const l=xe(this),d=hn(void 0);try{return c()}finally{xe(l),hn(d)}}get(c,l=St,d=Et.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(Mo))return c[Mo](this);d=Ce(d);const g=xe(this),v=hn(void 0);try{if(!(d&Et.SkipSelf)){let P=this.records.get(c);if(void 0===P){const O=function XP(o){return"function"==typeof o||"object"==typeof o&&o instanceof Kr}(c)&&nt(c);P=O&&this.injectableDefInScope(O)?zp($g(c),$l):null,this.records.set(c,P)}if(null!=P)return this.hydrate(c,P)}return(d&Et.Self?pv():this.parent).get(c,l=d&Et.Optional&&l===St?null:l)}catch(I){if("NullInjectorError"===I.name){if((I[fn]=I[fn]||[]).unshift(ye(c)),g)throw I;return function ur(o,c,l,d){const f=o[fn];throw c[Y]&&f.unshift(c[Y]),o.message=function Ar(o,c,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ye(c);if(Array.isArray(c))f=c.map(ye).join(" -> ");else if("object"==typeof c){let g=[];for(let v in c)if(c.hasOwnProperty(v)){let I=c[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):ye(I)))}f=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(de,"\n  ")}`}("\n"+o.message,f,l,d),o.ngTokenPath=f,o[fn]=null,o}(I,c,"R3InjectorError",this.source)}throw I}finally{hn(v),xe(g)}}resolveInjectorInitializers(){const c=xe(this),l=hn(void 0);try{const f=this.get(Hg.multi,wn,Et.Self);for(const g of f)g()}finally{xe(c),hn(l)}}toString(){const c=[],l=this.records;for(const d of l.keys())c.push(ye(d));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(c){let l=jp(c=ht(c))?c:ht(c&&c.provide);const d=function mv(o){return ID(o)?zp(void 0,o.useValue):zp(Bp(o),$l)}(c);if(jp(c)||!0!==c.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=zp(void 0,$l,!0),f.factory=()=>Xe(f.multi),this.records.set(l,f)),l=c,f.multi.push(c)}this.records.set(l,d)}hydrate(c,l){return l.value===$l&&(l.value=ol,l.value=l.factory()),"object"==typeof l.value&&l.value&&function QP(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(c){if(!c.providedIn)return!1;const l=ht(c.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(c){const l=this._onDestroyHooks.indexOf(c);-1!==l&&this._onDestroyHooks.splice(l,1)}}function $g(o){const c=nt(o),l=null!==c?c.factory:po(o);if(null!==l)return l;if(o instanceof Kr)throw new Se(204,!1);if(o instanceof Function)return function cr(o){const c=o.length;if(c>0)throw Tu(c,"?"),new Se(204,!1);const l=function Mn(o){return o&&(o[vn]||o[Jn])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Se(204,!1)}function Bp(o,c,l){let d;if(jp(o)){const f=ht(o);return po(f)||$g(f)}if(ID(o))d=()=>ht(o.useValue);else if(function YP(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Xe(o.deps||[]));else if(function KP(o){return!(!o||!o.useExisting)}(o))d=()=>jt(ht(o.useExisting));else{const f=ht(o&&(o.useClass||o.provide));if(!function Wb(o){return!!o.deps}(o))return po(f)||$g(f);d=()=>new f(...Xe(o.deps))}return d}function zp(o,c,l=!1){return{factory:o,value:c,multi:l?[]:void 0}}function qb(o,c){for(const l of o)Array.isArray(l)?qb(l,c):l&&lt(l)?qb(l.\u0275providers,c):c(l)}const Uo=new Kr("AppId",{providedIn:"root",factory:()=>gv}),gv="ng",oo=new Kr("Platform Initializer"),Mu=new Kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zb=new Kr("CSP nonce",{providedIn:"root",factory:()=>function wf(){if(void 0!==eD)return eD;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xb=(o,c,l)=>null;function Jb(o,c,l=!1){return Xb(o,c,l)}class rI{}class bv{}class ik{resolveComponentFactory(c){throw function iI(o){const c=Error(`No component factory found for ${ye(o)}.`);return c.ngComponent=o,c}(c)}}let Kg=(()=>{class c{}return c.NULL=new ik,c})();function AD(){return fh(is(),Tt())}function fh(o,c){return new Yp(Ds(o,c))}let Yp=(()=>{class c{constructor(d){this.nativeElement=d}}return c.__NG_ELEMENT_ID__=AD,c})();function sk(o){return o instanceof Yp?o.nativeElement:o}class Iv{}let oI=(()=>{class c{constructor(){this.destroyNode=null}}return c.__NG_ELEMENT_ID__=()=>function aI(){const o=Tt(),l=rs(is().index,o);return($i(l)?l:o)[En]}(),c})(),Io=(()=>{var o;class c{}return(o=c).\u0275prov=Te({token:o,providedIn:"root",factory:()=>null}),c})();class Eo{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Yg=new Eo("16.2.5"),Qg={};function MD(o,c=null,l=null,d){const f=Jg(o,c,l,d);return f.resolveInjectorInitializers(),f}function Jg(o,c=null,l=null,d,f=new Set){const g=[l||wn,ZP(o)];return d=d||("object"==typeof o?void 0:ye(o)),new sn(g,c||pv(),d||null,f)}let Oc=(()=>{var o;class c{static create(d,f){if(Array.isArray(d))return MD({name:""},f,d,"");{const g=d.name??"";return MD({name:g},d.parent,d.providers,g)}}}return(o=c).THROW_IF_NOT_FOUND=St,o.NULL=new Gb,o.\u0275prov=Te({token:o,providedIn:"any",factory:()=>jt(yD)}),o.__NG_ELEMENT_ID__=-1,c})();function uI(o){return o.ngOriginalError}class cl{constructor(){this._console=console}handleError(c){const l=this._findOriginalError(c);this._console.error("ERROR",c),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(c){let l=c&&uI(c);for(;l&&uI(l);)l=uI(l);return l||null}}function dI(o){return c=>{setTimeout(o,void 0,c)}}const Ru=class Cv extends u.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,l,d){let f=c,g=l||(()=>null),v=d;if(c&&"object"==typeof c){const P=c;f=P.next?.bind(P),g=P.error?.bind(P),v=P.complete?.bind(P)}this.__isAsync&&(g=dI(g),f&&(f=dI(f)),v&&(v=dI(v)));const I=super.subscribe({next:f,error:g,complete:v});return c instanceof te.w0&&c.add(I),I}};function Tf(...o){}class Qi{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ru(!1),this.onMicrotaskEmpty=new Ru(!1),this.onStable=new Ru(!1),this.onError=new Ru(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function dk(){const o="function"==typeof bn.requestAnimationFrame;let c=bn[o?"requestAnimationFrame":"setTimeout"],l=bn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&l){const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function e_(o){const c=()=>{!function kD(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(bn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Av(o),o.isCheckStableRunning=!0,Xp(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Av(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,g,v,I)=>{if(function pI(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(I))return l.invokeTask(f,g,v,I);try{return ha(o),l.invokeTask(f,g,v,I)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&c(),hI(o)}},onInvoke:(l,d,f,g,v,I,P)=>{try{return ha(o),l.invoke(f,g,v,I,P)}finally{o.shouldCoalesceRunChangeDetection&&c(),hI(o)}},onHasTask:(l,d,f,g)=>{l.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Av(o),Xp(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,f,g)=>(l.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new Se(909,!1)}run(c,l,d){return this._inner.run(c,l,d)}runTask(c,l,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,c,PD,Tf,Tf);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(c,l,d){return this._inner.runGuarded(c,l,d)}runOutsideAngular(c){return this._outer.run(c)}}const PD={};function Xp(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Av(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ha(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function hI(o){o._nesting--,Xp(o)}class t_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ru,this.onMicrotaskEmpty=new Ru,this.onStable=new Ru,this.onError=new Ru}run(c,l,d){return c.apply(l,d)}runGuarded(c,l,d){return c.apply(l,d)}runOutsideAngular(c){return c()}runTask(c,l,d,f){return c.apply(l,d)}}const n_=new Kr("",{providedIn:"root",factory:fI});function fI(){const o=se(Qi);let c=!0;const l=new B.y(f=>{c=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(c),f.complete()})}),d=new B.y(f=>{let g;o.runOutsideAngular(()=>{g=o.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(c=!0,f.next(!0))})})});const v=o.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),c&&(c=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});return(0,ve.T)(l,d.pipe((0,we.B)()))}function mI(o){return o.ownerDocument.defaultView}function gI(o){return o.ownerDocument}function Wl(o){return o instanceof Function?o():o}let i_=(()=>{var o;class c{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(o=c).\u0275prov=Te({token:o,providedIn:"root",factory:()=>new o}),c})();function gh(o){for(;o;){o[Un]|=64;const c=_d(o);if(Ta(o)&&!c)return o;o=c}return null}const vI=new Kr("",{providedIn:"root",factory:()=>!1});let xv=null;function Pu(o,c){return o[c]??Ni()}function a_(o,c){const l=Ni();l.producerNode?.length&&(o[c]=xv,l.lView=o,xv=bI())}const Mv={...V,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{gh(o.lView)},lView:null};function bI(){return Object.create(Mv)}function Ni(){return xv??=bI(),xv}const rr={};function nm(o){rm(yr(),Tt(),fe()+o,!1)}function rm(o,c,l,d){if(!d)if(3==(3&c[Un])){const g=o.preOrderCheckHooks;null!==g&&Ln(c,g,l)}else{const g=o.preOrderHooks;null!==g&&Sn(c,g,0,l)}Ie(l)}function im(o,c=Et.Default){const l=Tt();return null===l?jt(o,c):Ki(is(),l,ht(o),c)}function II(){throw new Error("invalid")}function Rv(o,c,l,d,f,g,v,I,P,O,H){const re=c.blueprint.slice();return re[Wr]=f,re[Un]=140|d,(null!==O||o&&2048&o[Un])&&(re[Un]|=2048),nf(re),re[Mr]=re[Os]=o,re[Nr]=l,re[Qs]=v||o&&o[Qs],re[En]=I||o&&o[En],re[Ns]=P||o&&o[Ns]||null,re[ns]=g,re[Jo]=function tv(){return mP++}(),re[Fs]=H,re[Qa]=O,re[zr]=2==c.type?o[zr]:re,re}function sm(o,c,l,d,f){let g=o.data[c];if(null===g)g=function EI(o,c,l,d,f){const g=vu(),v=od(),P=o.data[c]=function BD(o,c,l,d,f,g){let v=c?c.injectorIndex:-1,I=0;return Da()&&(I|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,c,d,f);return null===o.firstChild&&(o.firstChild=P),null!==g&&(v?null==g.child&&null!==P.parent&&(g.child=P):null===g.next&&(g.next=P,P.prev=g)),P}(o,c,l,d,f),function uf(){return Hn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=d,g.attrs=f;const v=function Vl(){const o=Hn.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return aa(g,!0),g}function wd(o,c,l,d){if(0===l)return-1;const f=c.length;for(let g=0;g<l;g++)c.push(d),o.blueprint.push(d),o.data.push(null);return f}function bd(o,c,l,d,f){const g=Pu(c,Qc),v=fe(),I=2&d;try{Ie(-1),I&&c.length>Qn&&rm(o,c,Qn,!1),yo(I?2:0,f);const O=I?g:null,H=gn(O);try{null!==O&&(O.dirty=!1),l(d,f)}finally{Yt(O,H)}}finally{I&&null===c[Qc]&&a_(c,Qc),Ie(v),yo(I?3:1,f)}}function Pv(o,c,l){if(fo(c)){const d=N(null);try{const g=c.directiveEnd;for(let v=c.directiveStart;v<g;v++){const I=o.data[v];I.contentQueries&&I.contentQueries(1,l[v],v)}}finally{N(d)}}}function kv(o,c,l){xi()&&(function vk(o,c,l,d){const f=l.directiveStart,g=l.directiveEnd;ra(l)&&function Fv(o,c,l){const d=Ds(c,o),f=Af(l);let v=16;l.signals?v=4096:l.onPush&&(v=64);const I=h_(o,Rv(o,f,null,v,d,c,null,o[Qs].rendererFactory.createRenderer(d,l),null,null,null));o[c.index]=I}(c,l,o.data[f+l.componentOffset]),o.firstCreatePass||Gn(l,c),da(d,c);const v=l.initialInputs;for(let I=f;I<g;I++){const P=o.data[I],O=sc(c,o,I,l);da(O,c),null!==v&&qD(0,I-f,O,P,0,v),ms(P)&&(rs(l.index,c)[Nr]=sc(c,o,I,l))}}(o,c,l,Ds(l,c)),64==(64&l.flags)&&as(o,c,l))}function Nv(o,c,l=Ds){const d=c.localNames;if(null!==d){let f=c.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],I=-1===v?l(c,o):o[v];o[f++]=I}}}function Af(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=TI(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):c}function TI(o,c,l,d,f,g,v,I,P,O,H){const re=Qn+d,Ee=re+f,ke=function mk(o,c){const l=[];for(let d=0;d<c;d++)l.push(d<o?null:rr);return l}(re,Ee),gt="function"==typeof O?O():O;return ke[zt]={type:o,blueprint:ke,template:l,queries:null,viewQuery:I,declTNode:c,data:ke.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:P,consts:gt,incompleteFirstPass:!1,ssrId:H}}let CI=o=>null;function SI(o,c,l,d){for(let f in o)if(o.hasOwnProperty(f)){l=null===l?{}:l;const g=o[f];null===d?zD(l,c,f,g):d.hasOwnProperty(f)&&zD(l,c,d[f],g)}return l}function zD(o,c,l,d){o.hasOwnProperty(l)?o[l].push(c,d):o[l]=[c,d]}function l_(o,c,l,d){if(xi()){const f=null===d?null:{"":-1},g=function wk(o,c){const l=o.directiveRegistry;let d=null,f=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];if(Cc(c,v.selectors,!1))if(d||(d=[]),ms(v))if(null!==v.findHostDirectiveDefs){const I=[];f=f||new Map,v.findHostDirectiveDefs(v,I,f),d.unshift(...I,v),RI(o,c,I.length)}else d.unshift(v),RI(o,c,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(o,l);let v,I;null===g?v=I=null:[v,I]=g,null!==v&&MI(o,c,l,v,f,I),f&&function bk(o,c,l){if(c){const d=o.localNames=[];for(let f=0;f<c.length;f+=2){const g=l[c[f+1]];if(null==g)throw new Se(-301,!1);d.push(c[f],g)}}}(l,d,f)}l.mergedAttrs=qo(l.mergedAttrs,l.attrs)}function MI(o,c,l,d,f,g){for(let O=0;O<d.length;O++)Zr(Gn(l,c),o,d[O].type);!function $D(o,c,l){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+l,o.providerIndexes=c}(l,o.data.length,d.length);for(let O=0;O<d.length;O++){const H=d[O];H.providersResolver&&H.providersResolver(H)}let v=!1,I=!1,P=wd(o,c,d.length,null);for(let O=0;O<d.length;O++){const H=d[O];l.mergedAttrs=qo(l.mergedAttrs,H.hostAttrs),WD(o,l,c,P,H),GD(P,H,f),null!==H.contentQueries&&(l.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(l.flags|=64);const re=H.type.prototype;!v&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),v=!0),!I&&(re.ngOnChanges||re.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),I=!0),P++}!function _k(o,c,l){const f=c.directiveEnd,g=o.data,v=c.attrs,I=[];let P=null,O=null;for(let H=c.directiveStart;H<f;H++){const re=g[H],Ee=l?l.get(re):null,gt=Ee?Ee.outputs:null;P=SI(re.inputs,H,P,Ee?Ee.inputs:null),O=SI(re.outputs,H,O,gt);const Vt=null===P||null===v||ks(c)?null:KD(P,H,v);I.push(Vt)}null!==P&&(P.hasOwnProperty("class")&&(c.flags|=8),P.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=I,c.inputs=P,c.outputs=O}(o,l,g)}function as(o,c,l){const d=l.directiveStart,f=l.directiveEnd,g=l.index,v=function Tp(){return Hn.lFrame.currentDirectiveIndex}();try{Ie(g);for(let I=d;I<f;I++){const P=o.data[I],O=c[I];bu(I),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&HD(P,O)}}finally{Ie(-1),bu(v)}}function HD(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function RI(o,c,l){c.componentOffset=l,(o.components??=[]).push(c.index)}function GD(o,c,l){if(l){if(c.exportAs)for(let d=0;d<c.exportAs.length;d++)l[c.exportAs[d]]=o;ms(c)&&(l[""]=o)}}function WD(o,c,l,d,f){o.data[d]=f;const g=f.factory||(f.factory=po(f.type)),v=new Oo(g,ms(f),im);o.blueprint[d]=v,l[d]=v,function u_(o,c,l,d,f){const g=f.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const I=~c.index;(function d_(o){let c=o.length;for(;c>0;){const l=o[--c];if("number"==typeof l&&l<0)return l}return 0})(v)!=I&&v.push(I),v.push(l,d,g)}}(o,c,d,wd(o,l,f.hostVars,rr),f)}function ql(o,c,l,d,f,g){const v=Ds(o,c);!function ll(o,c,l,d,f,g,v){if(null==g)o.removeAttribute(c,f,l);else{const I=null==v?Ve(g):v(g,d||"",f);o.setAttribute(c,f,I,l)}}(c[En],v,g,o.value,l,d,f)}function qD(o,c,l,d,f,g){const v=g[c];if(null!==v)for(let I=0;I<v.length;)ZD(d,l,v[I++],v[I++],v[I++])}function ZD(o,c,l,d,f){const g=N(null);try{const v=o.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(f=v[d].call(c,f)),null!==o.setInput?o.setInput(c,f,l,d):c[d]=f}finally{N(g)}}function KD(o,c,l){let d=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let I=0;I<v.length;I+=2)if(v[I]===c){d.push(g,v[I+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Lv(o,c,l,d){return[o,!0,!1,c,null,0,d,l,null,null,null]}function om(o,c){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d+1];if(-1!==g){const v=o.data[g];jl(l[d]),v.contentQueries(2,c[g],g)}}}function h_(o,c){return o[ui]?o[Xu][Ts]=c:o[ui]=c,o[Xu]=c,c}function f_(o,c,l){jl(0);const d=N(null);try{c(o,l)}finally{N(d)}}function kI(o){return o[Xo]||(o[Xo]=[])}function p_(o){return o.cleanup||(o.cleanup=[])}function NI(o,c){const l=o[Ns],d=l?l.get(cl,null):null;d&&d.handleError(c)}function Df(o,c,l,d,f){for(let g=0;g<l.length;){const v=l[g++],I=l[g++];ZD(o.data[v],c[v],d,I,f)}}function QD(o,c){const l=rs(c,o),d=l[zt];!function OI(o,c){for(let l=c.length;l<o.blueprint.length;l++)c.push(o.blueprint[l])}(d,l);const f=l[Wr];null!==f&&null===l[Fs]&&(l[Fs]=Jb(f,l[Ns])),m_(d,l,l[Nr])}function m_(o,c,l){vi(c);try{const d=o.viewQuery;null!==d&&f_(1,d,l);const f=o.template;null!==f&&bd(o,c,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&om(o,c),o.staticViewQueries&&f_(2,o.viewQuery,l);const g=o.components;null!==g&&function XD(o,c){for(let l=0;l<c.length;l++)QD(o,c[l])}(c,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{c[Un]&=-5,T()}}let g_=(()=>{var o;class c{constructor(){this.all=new Set,this.queue=new Map}create(d,f,g){const v=typeof Zone>"u"?null:Zone.current,I=function nd(o,c,l){const d=Object.create(wp);l&&(d.consumerAllowSignalWrites=!0),d.fn=o,d.schedule=c;const f=v=>{d.cleanupFn=v};return d.ref={notify:()=>Oe(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Or(d))return;d.hasRun=!0;const v=gn(d);try{d.cleanupFn(),d.cleanupFn=rd,d.fn(f)}finally{Yt(d,v)}},cleanup:()=>d.cleanupFn()},d.ref}(d,H=>{this.all.has(H)&&this.queue.set(H,v)},g);let P;this.all.add(I),I.notify();const O=()=>{I.cleanup(),P?.(),this.all.delete(I),this.queue.delete(I)};return P=f?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[d,f]of this.queue)this.queue.delete(d),f?f.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return(o=c).\u0275prov=Te({token:o,providedIn:"root",factory:()=>new o}),c})();function __(o,c,l){let d=l?o.styles:null,f=l?o.classes:null,g=0;if(null!==c)for(let v=0;v<c.length;v++){const I=c[v];"number"==typeof I?g=I:1==g?f=mt(f,I):2==g&&(d=mt(d,I+": "+c[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}function Zl(o,c,l,d,f=!1){for(;null!==l;){const g=c[l.index];null!==g&&d.push(Tr(g)),_i(g)&&FI(g,d);const v=l.type;if(8&v)Zl(o,c,l.child,d);else if(32&v){const I=Nc(l,c);let P;for(;P=I();)d.push(P)}else if(16&v){const I=Rb(c,l);if(Array.isArray(I))d.push(...I);else{const P=_d(c[zr]);Zl(P[zt],P,I,d,!0)}}l=f?l.projectionNext:l.next}return d}function FI(o,c){for(let l=fi;l<o.length;l++){const d=o[l],f=d[zt].firstChild;null!==f&&Zl(d[zt],d,f,c)}o[Li]!==o[Wr]&&c.push(o[Li])}function y_(o,c,l,d=!0){const f=c[Qs],g=f.rendererFactory,v=f.afterRenderEventManager;g.begin?.(),v?.begin();try{v_(o,c,o.template,l)}catch(P){throw d&&NI(c,P),P}finally{g.end?.(),f.effectManager?.flush(),v?.end()}}function v_(o,c,l,d){const f=c[Un];if(256!=(256&f)){c[Qs].effectManager?.flush(),vi(c);try{nf(c),function rh(o){return Hn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&bd(o,c,l,2,d);const v=3==(3&f);if(v){const O=o.preOrderCheckHooks;null!==O&&Ln(c,O,null)}else{const O=o.preOrderHooks;null!==O&&Sn(c,O,0,null),Rr(c,0)}if(function tS(o){for(let c=HA(o);null!==c;c=Db(c)){if(!c[ko])continue;const l=c[No];for(let d=0;d<l.length;d++){Rc(l[d])}}}(c),dc(c,2),null!==o.contentQueries&&om(o,c),v){const O=o.contentCheckHooks;null!==O&&Ln(c,O)}else{const O=o.contentHooks;null!==O&&Sn(c,O,1),Rr(c,1)}!function pk(o,c){const l=o.hostBindingOpCodes;if(null===l)return;const d=Pu(c,As);try{for(let f=0;f<l.length;f++){const g=l[f];if(g<0)Ie(~g);else{const v=g,I=l[++f],P=l[++f];wu(I,v),d.dirty=!1;const O=gn(d);try{P(2,c[v])}finally{Yt(d,O)}}}}finally{null===c[As]&&a_(c,As),Ie(-1)}}(o,c);const I=o.components;null!==I&&rS(c,I,0);const P=o.viewQuery;if(null!==P&&f_(2,P,d),v){const O=o.viewCheckHooks;null!==O&&Ln(c,O)}else{const O=o.viewHooks;null!==O&&Sn(c,O,2),Rr(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[Un]&=-73,rf(c)}finally{T()}}}function dc(o,c){for(let l=HA(o);null!==l;l=Db(l))for(let d=fi;d<l.length;d++)Sf(l[d],c)}function nS(o,c,l){Sf(rs(c,o),l)}function Sf(o,c){if(!function Jd(o){return 128==(128&o[Un])}(o))return;const l=o[zt],d=o[Un];if(80&d&&0===c||1024&d||2===c)v_(l,o,l.template,o[Nr]);else if(o[Po]>0){dc(o,1);const f=l.components;null!==f&&rS(o,f,1)}}function rS(o,c,l){for(let d=0;d<c.length;d++)nS(o,c[d],l)}class ka{get rootNodes(){const c=this._lView,l=c[zt];return Zl(l,c,l.firstChild,[])}constructor(c,l){this._lView=c,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(c){this._lView[Nr]=c}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Mr];if(_i(c)){const l=c[8],d=l?l.indexOf(this):-1;d>-1&&(sv(c,d),sh(l,d))}this._attachedToViewContainer=!1}Sb(this._lView[zt],this._lView)}onDestroy(c){!function nl(o,c){if(256==(256&o[Un]))throw new Se(911,!1);null===o[ea]&&(o[ea]=[]),o[ea].push(c)}(this._lView,c)}markForCheck(){gh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){this._lView[Un]|=128}detectChanges(){y_(this._lView[zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kg(o,c){Lg(o,c,c[En],2,null,null)}(this._lView[zt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=c}}class LI extends ka{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;y_(c[zt],c,c[Nr],!1)}checkNoChanges(){}get context(){return null}}class oi extends Kg{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const l=or(c);return new am(l,this.ngModule)}}function iS(o){const c=[];for(let l in o)o.hasOwnProperty(l)&&c.push({propName:o[l],templateName:l});return c}class Nu{constructor(c,l){this.injector=c,this.parentInjector=l}get(c,l,d){d=Ce(d);const f=this.injector.get(c,Qg,d);return f!==Qg||l===Qg?f:this.parentInjector.get(c,l,d)}}class am extends bv{get inputs(){const c=this.componentDef,l=c.inputTransforms,d=iS(c.inputs);if(null!==l)for(const f of d)l.hasOwnProperty(f.propName)&&(f.transform=l[f.propName]);return d}get outputs(){return iS(this.componentDef.outputs)}constructor(c,l){super(),this.componentDef=c,this.ngModule=l,this.componentType=c.type,this.selector=function Bd(o){return o.map(Zc).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!l}create(c,l,d,f){let g=(f=f||this.ngModule)instanceof Gs?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Nu(c,g):c,I=v.get(Iv,null);if(null===I)throw new Se(407,!1);const re={rendererFactory:I,sanitizer:v.get(Io,null),effectManager:v.get(g_,null),afterRenderEventManager:v.get(i_,null)},Ee=I.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",gt=d?function UD(o,c,l,d){const g=d.get(vI,!1)||l===gi.ShadowDom,v=o.selectRootElement(c,g);return function gk(o){CI(o)}(v),v}(Ee,d,this.componentDef.encapsulation,v):iv(Ee,ke,function VI(o){const c=o.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(ke)),xn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Dt=null;null!==gt&&(Dt=Jb(gt,v,!0));const sr=TI(0,null,null,1,0,null,null,null,null,null,null),br=Rv(null,sr,null,xn,null,null,re,Ee,v,null,Dt);let Qr,Va;vi(br);try{const kd=this.componentDef;let dy,MM=null;kd.findHostDirectiveDefs?(dy=[],MM=new Map,kd.findHostDirectiveDefs(kd,dy,MM),dy.push(kd)):dy=[kd];const hy=function cm(o,c){const l=o[zt],d=Qn;return o[d]=c,sm(l,d,2,"#host",null)}(br,gt),ej=function jI(o,c,l,d,f,g,v){const I=f[zt];!function sS(o,c,l,d){for(const f of o)c.mergedAttrs=qo(c.mergedAttrs,f.hostAttrs);null!==c.mergedAttrs&&(__(c,c.mergedAttrs,!0),null!==l&&Vg(d,l,c))}(d,o,c,v);let P=null;null!==c&&(P=Jb(c,f[Ns]));const O=g.rendererFactory.createRenderer(c,l);let H=16;l.signals?H=4096:l.onPush&&(H=64);const re=Rv(f,Af(l),null,H,f[o.index],o,g,O,null,null,P);return I.firstCreatePass&&RI(I,o,d.length-1),h_(f,re),f[o.index]=re}(hy,gt,kd,dy,br,re,Ee);Va=Ol(sr,Qn),gt&&function ul(o,c,l,d){if(d)qa(o,l,["ng-version",Yg.full]);else{const{attrs:f,classes:g}=function zi(o){const c=[],l=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&c.push(g,o[++d]):8===f&&l.push(g);else{if(!ps(f))break;f=g}d++}return{attrs:c,classes:l}}(c.selectors[0]);f&&qa(o,l,f),g&&g.length>0&&XA(o,l,g.join(" "))}}(Ee,kd,gt,d),void 0!==l&&function jo(o,c,l){const d=o.projection=[];for(let f=0;f<c.length;f++){const g=l[f];d.push(null!=g?Array.from(g):null)}}(Va,this.ngContentSelectors,l),Qr=function Id(o,c,l,d,f,g){const v=is(),I=f[zt],P=Ds(v,f);MI(I,f,v,l,null,d);for(let H=0;H<l.length;H++)da(sc(f,I,v.directiveStart+H,v),f);as(I,f,v),P&&da(P,f);const O=sc(f,I,v.directiveStart+v.componentOffset,v);if(o[Nr]=f[Nr]=O,null!==g)for(const H of g)H(O,c);return Pv(I,v,o),O}(ej,kd,dy,MM,br,[Vv]),m_(sr,br,null)}finally{T()}return new UI(this.componentType,Qr,fh(Va,br),br,Va)}}class UI extends rI{constructor(c,l,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new LI(f),this.componentType=c}setInput(c,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),l))return;const g=this._rootLView;Df(g[zt],g,f,c,l),this.previousInputValues.set(c,l),gh(rs(this._tNode.index,g))}}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function Vv(){const o=is();Wn(Tt()[zt],o)}function xf(o){let c=function w_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;c;){let f;if(ms(o))f=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Se(903,!1);f=c.\u0275dir}if(f){if(l){d.push(f);const v=o;v.inputs=b_(o.inputs),v.inputTransforms=b_(o.inputTransforms),v.declaredInputs=b_(o.declaredInputs),v.outputs=b_(o.outputs);const I=f.hostBindings;I&&bU(o,I);const P=f.viewQuery,O=f.contentQueries;if(P&&lm(o,P),O&&wU(o,O),ee(o.inputs,f.inputs),ee(o.declaredInputs,f.declaredInputs),ee(o.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),ee(v.inputTransforms,f.inputTransforms)),ms(f)&&f.data.animation){const H=o.data;H.animation=(H.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(o),I===xf&&(l=!1)}}c=Object.getPrototypeOf(c)}!function Uv(o){let c=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=c+=f.hostVars,f.hostAttrs=qo(f.hostAttrs,l=qo(l,f.hostAttrs))}}(d)}function b_(o){return o===di?{}:o===wn?[]:o}function lm(o,c){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{c(d,f),l(d,f)}:c}function wU(o,c){const l=o.contentQueries;o.contentQueries=l?(d,f,g)=>{c(d,f,g),l(d,f,g)}:c}function bU(o,c){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{c(d,f),l(d,f)}:c}function BI(o){const c=o.inputConfig,l={};for(const d in c)if(c.hasOwnProperty(d)){const f=c[d];Array.isArray(f)&&f[2]&&(l[d]=f[2])}o.inputTransforms=l}function _h(o){return!!aS(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function aS(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function To(o,c,l){return!Object.is(o[c],l)&&(o[c]=l,!0)}function Xt(o,c,l,d){const f=Tt();return To(f,Sa(),c)&&(yr(),ql(Me(),f,o,c,l,d)),Xt}function ZI(o,c,l,d,f,g,v,I){const P=Tt(),O=yr(),H=o+Qn,re=O.firstCreatePass?function T_(o,c,l,d,f,g,v,I,P){const O=c.consts,H=sm(c,o,4,v||null,ic(O,I));l_(c,l,H,ic(O,P)),Wn(c,H);const re=H.tView=TI(2,H,d,f,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,O,null);return null!==c.queries&&(c.queries.template(c,H),re.queries=c.queries.embeddedTView(H)),H}(H,O,P,c,l,d,f,g,v):O.data[H];aa(re,!1);const Ee=zo(O,P,re,o);en()&&Og(O,P,Ee,re),da(Ee,P),h_(P,P[H]=Lv(Ee,P,Ee,re)),Ls(re)&&kv(O,P,re),null!=v&&Nv(P,re,I)}let zo=function dS(o,c,l,d){return Rn(!0),c[En].createComment("")};function C_(o){return Mc(function cf(){return Hn.lFrame.contextLView}(),Qn+o)}function $v(o,c,l){const d=Tt();return To(d,Sa(),c)&&function Fc(o,c,l,d,f,g,v,I){const P=Ds(c,l);let H,O=c.inputs;!I&&null!=O&&(H=O[d])?(Df(o,l,H,d,f),ra(c)&&function Ov(o,c){const l=rs(c,o);16&l[Un]||(l[Un]|=64)}(l,c.index)):3&c.type&&(d=function yk(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,c.value||"",d):f,g.setProperty(P,d,f))}(yr(),Me(),d,o,c,d[En],l,!1),$v}function KI(o,c,l,d,f){const v=f?"class":"style";Df(o,l,c.inputs[v],v,d)}function Wv(o,c,l,d){const f=Tt(),g=yr(),v=Qn+o,I=f[En],P=g.firstCreatePass?function Rk(o,c,l,d,f,g){const v=c.consts,P=sm(c,o,2,d,ic(v,f));return l_(c,l,P,ic(v,g)),null!==P.attrs&&__(P,P.attrs,!1),null!==P.mergedAttrs&&__(P,P.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,P),P}(v,g,f,c,l,d):g.data[v],O=pS(g,f,P,I,c,o);f[v]=O;const H=Ls(P);return aa(P,!0),Vg(I,O,P),32!=(32&P.flags)&&en()&&Og(g,f,O,P),0===function yu(){return Hn.lFrame.elementDepthCount}()&&da(O,f),function Si(){Hn.lFrame.elementDepthCount++}(),H&&(kv(g,f,P),Pv(g,P,f)),null!==d&&Nv(f,P),Wv}function qv(){let o=is();od()?ad():(o=o.parent,aa(o,!1));const c=o;(function rl(o){return Hn.skipHydrationRootTNode===o})(c)&&function nh(){Hn.skipHydrationRootTNode=null}(),function sf(){Hn.lFrame.elementDepthCount--}();const l=yr();return l.firstCreatePass&&(Wn(l,o),fo(o)&&l.queries.elementEnd(o)),null!=c.classesWithoutHost&&function la(o){return 0!=(8&o.flags)}(c)&&KI(l,c,Tt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Pc(o){return 0!=(16&o.flags)}(c)&&KI(l,c,Tt(),c.stylesWithoutHost,!1),qv}function YI(o,c,l,d){return Wv(o,c,l,d),qv(),YI}let pS=(o,c,l,d,f,g)=>(Rn(!0),iv(d,f,function Tn(){return Hn.lFrame.currentNamespace}()));function Zv(o,c,l){const d=Tt(),f=yr(),g=o+Qn,v=f.firstCreatePass?function Nk(o,c,l,d,f){const g=c.consts,v=ic(g,d),I=sm(c,o,8,"ng-container",v);return null!==v&&__(I,v,!0),l_(c,l,I,ic(g,f)),null!==c.queries&&c.queries.elementStart(c,I),I}(g,f,d,c,l):f.data[g];aa(v,!0);const I=mS(f,d,v,o);return d[g]=I,en()&&Og(f,d,I,v),da(I,d),Ls(v)&&(kv(f,d,v),Pv(f,v,d)),null!=l&&Nv(d,v),Zv}function Kv(){let o=is();const c=yr();return od()?ad():(o=o.parent,aa(o,!1)),c.firstCreatePass&&(Wn(c,o),fo(o)&&c.queries.elementEnd(o)),Kv}function QI(o,c,l){return Zv(o,c,l),Kv(),QI}let mS=(o,c,l,d)=>(Rn(!0),_f(c[En],""));function XI(){return Tt()}function JI(o){return!!o&&"function"==typeof o.then}function eE(o){return!!o&&"function"==typeof o.subscribe}function Yv(o,c,l,d){const f=Tt(),g=yr(),v=is();return function ao(o,c,l,d,f,g,v){const I=Ls(d),O=o.firstCreatePass&&p_(o),H=c[Nr],re=kI(c);let Ee=!0;if(3&d.type||v){const Vt=Ds(d,c),tn=v?v(Vt):Vt,xn=re.length,Dt=v?br=>v(Tr(br[d.index])):d.index;let sr=null;if(!v&&I&&(sr=function tE(o,c,l,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===l&&f[g+1]===d){const I=c[Xo],P=f[g+2];return I.length>P?I[P]:null}"string"==typeof v&&(g+=2)}return null}(o,c,f,d.index)),null!==sr)(sr.__ngLastListenerFn__||sr).__ngNextListenerFn__=g,sr.__ngLastListenerFn__=g,Ee=!1;else{g=Ed(d,c,H,g,!1);const br=l.listen(tn,f,g);re.push(g,br),O&&O.push(f,Dt,xn,xn+1)}}else g=Ed(d,c,H,g,!1);const ke=d.outputs;let gt;if(Ee&&null!==ke&&(gt=ke[f])){const Vt=gt.length;if(Vt)for(let tn=0;tn<Vt;tn+=2){const Qr=c[gt[tn]][gt[tn+1]].subscribe(g),Va=re.length;re.push(g,Qr),O&&O.push(f,d.index,Va,-(Va+1))}}}(g,f,f[En],v,o,c,d),Yv}function nE(o,c,l,d){try{return yo(6,c,l),!1!==l(d)}catch(f){return NI(o,f),!1}finally{yo(7,c,l)}}function Ed(o,c,l,d,f){return function g(v){if(v===Function)return d;gh(o.componentOffset>-1?rs(o.index,c):c);let P=nE(c,l,d,v),O=g.__ngNextListenerFn__;for(;O;)P=nE(c,l,O,v)&&P,O=O.__ngNextListenerFn__;return f&&!1===P&&v.preventDefault(),P}}function rE(o=1){return function j(o){return(Hn.lFrame.contextLView=function ie(o,c){for(;o>0;)c=c[Os],o--;return c}(o,Hn.lFrame.contextLView))[Nr]}(o)}function Oi(o,c){let l=null;const d=function _l(o){const c=o.attrs;if(null!=c){const l=c.indexOf(5);if(!(1&l))return c[l+1]}return null}(o);for(let f=0;f<c.length;f++){const g=c[f];if("*"!==g){if(null===d?Cc(o,g,!0):Ia(d,g))return f}else l=f}return l}function A_(o){const c=Tt()[zr][ns];if(!c.projection){const d=c.projection=Tu(o?o.length:1,null),f=d.slice();let g=c.child;for(;null!==g;){const v=o?Oi(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function Co(o,c=0,l){const d=Tt(),f=yr(),g=sm(f,Qn+o,16,null,l||null);null===g.projection&&(g.projection=c),ad(),(!d[Fs]||Da())&&32!=(32&g.flags)&&function kb(o,c,l){Nb(c[En],0,c,l,Lp(o,l,c),KA(l.parent||c[ns],l,c))}(f,d,g)}function dl(o,c){return o<<17|c<<2}function Xl(o){return o>>17&32767}function sE(o){return 2|o}function Lc(o){return(131068&o)>>2}function Fu(o,c){return-131069&o|c<<2}function Lu(o){return 1|o}function Ff(o,c,l,d,f){const g=o[l+1],v=null===c;let I=d?Xl(g):Lc(g),P=!1;for(;0!==I&&(!1===P||v);){const H=o[I+1];oE(o[I],c)&&(P=!0,o[I+1]=d?Lu(H):sE(H)),I=d?Xl(H):Lc(H)}P&&(o[l+1]=d?sE(g):Lu(g))}function oE(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&oh(o,c)>=0}function Ii(o,c,l){return ju(o,c,l,!1),Ii}function Vu(o,c){return ju(o,c,null,!0),Vu}function ju(o,c,l,d){const f=Tt(),g=yr(),v=function Us(o){const c=Hn.lFrame,l=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,l}(2);g.firstUpdatePass&&function Vf(o,c,l,d){const f=o.data;if(null===f[l+1]){const g=f[fe()],v=function ci(o,c){return c>=o.expandoStartIndex}(o,l);(function AS(o,c){return 0!=(o.flags&(c?8:16))})(g,d)&&null===c&&!v&&(c=!1),c=function uE(o,c,l,d){const f=function ud(o){const c=Hn.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}(o);let g=d?c.residualClasses:c.residualStyles;if(null===f)0===(d?c.classBindings:c.styleBindings)&&(l=Im(l=t0(null,o,c,l,d),c.attrs,d),g=null);else{const v=c.directiveStylingLast;if(-1===v||o[v]!==f)if(l=t0(f,o,c,l,d),null===g){let P=function dE(o,c,l){const d=l?c.classBindings:c.styleBindings;if(0!==Lc(d))return o[Xl(d)]}(o,c,d);void 0!==P&&Array.isArray(P)&&(P=t0(null,o,c,P[1],d),P=Im(P,c.attrs,d),function IS(o,c,l,d){o[Xl(l?c.classBindings:c.styleBindings)]=d}(o,c,d,P))}else g=function hE(o,c,l){let d;const f=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<f;g++)d=Im(d,o[g].hostAttrs,l);return Im(d,c.attrs,l)}(o,c,d)}return void 0!==g&&(d?c.residualClasses=g:c.residualStyles=g),l}(f,g,c,d),function bh(o,c,l,d,f,g){let v=g?c.classBindings:c.styleBindings,I=Xl(v),P=Lc(v);o[d]=l;let H,O=!1;if(Array.isArray(l)?(H=l[1],(null===H||oh(l,H)>0)&&(O=!0)):H=l,f)if(0!==P){const Ee=Xl(o[I+1]);o[d+1]=dl(Ee,I),0!==Ee&&(o[Ee+1]=Fu(o[Ee+1],d)),o[I+1]=function D_(o,c){return 131071&o|c<<17}(o[I+1],d)}else o[d+1]=dl(I,0),0!==I&&(o[I+1]=Fu(o[I+1],d)),I=d;else o[d+1]=dl(P,0),0===I?I=d:o[P+1]=Fu(o[P+1],d),P=d;O&&(o[d+1]=sE(o[d+1])),Ff(o,H,d,!0),Ff(o,H,d,!1),function yS(o,c,l,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof c&&oh(g,c)>=0&&(l[d+1]=Lu(l[d+1]))}(c,H,o,d,g),v=dl(I,P),g?c.classBindings=v:c.styleBindings=v}(f,g,c,l,v,d)}}(g,o,v,d),c!==rr&&To(f,v,c)&&function fE(o,c,l,d,f,g,v,I){if(!(3&c.type))return;const P=o.data,O=P[I+1],H=function Jv(o){return 1==(1&o)}(O)?CS(P,c,l,f,Lc(O),v):void 0;M_(H)||(M_(g)||function Xv(o){return 2==(2&o)}(O)&&(g=CS(P,null,l,f,I,v)),function kP(o,c,l,d,f){if(c)f?o.addClass(l,d):o.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:Dg.DashCase;null==f?o.removeStyle(l,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Dg.Important),o.setStyle(l,d,f,g))}}(d,v,oa(fe(),l),f,g))}(g,g.data[fe()],f,f[En],o,f[v+1]=function Hk(o,c){return null==o||""===o||("string"==typeof c?o+=c:"object"==typeof o&&(o=ye(Su(o)))),o}(c,l),d,v)}function t0(o,c,l,d,f){let g=null;const v=l.directiveEnd;let I=l.directiveStylingLast;for(-1===I?I=l.directiveStart:I++;I<v&&(g=c[I],d=Im(d,g.hostAttrs,f),g!==o);)I++;return null!==o&&(l.directiveStylingLast=I),d}function Im(o,c,l){const d=l?1:2;let f=-1;if(null!==c)for(let g=0;g<c.length;g++){const v=c[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ra(o,v,!!l||c[++g]))}return void 0===o?null:o}function CS(o,c,l,d,f,g){const v=null===c;let I;for(;f>0;){const P=o[f],O=Array.isArray(P),H=O?P[1]:P,re=null===H;let Ee=l[f+1];Ee===rr&&(Ee=re?wn:void 0);let ke=re?Tg(Ee,d):H===d?Ee:void 0;if(O&&!M_(ke)&&(ke=Tg(P,d)),M_(ke)&&(I=ke,v))return I;const gt=o[f+1];f=v?Xl(gt):Lc(gt)}if(null!==c){let P=g?c.residualClasses:c.residualStyles;null!=P&&(I=Tg(P,d))}return I}function M_(o){return void 0!==o}function DS(o,c=""){const l=Tt(),d=yr(),f=o+Qn,g=d.firstCreatePass?sm(d,f,1,c,null):d.data[f],v=n0(d,l,g,c,o);l[f]=v,en()&&Og(d,l,v,g),aa(g,!1)}let n0=(o,c,l,d,f)=>(Rn(!0),function rv(o,c){return o.createText(c)}(c[En],d));function Em(o){return jf("",o,""),Em}function jf(o,c,l){const d=Tt(),f=function xt(o,c,l,d){return To(o,Sa(),l)?c+Ve(l)+d:rr}(d,o,c,l);return f!==rr&&function ku(o,c,l){const d=oa(c,o);!function gf(o,c,l){o.setValue(c,l)}(o[En],d,l)}(d,fe(),f),jf}const Eh=void 0;var Wk=["en",[["a","p"],["AM","PM"],Eh],[["AM","PM"],Eh,Eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eh,"{1} 'at' {0}",Eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SU(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Dm={};function Th(o){const c=function FS(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Ch(c);if(l)return l;const d=c.split("-")[0];if(l=Ch(d),l)return l;if("en"===d)return Wk;throw new Se(701,!1)}function TE(o){return Th(o)[tu.PluralCase]}function Ch(o){return o in Dm||(Dm[o]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[o]),Dm[o]}var tu=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(tu||{});const xm="en-US";let VS=xm;function h0(o,c,l,d,f){if(o=ht(o),Array.isArray(o))for(let g=0;g<o.length;g++)h0(o[g],c,l,d,f);else{const g=yr(),v=Tt(),I=is();let P=jp(o)?o:ht(o.provide);const O=Bp(o),H=1048575&I.providerIndexes,re=I.directiveStart,Ee=I.providerIndexes>>20;if(jp(o)||!o.multi){const ke=new Oo(O,f,im),gt=p0(P,c,f?H:H+Ee,re);-1===gt?(Zr(Gn(I,v),g,P),f0(g,o,c.length),c.push(P),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(ke),v.push(ke)):(l[gt]=ke,v[gt]=ke)}else{const ke=p0(P,c,H+Ee,re),gt=p0(P,c,H,H+Ee),tn=gt>=0&&l[gt];if(f&&!tn||!f&&!(ke>=0&&l[ke])){Zr(Gn(I,v),g,P);const xn=function Kf(o,c,l,d,f){const g=new Oo(o,l,im);return g.multi=[],g.index=c,g.componentProviders=0,sx(g,f,d&&!l),g}(f?m0:ox,l.length,f,d,O);!f&&tn&&(l[gt].providerFactory=xn),f0(g,o,c.length,0),c.push(P),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(xn),v.push(xn)}else f0(g,o,ke>-1?ke:gt,sx(l[f?gt:ke],O,!f&&d));!f&&d&&tn&&l[gt].componentProviders++}}}function f0(o,c,l,d){const f=jp(c),g=function at(o){return!!o.useClass}(c);if(f||g){const P=(g?ht(c.useClass):c).prototype.ngOnDestroy;if(P){const O=o.destroyHooks||(o.destroyHooks=[]);if(!f&&c.multi){const H=O.indexOf(l);-1===H?O.push(l,[d,P]):O[H+1].push(d,P)}else O.push(l,P)}}}function sx(o,c,l){return l&&o.componentProviders++,o.multi.push(c)-1}function p0(o,c,l,d){for(let f=l;f<d;f++)if(c[f]===o)return f;return-1}function ox(o,c,l,d){return Zf(this.multi,[])}function m0(o,c,l,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=sc(l,l[zt],this.providerFactory.index,d);g=I.slice(0,v),Zf(f,g);for(let P=v;P<I.length;P++)g.push(I[P])}else g=[],Zf(f,g);return g}function Zf(o,c){for(let l=0;l<o.length;l++)c.push((0,o[l])());return c}function ax(o,c=[]){return l=>{l.providersResolver=(d,f)=>function UE(o,c,l){const d=yr();if(d.firstCreatePass){const f=ms(o);h0(l,d.data,d.blueprint,f,!0),h0(c,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,c)}}class xh{}class cx{}function dN(o,c){return new Yf(o,c??null,[])}class Yf extends xh{constructor(c,l,d){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oi(this);const f=Di(c);this._bootstrapComponents=Wl(f.bootstrap),this._r3Injector=Jg(c,l,[{provide:xh,useValue:this},{provide:Kg,useValue:this.componentFactoryResolver},...d],ye(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Sd extends cx{constructor(c){super(),this.moduleType=c}create(c){return new Yf(this.moduleType,c,[])}}class jE extends xh{constructor(c){super(),this.componentFactoryResolver=new oi(this),this.instance=null;const l=new sn([...c.providers,{provide:xh,useValue:this},{provide:Kg,useValue:this.componentFactoryResolver}],c.parent||pv(),c.debugName,new Set(["environment"]));this.injector=l,c.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function BE(o,c,l=null){return new jE({providers:o,parent:c,debugName:l,runEnvironmentInitializers:!0}).injector}let lx=(()=>{var o;class c{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const f=vD(0,d.type),g=f.length>0?BE([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,g)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return(o=c).\u0275prov=Te({token:o,providedIn:"environment",factory:()=>new o(jt(Gs))}),c})();function ux(o){o.getStandaloneInjector=c=>c.get(lx).getOrCreateStandaloneInjector(o)}function $E(o,c,l,d,f,g){const v=c+l;return To(o,v,f)?function ai(o,c,l){return o[c]=l}(o,v+1,g?d.call(g,f):d(f)):function Gu(o,c){const l=o[c];return l===rr?void 0:l}(o,v+1)}function yx(o,c){const l=yr();let d;const f=o+Qn;l.firstCreatePass?(d=function vx(o,c){if(c)for(let l=c.length-1;l>=0;l--){const d=c[l];if(o===d.name)return d}}(c,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks??=[]).push(f,d.onDestroy)):d=l.data[f];const g=d.factory||(d.factory=po(d.type)),I=hn(im);try{const P=Ri(!1),O=g();return Ri(P),function fS(o,c,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),c[l]=d}(l,Tt(),f,O),O}finally{hn(I)}}function pN(o,c,l){const d=o+Qn,f=Tt(),g=Mc(f,d);return function nu(o,c){return o[zt].data[c].pure}(f,d)?$E(f,function ji(){const o=Hn.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}(),c,g.transform,l,g):g.transform(l)}function q_(){return this._results[Symbol.iterator]()}class I0{get changes(){return this._changes||(this._changes=new Ru)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=I0.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=q_)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,l){return this._results.reduce(c,l)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,l){const d=this;d.dirty=!1;const f=function ki(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function ua(o,c,l){if(o.length!==c.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=c[d];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Ex(o,c,l,d=!0){const f=c[zt];if(function DP(o,c,l,d){const f=fi+d,g=l.length;d>0&&(l[f-1][Ts]=c),d<g-fi?(c[Ts]=l[f],pb(l,fi+d,c)):(l.push(c),c[Ts]=null),c[Mr]=l;const v=c[Ya];null!==v&&l!==v&&function SP(o,c){const l=o[No];c[zr]!==c[Mr][Mr][zr]&&(o[ko]=!0),null===l?o[No]=[c]:l.push(c)}(v,c);const I=c[Gi];null!==I&&I.insertView(o),c[Un]|=128}(f,c,o,l),d){const g=Pb(l,o),v=c[En],I=ov(v,o[Li]);null!==I&&function Pg(o,c,l,d,f,g){d[Wr]=f,d[ns]=c,Lg(o,d,l,1,f,g)}(f,o[ns],v,c,I,g)}}let Z_=(()=>{class c{}return c.__NG_ELEMENT_ID__=_N,c})();const KE=Z_,Do=class extends KE{constructor(c,l,d){super(),this._declarationLView=c,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,l){return this.createEmbeddedViewImpl(c,l)}createEmbeddedViewImpl(c,l,d){const f=function Ix(o,c,l,d){const f=c.tView,I=Rv(o,f,l,4096&o[Un]?4096:16,null,c,null,null,null,d?.injector??null,d?.hydrationInfo??null);I[Ya]=o[c.index];const O=o[Gi];return null!==O&&(I[Gi]=O.createEmbeddedView(f)),m_(f,I,l),I}(this._declarationLView,this._declarationTContainer,c,{injector:l,hydrationInfo:d});return new ka(f)}};function _N(){return E0(is(),Tt())}function E0(o,c){return 4&o.type?new Do(c,o,fh(o,c)):null}let Ph=(()=>{class c{}return c.__NG_ELEMENT_ID__=x0,c})();function x0(){return Sx(is(),Tt())}const QE=Ph,M0=class extends QE{constructor(c,l,d){super(),this._lContainer=c,this._hostTNode=l,this._hostLView=d}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const c=Vr(this._hostTNode,this._hostLView);if(Ma(c)){const l=ss(c,this._hostLView),d=wi(c);return new os(l[zt].data[d+8],l)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const l=Dx(this._lContainer);return null!==l&&l[c]||null}get length(){return this._lContainer.length-fi}createEmbeddedView(c,l,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const I=c.createEmbeddedViewImpl(l||{},g,null);return this.insertImpl(I,f,false),I}createComponent(c,l,d,f,g){const v=c&&!function Vo(o){return"function"==typeof o}(c);let I;if(v)I=l;else{const Vt=l||{};I=Vt.index,d=Vt.injector,f=Vt.projectableNodes,g=Vt.environmentInjector||Vt.ngModuleRef}const P=v?c:new am(or(c)),O=d||this.parentInjector;if(!g&&null==P.ngModule){const tn=(v?O:this.parentInjector).get(Gs,null);tn&&(g=tn)}or(P.componentType??{});const ke=P.create(O,f,null,g);return this.insertImpl(ke.hostView,I,false),ke}insert(c,l){return this.insertImpl(c,l,!1)}insertImpl(c,l,d){const f=c._lView;if(function gu(o){return _i(o[Mr])}(f)){const P=this.indexOf(c);if(-1!==P)this.detach(P);else{const O=f[Mr],H=new M0(O,O[ns],O[Mr]);H.detach(H.indexOf(c))}}const v=this._adjustIndex(l),I=this._lContainer;return Ex(I,f,v,!d),c.attachToViewContainerRef(),pb(R0(I),v,c),c}move(c,l){return this.insert(c,l)}indexOf(c){const l=Dx(this._lContainer);return null!==l?l.indexOf(c):-1}remove(c){const l=this._adjustIndex(c,-1),d=sv(this._lContainer,l);d&&(sh(R0(this._lContainer),l),Sb(d[zt],d))}detach(c){const l=this._adjustIndex(c,-1),d=sv(this._lContainer,l);return d&&null!=sh(R0(this._lContainer),l)?new ka(d):null}_adjustIndex(c,l=0){return c??this.length+l}};function Dx(o){return o[8]}function R0(o){return o[8]||(o[8]=[])}function Sx(o,c){let l;const d=c[o.index];return _i(d)?l=d:(l=Lv(d,c,null,o),c[o.index]=l,h_(c,l)),XE(l,c,o,d),new M0(l,o,c)}let XE=function P0(o,c,l,d){if(o[Li])return;let f;f=8&l.type?Tr(d):function xx(o,c){const l=o[En],d=l.createComment(""),f=Ds(c,o);return vf(l,ov(l,f),d,function RP(o,c){return o.nextSibling(c)}(l,f),!1),d}(c,l),o[Li]=f};class JE{constructor(c){this.queryList=c,this.matches=null}clone(){return new JE(this.queryList)}setDirty(){this.queryList.setDirty()}}class k0{constructor(c=[]){this.queries=c}createEmbeddedView(c){const l=c.queries;if(null!==l){const d=null!==c.contentQueries?c.contentQueries[0]:l.length,f=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new k0(f)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let l=0;l<this.queries.length;l++)null!==Q_(c,l).matches&&this.queries[l].setDirty()}}class Rx{constructor(c,l,d=null){this.predicate=c,this.flags=l,this.read=d}}class kh{constructor(c=[]){this.queries=c}elementStart(c,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(c,l)}elementEnd(c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(c)}embeddedTView(c){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(c,f);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new kh(l):null}template(c,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(c,l)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Nh{constructor(c,l=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(c,l){this.isApplyingToNode(l)&&this.matchTNode(c,l)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,l){this.elementStart(c,l)}embeddedTView(c,l){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,l),new Nh(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=c.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(c,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(c,l,eT(l,g)),this.matchTNodeWithReadOption(c,l,io(l,c,g,!1,!1))}else d===Z_?4&l.type&&this.matchTNodeWithReadOption(c,l,-1):this.matchTNodeWithReadOption(c,l,io(l,c,d,!1,!1))}matchTNodeWithReadOption(c,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Yp||f===Ph||f===Z_&&4&l.type)this.addMatch(l.index,-2);else{const g=io(l,c,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(c,l){null===this.matches?this.matches=[c,l]:this.matches.push(c,l)}}function eT(o,c){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===c)return l[d+1];return null}function Px(o,c,l,d){return-1===l?function N0(o,c){return 11&o.type?fh(o,c):4&o.type?E0(o,c):null}(c,o):-2===l?function kx(o,c,l){return l===Yp?fh(c,o):l===Z_?E0(c,o):l===Ph?Sx(c,o):void 0}(o,c,d):sc(o,o[zt],l,c)}function tT(o,c,l,d){const f=c[Gi].queries[d];if(null===f.matches){const g=o.data,v=l.matches,I=[];for(let P=0;P<v.length;P+=2){const O=v[P];I.push(O<0?null:Px(c,g[O],v[P+1],l.metadata.read))}f.matches=I}return f.matches}function nT(o,c,l,d){const f=o.queries.getByIndex(l),g=f.matches;if(null!==g){const v=tT(o,c,f,l);for(let I=0;I<g.length;I+=2){const P=g[I];if(P>0)d.push(v[I/2]);else{const O=g[I+1],H=c[-P];for(let re=fi;re<H.length;re++){const Ee=H[re];Ee[Ya]===Ee[Mr]&&nT(Ee[zt],Ee,O,d)}if(null!==H[No]){const re=H[No];for(let Ee=0;Ee<re.length;Ee++){const ke=re[Ee];nT(ke[zt],ke,O,d)}}}}}return d}function O0(o){const c=Tt(),l=yr(),d=Ul();jl(d+1);const f=Q_(l,d);if(o.dirty&&function Fl(o){return 4==(4&o[Un])}(c)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?nT(l,c,d,[]):tT(l,c,f,d);o.reset(g,sk),o.notifyOnChanges()}return!0}return!1}function Nx(o,c,l){const d=yr();d.firstCreatePass&&(K_(d,new Rx(o,c,l),-1),2==(2&c)&&(d.staticViewQueries=!0)),L0(d,Tt(),c)}function F0(o,c,l,d){const f=yr();if(f.firstCreatePass){const g=is();K_(f,new Rx(c,l,d),g.index),function Y_(o,c){const l=o.contentQueries||(o.contentQueries=[]);c!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,c)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}L0(f,Tt(),l)}function rT(){return function Ox(o,c){return o[Gi].queries[c].queryList}(Tt(),Ul())}function L0(o,c,l){const d=new I0(4==(4&l));(function DI(o,c,l,d){const f=kI(c);f.push(l),o.firstCreatePass&&p_(o).push(d,f.length-1)})(o,c,d,d.destroy),null===c[Gi]&&(c[Gi]=new k0),c[Gi].queries.push(new JE(d))}function K_(o,c,l){null===o.queries&&(o.queries=new kh),o.queries.track(new Nh(c,l))}function Q_(o,c){return o.queries.getByIndex(c)}function Lx(o){return!!Di(o)}const G0=new Kr("Application Initializer");let Lh=(()=>{var o;class c{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=se(G0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const g of this.appInits){const v=g();if(JI(v))d.push(v);else if(eE(v)){const I=new Promise((P,O)=>{v.subscribe({complete:P,error:O})});d.push(I)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return(o=c).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),c})(),np=(()=>{var o;class c{log(d){console.log(d)}warn(d){console.warn(d)}}return(o=c).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"platform"}),c})();const Md=new Kr("LocaleId",{providedIn:"root",factory:()=>se(Md,Et.Optional|Et.SkipSelf)||function Qx(){return typeof $localize<"u"&&$localize.locale||xm}()}),kN=new Kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $0=(()=>{var o;class c{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(o=c).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();class yT{constructor(c,l){this.ngModuleFactory=c,this.componentFactories=l}}let NN=(()=>{var o;class c{compileModuleSync(d){return new Sd(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),v=Wl(Di(d).declarations).reduce((I,P)=>{const O=or(P);return O&&I.push(new am(O)),I},[]);return new yT(f,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return(o=c).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();const q0=new Kr(""),aM=new Kr("");let Vh,DT=(()=>{var o;class c{constructor(d,f,g){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vh||(function ST(o){Vh=o}(g),g.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==v),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,g){return[]}}return(o=c).\u0275fac=function(d){return new(d||o)(jt(Qi),jt(Z0),jt(aM))},o.\u0275prov=Te({token:o,factory:o.\u0275fac}),c})(),Z0=(()=>{var o;class c{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Vh?.findTestabilityInTree(this,d,f)??null}}return(o=c).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"platform"}),c})(),Rd=null;const K0=new Kr("AllowMultipleToken"),xT=new Kr("PlatformDestroyListeners"),sy=new Kr("appBootstrapListener");class HN{constructor(c,l){this.name=c,this.token=l}}function hM(o,c,l=[]){const d=`Platform: ${c}`,f=new Kr(d);return(g=[])=>{let v=Y0();if(!v||v.injector.get(K0,!1)){const I=[...l,...g,{provide:f,useValue:!0}];o?o(I):function GN(o){if(Rd&&!Rd.get(K0,!1))throw new Se(400,!1);(function lM(){!function Zd(o){qd=o}(()=>{throw new Se(600,!1)})})(),Rd=o;const c=o.get(Q0);(function uM(o){o.get(oo,null)?.forEach(l=>l())})(o)}(function fM(o=[],c){return Oc.create({name:c,providers:[{provide:Yr,useValue:"platform"},{provide:xT,useValue:new Set([()=>Rd=null])},...o]})}(I,d))}return function PT(o){const c=Y0();if(!c)throw new Se(401,!1);return c}()}}function Y0(){return Rd?.get(Q0)??null}let Q0=(()=>{var o;class c{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const g=function $N(o="zone.js",c){return"noop"===o?new t_:"zone.js"===o?new Qi(c):o}(f?.ngZone,function kT(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return g.run(()=>{const v=function Mh(o,c,l){return new Yf(o,c,l)}(d.moduleType,this.injector,function NT(o){return[{provide:Qi,useFactory:o},{provide:Hg,multi:!0,useFactory:()=>{const c=se(tw,{optional:!0});return()=>c.initialize()}},{provide:ew,useFactory:WN},{provide:n_,useFactory:fI}]}(()=>g)),I=v.injector.get(cl,null);return g.runOutsideAngular(()=>{const P=g.onError.subscribe({next:O=>{I.handleError(O)}});v.onDestroy(()=>{Gm(this._modules,v),P.unsubscribe()})}),function mM(o,c,l){try{const d=l();return JI(d)?d.catch(f=>{throw c.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw c.runOutsideAngular(()=>o.handleError(d)),d}}(I,g,()=>{const P=v.injector.get(Lh);return P.runInitializers(),P.donePromise.then(()=>(function Mm(o){Mt(o,"Expected localeId to be defined"),"string"==typeof o&&(VS=o.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Md,xm)||xm),this._moduleDoBootstrap(v),v))})})}bootstrapModule(d,f=[]){const g=X0({},f);return function Pd(o,c,l){const d=new Sd(l);return Promise.resolve(d)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,g))}_moduleDoBootstrap(d){const f=d.injector.get(Hm);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new Se(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(xT,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(o=c).\u0275fac=function(d){return new(d||o)(jt(Oc))},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"platform"}),c})();function X0(o,c){return Array.isArray(c)?c.reduce(X0,o):{...o,...c}}let Hm=(()=>{var o;class c{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=se(ew),this.zoneIsStable=se(n_),this.componentTypes=[],this.components=[],this.isStable=se($0).hasPendingTasks.pipe((0,De.w)(d=>d?(0,_e.of)(!1):this.zoneIsStable),(0,Ae.x)(),(0,we.B)()),this._injector=se(Gs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const g=d instanceof bv;if(!this._injector.get(Lh).done)throw!g&&Ys(d),new Se(405,!1);let I;I=g?d:this._injector.get(Kg).resolveComponentFactory(d),this.componentTypes.push(I.componentType);const P=function MT(o){return o.isBoundToModule}(I)?void 0:this._injector.get(xh),H=I.create(Oc.NULL,[],f||I.selector,P),re=H.location.nativeElement,Ee=H.injector.get(q0,null);return Ee?.registerApplication(re),H.onDestroy(()=>{this.detachView(H.hostView),Gm(this.components,H),Ee?.unregisterApplication(re)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;Gm(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(sy,[]);f.push(...this._bootstrapListeners),f.forEach(g=>g(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Gm(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Se(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(o=c).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();function Gm(o,c){const l=o.indexOf(c);l>-1&&o.splice(l,1)}const ew=new Kr("",{providedIn:"root",factory:()=>se(cl).handleError.bind(void 0)});function WN(){const o=se(Qi),c=se(cl);return l=>o.runOutsideAngular(()=>c.handleError(l))}let tw=(()=>{var o;class c{constructor(){this.zone=se(Qi),this.applicationRef=se(Hm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(o=c).\u0275fac=function(d){return new(d||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();function $m(){return!1}let ZN=(()=>{class c{}return c.__NG_ELEMENT_ID__=KN,c})();function KN(o){return function nw(o,c,l){if(ra(o)&&!l){const d=rs(o.index,c);return new ka(d,d)}return 47&o.type?new ka(c[zr],c):null}(is(),Tt(),16==(16&o))}class EM{constructor(){}supports(c){return _h(c)}create(c){return new eO(c)}}const JN=(o,c)=>c;class eO{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||JN}forEachItem(c){let l;for(l=this._itHead;null!==l;l=l._next)c(l)}forEachOperation(c){let l=this._itHead,d=this._removalsHead,f=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<BT(d,f,g)?l:d,I=BT(v,f,g),P=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{g||(g=[]);const O=I-f,H=P-f;if(O!=H){for(let Ee=0;Ee<O;Ee++){const ke=Ee<g.length?g[Ee]:g[Ee]=0,gt=ke+Ee;H<=gt&&gt<O&&(g[Ee]=ke+1)}g[v.previousIndex]=H-O}}I!==P&&c(v,I,P)}}forEachPreviousItem(c){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachMovedItem(c){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}forEachIdentityChange(c){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)c(l)}diff(c){if(null==c&&(c=[]),!_h(c))throw new Se(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f,g,v,l=this._itHead,d=!1;if(Array.isArray(c)){this.length=c.length;for(let I=0;I<this.length;I++)g=c[I],v=this._trackByFn(I,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,I)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,I),d=!0),l=l._next}else f=0,function um(o,c){if(Array.isArray(o))for(let l=0;l<o.length;l++)c(o[l]);else{const l=o[Symbol.iterator]();let d;for(;!(d=l.next()).done;)c(d.value)}}(c,I=>{v=this._trackByFn(f,I),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,I,v,f)),Object.is(l.item,I)||this._addIdentityChange(l,I)):(l=this._mismatch(l,I,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,l,d,f){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._reinsertAfter(c,g,f)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._moveAfter(c,g,f)):c=this._addAfter(new tO(l,d),g,f),c}_verifyReinsertion(c,l,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?c=this._reinsertAfter(g,c._prev,f):c.currentIndex!=f&&(c.currentIndex=f,this._addToMoves(c,f)),c}_truncate(c){for(;null!==c;){const l=c._next;this._addToRemovals(this._unlink(c)),c=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const f=c._prevRemoved,g=c._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(c,l,d),this._addToMoves(c,d),c}_moveAfter(c,l,d){return this._unlink(c),this._insertAfter(c,l,d),this._addToMoves(c,d),c}_addAfter(c,l,d){return this._insertAfter(c,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,l,d){const f=null===l?this._itHead:l._next;return c._next=f,c._prev=l,null===f?this._itTail=c:f._prev=c,null===l?this._itHead=c:l._next=c,null===this._linkedRecords&&(this._linkedRecords=new TM),this._linkedRecords.put(c),c.currentIndex=d,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const l=c._prev,d=c._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,c}_addToMoves(c,l){return c.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TM),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,l){return c.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class tO{constructor(c,l){this.item=c,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nO{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,c))return d;return null}remove(c){const l=c._prevDup,d=c._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class TM{constructor(){this.map=new Map}put(c){const l=c.trackById;let d=this.map.get(l);d||(d=new nO,this.map.set(l,d)),d.add(c)}get(c,l){const f=this.map.get(c);return f?f.get(c,l):null}remove(c){const l=c.trackById;return this.map.get(l).remove(c)&&this.map.delete(l),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BT(o,c,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+c+f}class zT{constructor(){}supports(c){return c instanceof Map||aS(c)}create(){return new HT}}class HT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let l;for(l=this._mapHead;null!==l;l=l._next)c(l)}forEachPreviousItem(c){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)c(l)}forEachChangedItem(c){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}diff(c){if(c){if(!(c instanceof Map||aS(c)))throw new Se(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(c,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,l){if(c){const d=c._prev;return l._next=c,l._prev=d,c._prev=l,d&&(d._next=l),c===this._mapHead&&(this._mapHead=l),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(c,l){if(this._records.has(c)){const f=this._records.get(c);this._maybeAddToChanges(f,l);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new rO(c);return this._records.set(c,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,l){Object.is(l,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=l,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,l){c instanceof Map?c.forEach(l):Object.keys(c).forEach(d=>l(c[d],d))}}class rO{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GT(){return new ow([new EM])}let ow=(()=>{var o;class c{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||GT()),deps:[[c,new Kt,new Je]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new Se(901,!1)}}return(o=c).\u0275prov=Te({token:o,providedIn:"root",factory:GT}),c})();function Dr(){return new aw([new zT])}let aw=(()=>{var o;class c{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new c(d)}static extend(d){return{provide:c,useFactory:f=>c.create(d,f||Dr()),deps:[[c,new Kt,new Je]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(f)return f;throw new Se(901,!1)}}return(o=c).\u0275prov=Te({token:o,providedIn:"root",factory:Dr}),c})();const Ms=hM(null,"core",[]);let Wu=(()=>{var o;class c{constructor(d){}}return(o=c).\u0275fac=function(d){return new(d||o)(jt(Hm))},o.\u0275mod=wl({type:o}),o.\u0275inj=Ct({}),c})();function cy(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function dO(o){const c=or(o);if(!c)return null;const l=new am(c);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},3399:(nn,et,W)=>{"use strict";W.d(et,{Z:()=>yt});var u=W(9058),te=W(4537),B=W(7592),ve=W(7879);class ${constructor(kt,lt){this._delegate=kt,this.firebase=lt,(0,B._addComponent)(kt,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=kt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(kt){this._delegate.automaticDataCollectionEnabled=kt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(kt=>{this._delegate.checkDestroyed(),kt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(kt,lt=B._DEFAULT_ENTRY_NAME){var Bt;this._delegate.checkDestroyed();const Ht=this._delegate.container.getProvider(kt);return!Ht.isInitialized()&&"EXPLICIT"===(null===(Bt=Ht.getComponent())||void 0===Bt?void 0:Bt.instantiationMode)&&Ht.initialize(),Ht.getImmediate({identifier:lt})}_removeServiceInstance(kt,lt=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(kt).clearInstance(lt)}_addComponent(kt){(0,B._addComponent)(this._delegate,kt)}_addOrOverwriteComponent(kt){(0,B._addOrOverwriteComponent)(this._delegate,kt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Ae(){const ht=function De(ht){const kt={},lt={__esModule:!0,initializeApp:function Se(vt,ae={}){const ct=B.initializeApp(vt,ae);if((0,u.r3)(kt,ct.name))return kt[ct.name];const Pt=new ht(ct,lt);return kt[ct.name]=Pt,Pt},app:Ht,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Ve(vt){const ae=vt.name,ct=ae.replace("-compat","");if(B._registerComponent(vt)&&"PUBLIC"===vt.type){const Pt=(rn=Ht())=>{if("function"!=typeof rn[ct])throw we.create("invalid-app-argument",{appName:ae});return rn[ct]()};void 0!==vt.serviceProps&&(0,u.ZB)(Pt,vt.serviceProps),lt[ct]=Pt,ht.prototype[ct]=function(...rn){return this._getService.bind(this,ae).apply(this,vt.multipleInstances?rn:[])}}return"PUBLIC"===vt.type?lt[ct]:null},removeApp:function Bt(vt){delete kt[vt]},useAsService:function tt(vt,ae){return"serverAuth"===ae?null:ae},modularAPIs:B}};function Ht(vt){if(!(0,u.r3)(kt,vt=vt||B._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:vt});return kt[vt]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function ut(){return Object.keys(kt).map(vt=>kt[vt])}}),Ht.App=ht,lt}($);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function kt(lt){(0,u.ZB)(ht,lt)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ht}(),ee=new ve.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yt=q;!function We(ht){(0,B.registerVersion)("@firebase/app-compat","0.2.13",ht)}()},7592:(nn,et,W)=>{"use strict";W.r(et),W.d(et,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Ct,_DEFAULT_ENTRY_NAME:()=>Ne,_addComponent:()=>ft,_addOrOverwriteComponent:()=>wt,_apps:()=>Ze,_clearComponents:()=>ue,_components:()=>Le,_getProvider:()=>At,_registerComponent:()=>Mt,_removeServiceInstance:()=>lr,deleteApp:()=>Mn,getApp:()=>Ye,getApps:()=>dn,initializeApp:()=>nt,onLog:()=>He,registerVersion:()=>vn,setLogLevel:()=>Jn});var u=W(5861),te=W(4537),B=W(7879),ve=W(9058),$=W(1878);class _e{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function we(qe){const me=qe.getComponent();return"VERSION"===me?.type}(it)){const St=it.getImmediate();return`${St.library}/${St.version}`}return null}).filter(it=>it).join(" ")}}const De="@firebase/app",q=new B.Yd("@firebase/app"),Ne="[DEFAULT]",ze={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,Le=new Map;function ft(qe,me){try{qe.container.addComponent(me)}catch(it){q.debug(`Component ${me.name} failed to register with FirebaseApp ${qe.name}`,it)}}function wt(qe,me){qe.container.addOrOverwriteComponent(me)}function Mt(qe){const me=qe.name;if(Le.has(me))return q.debug(`There were multiple attempts to register component ${me}.`),!1;Le.set(me,qe);for(const it of Ze.values())ft(it,qe);return!0}function At(qe,me){const it=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),qe.container.getProvider(me)}function lr(qe,me,it=Ne){At(qe,me).clearInstance(it)}function ue(){Le.clear()}const Te=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class st{constructor(me,it,St){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw Te.create("app-deleted",{appName:this._name})}}const Ct="9.23.0";function nt(qe,me={}){let it=qe;"object"!=typeof me&&(me={name:me});const St=Object.assign({name:Ne,automaticDataCollectionEnabled:!1},me),Zt=St.name;if("string"!=typeof Zt||!Zt)throw Te.create("bad-app-name",{appName:String(Zt)});if(it||(it=(0,ve.aH)()),!it)throw Te.create("no-options");const fn=Ze.get(Zt);if(fn){if((0,ve.vZ)(it,fn.options)&&(0,ve.vZ)(St,fn.config))return fn;throw Te.create("duplicate-app",{appName:Zt})}const ar=new te.H0(Zt);for(const ce of Le.values())ar.addComponent(ce);const de=new st(it,St,ar);return Ze.set(Zt,de),de}function Ye(qe=Ne){const me=Ze.get(qe);if(!me&&qe===Ne&&(0,ve.aH)())return nt();if(!me)throw Te.create("no-app",{appName:qe});return me}function dn(){return Array.from(Ze.values())}function Mn(qe){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(qe){const me=qe.name;Ze.has(me)&&(Ze.delete(me),yield Promise.all(qe.container.getProviders().map(it=>it.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function vn(qe,me,it){var St;let Zt=null!==(St=ze[qe])&&void 0!==St?St:qe;it&&(Zt+=`-${it}`);const fn=Zt.match(/\s|\//),ar=me.match(/\s|\//);if(fn||ar){const de=[`Unable to register library "${Zt}" with version "${me}":`];return fn&&de.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),fn&&ar&&de.push("and"),ar&&de.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void q.warn(de.join(" "))}Mt(new te.wA(`${Zt}-version`,()=>({library:Zt,version:me}),"VERSION"))}function He(qe,me){if(null!==qe&&"function"!=typeof qe)throw Te.create("invalid-log-argument");(0,B.Am)(qe,me)}function Jn(qe){(0,B.Ub)(qe)}const _n="firebase-heartbeat-database",Et=1,Ft="firebase-heartbeat-store";let Dn=null;function hn(){return Dn||(Dn=(0,$.X3)(_n,Et,{upgrade:(qe,me)=>{0===me&&qe.createObjectStore(Ft)}}).catch(qe=>{throw Te.create("idb-open",{originalErrorMessage:qe.message})})),Dn}function pr(){return(pr=(0,u.Z)(function*(qe){try{return yield(yield hn()).transaction(Ft).objectStore(Ft).get(ni(qe))}catch(me){if(me instanceof ve.ZR)q.warn(me.message);else{const it=Te.create("idb-get",{originalErrorMessage:me?.message});q.warn(it.message)}}})).apply(this,arguments)}function bn(qe,me){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(qe,me){try{const St=(yield hn()).transaction(Ft,"readwrite");yield St.objectStore(Ft).put(me,ni(qe)),yield St.done}catch(it){if(it instanceof ve.ZR)q.warn(it.message);else{const St=Te.create("idb-set",{originalErrorMessage:it?.message});q.warn(St.message)}}})).apply(this,arguments)}function ni(qe){return`${qe.name}!${qe.options.appId}`}class In{constructor(me){this.container=me,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new vr(it),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var me=this;return(0,u.Z)(function*(){const St=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=_r();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!me._heartbeatsCache.heartbeats.some(fn=>fn.date===Zt))return me._heartbeatsCache.heartbeats.push({date:Zt,agent:St}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(fn=>{const ar=new Date(fn.date).valueOf();return Date.now()-ar<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,u.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const it=_r(),{heartbeatsToSend:St,unsentEntries:Zt}=function li(qe,me=1024){const it=[];let St=qe.slice();for(const Zt of qe){const fn=it.find(ar=>ar.agent===Zt.agent);if(fn){if(fn.dates.push(Zt.date),ri(it)>me){fn.dates.pop();break}}else if(it.push({agent:Zt.agent,dates:[Zt.date]}),ri(it)>me){it.pop();break}St=St.slice(1)}return{heartbeatsToSend:it,unsentEntries:St}}(me._heartbeatsCache.heartbeats),fn=(0,ve.L)(JSON.stringify({version:2,heartbeats:St}));return me._heartbeatsCache.lastSentHeartbeatDate=it,Zt.length>0?(me._heartbeatsCache.heartbeats=Zt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),fn})()}}function _r(){return(new Date).toISOString().substring(0,10)}class vr{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,u.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function qn(qe){return pr.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var it=this;return(0,u.Z)(function*(){var St;if(yield it._canUseIndexedDBPromise){const fn=yield it.read();return bn(it.app,{lastSentHeartbeatDate:null!==(St=me.lastSentHeartbeatDate)&&void 0!==St?St:fn.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var it=this;return(0,u.Z)(function*(){var St;if(yield it._canUseIndexedDBPromise){const fn=yield it.read();return bn(it.app,{lastSentHeartbeatDate:null!==(St=me.lastSentHeartbeatDate)&&void 0!==St?St:fn.lastSentHeartbeatDate,heartbeats:[...fn.heartbeats,...me.heartbeats]})}})()}}function ri(qe){return(0,ve.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function Sr(qe){Mt(new te.wA("platform-logger",me=>new _e(me),"PRIVATE")),Mt(new te.wA("heartbeat",me=>new In(me),"PRIVATE")),vn(De,"0.9.13",qe),vn(De,"0.9.13","esm2017"),vn("fire-js","")}("")},4097:(nn,et,W)=>{"use strict";W.d(et,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=W(7592);(0,u.registerVersion)("firebase","9.23.0","app")},120:(nn,et,W)=>{"use strict";W.d(et,{Z:()=>u.Z});var u=W(3399);u.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(nn,et,W)=>{"use strict";W.r(et);var u=W(5861),te=W(3399),B=W(6710),ve=W(9058),we=(W(7592),W(7879),W(4537));function De(){return window}function ee(){return ee=(0,u.Z)(function*(Y,X,G){var xe;const{BuildInfo:_t}=De();(0,B.as)(X.sessionId,"AuthEvent did not contain a session ID");const jt=yield function lt(Y){return Bt.apply(this,arguments)}(X.sessionId),J={};return(0,B.at)()?J.ibi=_t.packageName:(0,B.au)()?J.apn=_t.packageName:(0,B.av)(Y,"operation-not-supported-in-this-environment"),_t.displayName&&(J.appDisplayName=_t.displayName),J.sessionId=jt,(0,B.aw)(Y,G,X.type,void 0,null!==(xe=X.eventId)&&void 0!==xe?xe:void 0,J)}),ee.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(Y){const{BuildInfo:X}=De(),G={};(0,B.at)()?G.iosBundleId=X.packageName:(0,B.au)()?G.androidPackageName=X.packageName:(0,B.av)(Y,"operation-not-supported-in-this-environment"),yield(0,B.ax)(Y,G)})).apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(Y,X,G){const{cordova:xe}=De();let _t=()=>{};try{yield new Promise((jt,J)=>{let se=null;function Ce(){var Lt;jt();const ur=null===(Lt=xe.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof ur&&ur(),"function"==typeof G?.close&&G.close()}function Xe(){se||(se=window.setTimeout(()=>{J((0,B.az)(Y,"redirect-cancelled-by-user"))},2e3))}function Ot(){"visible"===document?.visibilityState&&Xe()}X.addPassiveListener(Ce),document.addEventListener("resume",Xe,!1),(0,B.au)()&&document.addEventListener("visibilitychange",Ot,!1),_t=()=>{X.removePassiveListener(Ce),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Ot,!1),se&&window.clearTimeout(se)}})}finally{_t()}})).apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(Y){const X=function Ht(Y){if((0,B.as)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const X=new ArrayBuffer(Y.length),G=new Uint8Array(X);for(let xe=0;xe<Y.length;xe++)G[xe]=Y.charCodeAt(xe);return G}(Y),G=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(G)).map(_t=>_t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ut extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(X)),super.onEvent(X)}initialized(){var X=this;return(0,u.Z)(function*(){yield X.initPromise})()}}function vt(Y){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(Y){const X=yield rn()._get(Yn(Y));return X&&(yield rn()._remove(Yn(Y))),X})).apply(this,arguments)}function Pt(){const Y=[];for(let G=0;G<20;G++){const xe=Math.floor(62*Math.random());Y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(xe))}return Y.join("")}function rn(){return(0,B.aC)(B.b)}function Yn(Y){return(0,B.aD)("authEvent",Y.config.apiKey,Y.name)}function Kn(Y){if(!Y?.includes("?"))return{};const[X,...G]=Y.split("?");return(0,ve.zd)(G.join("?"))}const Ne=class tr{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(X){var G=this;return(0,u.Z)(function*(){const xe=X._key();let _t=G.eventManagers.get(xe);return _t||(_t=new ut(X),G.eventManagers.set(xe,_t),G.attachCallbackListeners(X,_t)),_t})()}_openPopup(X){(0,B.av)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,G,xe,_t){var jt=this;return(0,u.Z)(function*(){!function kt(Y){var X,G,xe,_t,jt,J,se,Ce,Xe,Ot;const Lt=De();(0,B.aA)("function"==typeof(null===(X=Lt?.universalLinks)||void 0===X?void 0:X.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(G=Lt?.BuildInfo)||void 0===G?void 0:G.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(jt=null===(_t=null===(xe=Lt?.cordova)||void 0===xe?void 0:xe.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===jt?void 0:jt.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Ce=null===(se=null===(J=Lt?.cordova)||void 0===J?void 0:J.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ce?void 0:Ce.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Ot=null===(Xe=Lt?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Ot?void 0:Ot.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const J=yield jt._initialize(X);yield J.initialized(),J.resetRedirect(),(0,B.aG)(),yield jt._originValidation(X);const se=function Ve(Y,X,G=null){return{type:X,eventId:G,urlResponse:null,sessionId:Pt(),postBody:null,tenantId:Y.tenantId,error:(0,B.az)(Y,"no-auth-event")}}(X,xe,_t);yield function tt(Y,X){return rn()._set(Yn(Y),X)}(X,se);const Ce=yield function q(Y,X,G){return ee.apply(this,arguments)}(X,se,G),Xe=yield function We(Y){const{cordova:X}=De();return new Promise(G=>{X.plugins.browsertab.isAvailable(xe=>{let _t=null;xe?X.plugins.browsertab.openUrl(Y):_t=X.InAppBrowser.open(Y,(0,B.ay)()?"_blank":"_system","location=yes"),G(_t)})})}(Ce);return function yt(Y,X,G){return ht.apply(this,arguments)}(X,J,Xe)})()}_isIframeWebStorageSupported(X,G){throw new Error("Method not implemented.")}_originValidation(X){const G=X._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function ye(Y){return mt.apply(this,arguments)}(X)),this.originValidationPromises[G]}attachCallbackListeners(X,G){const{universalLinks:xe,handleOpenURL:_t,BuildInfo:jt}=De(),J=setTimeout((0,u.Z)(function*(){yield vt(X),G.onEvent(ze())}),500),se=function(){var Ot=(0,u.Z)(function*(Lt){clearTimeout(J);const ur=yield vt(X);let Ar=null;ur&&Lt?.url&&(Ar=function ct(Y,X){var G,xe;const _t=function er(Y){const X=Kn(Y),G=X.link?decodeURIComponent(X.link):void 0,xe=Kn(G).link,_t=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return Kn(_t).link||_t||xe||G||Y}(X);if(_t.includes("/__/auth/callback")){const jt=Kn(_t),J=jt.firebaseError?function $n(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent(jt.firebaseError)):null,se=null===(xe=null===(G=J?.code)||void 0===G?void 0:G.split("auth/"))||void 0===xe?void 0:xe[1],Ce=se?(0,B.az)(se):null;return Ce?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:_t,postBody:null}}return null}(ur,Lt.url)),G.onEvent(Ar||ze())});return function(ur){return Ot.apply(this,arguments)}}();typeof xe<"u"&&"function"==typeof xe.subscribe&&xe.subscribe(null,se);const Ce=_t,Xe=`${jt.packageName.toLowerCase()}://`;De().handleOpenURL=function(){var Ot=(0,u.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(Xe)&&se({url:Lt}),"function"==typeof Ce)try{Ce(Lt)}catch(ur){console.error(ur)}});return function(Lt){return Ot.apply(this,arguments)}}()}};function ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function Mt(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function lr(Y=(0,ve.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ct(){try{const Y=self.localStorage,X=B.aL();if(Y)return Y.setItem(X,"1"),Y.removeItem(X),!function st(Y=(0,ve.z$)()){return function pe(){return(0,ve.w1)()&&11===document?.documentMode}()||function Te(Y=(0,ve.z$)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,ve.hl)()}catch{return nt()&&(0,ve.hl)()}return!1}function nt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ye(){return(function At(){return"http:"===Mt()||"https:"===Mt()}()||(0,ve.ru)()||lr())&&!function ue(){return(0,ve.b$)()||(0,ve.UG)()}()&&Ct()&&!nt()}function dn(){return lr()&&typeof document<"u"}function Fn(){return(Fn=(0,u.Z)(function*(){return!!dn()&&new Promise(Y=>{const X=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),Y(!0)})})})).apply(this,arguments)}const He={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=B.aA,_n="persistence";function Ft(Y){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(Y){yield Y._initializationPromise;const X=qn(),G=B.aD(_n,Y.config.apiKey,Y.name);X&&X.setItem(G,Y._getPersistence())})).apply(this,arguments)}function qn(){var Y;try{return(null===(Y=function vn(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const pr=B.aA;class bn{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(Ne),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(X){var G=this;return(0,u.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,G,xe,_t){var jt=this;return(0,u.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openPopup(X,G,xe,_t)})()}_openRedirect(X,G,xe,_t){var jt=this;return(0,u.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openRedirect(X,G,xe,_t)})()}_isIframeWebStorageSupported(X,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,G)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return dn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,u.Z)(function*(){if(X.underlyingResolver)return;const G=yield function Mn(){return Fn.apply(this,arguments)}();X.underlyingResolver=G?X.cordovaResolver:X.browserResolver})()}}function Bn(Y){return Y.unwrap()}function zn(Y){return In(Y)}function In(Y){const{_tokenResponse:X}=Y instanceof ve.ZR?Y.customData:Y;if(!X)return null;if(!(Y instanceof ve.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return B.P.credentialFromResult(Y);const G=X.providerId;if(!G||G===B.p.PASSWORD)return null;let xe;switch(G){case B.p.GOOGLE:xe=B.V;break;case B.p.FACEBOOK:xe=B.U;break;case B.p.GITHUB:xe=B.W;break;case B.p.TWITTER:xe=B.Z;break;default:const{oauthIdToken:_t,oauthAccessToken:jt,oauthTokenSecret:J,pendingToken:se,nonce:Ce}=X;return jt||J||_t||se?se?G.startsWith("saml.")?B.aO._create(G,se):B.L._fromParams({providerId:G,signInMethod:G,pendingToken:se,idToken:_t,accessToken:jt}):new B.X(G).credential({idToken:_t,accessToken:jt,rawNonce:Ce}):null}return Y instanceof ve.ZR?xe.credentialFromError(Y):xe.credentialFromResult(Y)}function _r(Y,X){return X.catch(G=>{throw G instanceof ve.ZR&&function Br(Y,X){var G;const xe=null===(G=X.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===X?.code)X.resolver=new ri(Y,B.aq(Y,X));else if(xe){const _t=In(X),jt=X;_t&&(jt.credential=_t,jt.tenantId=xe.tenantId||void 0,jt.email=xe.email||void 0,jt.phoneNumber=xe.phoneNumber||void 0)}}(Y,G),G}).then(G=>{const _t=G.user;return{operationType:G.operationType,credential:zn(G),additionalUserInfo:B.ao(G),user:Sr.getOrCreate(_t)}})}function li(Y,X){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(Y,X){const G=yield X;return{verificationId:G.verificationId,confirm:xe=>_r(Y,G.confirm(xe))}})).apply(this,arguments)}class ri{constructor(X,G){this.resolver=G,this.auth=function ni(Y){return Y.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return _r(Bn(this.auth),this.resolver.resolveSignIn(X))}}class Sr{constructor(X){this._delegate=X,this.multiFactor=B.ar(X)}static getOrCreate(X){return Sr.USER_MAP.has(X)||Sr.USER_MAP.set(X,new Sr(X)),Sr.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var G=this;return(0,u.Z)(function*(){return _r(G.auth,B.a0(G._delegate,X))})()}linkWithPhoneNumber(X,G){var xe=this;return(0,u.Z)(function*(){return li(xe.auth,B.l(xe._delegate,X,G))})()}linkWithPopup(X){var G=this;return(0,u.Z)(function*(){return _r(G.auth,B.d(G._delegate,X,bn))})()}linkWithRedirect(X){var G=this;return(0,u.Z)(function*(){return yield Ft(B.aH(G.auth)),B.g(G._delegate,X,bn)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var G=this;return(0,u.Z)(function*(){return _r(G.auth,B.a1(G._delegate,X))})()}reauthenticateWithPhoneNumber(X,G){return li(this.auth,B.r(this._delegate,X,G))}reauthenticateWithPopup(X){return _r(this.auth,B.e(this._delegate,X,bn))}reauthenticateWithRedirect(X){var G=this;return(0,u.Z)(function*(){return yield Ft(B.aH(G.auth)),B.h(G._delegate,X,bn)})()}sendEmailVerification(X){return B.ae(this._delegate,X)}unlink(X){var G=this;return(0,u.Z)(function*(){return yield B.an(G._delegate,X),G})()}updateEmail(X){return B.aj(this._delegate,X)}updatePassword(X){return B.ak(this._delegate,X)}updatePhoneNumber(X){return B.u(this._delegate,X)}updateProfile(X){return B.ai(this._delegate,X)}verifyBeforeUpdateEmail(X,G){return B.af(this._delegate,X,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sr.USER_MAP=new WeakMap;const qe=B.aA;let me=(()=>{class Y{constructor(G,xe){if(this.app=G,xe.isInitialized())return this._delegate=xe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_t}=G.options;qe(_t,"invalid-api-key",{appName:G.name}),qe(_t,"invalid-api-key",{appName:G.name});const jt=typeof window<"u"?bn:void 0;this._delegate=xe.initialize({options:{persistence:St(_t,G.name),popupRedirectResolver:jt}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,xe){B.I(this._delegate,G,xe)}applyActionCode(G){return B.a5(this._delegate,G)}checkActionCode(G){return B.a6(this._delegate,G)}confirmPasswordReset(G,xe){return B.a4(this._delegate,G,xe)}createUserWithEmailAndPassword(G,xe){var _t=this;return(0,u.Z)(function*(){return _r(_t._delegate,B.a8(_t._delegate,G,xe))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return B.ad(this._delegate,G)}isSignInWithEmailLink(G){return B.ab(this._delegate,G)}getRedirectResult(){var G=this;return(0,u.Z)(function*(){qe(Ye(),G._delegate,"operation-not-supported-in-this-environment");const xe=yield B.j(G._delegate,bn);return xe?_r(G._delegate,Promise.resolve(xe)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function Ze(Y,X){(0,B.aH)(Y)._logFramework(X)}(this._delegate,G)}onAuthStateChanged(G,xe,_t){const{next:jt,error:J,complete:se}=it(G,xe,_t);return this._delegate.onAuthStateChanged(jt,J,se)}onIdTokenChanged(G,xe,_t){const{next:jt,error:J,complete:se}=it(G,xe,_t);return this._delegate.onIdTokenChanged(jt,J,se)}sendSignInLinkToEmail(G,xe){return B.aa(this._delegate,G,xe)}sendPasswordResetEmail(G,xe){return B.a3(this._delegate,G,xe||void 0)}setPersistence(G){var xe=this;return(0,u.Z)(function*(){let _t;switch(function Et(Y,X){Jn(Object.values(He).includes(X),Y,"invalid-persistence-type"),(0,ve.b$)()?Jn(X!==He.SESSION,Y,"unsupported-persistence-type"):(0,ve.UG)()?Jn(X===He.NONE,Y,"unsupported-persistence-type"):nt()?Jn(X===He.NONE||X===He.LOCAL&&(0,ve.hl)(),Y,"unsupported-persistence-type"):Jn(X===He.NONE||Ct(),Y,"unsupported-persistence-type")}(xe._delegate,G),G){case He.SESSION:_t=B.a;break;case He.LOCAL:_t=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case He.NONE:_t=B.N;break;default:return B.av("argument-error",{appName:xe._delegate.name})}return xe._delegate.setPersistence(_t)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return _r(this._delegate,B._(this._delegate))}signInWithCredential(G){return _r(this._delegate,B.$(this._delegate,G))}signInWithCustomToken(G){return _r(this._delegate,B.a2(this._delegate,G))}signInWithEmailAndPassword(G,xe){return _r(this._delegate,B.a9(this._delegate,G,xe))}signInWithEmailLink(G,xe){return _r(this._delegate,B.ac(this._delegate,G,xe))}signInWithPhoneNumber(G,xe){return li(this._delegate,B.s(this._delegate,G,xe))}signInWithPopup(G){var xe=this;return(0,u.Z)(function*(){return qe(Ye(),xe._delegate,"operation-not-supported-in-this-environment"),_r(xe._delegate,B.c(xe._delegate,G,bn))})()}signInWithRedirect(G){var xe=this;return(0,u.Z)(function*(){return qe(Ye(),xe._delegate,"operation-not-supported-in-this-environment"),yield Ft(xe._delegate),B.f(xe._delegate,G,bn)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return B.a7(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=He,Y})();function it(Y,X,G){let xe=Y;"function"!=typeof Y&&({next:xe,error:X,complete:G}=Y);const _t=xe;return{next:J=>_t(J&&Sr.getOrCreate(J)),error:X,complete:G}}function St(Y,X){const G=function hn(Y,X){const G=qn();if(!G)return[];const xe=B.aD(_n,Y,X);switch(G.getItem(xe)){case He.NONE:return[B.N];case He.LOCAL:return[B.i,B.a];case He.SESSION:return[B.a];default:return[]}}(Y,X);if(typeof self<"u"&&!G.includes(B.i)&&G.push(B.i),typeof window<"u")for(const xe of[B.b,B.a])G.includes(xe)||G.push(xe);return G.includes(B.N)||G.push(B.N),G}class Zt{constructor(){this.providerId="phone",this._delegate=new B.P(Bn(te.Z.auth()))}static credential(X,G){return B.P.credential(X,G)}verifyPhoneNumber(X,G){return this._delegate.verifyPhoneNumber(X,G)}unwrap(){return this._delegate}}Zt.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,Zt.PROVIDER_ID=B.P.PROVIDER_ID;const fn=B.aA;class ar{constructor(X,G,xe=te.Z.app()){var _t;fn(null===(_t=xe.options)||void 0===_t?void 0:_t.apiKey,"invalid-api-key",{appName:xe.name}),this._delegate=new B.R(X,G,xe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(Y){Y.INTERNAL.registerComponent(new we.wA("auth-compat",X=>{const G=X.getProvider("app-compat").getImmediate(),xe=X.getProvider("auth");return new me(G,xe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:Zt,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:ar,TwitterAuthProvider:B.Z,Auth:me,AuthCredential:B.J,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.4.2")}(te.Z)},4303:(nn,et,W)=>{"use strict";W.r(et),W.d(et,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Ct,_DEFAULT_ENTRY_NAME:()=>Ne,_addComponent:()=>ft,_addOrOverwriteComponent:()=>wt,_apps:()=>Ze,_clearComponents:()=>ue,_components:()=>Le,_getProvider:()=>At,_registerComponent:()=>Mt,_removeServiceInstance:()=>lr,deleteApp:()=>Mn,getApp:()=>Ye,getApps:()=>dn,initializeApp:()=>nt,onLog:()=>He,registerVersion:()=>vn,setLogLevel:()=>Jn});var u=W(5861),te=W(4537),B=W(7879),ve=W(9058),$=W(1878);class _e{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function we(qe){const me=qe.getComponent();return"VERSION"===me?.type}(it)){const St=it.getImmediate();return`${St.library}/${St.version}`}return null}).filter(it=>it).join(" ")}}const De="@firebase/app",q=new B.Yd("@firebase/app"),Ne="[DEFAULT]",ze={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,Le=new Map;function ft(qe,me){try{qe.container.addComponent(me)}catch(it){q.debug(`Component ${me.name} failed to register with FirebaseApp ${qe.name}`,it)}}function wt(qe,me){qe.container.addOrOverwriteComponent(me)}function Mt(qe){const me=qe.name;if(Le.has(me))return q.debug(`There were multiple attempts to register component ${me}.`),!1;Le.set(me,qe);for(const it of Ze.values())ft(it,qe);return!0}function At(qe,me){const it=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),qe.container.getProvider(me)}function lr(qe,me,it=Ne){At(qe,me).clearInstance(it)}function ue(){Le.clear()}const Te=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class st{constructor(me,it,St){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw Te.create("app-deleted",{appName:this._name})}}const Ct="10.4.0";function nt(qe,me={}){let it=qe;"object"!=typeof me&&(me={name:me});const St=Object.assign({name:Ne,automaticDataCollectionEnabled:!1},me),Zt=St.name;if("string"!=typeof Zt||!Zt)throw Te.create("bad-app-name",{appName:String(Zt)});if(it||(it=(0,ve.aH)()),!it)throw Te.create("no-options");const fn=Ze.get(Zt);if(fn){if((0,ve.vZ)(it,fn.options)&&(0,ve.vZ)(St,fn.config))return fn;throw Te.create("duplicate-app",{appName:Zt})}const ar=new te.H0(Zt);for(const ce of Le.values())ar.addComponent(ce);const de=new st(it,St,ar);return Ze.set(Zt,de),de}function Ye(qe=Ne){const me=Ze.get(qe);if(!me&&qe===Ne&&(0,ve.aH)())return nt();if(!me)throw Te.create("no-app",{appName:qe});return me}function dn(){return Array.from(Ze.values())}function Mn(qe){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(qe){const me=qe.name;Ze.has(me)&&(Ze.delete(me),yield Promise.all(qe.container.getProviders().map(it=>it.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function vn(qe,me,it){var St;let Zt=null!==(St=ze[qe])&&void 0!==St?St:qe;it&&(Zt+=`-${it}`);const fn=Zt.match(/\s|\//),ar=me.match(/\s|\//);if(fn||ar){const de=[`Unable to register library "${Zt}" with version "${me}":`];return fn&&de.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),fn&&ar&&de.push("and"),ar&&de.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void q.warn(de.join(" "))}Mt(new te.wA(`${Zt}-version`,()=>({library:Zt,version:me}),"VERSION"))}function He(qe,me){if(null!==qe&&"function"!=typeof qe)throw Te.create("invalid-log-argument");(0,B.Am)(qe,me)}function Jn(qe){(0,B.Ub)(qe)}const _n="firebase-heartbeat-database",Et=1,Ft="firebase-heartbeat-store";let Dn=null;function hn(){return Dn||(Dn=(0,$.X3)(_n,Et,{upgrade:(qe,me)=>{0===me&&qe.createObjectStore(Ft)}}).catch(qe=>{throw Te.create("idb-open",{originalErrorMessage:qe.message})})),Dn}function pr(){return(pr=(0,u.Z)(function*(qe){try{return yield(yield hn()).transaction(Ft).objectStore(Ft).get(ni(qe))}catch(me){if(me instanceof ve.ZR)q.warn(me.message);else{const it=Te.create("idb-get",{originalErrorMessage:me?.message});q.warn(it.message)}}})).apply(this,arguments)}function bn(qe,me){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(qe,me){try{const St=(yield hn()).transaction(Ft,"readwrite");yield St.objectStore(Ft).put(me,ni(qe)),yield St.done}catch(it){if(it instanceof ve.ZR)q.warn(it.message);else{const St=Te.create("idb-set",{originalErrorMessage:it?.message});q.warn(St.message)}}})).apply(this,arguments)}function ni(qe){return`${qe.name}!${qe.options.appId}`}class In{constructor(me){this.container=me,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new vr(it),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var me=this;return(0,u.Z)(function*(){const St=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=_r();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!me._heartbeatsCache.heartbeats.some(fn=>fn.date===Zt))return me._heartbeatsCache.heartbeats.push({date:Zt,agent:St}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(fn=>{const ar=new Date(fn.date).valueOf();return Date.now()-ar<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,u.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const it=_r(),{heartbeatsToSend:St,unsentEntries:Zt}=function li(qe,me=1024){const it=[];let St=qe.slice();for(const Zt of qe){const fn=it.find(ar=>ar.agent===Zt.agent);if(fn){if(fn.dates.push(Zt.date),ri(it)>me){fn.dates.pop();break}}else if(it.push({agent:Zt.agent,dates:[Zt.date]}),ri(it)>me){it.pop();break}St=St.slice(1)}return{heartbeatsToSend:it,unsentEntries:St}}(me._heartbeatsCache.heartbeats),fn=(0,ve.L)(JSON.stringify({version:2,heartbeats:St}));return me._heartbeatsCache.lastSentHeartbeatDate=it,Zt.length>0?(me._heartbeatsCache.heartbeats=Zt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),fn})()}}function _r(){return(new Date).toISOString().substring(0,10)}class vr{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,u.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function qn(qe){return pr.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var it=this;return(0,u.Z)(function*(){var St;if(yield it._canUseIndexedDBPromise){const fn=yield it.read();return bn(it.app,{lastSentHeartbeatDate:null!==(St=me.lastSentHeartbeatDate)&&void 0!==St?St:fn.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var it=this;return(0,u.Z)(function*(){var St;if(yield it._canUseIndexedDBPromise){const fn=yield it.read();return bn(it.app,{lastSentHeartbeatDate:null!==(St=me.lastSentHeartbeatDate)&&void 0!==St?St:fn.lastSentHeartbeatDate,heartbeats:[...fn.heartbeats,...me.heartbeats]})}})()}}function ri(qe){return(0,ve.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function Sr(qe){Mt(new te.wA("platform-logger",me=>new _e(me),"PRIVATE")),Mt(new te.wA("heartbeat",me=>new In(me),"PRIVATE")),vn(De,"0.9.19",qe),vn(De,"0.9.19","esm2017"),vn("fire-js","")}("")},4537:(nn,et,W)=>{"use strict";W.d(et,{H0:()=>De,wA:()=>B});var u=W(5861),te=W(9058);class B{constructor(q,ee,ye){this.name=q,this.instanceFactory=ee,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ve="[DEFAULT]";class ${constructor(q,ee){this.name=q,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const ee=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(ee)){const ye=new te.BH;if(this.instancesDeferred.set(ee,ye),this.isInitialized(ee)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:ee});mt&&ye.resolve(mt)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(q){var ee;const ye=this.normalizeInstanceIdentifier(q?.identifier),mt=null!==(ee=q?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(We){if(mt)return null;throw We}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function we(Ae){return"EAGER"===Ae.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ee,ye]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(ee);try{const We=this.getOrInitializeService({instanceIdentifier:mt});ye.resolve(We)}catch{}}}}clearInstance(q=ve){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,u.Z)(function*(){const ee=Array.from(q.instances.values());yield Promise.all([...ee.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ee.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ve){return this.instances.has(q)}getOptions(q=ve){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:ee={}}=q,ye=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:ye,options:ee});for(const[We,yt]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(We)&&yt.resolve(mt);return mt}onInit(q,ee){var ye;const mt=this.normalizeInstanceIdentifier(ee),We=null!==(ye=this.onInitCallbacks.get(mt))&&void 0!==ye?ye:new Set;We.add(q),this.onInitCallbacks.set(mt,We);const yt=this.instances.get(mt);return yt&&q(yt,mt),()=>{We.delete(q)}}invokeOnInitCallbacks(q,ee){const ye=this.onInitCallbacks.get(ee);if(ye)for(const mt of ye)try{mt(q,ee)}catch{}}getOrInitializeService({instanceIdentifier:q,options:ee={}}){let ye=this.instances.get(q);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=q,Ae===ve?void 0:Ae),options:ee}),this.instances.set(q,ye),this.instancesOptions.set(q,ee),this.invokeOnInitCallbacks(ye,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ye)}catch{}var Ae;return ye||null}normalizeInstanceIdentifier(q=ve){return this.component?this.component.multipleInstances?q:ve:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const ee=this.getProvider(q.name);if(ee.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);ee.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const ee=new $(q,this);return this.providers.set(q,ee),ee}getProviders(){return Array.from(this.providers.values())}}},7879:(nn,et,W)=>{"use strict";W.d(et,{Am:()=>Ae,Ub:()=>De,Yd:()=>we,in:()=>te});const u=[];var te=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(te||{});const B={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ve=te.INFO,$={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},_e=(q,ee,...ye)=>{if(ee<q.logLevel)return;const mt=(new Date).toISOString(),We=$[ee];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[We](`[${mt}]  ${q.name}:`,...ye)};class we{constructor(ee){this.name=ee,this._logLevel=ve,this._logHandler=_e,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in te))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?B[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...ee),this._logHandler(this,te.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...ee),this._logHandler(this,te.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,te.INFO,...ee),this._logHandler(this,te.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,te.WARN,...ee),this._logHandler(this,te.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...ee),this._logHandler(this,te.ERROR,...ee)}}function De(q){u.forEach(ee=>{ee.setLogLevel(q)})}function Ae(q,ee){for(const ye of u){let mt=null;ee&&ee.level&&(mt=B[ee.level]),ye.userLogHandler=null===q?null:(We,yt,...ht)=>{const kt=ht.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");yt>=(mt??We.logLevel)&&q({level:te[yt].toLowerCase(),message:kt,args:ht,type:We.name})}}}},1878:(nn,et,W)=>{"use strict";W.d(et,{X3:()=>Ht});var u=W(5861);const te=(ae,ct)=>ct.some(Pt=>ae instanceof Pt);let B,ve;const we=new WeakMap,De=new WeakMap,Ae=new WeakMap,q=new WeakMap,ee=new WeakMap;let We={get(ae,ct,Pt){if(ae instanceof IDBTransaction){if("done"===ct)return De.get(ae);if("objectStoreNames"===ct)return ae.objectStoreNames||Ae.get(ae);if("store"===ct)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return lt(ae[ct])},set:(ae,ct,Pt)=>(ae[ct]=Pt,!0),has:(ae,ct)=>ae instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in ae};function kt(ae){return"function"==typeof ae?function ht(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...ct){return ae.apply(Bt(this),ct),lt(we.get(this))}:function(...ct){return lt(ae.apply(Bt(this),ct))}:function(ct,...Pt){const rn=ae.call(Bt(this),ct,...Pt);return Ae.set(rn,ct.sort?ct.sort():[ct]),lt(rn)}}(ae):(ae instanceof IDBTransaction&&function mt(ae){if(De.has(ae))return;const ct=new Promise((Pt,rn)=>{const Yn=()=>{ae.removeEventListener("complete",$n),ae.removeEventListener("error",er),ae.removeEventListener("abort",er)},$n=()=>{Pt(),Yn()},er=()=>{rn(ae.error||new DOMException("AbortError","AbortError")),Yn()};ae.addEventListener("complete",$n),ae.addEventListener("error",er),ae.addEventListener("abort",er)});De.set(ae,ct)}(ae),te(ae,function $(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,We):ae)}function lt(ae){if(ae instanceof IDBRequest)return function ye(ae){const ct=new Promise((Pt,rn)=>{const Yn=()=>{ae.removeEventListener("success",$n),ae.removeEventListener("error",er)},$n=()=>{Pt(lt(ae.result)),Yn()},er=()=>{rn(ae.error),Yn()};ae.addEventListener("success",$n),ae.addEventListener("error",er)});return ct.then(Pt=>{Pt instanceof IDBCursor&&we.set(Pt,ae)}).catch(()=>{}),ee.set(ct,ae),ct}(ae);if(q.has(ae))return q.get(ae);const ct=kt(ae);return ct!==ae&&(q.set(ae,ct),ee.set(ct,ae)),ct}const Bt=ae=>ee.get(ae);function Ht(ae,ct,{blocked:Pt,upgrade:rn,blocking:Yn,terminated:$n}={}){const er=indexedDB.open(ae,ct),Kn=lt(er);return rn&&er.addEventListener("upgradeneeded",fr=>{rn(lt(er.result),fr.oldVersion,fr.newVersion,lt(er.transaction),fr)}),Pt&&er.addEventListener("blocked",fr=>Pt(fr.oldVersion,fr.newVersion,fr)),Kn.then(fr=>{$n&&fr.addEventListener("close",()=>$n()),Yn&&fr.addEventListener("versionchange",tr=>Yn(tr.oldVersion,tr.newVersion,tr))}).catch(()=>{}),Kn}const ut=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],tt=new Map;function vt(ae,ct){if(!(ae instanceof IDBDatabase)||ct in ae||"string"!=typeof ct)return;if(tt.get(ct))return tt.get(ct);const Pt=ct.replace(/FromIndex$/,""),rn=ct!==Pt,Yn=Ve.includes(Pt);if(!(Pt in(rn?IDBIndex:IDBObjectStore).prototype)||!Yn&&!ut.includes(Pt))return;const $n=function(){var er=(0,u.Z)(function*(Kn,...fr){const tr=this.transaction(Kn,Yn?"readwrite":"readonly");let Ne=tr.store;return rn&&(Ne=Ne.index(fr.shift())),(yield Promise.all([Ne[Pt](...fr),Yn&&tr.done]))[0]});return function(fr){return er.apply(this,arguments)}}();return tt.set(ct,$n),$n}!function yt(ae){We=ae(We)}(ae=>({...ae,get:(ct,Pt,rn)=>vt(ct,Pt)||ae.get(ct,Pt,rn),has:(ct,Pt)=>!!vt(ct,Pt)||ae.has(ct,Pt)}))},5861:(nn,et,W)=>{"use strict";function u(B,ve,$,_e,we,De,Ae){try{var q=B[De](Ae),ee=q.value}catch(ye){return void $(ye)}q.done?ve(ee):Promise.resolve(ee).then(_e,we)}function te(B){return function(){var ve=this,$=arguments;return new Promise(function(_e,we){var De=B.apply(ve,$);function Ae(ee){u(De,_e,we,Ae,q,"next",ee)}function q(ee){u(De,_e,we,Ae,q,"throw",ee)}Ae(void 0)})}}W.d(et,{Z:()=>te})},7582:(nn,et,W)=>{"use strict";function ve(Ne,ze){var Ze={};for(var Le in Ne)Object.prototype.hasOwnProperty.call(Ne,Le)&&ze.indexOf(Le)<0&&(Ze[Le]=Ne[Le]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(Le=Object.getOwnPropertySymbols(Ne);ft<Le.length;ft++)ze.indexOf(Le[ft])<0&&Object.prototype.propertyIsEnumerable.call(Ne,Le[ft])&&(Ze[Le[ft]]=Ne[Le[ft]])}return Ze}function ye(Ne,ze,Ze,Le){return new(Ze||(Ze=Promise))(function(wt,Mt){function At(pe){try{ue(Le.next(pe))}catch(Te){Mt(Te)}}function lr(pe){try{ue(Le.throw(pe))}catch(Te){Mt(Te)}}function ue(pe){pe.done?wt(pe.value):function ft(wt){return wt instanceof Ze?wt:new Ze(function(Mt){Mt(wt)})}(pe.value).then(At,lr)}ue((Le=Le.apply(Ne,ze||[])).next())})}function Se(Ne){return this instanceof Se?(this.v=Ne,this):new Se(Ne)}function ut(Ne,ze,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,Le=Ze.apply(Ne,ze||[]),wt=[];return ft={},Mt("next"),Mt("throw"),Mt("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function Mt(st){Le[st]&&(ft[st]=function(Ct){return new Promise(function(nt,Ye){wt.push([st,Ct,nt,Ye])>1||At(st,Ct)})})}function At(st,Ct){try{!function lr(st){st.value instanceof Se?Promise.resolve(st.value.v).then(ue,pe):Te(wt[0][2],st)}(Le[st](Ct))}catch(nt){Te(wt[0][3],nt)}}function ue(st){At("next",st)}function pe(st){At("throw",st)}function Te(st,Ct){st(Ct),wt.shift(),wt.length&&At(wt[0][0],wt[0][1])}}function tt(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,ze=Ne[Symbol.asyncIterator];return ze?ze.call(Ne):(Ne=function ht(Ne){var ze="function"==typeof Symbol&&Symbol.iterator,Ze=ze&&Ne[ze],Le=0;if(Ze)return Ze.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&Le>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[Le++],done:!Ne}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),Ze={},Le("next"),Le("throw"),Le("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function Le(wt){Ze[wt]=Ne[wt]&&function(Mt){return new Promise(function(At,lr){!function ft(wt,Mt,At,lr){Promise.resolve(lr).then(function(ue){wt({value:ue,done:At})},Mt)}(At,lr,(Mt=Ne[wt](Mt)).done,Mt.value)})}}}W.d(et,{FC:()=>ut,KL:()=>tt,_T:()=>ve,mG:()=>ye,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=948)}]);